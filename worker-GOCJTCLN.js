var Yn=Object.create;var Te=Object.defineProperty;var Gn=Object.getOwnPropertyDescriptor;var $n=Object.getOwnPropertyNames;var Kn=Object.getPrototypeOf,Hn=Object.prototype.hasOwnProperty;var wt=(d=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(d,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):d)(function(d){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+d+'" is not supported')});var Ht=(d,t)=>()=>(t||d((t={exports:{}}).exports,t),t.exports);var jn=(d,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of $n(t))!Hn.call(d,r)&&r!==e&&Te(d,r,{get:()=>t[r],enumerable:!(n=Gn(t,r))||n.enumerable});return d};var Tt=(d,t,e)=>(e=d!=null?Yn(Kn(d)):{},jn(t||!d||!d.__esModule?Te(e,"default",{value:d,enumerable:!0}):e,d));var Lt=Ht((Vr,Ie)=>{"use strict";var jt=Math.abs,Jn=Math.min;function Ct(d,t,e,n){var r=jt(d-t);return e==null&&(e=Ct.DBL_EPSILON),n==null&&(n=e),r<=e||r<=n*Jn(jt(d),jt(t))?!0:d===t}Ct.FLT_EPSILON=11920929e-14;Ct.DBL_EPSILON=2220446049250313e-31;Ie.exports=Ct});var Oe=Ht((Ve,te)=>{"use strict";(function(d){if(typeof Ve=="object"&&typeof te<"u")te.exports=d();else if(typeof define=="function"&&define.amd)define([],d);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t=this,t.localforage=d()}})(function(){var d,t,e;return function n(r,a,s){function i(p,b){if(!a[p]){if(!r[p]){var u=typeof wt=="function"&&wt;if(!b&&u)return u(p,!0);if(f)return f(p,!0);var v=new Error("Cannot find module '"+p+"'");throw v.code="MODULE_NOT_FOUND",v}var y=a[p]={exports:{}};r[p][0].call(y.exports,function(T){var N=r[p][1][T];return i(N||T)},y,y.exports,n,r,a,s)}return a[p].exports}for(var f=typeof wt=="function"&&wt,l=0;l<s.length;l++)i(s[l]);return i}({1:[function(n,r,a){(function(s){"use strict";var i=s.MutationObserver||s.WebKitMutationObserver,f;if(i){var l=0,p=new i(T),b=s.document.createTextNode("");p.observe(b,{characterData:!0}),f=function(){b.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var u=new s.MessageChannel;u.port1.onmessage=T,f=function(){u.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?f=function(){var R=s.document.createElement("script");R.onreadystatechange=function(){T(),R.onreadystatechange=null,R.parentNode.removeChild(R),R=null},s.document.documentElement.appendChild(R)}:f=function(){setTimeout(T,0)};var v,y=[];function T(){v=!0;for(var R,B,F=y.length;F;){for(B=y,y=[],R=-1;++R<F;)B[R]();F=y.length}v=!1}r.exports=N;function N(R){y.push(R)===1&&!v&&f()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,a){"use strict";var s=n(1);function i(){}var f={},l=["REJECTED"],p=["FULFILLED"],b=["PENDING"];r.exports=u;function u(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,S!==i&&N(this,S)}u.prototype.catch=function(S){return this.then(null,S)},u.prototype.then=function(S,O){if(typeof S!="function"&&this.state===p||typeof O!="function"&&this.state===l)return this;var D=new this.constructor(i);if(this.state!==b){var P=this.state===p?S:O;y(D,P,this.outcome)}else this.queue.push(new v(D,S,O));return D};function v(S,O,D){this.promise=S,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(S){f.resolve(this.promise,S)},v.prototype.otherCallFulfilled=function(S){y(this.promise,this.onFulfilled,S)},v.prototype.callRejected=function(S){f.reject(this.promise,S)},v.prototype.otherCallRejected=function(S){y(this.promise,this.onRejected,S)};function y(S,O,D){s(function(){var P;try{P=O(D)}catch(L){return f.reject(S,L)}P===S?f.reject(S,new TypeError("Cannot resolve promise with itself")):f.resolve(S,P)})}f.resolve=function(S,O){var D=R(T,O);if(D.status==="error")return f.reject(S,D.value);var P=D.value;if(P)N(S,P);else{S.state=p,S.outcome=O;for(var L=-1,V=S.queue.length;++L<V;)S.queue[L].callFulfilled(O)}return S},f.reject=function(S,O){S.state=l,S.outcome=O;for(var D=-1,P=S.queue.length;++D<P;)S.queue[D].callRejected(O);return S};function T(S){var O=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof O=="function")return function(){O.apply(S,arguments)}}function N(S,O){var D=!1;function P(W){D||(D=!0,f.reject(S,W))}function L(W){D||(D=!0,f.resolve(S,W))}function V(){O(L,P)}var q=R(V);q.status==="error"&&P(q.value)}function R(S,O){var D={};try{D.value=S(O),D.status="success"}catch(P){D.status="error",D.value=P}return D}u.resolve=B;function B(S){return S instanceof this?S:f.resolve(new this(i),S)}u.reject=F;function F(S){var O=new this(i);return f.reject(O,S)}u.all=$;function $(S){var O=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=S.length,P=!1;if(!D)return this.resolve([]);for(var L=new Array(D),V=0,q=-1,W=new this(i);++q<D;)K(S[q],q);return W;function K(Z,k){O.resolve(Z).then(J,function(z){P||(P=!0,f.reject(W,z))});function J(z){L[k]=z,++V===D&&!P&&(P=!0,f.resolve(W,L))}}}u.race=G;function G(S){var O=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=S.length,P=!1;if(!D)return this.resolve([]);for(var L=-1,V=new this(i);++L<D;)q(S[L]);return V;function q(W){O.resolve(W).then(function(K){P||(P=!0,f.resolve(V,K))},function(K){P||(P=!0,f.reject(V,K))})}}},{1:1}],3:[function(n,r,a){(function(s){"use strict";typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,a){"use strict";var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function i(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function f(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=f();function p(){try{if(!l||!l.open)return!1;var o=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),h=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!o||h)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function b(o,h){o=o||[],h=h||{};try{return new Blob(o,h)}catch(m){if(m.name!=="TypeError")throw m;for(var c=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,g=new c,_=0;_<o.length;_+=1)g.append(o[_]);return g.getBlob(h.type)}}typeof Promise>"u"&&n(3);var u=Promise;function v(o,h){h&&o.then(function(c){h(null,c)},function(c){h(c)})}function y(o,h,c){typeof h=="function"&&o.then(h),typeof c=="function"&&o.catch(c)}function T(o){return typeof o!="string"&&(console.warn(o+" used as a key, but it is not a string."),o=String(o)),o}function N(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var R="local-forage-detect-blob-support",B=void 0,F={},$=Object.prototype.toString,G="readonly",S="readwrite";function O(o){for(var h=o.length,c=new ArrayBuffer(h),g=new Uint8Array(c),_=0;_<h;_++)g[_]=o.charCodeAt(_);return c}function D(o){return new u(function(h){var c=o.transaction(R,S),g=b([""]);c.objectStore(R).put(g,"key"),c.onabort=function(_){_.preventDefault(),_.stopPropagation(),h(!1)},c.oncomplete=function(){var _=navigator.userAgent.match(/Chrome\/(\d+)/),m=navigator.userAgent.match(/Edge\//);h(m||!_||parseInt(_[1],10)>=43)}}).catch(function(){return!1})}function P(o){return typeof B=="boolean"?u.resolve(B):D(o).then(function(h){return B=h,B})}function L(o){var h=F[o.name],c={};c.promise=new u(function(g,_){c.resolve=g,c.reject=_}),h.deferredOperations.push(c),h.dbReady?h.dbReady=h.dbReady.then(function(){return c.promise}):h.dbReady=c.promise}function V(o){var h=F[o.name],c=h.deferredOperations.pop();if(c)return c.resolve(),c.promise}function q(o,h){var c=F[o.name],g=c.deferredOperations.pop();if(g)return g.reject(h),g.promise}function W(o,h){return new u(function(c,g){if(F[o.name]=F[o.name]||re(),o.db)if(h)L(o),o.db.close();else return c(o.db);var _=[o.name];h&&_.push(o.version);var m=l.open.apply(l,_);h&&(m.onupgradeneeded=function(x){var I=m.result;try{I.createObjectStore(o.storeName),x.oldVersion<=1&&I.createObjectStore(R)}catch(M){if(M.name==="ConstraintError")console.warn('The database "'+o.name+'" has been upgraded from version '+x.oldVersion+" to version "+x.newVersion+', but the storage "'+o.storeName+'" already exists.');else throw M}}),m.onerror=function(x){x.preventDefault(),g(m.error)},m.onsuccess=function(){var x=m.result;x.onversionchange=function(I){I.target.close()},c(x),V(o)}})}function K(o){return W(o,!1)}function Z(o){return W(o,!0)}function k(o,h){if(!o.db)return!0;var c=!o.db.objectStoreNames.contains(o.storeName),g=o.version<o.db.version,_=o.version>o.db.version;if(g&&(o.version!==h&&console.warn('The database "'+o.name+`" can't be downgraded from version `+o.db.version+" to version "+o.version+"."),o.version=o.db.version),_||c){if(c){var m=o.db.version+1;m>o.version&&(o.version=m)}return!0}return!1}function J(o){return new u(function(h,c){var g=new FileReader;g.onerror=c,g.onloadend=function(_){var m=btoa(_.target.result||"");h({__local_forage_encoded_blob:!0,data:m,type:o.type})},g.readAsBinaryString(o)})}function z(o){var h=O(atob(o.data));return b([h],{type:o.type})}function et(o){return o&&o.__local_forage_encoded_blob}function ct(o){var h=this,c=h._initReady().then(function(){var g=F[h._dbInfo.name];if(g&&g.dbReady)return g.dbReady});return y(c,o,o),c}function Ot(o){L(o);for(var h=F[o.name],c=h.forages,g=0;g<c.length;g++){var _=c[g];_._dbInfo.db&&(_._dbInfo.db.close(),_._dbInfo.db=null)}return o.db=null,K(o).then(function(m){return o.db=m,k(o)?Z(o):m}).then(function(m){o.db=h.db=m;for(var x=0;x<c.length;x++)c[x]._dbInfo.db=m}).catch(function(m){throw q(o,m),m})}function at(o,h,c,g){g===void 0&&(g=1);try{var _=o.db.transaction(o.storeName,h);c(null,_)}catch(m){if(g>0&&(!o.db||m.name==="InvalidStateError"||m.name==="NotFoundError"))return u.resolve().then(function(){if(!o.db||m.name==="NotFoundError"&&!o.db.objectStoreNames.contains(o.storeName)&&o.version<=o.db.version)return o.db&&(o.version=o.db.version+1),Z(o)}).then(function(){return Ot(o).then(function(){at(o,h,c,g-1)})}).catch(c);c(m)}}function re(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function $e(o){var h=this,c={db:null};if(o)for(var g in o)c[g]=o[g];var _=F[c.name];_||(_=re(),F[c.name]=_),_.forages.push(h),h._initReady||(h._initReady=h.ready,h.ready=ct);var m=[];function x(){return u.resolve()}for(var I=0;I<_.forages.length;I++){var M=_.forages[I];M!==h&&m.push(M._initReady().catch(x))}var E=_.forages.slice(0);return u.all(m).then(function(){return c.db=_.db,K(c)}).then(function(A){return c.db=A,k(c,h._defaultConfig.version)?Z(c):A}).then(function(A){c.db=_.db=A,h._dbInfo=c;for(var C=0;C<E.length;C++){var U=E[C];U!==h&&(U._dbInfo.db=c.db,U._dbInfo.version=c.version)}})}function Ke(o,h){var c=this;o=T(o);var g=new u(function(_,m){c.ready().then(function(){at(c._dbInfo,G,function(x,I){if(x)return m(x);try{var M=I.objectStore(c._dbInfo.storeName),E=M.get(o);E.onsuccess=function(){var A=E.result;A===void 0&&(A=null),et(A)&&(A=z(A)),_(A)},E.onerror=function(){m(E.error)}}catch(A){m(A)}})}).catch(m)});return v(g,h),g}function He(o,h){var c=this,g=new u(function(_,m){c.ready().then(function(){at(c._dbInfo,G,function(x,I){if(x)return m(x);try{var M=I.objectStore(c._dbInfo.storeName),E=M.openCursor(),A=1;E.onsuccess=function(){var C=E.result;if(C){var U=C.value;et(U)&&(U=z(U));var H=o(U,C.key,A++);H!==void 0?_(H):C.continue()}else _()},E.onerror=function(){m(E.error)}}catch(C){m(C)}})}).catch(m)});return v(g,h),g}function je(o,h,c){var g=this;o=T(o);var _=new u(function(m,x){var I;g.ready().then(function(){return I=g._dbInfo,$.call(h)==="[object Blob]"?P(I.db).then(function(M){return M?h:J(h)}):h}).then(function(M){at(g._dbInfo,S,function(E,A){if(E)return x(E);try{var C=A.objectStore(g._dbInfo.storeName);M===null&&(M=void 0);var U=C.put(M,o);A.oncomplete=function(){M===void 0&&(M=null),m(M)},A.onabort=A.onerror=function(){var H=U.error?U.error:U.transaction.error;x(H)}}catch(H){x(H)}})}).catch(x)});return v(_,c),_}function Je(o,h){var c=this;o=T(o);var g=new u(function(_,m){c.ready().then(function(){at(c._dbInfo,S,function(x,I){if(x)return m(x);try{var M=I.objectStore(c._dbInfo.storeName),E=M.delete(o);I.oncomplete=function(){_()},I.onerror=function(){m(E.error)},I.onabort=function(){var A=E.error?E.error:E.transaction.error;m(A)}}catch(A){m(A)}})}).catch(m)});return v(g,h),g}function Ze(o){var h=this,c=new u(function(g,_){h.ready().then(function(){at(h._dbInfo,S,function(m,x){if(m)return _(m);try{var I=x.objectStore(h._dbInfo.storeName),M=I.clear();x.oncomplete=function(){g()},x.onabort=x.onerror=function(){var E=M.error?M.error:M.transaction.error;_(E)}}catch(E){_(E)}})}).catch(_)});return v(c,o),c}function Qe(o){var h=this,c=new u(function(g,_){h.ready().then(function(){at(h._dbInfo,G,function(m,x){if(m)return _(m);try{var I=x.objectStore(h._dbInfo.storeName),M=I.count();M.onsuccess=function(){g(M.result)},M.onerror=function(){_(M.error)}}catch(E){_(E)}})}).catch(_)});return v(c,o),c}function ze(o,h){var c=this,g=new u(function(_,m){if(o<0){_(null);return}c.ready().then(function(){at(c._dbInfo,G,function(x,I){if(x)return m(x);try{var M=I.objectStore(c._dbInfo.storeName),E=!1,A=M.openKeyCursor();A.onsuccess=function(){var C=A.result;if(!C){_(null);return}o===0||E?_(C.key):(E=!0,C.advance(o))},A.onerror=function(){m(A.error)}}catch(C){m(C)}})}).catch(m)});return v(g,h),g}function Xe(o){var h=this,c=new u(function(g,_){h.ready().then(function(){at(h._dbInfo,G,function(m,x){if(m)return _(m);try{var I=x.objectStore(h._dbInfo.storeName),M=I.openKeyCursor(),E=[];M.onsuccess=function(){var A=M.result;if(!A){g(E);return}E.push(A.key),A.continue()},M.onerror=function(){_(M.error)}}catch(A){_(A)}})}).catch(_)});return v(c,o),c}function tn(o,h){h=N.apply(this,arguments);var c=this.config();o=typeof o!="function"&&o||{},o.name||(o.name=o.name||c.name,o.storeName=o.storeName||c.storeName);var g=this,_;if(!o.name)_=u.reject("Invalid arguments");else{var m=o.name===c.name&&g._dbInfo.db,x=m?u.resolve(g._dbInfo.db):K(o).then(function(I){var M=F[o.name],E=M.forages;M.db=I;for(var A=0;A<E.length;A++)E[A]._dbInfo.db=I;return I});o.storeName?_=x.then(function(I){if(I.objectStoreNames.contains(o.storeName)){var M=I.version+1;L(o);var E=F[o.name],A=E.forages;I.close();for(var C=0;C<A.length;C++){var U=A[C];U._dbInfo.db=null,U._dbInfo.version=M}var H=new u(function(j,X){var Q=l.open(o.name,M);Q.onerror=function(ot){var xt=Q.result;xt.close(),X(ot)},Q.onupgradeneeded=function(){var ot=Q.result;ot.deleteObjectStore(o.storeName)},Q.onsuccess=function(){var ot=Q.result;ot.close(),j(ot)}});return H.then(function(j){E.db=j;for(var X=0;X<A.length;X++){var Q=A[X];Q._dbInfo.db=j,V(Q._dbInfo)}}).catch(function(j){throw(q(o,j)||u.resolve()).catch(function(){}),j})}}):_=x.then(function(I){L(o);var M=F[o.name],E=M.forages;I.close();for(var A=0;A<E.length;A++){var C=E[A];C._dbInfo.db=null}var U=new u(function(H,j){var X=l.deleteDatabase(o.name);X.onerror=function(){var Q=X.result;Q&&Q.close(),j(X.error)},X.onblocked=function(){console.warn('dropInstance blocked for database "'+o.name+'" until all open connections are closed')},X.onsuccess=function(){var Q=X.result;Q&&Q.close(),H(Q)}});return U.then(function(H){M.db=H;for(var j=0;j<E.length;j++){var X=E[j];V(X._dbInfo)}}).catch(function(H){throw(q(o,H)||u.resolve()).catch(function(){}),H})})}return v(_,h),_}var en={_driver:"asyncStorage",_initStorage:$e,_support:p(),iterate:He,getItem:Ke,setItem:je,removeItem:Je,clear:Ze,length:Qe,key:ze,keys:Xe,dropInstance:tn};function nn(){return typeof openDatabase=="function"}var ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rn="~~local_forage_type~",oe=/^~~local_forage_type~([^~]+)~/,Dt="__lfsc__:",Ft=Dt.length,qt="arbf",kt="blob",ie="si08",se="ui08",ae="uic8",ce="si16",fe="si32",ue="ur16",le="ui32",de="fl32",he="fl64",me=Ft+qt.length,pe=Object.prototype.toString;function ge(o){var h=o.length*.75,c=o.length,g,_=0,m,x,I,M;o[o.length-1]==="="&&(h--,o[o.length-2]==="="&&h--);var E=new ArrayBuffer(h),A=new Uint8Array(E);for(g=0;g<c;g+=4)m=ft.indexOf(o[g]),x=ft.indexOf(o[g+1]),I=ft.indexOf(o[g+2]),M=ft.indexOf(o[g+3]),A[_++]=m<<2|x>>4,A[_++]=(x&15)<<4|I>>2,A[_++]=(I&3)<<6|M&63;return E}function Wt(o){var h=new Uint8Array(o),c="",g;for(g=0;g<h.length;g+=3)c+=ft[h[g]>>2],c+=ft[(h[g]&3)<<4|h[g+1]>>4],c+=ft[(h[g+1]&15)<<2|h[g+2]>>6],c+=ft[h[g+2]&63];return h.length%3===2?c=c.substring(0,c.length-1)+"=":h.length%3===1&&(c=c.substring(0,c.length-2)+"=="),c}function on(o,h){var c="";if(o&&(c=pe.call(o)),o&&(c==="[object ArrayBuffer]"||o.buffer&&pe.call(o.buffer)==="[object ArrayBuffer]")){var g,_=Dt;o instanceof ArrayBuffer?(g=o,_+=qt):(g=o.buffer,c==="[object Int8Array]"?_+=ie:c==="[object Uint8Array]"?_+=se:c==="[object Uint8ClampedArray]"?_+=ae:c==="[object Int16Array]"?_+=ce:c==="[object Uint16Array]"?_+=ue:c==="[object Int32Array]"?_+=fe:c==="[object Uint32Array]"?_+=le:c==="[object Float32Array]"?_+=de:c==="[object Float64Array]"?_+=he:h(new Error("Failed to get type for BinaryArray"))),h(_+Wt(g))}else if(c==="[object Blob]"){var m=new FileReader;m.onload=function(){var x=rn+o.type+"~"+Wt(this.result);h(Dt+kt+x)},m.readAsArrayBuffer(o)}else try{h(JSON.stringify(o))}catch(x){console.error("Couldn't convert value into a JSON string: ",o),h(null,x)}}function sn(o){if(o.substring(0,Ft)!==Dt)return JSON.parse(o);var h=o.substring(me),c=o.substring(Ft,me),g;if(c===kt&&oe.test(h)){var _=h.match(oe);g=_[1],h=h.substring(_[0].length)}var m=ge(h);switch(c){case qt:return m;case kt:return b([m],{type:g});case ie:return new Int8Array(m);case se:return new Uint8Array(m);case ae:return new Uint8ClampedArray(m);case ce:return new Int16Array(m);case ue:return new Uint16Array(m);case fe:return new Int32Array(m);case le:return new Uint32Array(m);case de:return new Float32Array(m);case he:return new Float64Array(m);default:throw new Error("Unkown type: "+c)}}var Ut={serialize:on,deserialize:sn,stringToBuffer:ge,bufferToString:Wt};function be(o,h,c,g){o.executeSql("CREATE TABLE IF NOT EXISTS "+h.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],c,g)}function an(o){var h=this,c={db:null};if(o)for(var g in o)c[g]=typeof o[g]!="string"?o[g].toString():o[g];var _=new u(function(m,x){try{c.db=openDatabase(c.name,String(c.version),c.description,c.size)}catch(I){return x(I)}c.db.transaction(function(I){be(I,c,function(){h._dbInfo=c,m()},function(M,E){x(E)})},x)});return c.serializer=Ut,_}function ut(o,h,c,g,_,m){o.executeSql(c,g,_,function(x,I){I.code===I.SYNTAX_ERR?x.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[h.storeName],function(M,E){E.rows.length?m(M,I):be(M,h,function(){M.executeSql(c,g,_,m)},m)},m):m(x,I)},m)}function cn(o,h){var c=this;o=T(o);var g=new u(function(_,m){c.ready().then(function(){var x=c._dbInfo;x.db.transaction(function(I){ut(I,x,"SELECT * FROM "+x.storeName+" WHERE key = ? LIMIT 1",[o],function(M,E){var A=E.rows.length?E.rows.item(0).value:null;A&&(A=x.serializer.deserialize(A)),_(A)},function(M,E){m(E)})})}).catch(m)});return v(g,h),g}function fn(o,h){var c=this,g=new u(function(_,m){c.ready().then(function(){var x=c._dbInfo;x.db.transaction(function(I){ut(I,x,"SELECT * FROM "+x.storeName,[],function(M,E){for(var A=E.rows,C=A.length,U=0;U<C;U++){var H=A.item(U),j=H.value;if(j&&(j=x.serializer.deserialize(j)),j=o(j,H.key,U+1),j!==void 0){_(j);return}}_()},function(M,E){m(E)})})}).catch(m)});return v(g,h),g}function ve(o,h,c,g){var _=this;o=T(o);var m=new u(function(x,I){_.ready().then(function(){h===void 0&&(h=null);var M=h,E=_._dbInfo;E.serializer.serialize(h,function(A,C){C?I(C):E.db.transaction(function(U){ut(U,E,"INSERT OR REPLACE INTO "+E.storeName+" (key, value) VALUES (?, ?)",[o,A],function(){x(M)},function(H,j){I(j)})},function(U){if(U.code===U.QUOTA_ERR){if(g>0){x(ve.apply(_,[o,M,c,g-1]));return}I(U)}})})}).catch(I)});return v(m,c),m}function un(o,h,c){return ve.apply(this,[o,h,c,1])}function ln(o,h){var c=this;o=T(o);var g=new u(function(_,m){c.ready().then(function(){var x=c._dbInfo;x.db.transaction(function(I){ut(I,x,"DELETE FROM "+x.storeName+" WHERE key = ?",[o],function(){_()},function(M,E){m(E)})})}).catch(m)});return v(g,h),g}function dn(o){var h=this,c=new u(function(g,_){h.ready().then(function(){var m=h._dbInfo;m.db.transaction(function(x){ut(x,m,"DELETE FROM "+m.storeName,[],function(){g()},function(I,M){_(M)})})}).catch(_)});return v(c,o),c}function hn(o){var h=this,c=new u(function(g,_){h.ready().then(function(){var m=h._dbInfo;m.db.transaction(function(x){ut(x,m,"SELECT COUNT(key) as c FROM "+m.storeName,[],function(I,M){var E=M.rows.item(0).c;g(E)},function(I,M){_(M)})})}).catch(_)});return v(c,o),c}function mn(o,h){var c=this,g=new u(function(_,m){c.ready().then(function(){var x=c._dbInfo;x.db.transaction(function(I){ut(I,x,"SELECT key FROM "+x.storeName+" WHERE id = ? LIMIT 1",[o+1],function(M,E){var A=E.rows.length?E.rows.item(0).key:null;_(A)},function(M,E){m(E)})})}).catch(m)});return v(g,h),g}function pn(o){var h=this,c=new u(function(g,_){h.ready().then(function(){var m=h._dbInfo;m.db.transaction(function(x){ut(x,m,"SELECT key FROM "+m.storeName,[],function(I,M){for(var E=[],A=0;A<M.rows.length;A++)E.push(M.rows.item(A).key);g(E)},function(I,M){_(M)})})}).catch(_)});return v(c,o),c}function gn(o){return new u(function(h,c){o.transaction(function(g){g.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(_,m){for(var x=[],I=0;I<m.rows.length;I++)x.push(m.rows.item(I).name);h({db:o,storeNames:x})},function(_,m){c(m)})},function(g){c(g)})})}function bn(o,h){h=N.apply(this,arguments);var c=this.config();o=typeof o!="function"&&o||{},o.name||(o.name=o.name||c.name,o.storeName=o.storeName||c.storeName);var g=this,_;return o.name?_=new u(function(m){var x;o.name===c.name?x=g._dbInfo.db:x=openDatabase(o.name,"","",0),o.storeName?m({db:x,storeNames:[o.storeName]}):m(gn(x))}).then(function(m){return new u(function(x,I){m.db.transaction(function(M){function E(H){return new u(function(j,X){M.executeSql("DROP TABLE IF EXISTS "+H,[],function(){j()},function(Q,ot){X(ot)})})}for(var A=[],C=0,U=m.storeNames.length;C<U;C++)A.push(E(m.storeNames[C]));u.all(A).then(function(){x()}).catch(function(H){I(H)})},function(M){I(M)})})}):_=u.reject("Invalid arguments"),v(_,h),_}var vn={_driver:"webSQLStorage",_initStorage:an,_support:nn(),iterate:fn,getItem:cn,setItem:un,removeItem:ln,clear:dn,length:hn,key:mn,keys:pn,dropInstance:bn};function _n(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function _e(o,h){var c=o.name+"/";return o.storeName!==h.storeName&&(c+=o.storeName+"/"),c}function yn(){var o="_localforage_support_test";try{return localStorage.setItem(o,!0),localStorage.removeItem(o),!1}catch{return!0}}function xn(){return!yn()||localStorage.length>0}function wn(o){var h=this,c={};if(o)for(var g in o)c[g]=o[g];return c.keyPrefix=_e(o,h._defaultConfig),xn()?(h._dbInfo=c,c.serializer=Ut,u.resolve()):u.reject()}function Tn(o){var h=this,c=h.ready().then(function(){for(var g=h._dbInfo.keyPrefix,_=localStorage.length-1;_>=0;_--){var m=localStorage.key(_);m.indexOf(g)===0&&localStorage.removeItem(m)}});return v(c,o),c}function In(o,h){var c=this;o=T(o);var g=c.ready().then(function(){var _=c._dbInfo,m=localStorage.getItem(_.keyPrefix+o);return m&&(m=_.serializer.deserialize(m)),m});return v(g,h),g}function Sn(o,h){var c=this,g=c.ready().then(function(){for(var _=c._dbInfo,m=_.keyPrefix,x=m.length,I=localStorage.length,M=1,E=0;E<I;E++){var A=localStorage.key(E);if(A.indexOf(m)===0){var C=localStorage.getItem(A);if(C&&(C=_.serializer.deserialize(C)),C=o(C,A.substring(x),M++),C!==void 0)return C}}});return v(g,h),g}function Mn(o,h){var c=this,g=c.ready().then(function(){var _=c._dbInfo,m;try{m=localStorage.key(o)}catch{m=null}return m&&(m=m.substring(_.keyPrefix.length)),m});return v(g,h),g}function Pn(o){var h=this,c=h.ready().then(function(){for(var g=h._dbInfo,_=localStorage.length,m=[],x=0;x<_;x++){var I=localStorage.key(x);I.indexOf(g.keyPrefix)===0&&m.push(I.substring(g.keyPrefix.length))}return m});return v(c,o),c}function En(o){var h=this,c=h.keys().then(function(g){return g.length});return v(c,o),c}function An(o,h){var c=this;o=T(o);var g=c.ready().then(function(){var _=c._dbInfo;localStorage.removeItem(_.keyPrefix+o)});return v(g,h),g}function Rn(o,h,c){var g=this;o=T(o);var _=g.ready().then(function(){h===void 0&&(h=null);var m=h;return new u(function(x,I){var M=g._dbInfo;M.serializer.serialize(h,function(E,A){if(A)I(A);else try{localStorage.setItem(M.keyPrefix+o,E),x(m)}catch(C){(C.name==="QuotaExceededError"||C.name==="NS_ERROR_DOM_QUOTA_REACHED")&&I(C),I(C)}})})});return v(_,c),_}function Dn(o,h){if(h=N.apply(this,arguments),o=typeof o!="function"&&o||{},!o.name){var c=this.config();o.name=o.name||c.name,o.storeName=o.storeName||c.storeName}var g=this,_;return o.name?_=new u(function(m){o.storeName?m(_e(o,g._defaultConfig)):m(o.name+"/")}).then(function(m){for(var x=localStorage.length-1;x>=0;x--){var I=localStorage.key(x);I.indexOf(m)===0&&localStorage.removeItem(I)}}):_=u.reject("Invalid arguments"),v(_,h),_}var Nn={_driver:"localStorageWrapper",_initStorage:wn,_support:_n(),iterate:Sn,getItem:In,setItem:Rn,removeItem:An,clear:Tn,length:En,key:Mn,keys:Pn,dropInstance:Dn},Cn=function(h,c){return h===c||typeof h=="number"&&typeof c=="number"&&isNaN(h)&&isNaN(c)},Ln=function(h,c){for(var g=h.length,_=0;_<g;){if(Cn(h[_],c))return!0;_++}return!1},ye=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"},yt={},xe={},ht={INDEXEDDB:en,WEBSQL:vn,LOCALSTORAGE:Nn},Bn=[ht.INDEXEDDB._driver,ht.WEBSQL._driver,ht.LOCALSTORAGE._driver],Nt=["dropInstance"],Yt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Nt),Vn={description:"",driver:Bn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function On(o,h){o[h]=function(){var c=arguments;return o.ready().then(function(){return o[h].apply(o,c)})}}function Gt(){for(var o=1;o<arguments.length;o++){var h=arguments[o];if(h)for(var c in h)h.hasOwnProperty(c)&&(ye(h[c])?arguments[0][c]=h[c].slice():arguments[0][c]=h[c])}return arguments[0]}var Fn=function(){function o(h){i(this,o);for(var c in ht)if(ht.hasOwnProperty(c)){var g=ht[c],_=g._driver;this[c]=_,yt[_]||this.defineDriver(g)}this._defaultConfig=Gt({},Vn),this._config=Gt({},this._defaultConfig,h),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return o.prototype.config=function(c){if((typeof c>"u"?"undefined":s(c))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var g in c){if(g==="storeName"&&(c[g]=c[g].replace(/\W/g,"_")),g==="version"&&typeof c[g]!="number")return new Error("Database version must be a number.");this._config[g]=c[g]}return"driver"in c&&c.driver?this.setDriver(this._config.driver):!0}else return typeof c=="string"?this._config[c]:this._config},o.prototype.defineDriver=function(c,g,_){var m=new u(function(x,I){try{var M=c._driver,E=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!c._driver){I(E);return}for(var A=Yt.concat("_initStorage"),C=0,U=A.length;C<U;C++){var H=A[C],j=!Ln(Nt,H);if((j||c[H])&&typeof c[H]!="function"){I(E);return}}var X=function(){for(var xt=function(Wn){return function(){var Un=new Error("Method "+Wn+" is not implemented by the current driver"),we=u.reject(Un);return v(we,arguments[arguments.length-1]),we}},$t=0,kn=Nt.length;$t<kn;$t++){var Kt=Nt[$t];c[Kt]||(c[Kt]=xt(Kt))}};X();var Q=function(xt){yt[M]&&console.info("Redefining LocalForage driver: "+M),yt[M]=c,xe[M]=xt,x()};"_support"in c?c._support&&typeof c._support=="function"?c._support().then(Q,I):Q(!!c._support):Q(!0)}catch(ot){I(ot)}});return y(m,g,_),m},o.prototype.driver=function(){return this._driver||null},o.prototype.getDriver=function(c,g,_){var m=yt[c]?u.resolve(yt[c]):u.reject(new Error("Driver not found."));return y(m,g,_),m},o.prototype.getSerializer=function(c){var g=u.resolve(Ut);return y(g,c),g},o.prototype.ready=function(c){var g=this,_=g._driverSet.then(function(){return g._ready===null&&(g._ready=g._initDriver()),g._ready});return y(_,c,c),_},o.prototype.setDriver=function(c,g,_){var m=this;ye(c)||(c=[c]);var x=this._getSupportedDrivers(c);function I(){m._config.driver=m.driver()}function M(C){return m._extend(C),I(),m._ready=m._initStorage(m._config),m._ready}function E(C){return function(){var U=0;function H(){for(;U<C.length;){var j=C[U];return U++,m._dbInfo=null,m._ready=null,m.getDriver(j).then(M).catch(H)}I();var X=new Error("No available storage method found.");return m._driverSet=u.reject(X),m._driverSet}return H()}}var A=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=A.then(function(){var C=x[0];return m._dbInfo=null,m._ready=null,m.getDriver(C).then(function(U){m._driver=U._driver,I(),m._wrapLibraryMethodsWithReady(),m._initDriver=E(x)})}).catch(function(){I();var C=new Error("No available storage method found.");return m._driverSet=u.reject(C),m._driverSet}),y(this._driverSet,g,_),this._driverSet},o.prototype.supports=function(c){return!!xe[c]},o.prototype._extend=function(c){Gt(this,c)},o.prototype._getSupportedDrivers=function(c){for(var g=[],_=0,m=c.length;_<m;_++){var x=c[_];this.supports(x)&&g.push(x)}return g},o.prototype._wrapLibraryMethodsWithReady=function(){for(var c=0,g=Yt.length;c<g;c++)On(this,Yt[c])},o.prototype.createInstance=function(c){return new o(c)},o}(),qn=new Fn;r.exports=qn},{3:3}]},{},[4])(4)})});var Ue=Ht((Ss,We)=>{"use strict";var ee=Math.abs,wr=Math.min;function Vt(d,t,e,n){var r=ee(d-t);return e==null&&(e=Vt.DBL_EPSILON),n==null&&(n=e),r<=e||r<=n*wr(ee(d),ee(t))?!0:d===t}Vt.FLT_EPSILON=11920929e-14;Vt.DBL_EPSILON=2220446049250313e-31;We.exports=Vt});var It=d=>({vertices:[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}]});var zt=Tt(Lt(),1),Re=Tt(Lt(),1);var Y=11102230246251565e-32,tt=134217729,St=(3+8*Y)*Y;function dt(d,t,e,n,r){let a,s,i,f,l=t[0],p=n[0],b=0,u=0;p>l==p>-l?(a=l,l=t[++b]):(a=p,p=n[++u]);let v=0;if(b<d&&u<e)for(p>l==p>-l?(s=l+a,i=a-(s-l),l=t[++b]):(s=p+a,i=a-(s-p),p=n[++u]),a=s,i!==0&&(r[v++]=i);b<d&&u<e;)p>l==p>-l?(s=a+l,f=s-a,i=a-(s-f)+(l-f),l=t[++b]):(s=a+p,f=s-a,i=a-(s-f)+(p-f),p=n[++u]),a=s,i!==0&&(r[v++]=i);for(;b<d;)s=a+l,f=s-a,i=a-(s-f)+(l-f),l=t[++b],a=s,i!==0&&(r[v++]=i);for(;u<e;)s=a+p,f=s-a,i=a-(s-f)+(p-f),p=n[++u],a=s,i!==0&&(r[v++]=i);return(a!==0||v===0)&&(r[v++]=a),v}function Mt(d,t){let e=t[0];for(let n=1;n<d;n++)e+=t[n];return e}function w(d){return new Float64Array(d)}var Zn=(3+16*Y)*Y,Qn=(2+12*Y)*Y,zn=(9+64*Y)*Y*Y,mt=w(4),Se=w(8),Me=w(12),Pe=w(16),nt=w(4);function Xn(d,t,e,n,r,a,s){let i,f,l,p,b,u,v,y,T,N,R,B,F,$,G,S,O,D,P=d-r,L=e-r,V=t-a,q=n-a;$=P*q,u=tt*P,v=u-(u-P),y=P-v,u=tt*q,T=u-(u-q),N=q-T,G=y*N-($-v*T-y*T-v*N),S=V*L,u=tt*V,v=u-(u-V),y=V-v,u=tt*L,T=u-(u-L),N=L-T,O=y*N-(S-v*T-y*T-v*N),R=G-O,b=G-R,mt[0]=G-(R+b)+(b-O),B=$+R,b=B-$,F=$-(B-b)+(R-b),R=F-S,b=F-R,mt[1]=F-(R+b)+(b-S),D=B+R,b=D-B,mt[2]=B-(D-b)+(R-b),mt[3]=D;let W=Mt(4,mt),K=Qn*s;if(W>=K||-W>=K||(b=d-P,i=d-(P+b)+(b-r),b=e-L,l=e-(L+b)+(b-r),b=t-V,f=t-(V+b)+(b-a),b=n-q,p=n-(q+b)+(b-a),i===0&&f===0&&l===0&&p===0)||(K=zn*s+St*Math.abs(W),W+=P*p+q*i-(V*l+L*f),W>=K||-W>=K))return W;$=i*q,u=tt*i,v=u-(u-i),y=i-v,u=tt*q,T=u-(u-q),N=q-T,G=y*N-($-v*T-y*T-v*N),S=f*L,u=tt*f,v=u-(u-f),y=f-v,u=tt*L,T=u-(u-L),N=L-T,O=y*N-(S-v*T-y*T-v*N),R=G-O,b=G-R,nt[0]=G-(R+b)+(b-O),B=$+R,b=B-$,F=$-(B-b)+(R-b),R=F-S,b=F-R,nt[1]=F-(R+b)+(b-S),D=B+R,b=D-B,nt[2]=B-(D-b)+(R-b),nt[3]=D;let Z=dt(4,mt,4,nt,Se);$=P*p,u=tt*P,v=u-(u-P),y=P-v,u=tt*p,T=u-(u-p),N=p-T,G=y*N-($-v*T-y*T-v*N),S=V*l,u=tt*V,v=u-(u-V),y=V-v,u=tt*l,T=u-(u-l),N=l-T,O=y*N-(S-v*T-y*T-v*N),R=G-O,b=G-R,nt[0]=G-(R+b)+(b-O),B=$+R,b=B-$,F=$-(B-b)+(R-b),R=F-S,b=F-R,nt[1]=F-(R+b)+(b-S),D=B+R,b=D-B,nt[2]=B-(D-b)+(R-b),nt[3]=D;let k=dt(Z,Se,4,nt,Me);$=i*p,u=tt*i,v=u-(u-i),y=i-v,u=tt*p,T=u-(u-p),N=p-T,G=y*N-($-v*T-y*T-v*N),S=f*l,u=tt*f,v=u-(u-f),y=f-v,u=tt*l,T=u-(u-l),N=l-T,O=y*N-(S-v*T-y*T-v*N),R=G-O,b=G-R,nt[0]=G-(R+b)+(b-O),B=$+R,b=B-$,F=$-(B-b)+(R-b),R=F-S,b=F-R,nt[1]=F-(R+b)+(b-S),D=B+R,b=D-B,nt[2]=B-(D-b)+(R-b),nt[3]=D;let J=dt(k,Me,4,nt,Pe);return Pe[J-1]}function pt(d,t,e,n,r,a){let s=(t-a)*(e-r),i=(d-r)*(n-a),f=s-i,l=Math.abs(s+i);return Math.abs(f)>=Zn*l?f:-Xn(d,t,e,n,r,a,l)}var Wr=(7+56*Y)*Y,Ur=(3+28*Y)*Y,Yr=(26+288*Y)*Y*Y,Gr=w(4),$r=w(4),Kr=w(4),Hr=w(4),jr=w(4),Jr=w(4),Zr=w(4),Qr=w(4),zr=w(4),Xr=w(8),to=w(8),eo=w(8),no=w(4),ro=w(8),oo=w(8),io=w(8),so=w(12),ao=w(192),co=w(192);var lo=(10+96*Y)*Y,ho=(4+48*Y)*Y,mo=(44+576*Y)*Y*Y,po=w(4),go=w(4),bo=w(4),vo=w(4),_o=w(4),yo=w(4),xo=w(4),wo=w(4),To=w(8),Io=w(8),So=w(8),Mo=w(8),Po=w(8),Eo=w(8),Ao=w(8),Ro=w(8),Do=w(8),No=w(4),Co=w(4),Lo=w(4),Bo=w(8),Vo=w(16),Oo=w(16),Fo=w(16),qo=w(32),ko=w(32),Wo=w(48),Uo=w(64),Yo=w(1152),Go=w(1152);var jo=(16+224*Y)*Y,Jo=(5+72*Y)*Y,Zo=(71+1408*Y)*Y*Y,Qo=w(4),zo=w(4),Xo=w(4),ti=w(4),ei=w(4),ni=w(4),ri=w(4),oi=w(4),ii=w(4),si=w(4),ai=w(24),ci=w(24),fi=w(24),ui=w(24),li=w(24),di=w(24),hi=w(24),mi=w(24),pi=w(24),gi=w(24),bi=w(1152),vi=w(1152),_i=w(1152),yi=w(1152),xi=w(1152),wi=w(2304),Ti=w(2304),Ii=w(3456),Si=w(5760),Mi=w(8),Pi=w(8),Ei=w(8),Ai=w(16),Ri=w(24),Di=w(48),Ni=w(48),Ci=w(96),Li=w(192),Bi=w(384),Vi=w(384),Oi=w(384),Fi=w(768);var qi=w(96),ki=w(96),Wi=w(96),Ui=w(1152);var Ae=Math.pow(2,-52),Bt=new Uint32Array(512),bt=class d{static from(t,e=ir,n=sr){let r=t.length,a=new Float64Array(r*2);for(let s=0;s<r;s++){let i=t[s];a[2*s]=e(i),a[2*s+1]=n(i)}return new d(a)}constructor(t){let e=t.length>>1;if(e>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;let n=Math.max(2*e-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){let{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:a}=this,s=t.length>>1,i=1/0,f=1/0,l=-1/0,p=-1/0;for(let P=0;P<s;P++){let L=t[2*P],V=t[2*P+1];L<i&&(i=L),V<f&&(f=V),L>l&&(l=L),V>p&&(p=V),this._ids[P]=P}let b=(i+l)/2,u=(f+p)/2,v,y,T;for(let P=0,L=1/0;P<s;P++){let V=Jt(b,u,t[2*P],t[2*P+1]);V<L&&(v=P,L=V)}let N=t[2*v],R=t[2*v+1];for(let P=0,L=1/0;P<s;P++){if(P===v)continue;let V=Jt(N,R,t[2*P],t[2*P+1]);V<L&&V>0&&(y=P,L=V)}let B=t[2*y],F=t[2*y+1],$=1/0;for(let P=0;P<s;P++){if(P===v||P===y)continue;let L=rr(N,R,B,F,t[2*P],t[2*P+1]);L<$&&(T=P,$=L)}let G=t[2*T],S=t[2*T+1];if($===1/0){for(let V=0;V<s;V++)this._dists[V]=t[2*V]-t[0]||t[2*V+1]-t[1];gt(this._ids,this._dists,0,s-1);let P=new Uint32Array(s),L=0;for(let V=0,q=-1/0;V<s;V++){let W=this._ids[V],K=this._dists[W];K>q&&(P[L++]=W,q=K)}this.hull=P.subarray(0,L),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(pt(N,R,B,F,G,S)<0){let P=y,L=B,V=F;y=T,B=G,F=S,T=P,G=L,S=V}let O=or(N,R,B,F,G,S);this._cx=O.x,this._cy=O.y;for(let P=0;P<s;P++)this._dists[P]=Jt(t[2*P],t[2*P+1],O.x,O.y);gt(this._ids,this._dists,0,s-1),this._hullStart=v;let D=3;n[v]=e[T]=y,n[y]=e[v]=T,n[T]=e[y]=v,r[v]=0,r[y]=1,r[T]=2,a.fill(-1),a[this._hashKey(N,R)]=v,a[this._hashKey(B,F)]=y,a[this._hashKey(G,S)]=T,this.trianglesLen=0,this._addTriangle(v,y,T,-1,-1,-1);for(let P=0,L,V;P<this._ids.length;P++){let q=this._ids[P],W=t[2*q],K=t[2*q+1];if(P>0&&Math.abs(W-L)<=Ae&&Math.abs(K-V)<=Ae||(L=W,V=K,q===v||q===y||q===T))continue;let Z=0;for(let ct=0,Ot=this._hashKey(W,K);ct<this._hashSize&&(Z=a[(Ot+ct)%this._hashSize],!(Z!==-1&&Z!==n[Z]));ct++);Z=e[Z];let k=Z,J;for(;J=n[k],pt(W,K,t[2*k],t[2*k+1],t[2*J],t[2*J+1])>=0;)if(k=J,k===Z){k=-1;break}if(k===-1)continue;let z=this._addTriangle(k,q,n[k],-1,-1,r[k]);r[q]=this._legalize(z+2),r[k]=z,D++;let et=n[k];for(;J=n[et],pt(W,K,t[2*et],t[2*et+1],t[2*J],t[2*J+1])<0;)z=this._addTriangle(et,q,J,r[q],-1,r[et]),r[q]=this._legalize(z+2),n[et]=et,D--,et=J;if(k===Z)for(;J=e[k],pt(W,K,t[2*J],t[2*J+1],t[2*k],t[2*k+1])<0;)z=this._addTriangle(J,q,k,-1,r[k],r[J]),this._legalize(z+2),r[J]=z,n[k]=k,D--,k=J;this._hullStart=e[q]=k,n[k]=e[et]=q,n[q]=et,a[this._hashKey(W,K)]=q,a[this._hashKey(t[2*k],t[2*k+1])]=k}this.hull=new Uint32Array(D);for(let P=0,L=this._hullStart;P<D;P++)this.hull[P]=L,L=n[L];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(er(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:e,_halfedges:n,coords:r}=this,a=0,s=0;for(;;){let i=n[t],f=t-t%3;if(s=f+(t+2)%3,i===-1){if(a===0)break;t=Bt[--a];continue}let l=i-i%3,p=f+(t+1)%3,b=l+(i+2)%3,u=e[s],v=e[t],y=e[p],T=e[b];if(nr(r[2*u],r[2*u+1],r[2*v],r[2*v+1],r[2*y],r[2*y+1],r[2*T],r[2*T+1])){e[t]=T,e[i]=u;let R=n[b];if(R===-1){let F=this._hullStart;do{if(this._hullTri[F]===b){this._hullTri[F]=t;break}F=this._hullPrev[F]}while(F!==this._hullStart)}this._link(t,R),this._link(i,n[s]),this._link(s,b);let B=l+(i+1)%3;a<Bt.length&&(Bt[a++]=B)}else{if(a===0)break;t=Bt[--a]}}return s}_link(t,e){this._halfedges[t]=e,e!==-1&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,a,s){let i=this.trianglesLen;return this._triangles[i]=t,this._triangles[i+1]=e,this._triangles[i+2]=n,this._link(i,r),this._link(i+1,a),this._link(i+2,s),this.trianglesLen+=3,i}};function er(d,t){let e=d/(Math.abs(d)+Math.abs(t));return(t>0?3-e:1+e)/4}function Jt(d,t,e,n){let r=d-e,a=t-n;return r*r+a*a}function nr(d,t,e,n,r,a,s,i){let f=d-s,l=t-i,p=e-s,b=n-i,u=r-s,v=a-i,y=f*f+l*l,T=p*p+b*b,N=u*u+v*v;return f*(b*N-T*v)-l*(p*N-T*u)+y*(p*v-b*u)<0}function rr(d,t,e,n,r,a){let s=e-d,i=n-t,f=r-d,l=a-t,p=s*s+i*i,b=f*f+l*l,u=.5/(s*l-i*f),v=(l*p-i*b)*u,y=(s*b-f*p)*u;return v*v+y*y}function or(d,t,e,n,r,a){let s=e-d,i=n-t,f=r-d,l=a-t,p=s*s+i*i,b=f*f+l*l,u=.5/(s*l-i*f),v=d+(l*p-i*b)*u,y=t+(s*b-f*p)*u;return{x:v,y}}function gt(d,t,e,n){if(n-e<=20)for(let r=e+1;r<=n;r++){let a=d[r],s=t[a],i=r-1;for(;i>=e&&t[d[i]]>s;)d[i+1]=d[i--];d[i+1]=a}else{let r=e+n>>1,a=e+1,s=n;Pt(d,r,a),t[d[e]]>t[d[n]]&&Pt(d,e,n),t[d[a]]>t[d[n]]&&Pt(d,a,n),t[d[e]]>t[d[a]]&&Pt(d,e,a);let i=d[a],f=t[i];for(;;){do a++;while(t[d[a]]<f);do s--;while(t[d[s]]>f);if(s<a)break;Pt(d,a,s)}d[e+1]=d[s],d[s]=i,n-a+1>=s-e?(gt(d,t,a,n),gt(d,t,e,s-1)):(gt(d,t,e,s-1),gt(d,t,a,n))}}function Pt(d,t,e){let n=d[t];d[t]=d[e],d[e]=n}function ir(d){return d[0]}function sr(d){return d[1]}var it=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){t=+t,e=+e,n=+n;let r=t+n,a=e;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${a}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-a)>1e-6)&&(this._+="L"+r+","+a),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=a}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}};var lt=class{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}};var Et=class{constructor(t,[e,n,r,a]=[0,0,960,500]){if(!((r=+r)>=(e=+e))||!((a=+a)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=r,this.xmin=e,this.ymax=a,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,a,s,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let T=0,N=0,R=n.length,B,F;T<R;T+=3,N+=2){let $=n[T]*2,G=n[T+1]*2,S=n[T+2]*2,O=t[$],D=t[$+1],P=t[G],L=t[G+1],V=t[S],q=t[S+1],W=P-O,K=L-D,Z=V-O,k=q-D,J=(W*k-K*Z)*2;if(Math.abs(J)<1e-9){if(a===void 0){a=s=0;for(let et of e)a+=t[et*2],s+=t[et*2+1];a/=e.length,s/=e.length}let z=1e9*Math.sign((a-O)*k-(s-D)*Z);B=(O+V)/2-z*k,F=(D+q)/2+z*Z}else{let z=1/J,et=W*W+K*K,ct=Z*Z+k*k;B=O+(k*et-K*ct)*z,F=D+(W*ct-Z*et)*z}i[N]=B,i[N+1]=F}let f=e[e.length-1],l,p=f*4,b,u=t[2*f],v,y=t[2*f+1];r.fill(0);for(let T=0;T<e.length;++T)f=e[T],l=p,b=u,v=y,p=f*4,u=t[2*f],y=t[2*f+1],r[l+2]=r[p]=v-y,r[l+3]=r[p+1]=u-b}render(t){let e=t==null?t=new it:void 0,{delaunay:{halfedges:n,inedges:r,hull:a},circumcenters:s,vectors:i}=this;if(a.length<=1)return null;for(let p=0,b=n.length;p<b;++p){let u=n[p];if(u<p)continue;let v=Math.floor(p/3)*2,y=Math.floor(u/3)*2,T=s[v],N=s[v+1],R=s[y],B=s[y+1];this._renderSegment(T,N,R,B,t)}let f,l=a[a.length-1];for(let p=0;p<a.length;++p){f=l,l=a[p];let b=Math.floor(r[l]/3)*2,u=s[b],v=s[b+1],y=f*4,T=this._project(u,v,i[y+2],i[y+3]);T&&this._renderSegment(u,v,T[0],T[1],t)}return e&&e.value()}renderBounds(t){let e=t==null?t=new it:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){let n=e==null?e=new it:void 0,r=this._clip(t);if(r===null||!r.length)return;e.moveTo(r[0],r[1]);let a=r.length;for(;r[0]===r[a-2]&&r[1]===r[a-1]&&a>1;)a-=2;for(let s=2;s<a;s+=2)(r[s]!==r[s-2]||r[s+1]!==r[s-1])&&e.lineTo(r[s],r[s+1]);return e.closePath(),n&&n.value()}*cellPolygons(){let{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){let r=this.cellPolygon(e);r&&(r.index=e,yield r)}}cellPolygon(t){let e=new lt;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,a){let s,i=this._regioncode(t,e),f=this._regioncode(n,r);i===0&&f===0?(a.moveTo(t,e),a.lineTo(n,r)):(s=this._clipSegment(t,e,n,r,i,f))&&(a.moveTo(s[0],s[1]),a.lineTo(s[2],s[3]))}contains(t,e,n){return e=+e,e!==e||(n=+n,n!==n)?!1:this.delaunay._step(t,e,n)===t}*neighbors(t){let e=this._clip(t);if(e)for(let n of this.delaunay.neighbors(t)){let r=this._clip(n);if(r){t:for(let a=0,s=e.length;a<s;a+=2)for(let i=0,f=r.length;i<f;i+=2)if(e[a]===r[i]&&e[a+1]===r[i+1]&&e[(a+2)%s]===r[(i+f-2)%f]&&e[(a+3)%s]===r[(i+f-1)%f]){yield n;break t}}}}_cell(t){let{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:a}}=this,s=n[t];if(s===-1)return null;let i=[],f=s;do{let l=Math.floor(f/3);if(i.push(e[l*2],e[l*2+1]),f=f%3===2?f-2:f+1,a[f]!==t)break;f=r[f]}while(f!==s&&f!==-1);return i}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let e=this._cell(t);if(e===null)return null;let{vectors:n}=this,r=t*4;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}_clipFinite(t,e){let n=e.length,r=null,a,s,i=e[n-2],f=e[n-1],l,p=this._regioncode(i,f),b,u=0;for(let v=0;v<n;v+=2)if(a=i,s=f,i=e[v],f=e[v+1],l=p,p=this._regioncode(i,f),l===0&&p===0)b=u,u=0,r?r.push(i,f):r=[i,f];else{let y,T,N,R,B;if(l===0){if((y=this._clipSegment(a,s,i,f,l,p))===null)continue;[T,N,R,B]=y}else{if((y=this._clipSegment(i,f,a,s,p,l))===null)continue;[R,B,T,N]=y,b=u,u=this._edgecode(T,N),b&&u&&this._edge(t,b,u,r,r.length),r?r.push(T,N):r=[T,N]}b=u,u=this._edgecode(R,B),b&&u&&this._edge(t,b,u,r,r.length),r?r.push(R,B):r=[R,B]}if(r)b=u,u=this._edgecode(r[0],r[1]),b&&u&&this._edge(t,b,u,r,r.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(t,e,n,r,a,s){let i=a<s;for(i&&([t,e,n,r,a,s]=[n,r,t,e,s,a]);;){if(a===0&&s===0)return i?[n,r,t,e]:[t,e,n,r];if(a&s)return null;let f,l,p=a||s;p&8?(f=t+(n-t)*(this.ymax-e)/(r-e),l=this.ymax):p&4?(f=t+(n-t)*(this.ymin-e)/(r-e),l=this.ymin):p&2?(l=e+(r-e)*(this.xmax-t)/(n-t),f=this.xmax):(l=e+(r-e)*(this.xmin-t)/(n-t),f=this.xmin),a?(t=f,e=l,a=this._regioncode(t,e)):(n=f,r=l,s=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,a,s){let i=Array.from(e),f;if((f=this._project(i[0],i[1],n,r))&&i.unshift(f[0],f[1]),(f=this._project(i[i.length-2],i[i.length-1],a,s))&&i.push(f[0],f[1]),i=this._clipFinite(t,i))for(let l=0,p=i.length,b,u=this._edgecode(i[p-2],i[p-1]);l<p;l+=2)b=u,u=this._edgecode(i[l],i[l+1]),b&&u&&(l=this._edge(t,b,u,i,l),p=i.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(i=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return i}_edge(t,e,n,r,a){for(;e!==n;){let s,i;switch(e){case 5:e=4;continue;case 4:e=6,s=this.xmax,i=this.ymin;break;case 6:e=2;continue;case 2:e=10,s=this.xmax,i=this.ymax;break;case 10:e=8;continue;case 8:e=9,s=this.xmin,i=this.ymax;break;case 9:e=1;continue;case 1:e=5,s=this.xmin,i=this.ymin;break}(r[a]!==s||r[a+1]!==i)&&this.contains(t,s,i)&&(r.splice(a,0,s,i),a+=2)}return a}_project(t,e,n,r){let a=1/0,s,i,f;if(r<0){if(e<=this.ymin)return null;(s=(this.ymin-e)/r)<a&&(f=this.ymin,i=t+(a=s)*n)}else if(r>0){if(e>=this.ymax)return null;(s=(this.ymax-e)/r)<a&&(f=this.ymax,i=t+(a=s)*n)}if(n>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/n)<a&&(i=this.xmax,f=e+(a=s)*r)}else if(n<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/n)<a&&(i=this.xmin,f=e+(a=s)*r)}return[i,f]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){let n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}};var ar=2*Math.PI,vt=Math.pow;function cr(d){return d[0]}function fr(d){return d[1]}function ur(d){let{triangles:t,coords:e}=d;for(let n=0;n<t.length;n+=3){let r=2*t[n],a=2*t[n+1],s=2*t[n+2];if((e[s]-e[r])*(e[a+1]-e[r+1])-(e[a]-e[r])*(e[s+1]-e[r+1])>1e-10)return!1}return!0}function lr(d,t,e){return[d+Math.sin(d+t)*e,t+Math.cos(d-t)*e]}var _t=class d{static from(t,e=cr,n=fr,r){return new d("length"in t?dr(t,e,n,r):Float64Array.from(hr(t,e,n,r)))}constructor(t){this._delaunator=new bt(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&ur(t)){this.collinear=Int32Array.from({length:e.length/2},(u,v)=>v).sort((u,v)=>e[2*u]-e[2*v]||e[2*u+1]-e[2*v+1]);let f=this.collinear[0],l=this.collinear[this.collinear.length-1],p=[e[2*f],e[2*f+1],e[2*l],e[2*l+1]],b=1e-8*Math.hypot(p[3]-p[1],p[2]-p[0]);for(let u=0,v=e.length/2;u<v;++u){let y=lr(e[2*u],e[2*u+1],b);e[2*u]=y[0],e[2*u+1]=y[1]}this._delaunator=new bt(e)}else delete this.collinear;let n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),i=this._hullIndex.fill(-1);for(let f=0,l=n.length;f<l;++f){let p=a[f%3===2?f-2:f+1];(n[f]===-1||s[p]===-1)&&(s[p]=f)}for(let f=0,l=r.length;f<l;++f)i[r[f]]=f;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],s[r[0]]=1,r.length===2&&(s[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new Et(this,t)}*neighbors(t){let{inedges:e,hull:n,_hullIndex:r,halfedges:a,triangles:s,collinear:i}=this;if(i){let b=i.indexOf(t);b>0&&(yield i[b-1]),b<i.length-1&&(yield i[b+1]);return}let f=e[t];if(f===-1)return;let l=f,p=-1;do{if(yield p=s[l],l=l%3===2?l-2:l+1,s[l]!==t)return;if(l=a[l],l===-1){let b=n[(r[t]+1)%n.length];b!==p&&(yield b);return}}while(l!==f)}find(t,e,n=0){if(t=+t,t!==t||(e=+e,e!==e))return-1;let r=n,a;for(;(a=this._step(n,t,e))>=0&&a!==n&&a!==r;)n=a;return a}_step(t,e,n){let{inedges:r,hull:a,_hullIndex:s,halfedges:i,triangles:f,points:l}=this;if(r[t]===-1||!l.length)return(t+1)%(l.length>>1);let p=t,b=vt(e-l[t*2],2)+vt(n-l[t*2+1],2),u=r[t],v=u;do{let y=f[v],T=vt(e-l[y*2],2)+vt(n-l[y*2+1],2);if(T<b&&(b=T,p=y),v=v%3===2?v-2:v+1,f[v]!==t)break;if(v=i[v],v===-1){if(v=a[(s[t]+1)%a.length],v!==y&&vt(e-l[v*2],2)+vt(n-l[v*2+1],2)<b)return v;break}}while(v!==u);return p}render(t){let e=t==null?t=new it:void 0,{points:n,halfedges:r,triangles:a}=this;for(let s=0,i=r.length;s<i;++s){let f=r[s];if(f<s)continue;let l=a[s]*2,p=a[f]*2;t.moveTo(n[l],n[l+1]),t.lineTo(n[p],n[p+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){e===void 0&&(!t||typeof t.moveTo!="function")&&(e=t,t=null),e=e==null?2:+e;let n=t==null?t=new it:void 0,{points:r}=this;for(let a=0,s=r.length;a<s;a+=2){let i=r[a],f=r[a+1];t.moveTo(i+e,f),t.arc(i,f,e,0,ar)}return n&&n.value()}renderHull(t){let e=t==null?t=new it:void 0,{hull:n,points:r}=this,a=n[0]*2,s=n.length;t.moveTo(r[a],r[a+1]);for(let i=1;i<s;++i){let f=2*n[i];t.lineTo(r[f],r[f+1])}return t.closePath(),e&&e.value()}hullPolygon(){let t=new lt;return this.renderHull(t),t.value()}renderTriangle(t,e){let n=e==null?e=new it:void 0,{points:r,triangles:a}=this,s=a[t*=3]*2,i=a[t+1]*2,f=a[t+2]*2;return e.moveTo(r[s],r[s+1]),e.lineTo(r[i],r[i+1]),e.lineTo(r[f],r[f+1]),e.closePath(),n&&n.value()}*trianglePolygons(){let{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){let e=new lt;return this.renderTriangle(t,e),e.value()}};function dr(d,t,e,n){let r=d.length,a=new Float64Array(r*2);for(let s=0;s<r;++s){let i=d[s];a[s*2]=t.call(n,i,s,d),a[s*2+1]=e.call(n,i,s,d)}return a}function*hr(d,t,e,n){let r=0;for(let a of d)yield t.call(n,a,r,d),yield e.call(n,a,r,d),++r}function Zt(d,t){for(var e=d.length,n=d[e-1],r=t[0],a=t[1],s=n[0],i=n[1],f,l,p=!1,b=0;b<e;++b)n=d[b],f=n[0],l=n[1],l>a!=i>a&&r<(s-f)*(a-l)/(i-l)+f&&(p=!p),s=f,i=l;return p}var Ne=Tt(Lt(),1);var rt=class Xt{constructor(t,e){this.x=t,this.y=e}static elsdqqo7ff9ccd7e9804fb8bb264e51c6c36213(t){return new Xt(t.x,t.y)}xxwpdnr11bdb769addc4b3390037ce6822f15ed(){let t={};return t.x=this.x,t.y=this.y,t}ghuuvcxknee42c337a6c9488fab41ae8064d1951a(t){let e={tsKQA:function(r,a,s){return r(a,s)}};return(0,zt.default)(this.x,t.x)&&e.tsKQA(zt.default,this.y,t.y)}opuuuuiwd8f654d16200b4338bf7a5c84df459f5b(){return[this.x,this.y]}goddi19bf1a23e0a0452bb9c368545727f514(t){let e={};e.wdWwa=function(s,i){return s/i},e.oBEKB=function(s,i){return s+i},e.oJnPi=function(s,i){return s+i};let n=e,r=n.wdWwa(n.oBEKB(this.x,t.x),2),a=n.oJnPi(this.y,t.y)/2;return new Xt(r,a)}};function Qt(d,t,e){let n={};n.ekwqC=function(b,u){return b-u},n.UbDHg=function(b,u){return b-u},n.tLxpu=function(b,u){return b-u},n.GWryo=function(b,u){return b+u},n.PFHKA=function(b,u){return b*u},n.UpDkN=function(b,u){return b===u},n.ezVii=function(b,u){return b===u},n.ixmed=function(b,u){return b/u};let r=n,a={x:r.ekwqC(d.x,t.x),y:d.y-t.y},s={x:r.UbDHg(e.x,t.x),y:r.tLxpu(e.y,t.y)},i=r.GWryo(r.PFHKA(a.x,s.x),r.PFHKA(a.y,s.y)),f=Math.hypot(a.x,a.y),l=Math.hypot(s.x,s.y);if(r.UpDkN(f,0)||r.ezVii(l,0))return 0;let p=Math.min(1,Math.max(-1,r.ixmed(i,r.PFHKA(f,l))));return Math.acos(p)}var De=class st{constructor(t){let e={};e.jPtNr="3|0|4|2|1";let n=e,r=n.jPtNr.ccnqycxsff91f0345adde463c8a68049012ec6439("|"),a=0;for(;;){switch(r[a++]){case"0":this.tag="";continue;case"1":!st.mfnpkkdec7f1b673eb74dbe93014b102d22132b(t)&&this.points.reverse();continue;case"2":this.materialTag="";continue;case"3":this.points=t;continue;case"4":this.sectionTag="";continue}break}}static FromDto(t){return new st(t.points.map(e=>rt.elsdqqo7ff9ccd7e9804fb8bb264e51c6c36213(e)))}xxwpdnr11bdb769addc4b3390037ce6822f15ed(){return{points:this.points.map(t=>t.xxwpdnr11bdb769addc4b3390037ce6822f15ed()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static mfnpkkdec7f1b673eb74dbe93014b102d22132b(t){let e={};e.lnRiD=function(f,l){return f-l},e.cWmBo=function(f,l){return f>l};let n=e,[r,a,s]=t,i=n.lnRiD(a.x,r.x)*(s.y-r.y)-n.lnRiD(a.y,r.y)*n.lnRiD(s.x,r.x);return n.cWmBo(i,0)}lsbxkbdu318e3b9ed3764024ae2fa3e2415263ed(t,e,n){this.tag=t,this.sectionTag=e,this.materialTag=n}pfsofv5a8c400d582f458f89203bbf2adb75e5(){let t={};t.YEsyE=function(f,l){return f/l},t.WtPRw=function(f,l){return f+l},t.OtSrV=function(f,l){return f/l};let e=t,[n,r,a]=this.points,s=e.YEsyE(e.WtPRw(e.WtPRw(n.x,r.x),a.x),3),i=e.OtSrV(e.WtPRw(n.y+r.y,a.y),3);return new rt(s,i)}dzuxrbrlcc1e4344a31a48fd89d400646529bd6e(t=.1){let e={};e.gBoeG=function(l,p){return l-p},e.TJNLU=function(l,p){return l-p},e.Evnix=function(l,p){return l+p},e.qmvor=function(l,p){return l*p},e.sYexv=function(l,p){return l*p},e.aixeE=function(l,p){return l-p},e.vCkNC=function(l,p){return l/p},e.PsKvd=function(l,p){return l+p},e.ENzvU=function(l,p){return l*p},e.kyJbH=function(l,p){return l*p},e.AbRLx=function(l,p){return l*p};let n=e,r=this.pfsofv5a8c400d582f458f89203bbf2adb75e5(),a=this.points.map(l=>{let p=n.gBoeG(r.x,l.x),b=n.TJNLU(r.y,l.y);return Math.sqrt(n.Evnix(n.qmvor(p,p),n.sYexv(b,b)))}),s=Math.max(...a),i=n.AbRLx(s,t);return this.points.map(l=>{let p=n.TJNLU(r.x,l.x),b=n.aixeE(r.y,l.y),u=Math.sqrt(n.Evnix(n.qmvor(p,p),b*b)),v=n.vCkNC(i,u);return new rt(n.PsKvd(l.x,n.ENzvU(p,v)),n.PsKvd(l.y,n.kyJbH(b,v)))})}tnrbutmfc55747902e1e94b2cab0023a2992f6b36(){let t=this.pfsofv5a8c400d582f458f89203bbf2adb75e5();return[new st([this.points[0],this.points[1],t]),new st([this.points[1],this.points[2],t]),new st([this.points[2],this.points[0],t])]}vahnrgifhr825d98432ddd415988618dfcb20db341(){let t={};t.IPfhW=function(l,p){return l/p},t.sBYZH=function(l,p){return l+p},t.kIPRC=function(l,p){return l/p},t.JbbpC=function(l,p){return l/p},t.VlzWq=function(l,p){return l+p},t.tMTrM=function(l,p){return l/p},t.IsevM=function(l,p){return l/p},t.ygnyn=function(l,p){return l+p};let e=t,[n,r,a]=this.points,s=new rt(e.IPfhW(e.sBYZH(n.x,r.x),2),e.kIPRC(e.sBYZH(n.y,r.y),2)),i=new rt(e.JbbpC(e.sBYZH(r.x,a.x),2),e.IPfhW(e.VlzWq(r.y,a.y),2)),f=new rt(e.tMTrM(e.VlzWq(a.x,n.x),2),e.IsevM(e.ygnyn(a.y,n.y),2));return[new st([n,s,f]),new st([s,r,i]),new st([f,i,a]),new st([s,i,f])]}xawdhlotdz13de8017400d43adac396c699c753ce8(){let t={};t.AqrIc=function(v,y){return v*y},t.PlzbP=function(v,y){return v-y},t.nisNV=function(v,y){return v*y};let e=t,[n,r,a]=this.points,s=n.x,i=r.x,f=a.x,l=n.y,p=r.y,b=a.y;return e.AqrIc(.5,Math.abs(s*e.PlzbP(p,b)+e.AqrIc(i,e.PlzbP(b,l))+e.nisNV(f,e.PlzbP(l,p))))}bvvioqoa4a7700db13c44d51ac81312f7a07f0bd(){let t={Apqfc:function(n,r,a,s){return n(r,a,s)}},e=this.xawdhlotdz13de8017400d43adac396c699c753ce8();return t.Apqfc(Re.default,e,0,1e-7)}frrvqupt988ede6d60d949f5be7ced2f59460fcf(){let t={IVGwm:function(s,i,f,l){return s(i,f,l)},NLRfK:function(s,i,f,l){return s(i,f,l)},fIOoG:function(s,i,f,l){return s(i,f,l)}},[e,n,r]=this.points;return[t.IVGwm(Qt,n,e,r),t.NLRfK(Qt,e,n,r),t.fIOoG(Qt,e,r,n)]}yifgrde7265236b2e4358b4b95584ae9592b6(t=20*Math.PI/180){return!!this.frrvqupt988ede6d60d949f5be7ced2f59460fcf().some(n=>n<t)}};var mr=class Ce{constructor(t,e,n,r){let a={};a.tQrqZ="1|2|0|4|3";let s=a,i=s.tQrqZ.ccnqycxsff91f0345adde463c8a68049012ec6439("|"),f=0;for(;;){switch(i[f++]){case"0":this.sectionTag=n;continue;case"1":this.points=t;continue;case"2":this.tag=e;continue;case"3":this.d3Polygon=t.map(l=>[l.x,l.y]);continue;case"4":this.materialTag=r;continue}break}}static FromDto(t){return new Ce(t.points.map(e=>rt.elsdqqo7ff9ccd7e9804fb8bb264e51c6c36213(e)),t.tag,t.sectionTag,t.materialTag)}lzjsutqhuw39da0dc3cd6d42ca809459823510b371(t){let e={CNeTq:function(r,a){return r-a},WtJMY:function(r,a,s,i){return r(a,s,i)}};for(let r=0,a=e.CNeTq(this.points.length,1);r<this.points.length;a=r++)if(e.WtJMY(pr,t,this.points[r],this.points[a]))return!0;return Zt(this.d3Polygon,[t.x,t.y])}vmrbdjxs55506464ce614c51b0dd43b361cfac4f(t,e){let n={};n.KiCSp=function(s,i){return s%i},n.TvQvP=function(s,i){return s+i},n.cvfMC=function(s,i){return s-i},n.uBaWr=function(s,i){return s+i},n.kaUdA=function(s,i){return s*i},n.TQhge=function(s,i){return s*i},n.DgOoz=function(s,i){return s/i},n.HLZNl=function(s,i){return s<i};let r=n,a=[];for(let s=0;s<t.length;s++){let i=t[s],f=t[r.KiCSp(r.TvQvP(s,1),t.length)],l=r.cvfMC(f.x,i.x),p=r.cvfMC(f.y,i.y),b=Math.sqrt(r.uBaWr(r.kaUdA(l,l),r.TQhge(p,p))),u=Math.floor(r.DgOoz(b,e));a.push(new rt(i.x,i.y));for(let v=1;r.HLZNl(v,u);v++){let y=r.kaUdA(v,e)/b,T=r.uBaWr(i.x,r.kaUdA(y,l)),N=r.TvQvP(i.y,y*p);a.push(new rt(T,N))}}return a}};function pr(d,t,e){let n={VHVCw:function(i,f){return i-f},BCGzg:function(i,f){return i*f},qMktd:function(i,f,l){return i(f,l)},cyDhU:function(i,f){return i+f},ZERIn:function(i,f){return i*f},tHFkf:function(i,f){return i*f},OsRdD:function(i,f){return i<f},aBOmn:function(i,f){return i**f},pKZse:function(i,f){return i-f},rCVVo:function(i,f){return i>f}},r=n.VHVCw(n.BCGzg(d.y-t.y,e.x-t.x),n.BCGzg(d.x-t.x,e.y-t.y));if(!n.qMktd(Ne.default,Math.abs(r),0))return!1;let a=n.cyDhU(n.ZERIn(n.VHVCw(d.x,t.x),n.VHVCw(e.x,t.x)),n.tHFkf(n.VHVCw(d.y,t.y),n.VHVCw(e.y,t.y)));if(n.OsRdD(a,0))return!1;let s=n.cyDhU(n.aBOmn(n.pKZse(e.x,t.x),2),n.aBOmn(n.pKZse(e.y,t.y),2));return!n.rCVVo(a,s)}var gr=class Le{constructor(t,e,n){this.center=t,this.radius=e,this.maxTriangleArea=n}static FromDto(t){return new Le(rt.elsdqqo7ff9ccd7e9804fb8bb264e51c6c36213(t.center),t.radius,t.maxTriangleArea)}smabkmtikee104aba94f4b471681444b0adf349efa(t){let e={};e.VgaYl=function(f,l){return f>l};let n=e,r=t.pfsofv5a8c400d582f458f89203bbf2adb75e5();if(!this.contains(r))return!1;let s=t.xawdhlotdz13de8017400d43adac396c699c753ce8();return n.VgaYl(s,this.maxTriangleArea)}contains(t){let e={};e.sJohf=function(s,i){return s-i},e.PpNdL=function(s,i){return s+i},e.ptEvD=function(s,i){return s*i};let n=e,r=t.x-this.center.x,a=n.sJohf(t.y,this.center.y);return n.PpNdL(r*r,n.ptEvD(a,a))<=n.ptEvD(this.radius,this.radius)}};function Be(d){let t={WdJEw:function(l,p,b){return l(p,b)},gMtpt:function(l,p,b){return l(p,b)},pSeIH:function(l,p){return l(p)}},e=d.polygons.map(l=>mr.FromDto(l)),n=d.baseTriangles.map(l=>De.FromDto(l)),r=d.meshingConfiguration.refinementPoints.map(l=>gr.FromDto(l)),a=t.WdJEw(br,r,n),s=[...a.flatMap(l=>l.points),...d.extraPoints.map(l=>rt.elsdqqo7ff9ccd7e9804fb8bb264e51c6c36213(l))],i=t.gMtpt(_r,t.pSeIH(vr,s),e),f=[];for(let l of i){let p=l.pfsofv5a8c400d582f458f89203bbf2adb75e5(),b=e.find(u=>u.lzjsutqhuw39da0dc3cd6d42ca809459823510b371(p));b&&(l.lsbxkbdu318e3b9ed3764024ae2fa3e2415263ed(b.tag,b.sectionTag,b.materialTag),f.push(l))}return{triangles:f.map(l=>l.xxwpdnr11bdb769addc4b3390037ce6822f15ed())}}function br(d,t){let e={};e.MDSOy=function(f,l){return f>l},e.lVZfx=function(f,l){return f||l};let n=e,r=0,a=n.MDSOy(d.length,0);if(!a)return t;let s=t,i=[];for(;a&&r<100;){i=[],a=!1;for(let f of s){let l=d.some(p=>p.smabkmtikee104aba94f4b471681444b0adf349efa(f));l?i.push(...f.vahnrgifhr825d98432ddd415988618dfcb20db341()):i.push(f),a=n.lVZfx(a,l)}s=i,r++}return i}function vr(d){let t=d.map(r=>r.opuuuuiwd8f654d16200b4338bf7a5c84df459f5b());return[..._t.from(t).trianglePolygons()].map(r=>[new rt(r[2][0],r[2][1]),new rt(r[1][0],r[1][1]),new rt(r[0][0],r[0][1])]).map(r=>new De(r)).filter(r=>!r.bvvioqoa4a7700db13c44d51ac81312f7a07f0bd())}function _r(d,t){let e=[];for(let n of d)n.dzuxrbrlcc1e4344a31a48fd89d400646529bd6e().every(a=>t.some(s=>s.lzjsutqhuw39da0dc3cd6d42ca809459823510b371(a)))&&e.push(n);return e}var ne=Tt(Oe());var Fe=(d,t,e="")=>`View3dModel-${d}-${t}${e}`,qe=d=>`Triangles-${d}`;function ke(d){if(d.length<3)throw new Error("At least three vertices are required to form a face.");return{vertices:[...d.filter(t=>t)],results:[]}}var Rt=Tt(Ue());var At=d=>{let t=(d.points??"").trim().split(/\s+/).map(n=>n.split(",")),e=[];for(let[n,r]of t){let a=parseFloat(n),s=parseFloat(r);if(Number.isFinite(a)&&Number.isFinite(s))e.push({x:a,y:s});else throw new Error("Invalid vertex coordinates")}return{vertices:e}};function Ye(d){let t=0,e=0,n=0,r=d.length;for(let a=0;a<r;a++){let{x:s,y:i}=d[a],{x:f,y:l}=d[(a+1)%r],p=s*l-f*i;t+=p,e+=(s+f)*p,n+=(i+l)*p}return t*=.5,t===0?{x:0,y:0}:(e/=6*t,n/=6*t,{x:e,y:n})}function*Ge(d,t){let e=[...new Set(t.rectangles.map(u=>u.name).concat(t.polygons.map(u=>u.name)))],n=[];for(let u of d){let v=u.points.map(N=>Ir(N)),y=ke(v);if(e.indexOf(u.name)===-1)throw new Error(`Geometry name ${u.name} not found in geometry rectangles or polygons.`);n.push(y)}let r=t.supports.map(u=>Sr(u)),a=d.flatMap(u=>u.points).map(u=>u.x).reduce((u,v)=>Math.max(u,v),-1/0),s=d.flatMap(u=>u.points).map(u=>u.x).reduce((u,v)=>Math.min(u,v),1/0),i=d.flatMap(u=>u.points).map(u=>u.y).reduce((u,v)=>Math.max(u,v),-1/0),f=d.flatMap(u=>u.points).map(u=>u.y).reduce((u,v)=>Math.min(u,v),1/0),l=a-s,p=i-f,b=[...t.polygons.map(u=>At(u)),...t.rectangles.map(u=>It(u))].map(u=>u.vertices.map(v=>({x:v.x,y:v.y}))).map(u=>({points:u}));for(let u of t.loadCases)yield{faces:n,wireframeFaces:[],supports:r,borders:b,loads:Tr(u,t),loadCaseTag:u.name,width:l,height:p,hasResults:!1}}function Tr(d,t){let e=[];for(let n of d.pointLoads)(0,Rt.default)(n.fx,0)||e.push({x:n.x,y:n.y,z:0,valueX:n.fx,valueY:0,valueZ:0}),(0,Rt.default)(n.fy,0)||e.push({x:n.x,y:n.y,z:0,valueY:n.fy,valueZ:0,valueX:0,type:"point"});for(let n of d.distributedLoads){let r=t.polygons.filter(i=>i.name===n.geometryName).map(i=>At(i)),a=t.rectangles.filter(i=>i.name===n.geometryName).map(i=>It(i)),s=[...r,...a];for(let i of s){let f=Ye(i.vertices);(0,Rt.default)(n.fx,0)||e.push({x:f.x,y:f.y,z:0,valueX:n.fx,valueY:0,valueZ:0,type:"distributed"}),(0,Rt.default)(n.fy,0)||e.push({x:f.x,y:f.y,z:0,valueX:0,valueY:n.fy,valueZ:0,type:"distributed"})}}return e}function Ir(d){return{x:d.x,y:d.y,z:0,ux:0,uy:0,uz:0,value:0}}function Sr(d){return{x:d.x,y:d.y,z:0,ux:d.fixedX,uy:d.fixedY,uz:!1}}addEventListener("message",({data:d})=>{Mr(d)});var Mr=async d=>{let{geometry:t,uuid:e,baseTriangles:n}=d,r=t.loadCases.flatMap(y=>y.pointLoads).map(y=>({x:y.x,y:y.y})),a=t.supports.map(y=>({x:y.x,y:y.y})),s=t.resultPoints.map(y=>({x:y.x,y:y.y})),i=t.rectangles.map(y=>Rr(y)),f=t.polygons.map(y=>Dr(y)),l=i.concat(f),p={maxTriangleArea:t.meshingConfiguration.maxTriangleArea,refinementPoints:t.meshingConfiguration.refinementPoints.map(y=>Pr(y))},u=Be({polygons:l,extraPoints:r.concat(a).concat(s),meshingConfiguration:p,baseTriangles:n.map(y=>Nr(y))}).triangles.map(y=>Ar(y));await ne.setItem(qe(e),u);for(let y of Ge(u,t))await ne.setItem(Fe(e,y.loadCaseTag),y);postMessage({uuid:e})},Pr=d=>({radius:d.radius,maxTriangleArea:d.maxArea,center:{x:d.x,y:d.y}}),Er=d=>({x:d.x,y:d.y}),Ar=d=>({points:d.points.map(e=>Er(e)),name:d.tag,sectionTag:d.sectionTag,materialTag:d.materialTag}),Rr=d=>({points:It(d).vertices.map(e=>({x:e.x,y:e.y})),tag:d.name,sectionTag:d.sectionName,materialTag:d.materialName}),Dr=d=>({points:At(d).vertices.map(e=>({x:e.x,y:e.y})),tag:d.name,sectionTag:d.sectionName,materialTag:d.materialName}),Nr=d=>({points:d.points.map(e=>({x:e.x,y:e.y}))});
