var vn=Object.create;var rt=Object.defineProperty;var bn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames;var wn=Object.getPrototypeOf,Tn=Object.prototype.hasOwnProperty;var ae=(p=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(p,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):p)(function(p){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+p+'" is not supported')});var Ie=(p,r)=>()=>(r||p((r={exports:{}}).exports,r),r.exports);var En=(p,r,o,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let d of _n(r))!Tn.call(p,d)&&d!==o&&rt(p,d,{get:()=>r[d],enumerable:!(f=bn(r,d))||f.enumerable});return p};var ie=(p,r,o)=>(o=p!=null?vn(wn(p)):{},En(r||!p||!p.__esModule?rt(o,"default",{value:p,enumerable:!0}):o,p));var he=Ie((jn,ot)=>{"use strict";var Re=Math.abs,Sn=Math.min;function me(p,r,o,f){var d=Re(p-r);return o==null&&(o=me.DBL_EPSILON),f==null&&(f=o),d<=o||d<=f*Sn(Re(p),Re(r))?!0:p===r}me.FLT_EPSILON=11920929e-14;me.DBL_EPSILON=2220446049250313e-31;ot.exports=me});var dt=Ie((ut,Le)=>{"use strict";(function(p){if(typeof ut=="object"&&typeof Le<"u")Le.exports=p();else if(typeof define=="function"&&define.amd)define([],p);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=p()}})(function(){var p,r,o;return function f(d,g,l){function u(v,P){if(!g[v]){if(!d[v]){var c=typeof ae=="function"&&ae;if(!P&&c)return c(v,!0);if(h)return h(v,!0);var T=new Error("Cannot find module '"+v+"'");throw T.code="MODULE_NOT_FOUND",T}var S=g[v]={exports:{}};d[v][0].call(S.exports,function(R){var D=d[v][1][R];return u(D||R)},S,S.exports,f,d,g,l)}return g[v].exports}for(var h=typeof ae=="function"&&ae,m=0;m<l.length;m++)u(l[m]);return u}({1:[function(f,d,g){(function(l){"use strict";var u=l.MutationObserver||l.WebKitMutationObserver,h;if(u){var m=0,v=new u(R),P=l.document.createTextNode("");v.observe(P,{characterData:!0}),h=function(){P.data=m=++m%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var c=new l.MessageChannel;c.port1.onmessage=R,h=function(){c.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?h=function(){var z=l.document.createElement("script");z.onreadystatechange=function(){R(),z.onreadystatechange=null,z.parentNode.removeChild(z),z=null},l.document.documentElement.appendChild(z)}:h=function(){setTimeout(R,0)};var T,S=[];function R(){T=!0;for(var z,H,F=S.length;F;){for(H=S,S=[],z=-1;++z<F;)H[z]();F=S.length}T=!1}d.exports=D;function D(z){S.push(z)===1&&!T&&h()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,d,g){"use strict";var l=f(1);function u(){}var h={},m=["REJECTED"],v=["FULFILLED"],P=["PENDING"];d.exports=c;function c(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,E!==u&&D(this,E)}c.prototype.catch=function(E){return this.then(null,E)},c.prototype.then=function(E,M){if(typeof E!="function"&&this.state===v||typeof M!="function"&&this.state===m)return this;var A=new this.constructor(u);if(this.state!==P){var B=this.state===v?E:M;S(A,B,this.outcome)}else this.queue.push(new T(A,E,M));return A};function T(E,M,A){this.promise=E,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}T.prototype.callFulfilled=function(E){h.resolve(this.promise,E)},T.prototype.otherCallFulfilled=function(E){S(this.promise,this.onFulfilled,E)},T.prototype.callRejected=function(E){h.reject(this.promise,E)},T.prototype.otherCallRejected=function(E){S(this.promise,this.onRejected,E)};function S(E,M,A){l(function(){var B;try{B=M(A)}catch(U){return h.reject(E,U)}B===E?h.reject(E,new TypeError("Cannot resolve promise with itself")):h.resolve(E,B)})}h.resolve=function(E,M){var A=z(R,M);if(A.status==="error")return h.reject(E,A.value);var B=A.value;if(B)D(E,B);else{E.state=v,E.outcome=M;for(var U=-1,q=E.queue.length;++U<q;)E.queue[U].callFulfilled(M)}return E},h.reject=function(E,M){E.state=m,E.outcome=M;for(var A=-1,B=E.queue.length;++A<B;)E.queue[A].callRejected(M);return E};function R(E){var M=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof M=="function")return function(){M.apply(E,arguments)}}function D(E,M){var A=!1;function B(Y){A||(A=!0,h.reject(E,Y))}function U(Y){A||(A=!0,h.resolve(E,Y))}function q(){M(U,B)}var G=z(q);G.status==="error"&&B(G.value)}function z(E,M){var A={};try{A.value=E(M),A.status="success"}catch(B){A.status="error",A.value=B}return A}c.resolve=H;function H(E){return E instanceof this?E:h.resolve(new this(u),E)}c.reject=F;function F(E){var M=new this(u);return h.reject(M,E)}c.all=xe;function xe(E){var M=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=E.length,B=!1;if(!A)return this.resolve([]);for(var U=new Array(A),q=0,G=-1,Y=new this(u);++G<A;)Q(E[G],G);return Y;function Q(ne,ue){M.resolve(ne).then(ge,function(ee){B||(B=!0,h.reject(Y,ee))});function ge(ee){U[ue]=ee,++q===A&&!B&&(B=!0,h.resolve(Y,U))}}}c.race=$;function $(E){var M=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=E.length,B=!1;if(!A)return this.resolve([]);for(var U=-1,q=new this(u);++U<A;)G(E[U]);return q;function G(Y){M.resolve(Y).then(function(Q){B||(B=!0,h.resolve(q,Q))},function(Q){B||(B=!0,h.reject(q,Q))})}}},{1:1}],3:[function(f,d,g){(function(l){"use strict";typeof l.Promise!="function"&&(l.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,d,g){"use strict";var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function h(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var m=h();function v(){try{if(!m||!m.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function P(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(a){if(a.name!=="TypeError")throw a;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,s=0;s<e.length;s+=1)i.append(e[s]);return i.getBlob(n.type)}}typeof Promise>"u"&&f(3);var c=Promise;function T(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function S(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function R(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function D(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var z="local-forage-detect-blob-support",H=void 0,F={},xe=Object.prototype.toString,$="readonly",E="readwrite";function M(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),s=0;s<n;s++)i[s]=e.charCodeAt(s);return t}function A(e){return new c(function(n){var t=e.transaction(z,E),i=P([""]);t.objectStore(z).put(i,"key"),t.onabort=function(s){s.preventDefault(),s.stopPropagation(),n(!1)},t.oncomplete=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);n(a||!s||parseInt(s[1],10)>=43)}}).catch(function(){return!1})}function B(e){return typeof H=="boolean"?c.resolve(H):A(e).then(function(n){return H=n,H})}function U(e){var n=F[e.name],t={};t.promise=new c(function(i,s){t.resolve=i,t.reject=s}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function q(e){var n=F[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function G(e,n){var t=F[e.name],i=t.deferredOperations.pop();if(i)return i.reject(n),i.promise}function Y(e,n){return new c(function(t,i){if(F[e.name]=F[e.name]||Ve(),e.db)if(n)U(e),e.db.close();else return t(e.db);var s=[e.name];n&&s.push(e.version);var a=m.open.apply(m,s);n&&(a.onupgradeneeded=function(x){var y=a.result;try{y.createObjectStore(e.storeName),x.oldVersion<=1&&y.createObjectStore(z)}catch(b){if(b.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+x.oldVersion+" to version "+x.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw b}}),a.onerror=function(x){x.preventDefault(),i(a.error)},a.onsuccess=function(){var x=a.result;x.onversionchange=function(y){y.target.close()},t(x),q(e)}})}function Q(e){return Y(e,!1)}function ne(e){return Y(e,!0)}function ue(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,s=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),s||t){if(t){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function ge(e){return new c(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(s){var a=btoa(s.target.result||"");n({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var n=M(atob(e.data));return P([n],{type:e.type})}function Oe(e){return e&&e.__local_forage_encoded_blob}function vt(e){var n=this,t=n._initReady().then(function(){var i=F[n._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return S(t,e,e),t}function bt(e){U(e);for(var n=F[e.name],t=n.forages,i=0;i<t.length;i++){var s=t[i];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,Q(e).then(function(a){return e.db=a,ue(e)?ne(e):a}).then(function(a){e.db=n.db=a;for(var x=0;x<t.length;x++)t[x]._dbInfo.db=a}).catch(function(a){throw G(e,a),a})}function K(e,n,t,i){i===void 0&&(i=1);try{var s=e.db.transaction(e.storeName,n);t(null,s)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return c.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return bt(e).then(function(){K(e,n,t,i-1)})}).catch(t);t(a)}}function Ve(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _t(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var s=F[t.name];s||(s=Ve(),F[t.name]=s),s.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=vt);var a=[];function x(){return c.resolve()}for(var y=0;y<s.forages.length;y++){var b=s.forages[y];b!==n&&a.push(b._initReady().catch(x))}var _=s.forages.slice(0);return c.all(a).then(function(){return t.db=s.db,Q(t)}).then(function(w){return t.db=w,ue(t,n._defaultConfig.version)?ne(t):w}).then(function(w){t.db=s.db=w,n._dbInfo=t;for(var I=0;I<_.length;I++){var N=_[I];N!==n&&(N._dbInfo.db=t.db,N._dbInfo.version=t.version)}})}function wt(e,n){var t=this;e=R(e);var i=new c(function(s,a){t.ready().then(function(){K(t._dbInfo,$,function(x,y){if(x)return a(x);try{var b=y.objectStore(t._dbInfo.storeName),_=b.get(e);_.onsuccess=function(){var w=_.result;w===void 0&&(w=null),Oe(w)&&(w=ee(w)),s(w)},_.onerror=function(){a(_.error)}}catch(w){a(w)}})}).catch(a)});return T(i,n),i}function Tt(e,n){var t=this,i=new c(function(s,a){t.ready().then(function(){K(t._dbInfo,$,function(x,y){if(x)return a(x);try{var b=y.objectStore(t._dbInfo.storeName),_=b.openCursor(),w=1;_.onsuccess=function(){var I=_.result;if(I){var N=I.value;Oe(N)&&(N=ee(N));var L=e(N,I.key,w++);L!==void 0?s(L):I.continue()}else s()},_.onerror=function(){a(_.error)}}catch(I){a(I)}})}).catch(a)});return T(i,n),i}function Et(e,n,t){var i=this;e=R(e);var s=new c(function(a,x){var y;i.ready().then(function(){return y=i._dbInfo,xe.call(n)==="[object Blob]"?B(y.db).then(function(b){return b?n:ge(n)}):n}).then(function(b){K(i._dbInfo,E,function(_,w){if(_)return x(_);try{var I=w.objectStore(i._dbInfo.storeName);b===null&&(b=void 0);var N=I.put(b,e);w.oncomplete=function(){b===void 0&&(b=null),a(b)},w.onabort=w.onerror=function(){var L=N.error?N.error:N.transaction.error;x(L)}}catch(L){x(L)}})}).catch(x)});return T(s,t),s}function St(e,n){var t=this;e=R(e);var i=new c(function(s,a){t.ready().then(function(){K(t._dbInfo,E,function(x,y){if(x)return a(x);try{var b=y.objectStore(t._dbInfo.storeName),_=b.delete(e);y.oncomplete=function(){s()},y.onerror=function(){a(_.error)},y.onabort=function(){var w=_.error?_.error:_.transaction.error;a(w)}}catch(w){a(w)}})}).catch(a)});return T(i,n),i}function Pt(e){var n=this,t=new c(function(i,s){n.ready().then(function(){K(n._dbInfo,E,function(a,x){if(a)return s(a);try{var y=x.objectStore(n._dbInfo.storeName),b=y.clear();x.oncomplete=function(){i()},x.onabort=x.onerror=function(){var _=b.error?b.error:b.transaction.error;s(_)}}catch(_){s(_)}})}).catch(s)});return T(t,e),t}function It(e){var n=this,t=new c(function(i,s){n.ready().then(function(){K(n._dbInfo,$,function(a,x){if(a)return s(a);try{var y=x.objectStore(n._dbInfo.storeName),b=y.count();b.onsuccess=function(){i(b.result)},b.onerror=function(){s(b.error)}}catch(_){s(_)}})}).catch(s)});return T(t,e),t}function Rt(e,n){var t=this,i=new c(function(s,a){if(e<0){s(null);return}t.ready().then(function(){K(t._dbInfo,$,function(x,y){if(x)return a(x);try{var b=y.objectStore(t._dbInfo.storeName),_=!1,w=b.openKeyCursor();w.onsuccess=function(){var I=w.result;if(!I){s(null);return}e===0||_?s(I.key):(_=!0,I.advance(e))},w.onerror=function(){a(w.error)}}catch(I){a(I)}})}).catch(a)});return T(i,n),i}function Dt(e){var n=this,t=new c(function(i,s){n.ready().then(function(){K(n._dbInfo,$,function(a,x){if(a)return s(a);try{var y=x.objectStore(n._dbInfo.storeName),b=y.openKeyCursor(),_=[];b.onsuccess=function(){var w=b.result;if(!w){i(_);return}_.push(w.key),w.continue()},b.onerror=function(){s(b.error)}}catch(w){s(w)}})}).catch(s)});return T(t,e),t}function Nt(e,n){n=D.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,s;if(!e.name)s=c.reject("Invalid arguments");else{var a=e.name===t.name&&i._dbInfo.db,x=a?c.resolve(i._dbInfo.db):Q(e).then(function(y){var b=F[e.name],_=b.forages;b.db=y;for(var w=0;w<_.length;w++)_[w]._dbInfo.db=y;return y});e.storeName?s=x.then(function(y){if(y.objectStoreNames.contains(e.storeName)){var b=y.version+1;U(e);var _=F[e.name],w=_.forages;y.close();for(var I=0;I<w.length;I++){var N=w[I];N._dbInfo.db=null,N._dbInfo.version=b}var L=new c(function(C,V){var O=m.open(e.name,b);O.onerror=function(j){var oe=O.result;oe.close(),V(j)},O.onupgradeneeded=function(){var j=O.result;j.deleteObjectStore(e.storeName)},O.onsuccess=function(){var j=O.result;j.close(),C(j)}});return L.then(function(C){_.db=C;for(var V=0;V<w.length;V++){var O=w[V];O._dbInfo.db=C,q(O._dbInfo)}}).catch(function(C){throw(G(e,C)||c.resolve()).catch(function(){}),C})}}):s=x.then(function(y){U(e);var b=F[e.name],_=b.forages;y.close();for(var w=0;w<_.length;w++){var I=_[w];I._dbInfo.db=null}var N=new c(function(L,C){var V=m.deleteDatabase(e.name);V.onerror=function(){var O=V.result;O&&O.close(),C(V.error)},V.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},V.onsuccess=function(){var O=V.result;O&&O.close(),L(O)}});return N.then(function(L){b.db=L;for(var C=0;C<_.length;C++){var V=_[C];q(V._dbInfo)}}).catch(function(L){throw(G(e,L)||c.resolve()).catch(function(){}),L})})}return T(s,n),s}var At={_driver:"asyncStorage",_initStorage:_t,_support:v(),iterate:Tt,getItem:wt,setItem:Et,removeItem:St,clear:Pt,length:It,key:Rt,keys:Dt,dropInstance:Nt};function Mt(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lt="~~local_forage_type~",ze=/^~~local_forage_type~([^~]+)~/,de="__lfsc__:",ye=de.length,ve="arbf",be="blob",Fe="si08",Ue="ui08",qe="uic8",We="si16",Ge="si32",Ye="ur16",je="ui32",ke="fl32",He="fl64",Qe=ye+ve.length,Ke=Object.prototype.toString;function Ze(e){var n=e.length*.75,t=e.length,i,s=0,a,x,y,b;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var _=new ArrayBuffer(n),w=new Uint8Array(_);for(i=0;i<t;i+=4)a=Z.indexOf(e[i]),x=Z.indexOf(e[i+1]),y=Z.indexOf(e[i+2]),b=Z.indexOf(e[i+3]),w[s++]=a<<2|x>>4,w[s++]=(x&15)<<4|y>>2,w[s++]=(y&3)<<6|b&63;return _}function _e(e){var n=new Uint8Array(e),t="",i;for(i=0;i<n.length;i+=3)t+=Z[n[i]>>2],t+=Z[(n[i]&3)<<4|n[i+1]>>4],t+=Z[(n[i+1]&15)<<2|n[i+2]>>6],t+=Z[n[i+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function Ct(e,n){var t="";if(e&&(t=Ke.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&Ke.call(e.buffer)==="[object ArrayBuffer]")){var i,s=de;e instanceof ArrayBuffer?(i=e,s+=ve):(i=e.buffer,t==="[object Int8Array]"?s+=Fe:t==="[object Uint8Array]"?s+=Ue:t==="[object Uint8ClampedArray]"?s+=qe:t==="[object Int16Array]"?s+=We:t==="[object Uint16Array]"?s+=Ye:t==="[object Int32Array]"?s+=Ge:t==="[object Uint32Array]"?s+=je:t==="[object Float32Array]"?s+=ke:t==="[object Float64Array]"?s+=He:n(new Error("Failed to get type for BinaryArray"))),n(s+_e(i))}else if(t==="[object Blob]"){var a=new FileReader;a.onload=function(){var x=Lt+e.type+"~"+_e(this.result);n(de+be+x)},a.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(x){console.error("Couldn't convert value into a JSON string: ",e),n(null,x)}}function Bt(e){if(e.substring(0,ye)!==de)return JSON.parse(e);var n=e.substring(Qe),t=e.substring(ye,Qe),i;if(t===be&&ze.test(n)){var s=n.match(ze);i=s[1],n=n.substring(s[0].length)}var a=Ze(n);switch(t){case ve:return a;case be:return P([a],{type:i});case Fe:return new Int8Array(a);case Ue:return new Uint8Array(a);case qe:return new Uint8ClampedArray(a);case We:return new Int16Array(a);case Ye:return new Uint16Array(a);case Ge:return new Int32Array(a);case je:return new Uint32Array(a);case ke:return new Float32Array(a);case He:return new Float64Array(a);default:throw new Error("Unkown type: "+t)}}var we={serialize:Ct,deserialize:Bt,stringToBuffer:Ze,bufferToString:_e};function Xe(e,n,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function Ot(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var s=new c(function(a,x){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(y){return x(y)}t.db.transaction(function(y){Xe(y,t,function(){n._dbInfo=t,a()},function(b,_){x(_)})},x)});return t.serializer=we,s}function X(e,n,t,i,s,a){e.executeSql(t,i,s,function(x,y){y.code===y.SYNTAX_ERR?x.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(b,_){_.rows.length?a(b,y):Xe(b,n,function(){b.executeSql(t,i,s,a)},a)},a):a(x,y)},a)}function Vt(e,n){var t=this;e=R(e);var i=new c(function(s,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(y){X(y,x,"SELECT * FROM "+x.storeName+" WHERE key = ? LIMIT 1",[e],function(b,_){var w=_.rows.length?_.rows.item(0).value:null;w&&(w=x.serializer.deserialize(w)),s(w)},function(b,_){a(_)})})}).catch(a)});return T(i,n),i}function zt(e,n){var t=this,i=new c(function(s,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(y){X(y,x,"SELECT * FROM "+x.storeName,[],function(b,_){for(var w=_.rows,I=w.length,N=0;N<I;N++){var L=w.item(N),C=L.value;if(C&&(C=x.serializer.deserialize(C)),C=e(C,L.key,N+1),C!==void 0){s(C);return}}s()},function(b,_){a(_)})})}).catch(a)});return T(i,n),i}function Je(e,n,t,i){var s=this;e=R(e);var a=new c(function(x,y){s.ready().then(function(){n===void 0&&(n=null);var b=n,_=s._dbInfo;_.serializer.serialize(n,function(w,I){I?y(I):_.db.transaction(function(N){X(N,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){x(b)},function(L,C){y(C)})},function(N){if(N.code===N.QUOTA_ERR){if(i>0){x(Je.apply(s,[e,b,t,i-1]));return}y(N)}})})}).catch(y)});return T(a,t),a}function Ft(e,n,t){return Je.apply(this,[e,n,t,1])}function Ut(e,n){var t=this;e=R(e);var i=new c(function(s,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(y){X(y,x,"DELETE FROM "+x.storeName+" WHERE key = ?",[e],function(){s()},function(b,_){a(_)})})}).catch(a)});return T(i,n),i}function qt(e){var n=this,t=new c(function(i,s){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(x){X(x,a,"DELETE FROM "+a.storeName,[],function(){i()},function(y,b){s(b)})})}).catch(s)});return T(t,e),t}function Wt(e){var n=this,t=new c(function(i,s){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(x){X(x,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(y,b){var _=b.rows.item(0).c;i(_)},function(y,b){s(b)})})}).catch(s)});return T(t,e),t}function Gt(e,n){var t=this,i=new c(function(s,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(y){X(y,x,"SELECT key FROM "+x.storeName+" WHERE id = ? LIMIT 1",[e+1],function(b,_){var w=_.rows.length?_.rows.item(0).key:null;s(w)},function(b,_){a(_)})})}).catch(a)});return T(i,n),i}function Yt(e){var n=this,t=new c(function(i,s){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(x){X(x,a,"SELECT key FROM "+a.storeName,[],function(y,b){for(var _=[],w=0;w<b.rows.length;w++)_.push(b.rows.item(w).key);i(_)},function(y,b){s(b)})})}).catch(s)});return T(t,e),t}function jt(e){return new c(function(n,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(s,a){for(var x=[],y=0;y<a.rows.length;y++)x.push(a.rows.item(y).name);n({db:e,storeNames:x})},function(s,a){t(a)})},function(i){t(i)})})}function kt(e,n){n=D.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,s;return e.name?s=new c(function(a){var x;e.name===t.name?x=i._dbInfo.db:x=openDatabase(e.name,"","",0),e.storeName?a({db:x,storeNames:[e.storeName]}):a(jt(x))}).then(function(a){return new c(function(x,y){a.db.transaction(function(b){function _(L){return new c(function(C,V){b.executeSql("DROP TABLE IF EXISTS "+L,[],function(){C()},function(O,j){V(j)})})}for(var w=[],I=0,N=a.storeNames.length;I<N;I++)w.push(_(a.storeNames[I]));c.all(w).then(function(){x()}).catch(function(L){y(L)})},function(b){y(b)})})}):s=c.reject("Invalid arguments"),T(s,n),s}var Ht={_driver:"webSQLStorage",_initStorage:Ot,_support:Mt(),iterate:zt,getItem:Vt,setItem:Ft,removeItem:Ut,clear:qt,length:Wt,key:Gt,keys:Yt,dropInstance:kt};function Qt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function $e(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Kt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Zt(){return!Kt()||localStorage.length>0}function Xt(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=$e(e,n._defaultConfig),Zt()?(n._dbInfo=t,t.serializer=we,c.resolve()):c.reject()}function Jt(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo.keyPrefix,s=localStorage.length-1;s>=0;s--){var a=localStorage.key(s);a.indexOf(i)===0&&localStorage.removeItem(a)}});return T(t,e),t}function $t(e,n){var t=this;e=R(e);var i=t.ready().then(function(){var s=t._dbInfo,a=localStorage.getItem(s.keyPrefix+e);return a&&(a=s.serializer.deserialize(a)),a});return T(i,n),i}function en(e,n){var t=this,i=t.ready().then(function(){for(var s=t._dbInfo,a=s.keyPrefix,x=a.length,y=localStorage.length,b=1,_=0;_<y;_++){var w=localStorage.key(_);if(w.indexOf(a)===0){var I=localStorage.getItem(w);if(I&&(I=s.serializer.deserialize(I)),I=e(I,w.substring(x),b++),I!==void 0)return I}}});return T(i,n),i}function tn(e,n){var t=this,i=t.ready().then(function(){var s=t._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(s.keyPrefix.length)),a});return T(i,n),i}function nn(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo,s=localStorage.length,a=[],x=0;x<s;x++){var y=localStorage.key(x);y.indexOf(i.keyPrefix)===0&&a.push(y.substring(i.keyPrefix.length))}return a});return T(t,e),t}function rn(e){var n=this,t=n.keys().then(function(i){return i.length});return T(t,e),t}function on(e,n){var t=this;e=R(e);var i=t.ready().then(function(){var s=t._dbInfo;localStorage.removeItem(s.keyPrefix+e)});return T(i,n),i}function an(e,n,t){var i=this;e=R(e);var s=i.ready().then(function(){n===void 0&&(n=null);var a=n;return new c(function(x,y){var b=i._dbInfo;b.serializer.serialize(n,function(_,w){if(w)y(w);else try{localStorage.setItem(b.keyPrefix+e,_),x(a)}catch(I){(I.name==="QuotaExceededError"||I.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(I),y(I)}})})});return T(s,t),s}function fn(e,n){if(n=D.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,s;return e.name?s=new c(function(a){e.storeName?a($e(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var x=localStorage.length-1;x>=0;x--){var y=localStorage.key(x);y.indexOf(a)===0&&localStorage.removeItem(y)}}):s=c.reject("Invalid arguments"),T(s,n),s}var sn={_driver:"localStorageWrapper",_initStorage:Xt,_support:Qt(),iterate:en,getItem:$t,setItem:an,removeItem:on,clear:Jt,length:rn,key:tn,keys:nn,dropInstance:fn},cn=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},un=function(n,t){for(var i=n.length,s=0;s<i;){if(cn(n[s],t))return!0;s++}return!1},et=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},tt={},te={INDEXEDDB:At,WEBSQL:Ht,LOCALSTORAGE:sn},dn=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],le=["dropInstance"],Te=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(le),ln={description:"",driver:dn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function mn(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function Ee(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(et(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var hn=function(){function e(n){u(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],s=i._driver;this[t]=s,re[s]||this.defineDriver(i)}this._defaultConfig=Ee({},ln),this._config=Ee({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":l(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,s){var a=new c(function(x,y){try{var b=t._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){y(_);return}for(var w=Te.concat("_initStorage"),I=0,N=w.length;I<N;I++){var L=w[I],C=!un(le,L);if((C||t[L])&&typeof t[L]!="function"){y(_);return}}var V=function(){for(var oe=function(gn){return function(){var yn=new Error("Method "+gn+" is not implemented by the current driver"),nt=c.reject(yn);return T(nt,arguments[arguments.length-1]),nt}},Se=0,xn=le.length;Se<xn;Se++){var Pe=le[Se];t[Pe]||(t[Pe]=oe(Pe))}};V();var O=function(oe){re[b]&&console.info("Redefining LocalForage driver: "+b),re[b]=t,tt[b]=oe,x()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(O,y):O(!!t._support):O(!0)}catch(j){y(j)}});return S(a,i,s),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,s){var a=re[t]?c.resolve(re[t]):c.reject(new Error("Driver not found."));return S(a,i,s),a},e.prototype.getSerializer=function(t){var i=c.resolve(we);return S(i,t),i},e.prototype.ready=function(t){var i=this,s=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return S(s,t,t),s},e.prototype.setDriver=function(t,i,s){var a=this;et(t)||(t=[t]);var x=this._getSupportedDrivers(t);function y(){a._config.driver=a.driver()}function b(I){return a._extend(I),y(),a._ready=a._initStorage(a._config),a._ready}function _(I){return function(){var N=0;function L(){for(;N<I.length;){var C=I[N];return N++,a._dbInfo=null,a._ready=null,a.getDriver(C).then(b).catch(L)}y();var V=new Error("No available storage method found.");return a._driverSet=c.reject(V),a._driverSet}return L()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=w.then(function(){var I=x[0];return a._dbInfo=null,a._ready=null,a.getDriver(I).then(function(N){a._driver=N._driver,y(),a._wrapLibraryMethodsWithReady(),a._initDriver=_(x)})}).catch(function(){y();var I=new Error("No available storage method found.");return a._driverSet=c.reject(I),a._driverSet}),S(this._driverSet,i,s),this._driverSet},e.prototype.supports=function(t){return!!tt[t]},e.prototype._extend=function(t){Ee(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],s=0,a=t.length;s<a;s++){var x=t[s];this.supports(x)&&i.push(x)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=Te.length;t<i;t++)mn(this,Te[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),pn=new hn;d.exports=pn},{3:3}]},{},[4])(4)})});var xt=Ie((rr,pt)=>{"use strict";var Ce=Math.abs,An=Math.min;function pe(p,r,o,f){var d=Ce(p-r);return o==null&&(o=pe.DBL_EPSILON),f==null&&(f=o),d<=o||d<=f*An(Ce(p),Ce(r))?!0:p===r}pe.FLT_EPSILON=11920929e-14;pe.DBL_EPSILON=2220446049250313e-31;pt.exports=pe});var fe=p=>({vertices:[{x:p.x,y:p.y},{x:p.x+p.width,y:p.y},{x:p.x+p.width,y:p.y+p.height},{x:p.x,y:p.y+p.height}]});var Ae=ie(he(),1),it=ie(he(),1);function De(p,r){for(var o=p.length,f=p[o-1],d=r[0],g=r[1],l=f[0],u=f[1],h,m,v=!1,P=0;P<o;++P)f=p[P],h=f[0],m=f[1],m>g!=u>g&&d<(l-h)*(g-m)/(u-m)+h&&(v=!v),l=h,u=m;return v}var ft=ie(he(),1);var k=class Me{constructor(r,o){this.x=r,this.y=o}static nsbry7060cde2d7764c14ace8ffe2795787ee(r){return new Me(r.x,r.y)}tkfthqao3062176a77604843ba19b678d61614e6(){let r={};return r.x=this.x,r.y=this.y,r}hwukbnyda26196c325a594cbd827b4fa4506d51b2(r){return(0,Ae.default)(this.x,r.x)&&(0,Ae.default)(this.y,r.y)}aiqaufwzov5ae1b64cfe834951a13d67badaaccf3e(){return[this.x,this.y]}pozcyd2ed4c65f22647f5a54fffd5e2823727(r){let o={};o.yJgHf=function(l,u){return l/u},o.rUNYE=function(l,u){return l+u},o.eHLmP=function(l,u){return l/u},o.pgNhA=function(l,u){return l+u};let f=o,d=f.yJgHf(f.rUNYE(this.x,r.x),2),g=f.eHLmP(f.pgNhA(this.y,r.y),2);return new Me(d,g)}distanceTo(r){let o={};o.zLwEq=function(l,u){return l-u},o.twlDK=function(l,u){return l+u},o.NNvPu=function(l,u){return l*u},o.npZzq=function(l,u){return l*u};let f=o,d=f.zLwEq(r.x,this.x),g=f.zLwEq(r.y,this.y);return Math.sqrt(f.twlDK(f.NNvPu(d,d),f.npZzq(g,g)))}};function Ne(p,r,o){let f={};f.YMixp=function(P,c){return P-c},f.ZmwCE=function(P,c){return P-c},f.ozudn=function(P,c){return P+c},f.yNszD=function(P,c){return P*c},f.EfKEM=function(P,c){return P===c},f.tlgSv=function(P,c){return P===c},f.laElp=function(P,c){return P/c};let d=f,g={x:d.YMixp(p.x,r.x),y:d.ZmwCE(p.y,r.y)},l={x:o.x-r.x,y:d.ZmwCE(o.y,r.y)},u=d.ozudn(d.yNszD(g.x,l.x),g.y*l.y),h=Math.hypot(g.x,g.y),m=Math.hypot(l.x,l.y);if(d.EfKEM(h,0)||d.tlgSv(m,0))return 0;let v=Math.min(1,Math.max(-1,d.laElp(u,h*m)));return Math.acos(v)}var at=class{static hnpedw9a5e02b20305415c8c4d904aa7fdd81b(p,r,o){let f={};f.Rgpxa=function(h,m){return h/m},f.AivHP=function(h,m){return h<=m};let d=f,g=r.pozcyd2ed4c65f22647f5a54fffd5e2823727(o),l=d.Rgpxa(r.distanceTo(o),2),u=g.distanceTo(p);return d.AivHP(u,l)}},Pn=class W{constructor(r){let o={};o.IZYTx="2|3|4|0|1";let f=o,d=f.IZYTx.split("|"),g=0;for(;;){switch(d[g++]){case"0":this.materialTag="";continue;case"1":!W.ulbeghknm1e66c558954540d8af4e259cd68cdb75(r)&&this.points.reverse();continue;case"2":this.points=r;continue;case"3":this.tag="";continue;case"4":this.sectionTag="";continue}break}}static nsbry7060cde2d7764c14ace8ffe2795787ee(r){return new W(r.points.map(o=>k.nsbry7060cde2d7764c14ace8ffe2795787ee(o)))}tkfthqao3062176a77604843ba19b678d61614e6(){return{points:this.points.map(r=>r.tkfthqao3062176a77604843ba19b678d61614e6()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static ulbeghknm1e66c558954540d8af4e259cd68cdb75(r){let o={};o.Lbqlb=function(h,m){return h*m},o.aZPRy=function(h,m){return h-m},o.NZhPa=function(h,m){return h>m};let f=o,[d,g,l]=r,u=f.Lbqlb(f.aZPRy(g.x,d.x),f.aZPRy(l.y,d.y))-f.Lbqlb(g.y-d.y,f.aZPRy(l.x,d.x));return f.NZhPa(u,0)}utafxge92828b1d24b64722834523b9e517ab50(r,o,f){this.tag=r,this.sectionTag=o,this.materialTag=f}vdnrys4f1ff09f1cda43e6a128da92581a5ddf(){let r={};r.JmyrA=function(h,m){return h/m},r.QIdDW=function(h,m){return h+m},r.YXTsv=function(h,m){return h+m},r.LjGzn=function(h,m){return h/m},r.pwWFo=function(h,m){return h+m};let o=r,[f,d,g]=this.points,l=o.JmyrA(o.QIdDW(o.YXTsv(f.x,d.x),g.x),3),u=o.LjGzn(o.YXTsv(o.pwWFo(f.y,d.y),g.y),3);return new k(l,u)}twjntxo6b3bd942fb9f45b3aaf0aa23851e5789(r=.1){let o={};o.fomKV=function(m,v){return m-v},o.IAsnL=function(m,v){return m+v},o.imOPO=function(m,v){return m*v},o.ABZgs=function(m,v){return m*v},o.sPQlQ=function(m,v){return m-v},o.EJiQr=function(m,v){return m+v},o.lBRkB=function(m,v){return m*v},o.aOoDb=function(m,v){return m+v},o.MbpUT=function(m,v){return m*v},o.wjynp=function(m,v){return m*v};let f=o,d=this.vdnrys4f1ff09f1cda43e6a128da92581a5ddf(),g=this.points.map(m=>{let v=d.x-m.x,P=f.fomKV(d.y,m.y);return Math.sqrt(f.IAsnL(f.imOPO(v,v),f.ABZgs(P,P)))}),l=Math.max(...g),u=f.lBRkB(l,r);return this.points.map(m=>{let v=f.fomKV(d.x,m.x),P=f.sPQlQ(d.y,m.y),c=Math.sqrt(f.EJiQr(f.lBRkB(v,v),f.ABZgs(P,P))),T=u/c;return new k(f.aOoDb(m.x,f.MbpUT(v,T)),f.aOoDb(m.y,f.wjynp(P,T)))})}zbdgoa26640af7fce4928aca68ead78b6206b(){let r=this.vdnrys4f1ff09f1cda43e6a128da92581a5ddf();return[new W([this.points[0],this.points[1],r]),new W([this.points[1],this.points[2],r]),new W([this.points[2],this.points[0],r])]}kiuoifcta0b6af8053fa04fc4a5385aa535bbe10a(){let r={};r.uRpLk=function(m,v){return m/v},r.rfOHP=function(m,v){return m+v},r.RMYti=function(m,v){return m/v},r.SymMj=function(m,v){return m/v};let o=r,[f,d,g]=this.points,l=new k(o.uRpLk(o.rfOHP(f.x,d.x),2),o.uRpLk(o.rfOHP(f.y,d.y),2)),u=new k(o.uRpLk(d.x+g.x,2),o.RMYti(d.y+g.y,2)),h=new k(o.SymMj(o.rfOHP(g.x,f.x),2),o.rfOHP(g.y,f.y)/2);return[new W([f,l,h]),new W([l,d,u]),new W([h,u,g]),new W([l,u,h])]}getCircumcenter(){let r={};r.fdNpX=function(R,D){return R+D},r.gvfan=function(R,D){return R+D},r.KcHEf=function(R,D){return R*D},r.QPUuz=function(R,D){return R-D},r.ADQZR=function(R,D){return R-D},r.GbuZj=function(R,D){return R/D},r.ZIvNq=function(R,D){return R+D},r.QzNGd=function(R,D){return R+D},r.viQTm=function(R,D){return R*D},r.TvXuJ=function(R,D){return R-D},r.jXVcv=function(R,D){return R+D},r.AbyLS=function(R,D){return R-D},r.fVlxm=function(R,D){return R/D},r.RWXpC=function(R,D){return R*D},r.ZDCUl=function(R,D){return R*D},r.swNhs=function(R,D){return R*D};let o=r,[f,d,g]=this.points,l=f.x,u=f.y,h=d.x,m=d.y,v=g.x,P=g.y,c=2*o.fdNpX(o.gvfan(o.KcHEf(l,o.QPUuz(m,P)),o.KcHEf(h,P-u)),v*o.ADQZR(u,m));if(Math.abs(c)<1e-10)return null;let T=o.GbuZj(o.ZIvNq(o.KcHEf(o.QzNGd(o.viQTm(l,l),o.KcHEf(u,u)),o.TvXuJ(m,P)),o.QzNGd(h*h,o.KcHEf(m,m))*o.ADQZR(P,u))+o.viQTm(o.jXVcv(v*v,o.viQTm(P,P)),o.AbyLS(u,m)),c),S=o.fVlxm(o.jXVcv(o.RWXpC(o.jXVcv(o.KcHEf(l,l),u*u),o.AbyLS(v,h))+o.ZDCUl(o.swNhs(h,h)+o.KcHEf(m,m),o.TvXuJ(l,v)),o.ZIvNq(v*v,o.ZDCUl(P,P))*o.AbyLS(h,l)),c);return new k(T,S)}splitToCircumcenterTriangles(){let r={};r.YWAhu=function(d,g){return d===g};let o=r,f=this.getCircumcenter();return o.YWAhu(f,null)?[]:[new W([this.points[0],this.points[1],f]),new W([this.points[1],this.points[2],f]),new W([this.points[2],this.points[0],f])]}aytcjf4d8898453d89403184a8b630196caff0(){let r={};r.Xtojj=function(T,S){return T*S},r.WpvLG=function(T,S){return T+S},r.cNqvL=function(T,S){return T*S},r.AqVwr=function(T,S){return T-S},r.NBkrv=function(T,S){return T*S};let o=r,[f,d,g]=this.points,l=f.x,u=d.x,h=g.x,m=f.y,v=d.y,P=g.y;return o.Xtojj(.5,Math.abs(o.WpvLG(o.cNqvL(l,o.AqVwr(v,P)),o.NBkrv(u,o.AqVwr(P,m)))+o.cNqvL(h,m-v)))}htafsvh19300923a27d4dd2863389c4889a2df5(){let r=this.aytcjf4d8898453d89403184a8b630196caff0();return(0,it.default)(r,0)}xvufursdvf7565bff140c447fb6d93d19a9297716(){let r={KBCDT:function(l,u,h,m){return l(u,h,m)},xfWYM:function(l,u,h,m){return l(u,h,m)},FzAlH:function(l,u,h,m){return l(u,h,m)}},[o,f,d]=this.points;return[r.KBCDT(Ne,f,o,d),r.xfWYM(Ne,o,f,d),r.FzAlH(Ne,o,d,f)]}pdbltgbay2ae1f02a938744cd89b4a2240733ab85(r=15*Math.PI/180){return!!this.xvufursdvf7565bff140c447fb6d93d19a9297716().some(f=>f<r)}cysanatffaa8ca21011d4251a1316c4c164bad30(){let r={};r.nWVJT=function(d,g){return d<g},r.TMukH=function(d,g){return d%g},r.NGlWx=function(d,g){return d+g};let o=r,f=this.getCircumcenter();if(!f)return this.obkxdp3c7aea6b6e05404c807f9a3683a88581();for(let d=0;o.nWVJT(d,3);d++){let g=this.points[d],l=this.points[o.TMukH(o.NGlWx(d,1),3)];if(at.hnpedw9a5e02b20305415c8c4d904aa7fdd81b(f,g,l))return this.obkxdp3c7aea6b6e05404c807f9a3683a88581()}return f}getEncroachedPoints(r){let[o,f,d]=this.points,g={};g.p1=o,g.p2=f;let l={};l.p1=f,l.p2=d;let u={};u.p1=d,u.p2=o;let h=[g,l,u],m=[];for(let v of h)for(let P of r)if(!this.points.some(c=>c.hwukbnyda26196c325a594cbd827b4fa4506d51b2(P))&&at.hnpedw9a5e02b20305415c8c4d904aa7fdd81b(P,v.p1,v.p2))return m.push(v.p1.pozcyd2ed4c65f22647f5a54fffd5e2823727(v.p2)),m;return m}getBadTriangleCircumferencePoint(r){let o=this.getCircumcenter();return o?r.some(f=>f.gmgzgrgdwo285f09b8c38b42a691516e592164d677(o))?o:this.obkxdp3c7aea6b6e05404c807f9a3683a88581():this.obkxdp3c7aea6b6e05404c807f9a3683a88581()}obkxdp3c7aea6b6e05404c807f9a3683a88581(){let r={};r.iZKiE=function(c,T){return c<T};let o=r,[f,d,g]=this.points,l={};l.p1=f,l.p2=d;let u={};u.p1=d,u.p2=g;let h={};h.p1=g,h.p2=f;let m=[l,u,h],v=m[0],P=v.p1.distanceTo(v.p2);for(let c=1;o.iZKiE(c,m.length);c++){let T=m[c].p1.distanceTo(m[c].p2);T>P&&(P=T,v=m[c])}return v.p1.pozcyd2ed4c65f22647f5a54fffd5e2823727(v.p2)}};var In=class st{constructor(r,o,f,d){let g={};g.URCSW="2|3|1|0|4";let l=g,u=l.URCSW.split("|"),h=0;for(;;){switch(u[h++]){case"0":this.materialTag=d;continue;case"1":this.sectionTag=f;continue;case"2":this.points=r;continue;case"3":this.tag=o;continue;case"4":this.d3Polygon=r.map(m=>[m.x,m.y]);continue}break}}static FromDto(r){return new st(r.points.map(o=>k.nsbry7060cde2d7764c14ace8ffe2795787ee(o)),r.tag,r.sectionTag,r.materialTag)}isOnEdge(r){let o={JieBG:function(f,d,g,l){return f(d,g,l)}};for(let f=0,d=this.points.length-1;f<this.points.length;d=f++)if(o.JieBG(Rn,r,this.points[f],this.points[d]))return!0;return!1}gmgzgrgdwo285f09b8c38b42a691516e592164d677(r){let o={aWRwt:function(d,g,l){return d(g,l)}};return this.isOnEdge(r)?!0:o.aWRwt(De,this.d3Polygon,[r.x,r.y])}ccbxgx23d1d0c1d3ce428ea18fb8545e86132b(r,o){let f={};f.UGQhF=function(l,u){return l<u},f.FvogO=function(l,u){return l-u},f.QqTMD=function(l,u){return l+u},f.sLQtj=function(l,u){return l*u},f.rMldK=function(l,u){return l*u},f.lQPCP=function(l,u){return l/u},f.iHsmf=function(l,u){return l*u};let d=f,g=[];for(let l=0;d.UGQhF(l,r.length);l++){let u=r[l],h=r[(l+1)%r.length],m=d.FvogO(h.x,u.x),v=d.FvogO(h.y,u.y),P=Math.sqrt(d.QqTMD(d.sLQtj(m,m),d.rMldK(v,v))),c=Math.floor(d.lQPCP(P,o));g.push(new k(u.x,u.y));for(let T=1;d.UGQhF(T,c);T++){let S=d.lQPCP(d.sLQtj(T,o),P),R=d.QqTMD(u.x,S*m),D=d.QqTMD(u.y,d.iHsmf(S,v));g.push(new k(R,D))}}return g}};function Rn(p,r,o){let f={pFeUb:function(u,h){return u-h},HOCcp:function(u,h){return u*h},DIIKO:function(u,h){return u*h},HjwUE:function(u,h){return u-h},MgpLA:function(u,h,m){return u(h,m)},qnNMF:function(u,h){return u+h},AFtak:function(u,h){return u*h},SVpzP:function(u,h){return u-h},xlyyh:function(u,h){return u-h},obRQs:function(u,h){return u+h},OIXzP:function(u,h){return u>h}},d=f.pFeUb(f.HOCcp(f.pFeUb(p.y,r.y),o.x-r.x),f.DIIKO(f.HjwUE(p.x,r.x),f.HjwUE(o.y,r.y)));if(!f.MgpLA(ft.default,Math.abs(d),0))return!1;let g=f.qnNMF(f.AFtak(f.SVpzP(p.x,r.x),o.x-r.x),f.pFeUb(p.y,r.y)*f.xlyyh(o.y,r.y));if(g<0)return!1;let l=f.obRQs(f.pFeUb(o.x,r.x)**2,f.HjwUE(o.y,r.y)**2);return!f.OIXzP(g,l)}function ct(p){let r=p.polygons.map(g=>In.FromDto(g)),o=p.baseTriangles.map(g=>Pn.nsbry7060cde2d7764c14ace8ffe2795787ee(g)),f=o,d=[];for(let g of f){let l=g.vdnrys4f1ff09f1cda43e6a128da92581a5ddf(),u=r.find(h=>h.gmgzgrgdwo285f09b8c38b42a691516e592164d677(l));u&&(g.utafxge92828b1d24b64722834523b9e517ab50(u.tag,u.sectionTag,u.materialTag),d.push(g))}return{triangles:d.map(g=>g.tkfthqao3062176a77604843ba19b678d61614e6())}}var Be=ie(dt());var lt=(p,r,o="")=>`View3dModel-${p}-${r}${o}`,mt=p=>`Triangles-${p}`;var J=class extends Error{constructor(r){super(r)}};function ht(p){if(p.length<3)throw new J("At least three vertices are required to form a face.");return{vertices:[...p.filter(r=>r)],results:[]}}var ce=ie(xt());var se=p=>{let r=(p.points??"").trim().split(/\s+/).map(f=>f.split(",")),o=[];for(let[f,d]of r){let g=parseFloat(f),l=parseFloat(d);if(Number.isFinite(g)&&Number.isFinite(l))o.push({x:g,y:l});else throw new J("Invalid vertex coordinates")}return{vertices:o}};function gt(p){let r=0,o=0,f=0,d=p.length;for(let g=0;g<d;g++){let{x:l,y:u}=p[g],{x:h,y:m}=p[(g+1)%d],v=l*m-h*u;r+=v,o+=(l+h)*v,f+=(u+m)*v}return r*=.5,r===0?{x:0,y:0}:(o/=6*r,f/=6*r,{x:o,y:f})}function*yt(p,r){let o=[...new Set(r.rectangles.map(c=>c.name).concat(r.polygons.map(c=>c.name)))],f=[];for(let c of p){let T=c.points.map(D=>Ln(D)),S=ht(T);if(o.indexOf(c.name)===-1)throw new J(`Geometry name ${c.name} not found in geometry rectangles or polygons.`);f.push(S)}let d=r.supports.map(c=>Cn(c)),g=p.flatMap(c=>c.points).map(c=>c.x).reduce((c,T)=>Math.max(c,T),-1/0),l=p.flatMap(c=>c.points).map(c=>c.x).reduce((c,T)=>Math.min(c,T),1/0),u=p.flatMap(c=>c.points).map(c=>c.y).reduce((c,T)=>Math.max(c,T),-1/0),h=p.flatMap(c=>c.points).map(c=>c.y).reduce((c,T)=>Math.min(c,T),1/0),m=g-l,v=u-h,P=[...r.polygons.map(c=>se(c)),...r.rectangles.map(c=>fe(c))].map(c=>c.vertices.map(T=>({x:T.x,y:T.y}))).map(c=>({points:c}));for(let c of r.loadCases)yield{faces:f,wireframeFaces:[],supports:d,borders:P,loads:Mn(c,r),loadCaseTag:c.name,width:m,height:v,hasResults:!1}}function Mn(p,r){let o=[];for(let f of p.pointLoads)(0,ce.default)(f.fx,0)||o.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0}),(0,ce.default)(f.fy,0)||o.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of p.distributedLoads){let d=r.polygons.filter(u=>u.name===f.geometryName).map(u=>se(u)),g=r.rectangles.filter(u=>u.name===f.geometryName).map(u=>fe(u)),l=[...d,...g];for(let u of l){let h=gt(u.vertices);(0,ce.default)(f.fx,0)||o.push({x:h.x,y:h.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),(0,ce.default)(f.fy,0)||o.push({x:h.x,y:h.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return o}function Ln(p){return{x:p.x,y:p.y,z:0,ux:0,uy:0,uz:0,value:0}}function Cn(p){return{x:p.x,y:p.y,z:0,ux:p.fixedX,uy:p.fixedY,uz:!1}}addEventListener("message",({data:p})=>{Bn(p)});var Bn=async p=>{let{geometry:r,uuid:o,baseTriangles:f}=p,d=r.loadCases.flatMap(S=>S.pointLoads).map(S=>({x:S.x,y:S.y})),g=r.supports.map(S=>({x:S.x,y:S.y})),l=r.resultPoints.map(S=>({x:S.x,y:S.y})),u=r.rectangles.map(S=>Fn(S)),h=r.polygons.map(S=>Un(S)),m=u.concat(h),v={maxTriangleArea:r.meshingConfiguration.maxTriangleArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(S=>On(S))},c=ct({polygons:m,extraPoints:d.concat(g).concat(l),meshingConfiguration:v,baseTriangles:f.map(S=>qn(S))}).triangles.map(S=>zn(S));await Be.setItem(mt(o),c);for(let S of yt(c,r))await Be.setItem(lt(o,S.loadCaseTag),S);postMessage({uuid:o})},On=p=>({radius:p.radius,maxTriangleArea:p.maxArea,center:{x:p.x,y:p.y}}),Vn=p=>({x:p.x,y:p.y}),zn=p=>({points:p.points.map(o=>Vn(o)),name:p.tag,sectionTag:p.sectionTag,materialTag:p.materialTag}),Fn=p=>({points:fe(p).vertices.map(o=>({x:o.x,y:o.y})),tag:p.name,sectionTag:p.sectionName,materialTag:p.materialName}),Un=p=>({points:se(p).vertices.map(o=>({x:o.x,y:o.y})),tag:p.name,sectionTag:p.sectionName,materialTag:p.materialName}),qn=p=>({points:p.points.map(o=>({x:o.x,y:o.y}))});
