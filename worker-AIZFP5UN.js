var fn=Object.create;var Je=Object.defineProperty;var sn=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,dn=Object.prototype.hasOwnProperty;var ae=(h=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(h,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):h)(function(h){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+h+'" is not supported')});var ln=(h,r)=>()=>(r||h((r={exports:{}}).exports,r),r.exports);var mn=(h,r,o,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let d of cn(r))!dn.call(h,d)&&d!==o&&Je(h,d,{get:()=>r[d],enumerable:!(s=sn(r,d))||s.enumerable});return h};var hn=(h,r,o)=>(o=h!=null?fn(un(h)):{},mn(r||!h||!h.__esModule?Je(o,"default",{value:h,enumerable:!0}):o,h));var tt=ln((et,Se)=>{"use strict";(function(h){if(typeof et=="object"&&typeof Se<"u")Se.exports=h();else if(typeof define=="function"&&define.amd)define([],h);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=h()}})(function(){var h,r,o;return function s(d,b,m){function u(y,N){if(!b[y]){if(!d[y]){var c=typeof ae=="function"&&ae;if(!N&&c)return c(y,!0);if(l)return l(y,!0);var T=new Error("Cannot find module '"+y+"'");throw T.code="MODULE_NOT_FOUND",T}var P=b[y]={exports:{}};d[y][0].call(P.exports,function(E){var I=d[y][1][E];return u(I||E)},P,P.exports,s,d,b,m)}return b[y].exports}for(var l=typeof ae=="function"&&ae,x=0;x<m.length;x++)u(m[x]);return u}({1:[function(s,d,b){(function(m){"use strict";var u=m.MutationObserver||m.WebKitMutationObserver,l;if(u){var x=0,y=new u(E),N=m.document.createTextNode("");y.observe(N,{characterData:!0}),l=function(){N.data=x=++x%2}}else if(!m.setImmediate&&typeof m.MessageChannel<"u"){var c=new m.MessageChannel;c.port1.onmessage=E,l=function(){c.port2.postMessage(0)}}else"document"in m&&"onreadystatechange"in m.document.createElement("script")?l=function(){var O=m.document.createElement("script");O.onreadystatechange=function(){E(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},m.document.documentElement.appendChild(O)}:l=function(){setTimeout(E,0)};var T,P=[];function E(){T=!0;for(var O,K,F=P.length;F;){for(K=P,P=[],O=-1;++O<F;)K[O]();F=P.length}T=!1}d.exports=I;function I(O){P.push(O)===1&&!T&&l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(s,d,b){"use strict";var m=s(1);function u(){}var l={},x=["REJECTED"],y=["FULFILLED"],N=["PENDING"];d.exports=c;function c(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=N,this.queue=[],this.outcome=void 0,R!==u&&I(this,R)}c.prototype.catch=function(R){return this.then(null,R)},c.prototype.then=function(R,L){if(typeof R!="function"&&this.state===y||typeof L!="function"&&this.state===x)return this;var A=new this.constructor(u);if(this.state!==N){var B=this.state===y?R:L;P(A,B,this.outcome)}else this.queue.push(new T(A,R,L));return A};function T(R,L,A){this.promise=R,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}T.prototype.callFulfilled=function(R){l.resolve(this.promise,R)},T.prototype.otherCallFulfilled=function(R){P(this.promise,this.onFulfilled,R)},T.prototype.callRejected=function(R){l.reject(this.promise,R)},T.prototype.otherCallRejected=function(R){P(this.promise,this.onRejected,R)};function P(R,L,A){m(function(){var B;try{B=L(A)}catch(k){return l.reject(R,k)}B===R?l.reject(R,new TypeError("Cannot resolve promise with itself")):l.resolve(R,B)})}l.resolve=function(R,L){var A=O(E,L);if(A.status==="error")return l.reject(R,A.value);var B=A.value;if(B)I(R,B);else{R.state=y,R.outcome=L;for(var k=-1,U=R.queue.length;++k<U;)R.queue[k].callFulfilled(L)}return R},l.reject=function(R,L){R.state=x,R.outcome=L;for(var A=-1,B=R.queue.length;++A<B;)R.queue[A].callRejected(L);return R};function E(R){var L=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof L=="function")return function(){L.apply(R,arguments)}}function I(R,L){var A=!1;function B(Y){A||(A=!0,l.reject(R,Y))}function k(Y){A||(A=!0,l.resolve(R,Y))}function U(){L(k,B)}var j=O(U);j.status==="error"&&B(j.value)}function O(R,L){var A={};try{A.value=R(L),A.status="success"}catch(B){A.status="error",A.value=B}return A}c.resolve=K;function K(R){return R instanceof this?R:l.resolve(new this(u),R)}c.reject=F;function F(R){var L=new this(u);return l.reject(L,R)}c.all=me;function me(R){var L=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=R.length,B=!1;if(!A)return this.resolve([]);for(var k=new Array(A),U=0,j=-1,Y=new this(u);++j<A;)Z(R[j],j);return Y;function Z(ne,ce){L.resolve(ne).then(he,function(ee){B||(B=!0,l.reject(Y,ee))});function he(ee){k[ce]=ee,++U===A&&!B&&(B=!0,l.resolve(Y,k))}}}c.race=H;function H(R){var L=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=R.length,B=!1;if(!A)return this.resolve([]);for(var k=-1,U=new this(u);++k<A;)j(R[k]);return U;function j(Y){L.resolve(Y).then(function(Z){B||(B=!0,l.resolve(U,Z))},function(Z){B||(B=!0,l.reject(U,Z))})}}},{1:1}],3:[function(s,d,b){(function(m){"use strict";typeof m.Promise!="function"&&(m.Promise=s(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(s,d,b){"use strict";var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var x=l();function y(){try{if(!x||!x.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function N(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(a){if(a.name!=="TypeError")throw a;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,f=0;f<e.length;f+=1)i.append(e[f]);return i.getBlob(n.type)}}typeof Promise>"u"&&s(3);var c=Promise;function T(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function P(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function E(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function I(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var O="local-forage-detect-blob-support",K=void 0,F={},me=Object.prototype.toString,H="readonly",R="readwrite";function L(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),f=0;f<n;f++)i[f]=e.charCodeAt(f);return t}function A(e){return new c(function(n){var t=e.transaction(O,R),i=N([""]);t.objectStore(O).put(i,"key"),t.onabort=function(f){f.preventDefault(),f.stopPropagation(),n(!1)},t.oncomplete=function(){var f=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);n(a||!f||parseInt(f[1],10)>=43)}}).catch(function(){return!1})}function B(e){return typeof K=="boolean"?c.resolve(K):A(e).then(function(n){return K=n,K})}function k(e){var n=F[e.name],t={};t.promise=new c(function(i,f){t.resolve=i,t.reject=f}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function U(e){var n=F[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function j(e,n){var t=F[e.name],i=t.deferredOperations.pop();if(i)return i.reject(n),i.promise}function Y(e,n){return new c(function(t,i){if(F[e.name]=F[e.name]||De(),e.db)if(n)k(e),e.db.close();else return t(e.db);var f=[e.name];n&&f.push(e.version);var a=x.open.apply(x,f);n&&(a.onupgradeneeded=function(p){var v=a.result;try{v.createObjectStore(e.storeName),p.oldVersion<=1&&v.createObjectStore(O)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw g}}),a.onerror=function(p){p.preventDefault(),i(a.error)},a.onsuccess=function(){var p=a.result;p.onversionchange=function(v){v.target.close()},t(p),U(e)}})}function Z(e){return Y(e,!1)}function ne(e){return Y(e,!0)}function ce(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,f=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),f||t){if(t){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function he(e){return new c(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(f){var a=btoa(f.target.result||"");n({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var n=L(atob(e.data));return N([n],{type:e.type})}function Ie(e){return e&&e.__local_forage_encoded_blob}function ft(e){var n=this,t=n._initReady().then(function(){var i=F[n._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return P(t,e,e),t}function st(e){k(e);for(var n=F[e.name],t=n.forages,i=0;i<t.length;i++){var f=t[i];f._dbInfo.db&&(f._dbInfo.db.close(),f._dbInfo.db=null)}return e.db=null,Z(e).then(function(a){return e.db=a,ce(e)?ne(e):a}).then(function(a){e.db=n.db=a;for(var p=0;p<t.length;p++)t[p]._dbInfo.db=a}).catch(function(a){throw j(e,a),a})}function X(e,n,t,i){i===void 0&&(i=1);try{var f=e.db.transaction(e.storeName,n);t(null,f)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return c.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return st(e).then(function(){X(e,n,t,i-1)})}).catch(t);t(a)}}function De(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ct(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var f=F[t.name];f||(f=De(),F[t.name]=f),f.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=ft);var a=[];function p(){return c.resolve()}for(var v=0;v<f.forages.length;v++){var g=f.forages[v];g!==n&&a.push(g._initReady().catch(p))}var _=f.forages.slice(0);return c.all(a).then(function(){return t.db=f.db,Z(t)}).then(function(w){return t.db=w,ce(t,n._defaultConfig.version)?ne(t):w}).then(function(w){t.db=f.db=w,n._dbInfo=t;for(var S=0;S<_.length;S++){var D=_[S];D!==n&&(D._dbInfo.db=t.db,D._dbInfo.version=t.version)}})}function ut(e,n){var t=this;e=E(e);var i=new c(function(f,a){t.ready().then(function(){X(t._dbInfo,H,function(p,v){if(p)return a(p);try{var g=v.objectStore(t._dbInfo.storeName),_=g.get(e);_.onsuccess=function(){var w=_.result;w===void 0&&(w=null),Ie(w)&&(w=ee(w)),f(w)},_.onerror=function(){a(_.error)}}catch(w){a(w)}})}).catch(a)});return T(i,n),i}function dt(e,n){var t=this,i=new c(function(f,a){t.ready().then(function(){X(t._dbInfo,H,function(p,v){if(p)return a(p);try{var g=v.objectStore(t._dbInfo.storeName),_=g.openCursor(),w=1;_.onsuccess=function(){var S=_.result;if(S){var D=S.value;Ie(D)&&(D=ee(D));var M=e(D,S.key,w++);M!==void 0?f(M):S.continue()}else f()},_.onerror=function(){a(_.error)}}catch(S){a(S)}})}).catch(a)});return T(i,n),i}function lt(e,n,t){var i=this;e=E(e);var f=new c(function(a,p){var v;i.ready().then(function(){return v=i._dbInfo,me.call(n)==="[object Blob]"?B(v.db).then(function(g){return g?n:he(n)}):n}).then(function(g){X(i._dbInfo,R,function(_,w){if(_)return p(_);try{var S=w.objectStore(i._dbInfo.storeName);g===null&&(g=void 0);var D=S.put(g,e);w.oncomplete=function(){g===void 0&&(g=null),a(g)},w.onabort=w.onerror=function(){var M=D.error?D.error:D.transaction.error;p(M)}}catch(M){p(M)}})}).catch(p)});return T(f,t),f}function mt(e,n){var t=this;e=E(e);var i=new c(function(f,a){t.ready().then(function(){X(t._dbInfo,R,function(p,v){if(p)return a(p);try{var g=v.objectStore(t._dbInfo.storeName),_=g.delete(e);v.oncomplete=function(){f()},v.onerror=function(){a(_.error)},v.onabort=function(){var w=_.error?_.error:_.transaction.error;a(w)}}catch(w){a(w)}})}).catch(a)});return T(i,n),i}function ht(e){var n=this,t=new c(function(i,f){n.ready().then(function(){X(n._dbInfo,R,function(a,p){if(a)return f(a);try{var v=p.objectStore(n._dbInfo.storeName),g=v.clear();p.oncomplete=function(){i()},p.onabort=p.onerror=function(){var _=g.error?g.error:g.transaction.error;f(_)}}catch(_){f(_)}})}).catch(f)});return T(t,e),t}function pt(e){var n=this,t=new c(function(i,f){n.ready().then(function(){X(n._dbInfo,H,function(a,p){if(a)return f(a);try{var v=p.objectStore(n._dbInfo.storeName),g=v.count();g.onsuccess=function(){i(g.result)},g.onerror=function(){f(g.error)}}catch(_){f(_)}})}).catch(f)});return T(t,e),t}function xt(e,n){var t=this,i=new c(function(f,a){if(e<0){f(null);return}t.ready().then(function(){X(t._dbInfo,H,function(p,v){if(p)return a(p);try{var g=v.objectStore(t._dbInfo.storeName),_=!1,w=g.openKeyCursor();w.onsuccess=function(){var S=w.result;if(!S){f(null);return}e===0||_?f(S.key):(_=!0,S.advance(e))},w.onerror=function(){a(w.error)}}catch(S){a(S)}})}).catch(a)});return T(i,n),i}function bt(e){var n=this,t=new c(function(i,f){n.ready().then(function(){X(n._dbInfo,H,function(a,p){if(a)return f(a);try{var v=p.objectStore(n._dbInfo.storeName),g=v.openKeyCursor(),_=[];g.onsuccess=function(){var w=g.result;if(!w){i(_);return}_.push(w.key),w.continue()},g.onerror=function(){f(g.error)}}catch(w){f(w)}})}).catch(f)});return T(t,e),t}function vt(e,n){n=I.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,f;if(!e.name)f=c.reject("Invalid arguments");else{var a=e.name===t.name&&i._dbInfo.db,p=a?c.resolve(i._dbInfo.db):Z(e).then(function(v){var g=F[e.name],_=g.forages;g.db=v;for(var w=0;w<_.length;w++)_[w]._dbInfo.db=v;return v});e.storeName?f=p.then(function(v){if(v.objectStoreNames.contains(e.storeName)){var g=v.version+1;k(e);var _=F[e.name],w=_.forages;v.close();for(var S=0;S<w.length;S++){var D=w[S];D._dbInfo.db=null,D._dbInfo.version=g}var M=new c(function(C,V){var z=x.open(e.name,g);z.onerror=function(W){var oe=z.result;oe.close(),V(W)},z.onupgradeneeded=function(){var W=z.result;W.deleteObjectStore(e.storeName)},z.onsuccess=function(){var W=z.result;W.close(),C(W)}});return M.then(function(C){_.db=C;for(var V=0;V<w.length;V++){var z=w[V];z._dbInfo.db=C,U(z._dbInfo)}}).catch(function(C){throw(j(e,C)||c.resolve()).catch(function(){}),C})}}):f=p.then(function(v){k(e);var g=F[e.name],_=g.forages;v.close();for(var w=0;w<_.length;w++){var S=_[w];S._dbInfo.db=null}var D=new c(function(M,C){var V=x.deleteDatabase(e.name);V.onerror=function(){var z=V.result;z&&z.close(),C(V.error)},V.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},V.onsuccess=function(){var z=V.result;z&&z.close(),M(z)}});return D.then(function(M){g.db=M;for(var C=0;C<_.length;C++){var V=_[C];U(V._dbInfo)}}).catch(function(M){throw(j(e,M)||c.resolve()).catch(function(){}),M})})}return T(f,n),f}var yt={_driver:"asyncStorage",_initStorage:ct,_support:y(),iterate:dt,getItem:ut,setItem:lt,removeItem:mt,clear:ht,length:pt,key:xt,keys:bt,dropInstance:vt};function gt(){return typeof openDatabase=="function"}var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t="~~local_forage_type~",Ae=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",pe=ue.length,xe="arbf",be="blob",Le="si08",Me="ui08",Ce="uic8",Be="si16",ze="si32",Ve="ur16",Oe="ui32",Fe="fl32",ke="fl64",Ue=pe+xe.length,qe=Object.prototype.toString;function je(e){var n=e.length*.75,t=e.length,i,f=0,a,p,v,g;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var _=new ArrayBuffer(n),w=new Uint8Array(_);for(i=0;i<t;i+=4)a=J.indexOf(e[i]),p=J.indexOf(e[i+1]),v=J.indexOf(e[i+2]),g=J.indexOf(e[i+3]),w[f++]=a<<2|p>>4,w[f++]=(p&15)<<4|v>>2,w[f++]=(v&3)<<6|g&63;return _}function ve(e){var n=new Uint8Array(e),t="",i;for(i=0;i<n.length;i+=3)t+=J[n[i]>>2],t+=J[(n[i]&3)<<4|n[i+1]>>4],t+=J[(n[i+1]&15)<<2|n[i+2]>>6],t+=J[n[i+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function wt(e,n){var t="";if(e&&(t=qe.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&qe.call(e.buffer)==="[object ArrayBuffer]")){var i,f=ue;e instanceof ArrayBuffer?(i=e,f+=xe):(i=e.buffer,t==="[object Int8Array]"?f+=Le:t==="[object Uint8Array]"?f+=Me:t==="[object Uint8ClampedArray]"?f+=Ce:t==="[object Int16Array]"?f+=Be:t==="[object Uint16Array]"?f+=Ve:t==="[object Int32Array]"?f+=ze:t==="[object Uint32Array]"?f+=Oe:t==="[object Float32Array]"?f+=Fe:t==="[object Float64Array]"?f+=ke:n(new Error("Failed to get type for BinaryArray"))),n(f+ve(i))}else if(t==="[object Blob]"){var a=new FileReader;a.onload=function(){var p=_t+e.type+"~"+ve(this.result);n(ue+be+p)},a.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(p){console.error("Couldn't convert value into a JSON string: ",e),n(null,p)}}function Tt(e){if(e.substring(0,pe)!==ue)return JSON.parse(e);var n=e.substring(Ue),t=e.substring(pe,Ue),i;if(t===be&&Ae.test(n)){var f=n.match(Ae);i=f[1],n=n.substring(f[0].length)}var a=je(n);switch(t){case xe:return a;case be:return N([a],{type:i});case Le:return new Int8Array(a);case Me:return new Uint8Array(a);case Ce:return new Uint8ClampedArray(a);case Be:return new Int16Array(a);case Ve:return new Uint16Array(a);case ze:return new Int32Array(a);case Oe:return new Uint32Array(a);case Fe:return new Float32Array(a);case ke:return new Float64Array(a);default:throw new Error("Unkown type: "+t)}}var ye={serialize:wt,deserialize:Tt,stringToBuffer:je,bufferToString:ve};function Ye(e,n,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function Rt(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var f=new c(function(a,p){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(v){return p(v)}t.db.transaction(function(v){Ye(v,t,function(){n._dbInfo=t,a()},function(g,_){p(_)})},p)});return t.serializer=ye,f}function Q(e,n,t,i,f,a){e.executeSql(t,i,f,function(p,v){v.code===v.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(g,_){_.rows.length?a(g,v):Ye(g,n,function(){g.executeSql(t,i,f,a)},a)},a):a(p,v)},a)}function Et(e,n){var t=this;e=E(e);var i=new c(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){Q(v,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[e],function(g,_){var w=_.rows.length?_.rows.item(0).value:null;w&&(w=p.serializer.deserialize(w)),f(w)},function(g,_){a(_)})})}).catch(a)});return T(i,n),i}function Pt(e,n){var t=this,i=new c(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){Q(v,p,"SELECT * FROM "+p.storeName,[],function(g,_){for(var w=_.rows,S=w.length,D=0;D<S;D++){var M=w.item(D),C=M.value;if(C&&(C=p.serializer.deserialize(C)),C=e(C,M.key,D+1),C!==void 0){f(C);return}}f()},function(g,_){a(_)})})}).catch(a)});return T(i,n),i}function We(e,n,t,i){var f=this;e=E(e);var a=new c(function(p,v){f.ready().then(function(){n===void 0&&(n=null);var g=n,_=f._dbInfo;_.serializer.serialize(n,function(w,S){S?v(S):_.db.transaction(function(D){Q(D,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){p(g)},function(M,C){v(C)})},function(D){if(D.code===D.QUOTA_ERR){if(i>0){p(We.apply(f,[e,g,t,i-1]));return}v(D)}})})}).catch(v)});return T(a,t),a}function St(e,n,t){return We.apply(this,[e,n,t,1])}function Nt(e,n){var t=this;e=E(e);var i=new c(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){Q(v,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[e],function(){f()},function(g,_){a(_)})})}).catch(a)});return T(i,n),i}function It(e){var n=this,t=new c(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Q(p,a,"DELETE FROM "+a.storeName,[],function(){i()},function(v,g){f(g)})})}).catch(f)});return T(t,e),t}function Dt(e){var n=this,t=new c(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Q(p,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(v,g){var _=g.rows.item(0).c;i(_)},function(v,g){f(g)})})}).catch(f)});return T(t,e),t}function At(e,n){var t=this,i=new c(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){Q(v,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[e+1],function(g,_){var w=_.rows.length?_.rows.item(0).key:null;f(w)},function(g,_){a(_)})})}).catch(a)});return T(i,n),i}function Lt(e){var n=this,t=new c(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Q(p,a,"SELECT key FROM "+a.storeName,[],function(v,g){for(var _=[],w=0;w<g.rows.length;w++)_.push(g.rows.item(w).key);i(_)},function(v,g){f(g)})})}).catch(f)});return T(t,e),t}function Mt(e){return new c(function(n,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(f,a){for(var p=[],v=0;v<a.rows.length;v++)p.push(a.rows.item(v).name);n({db:e,storeNames:p})},function(f,a){t(a)})},function(i){t(i)})})}function Ct(e,n){n=I.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,f;return e.name?f=new c(function(a){var p;e.name===t.name?p=i._dbInfo.db:p=openDatabase(e.name,"","",0),e.storeName?a({db:p,storeNames:[e.storeName]}):a(Mt(p))}).then(function(a){return new c(function(p,v){a.db.transaction(function(g){function _(M){return new c(function(C,V){g.executeSql("DROP TABLE IF EXISTS "+M,[],function(){C()},function(z,W){V(W)})})}for(var w=[],S=0,D=a.storeNames.length;S<D;S++)w.push(_(a.storeNames[S]));c.all(w).then(function(){p()}).catch(function(M){v(M)})},function(g){v(g)})})}):f=c.reject("Invalid arguments"),T(f,n),f}var Bt={_driver:"webSQLStorage",_initStorage:Rt,_support:gt(),iterate:Pt,getItem:Et,setItem:St,removeItem:Nt,clear:It,length:Dt,key:At,keys:Lt,dropInstance:Ct};function zt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ge(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Vt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Ot(){return!Vt()||localStorage.length>0}function Ft(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=Ge(e,n._defaultConfig),Ot()?(n._dbInfo=t,t.serializer=ye,c.resolve()):c.reject()}function kt(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo.keyPrefix,f=localStorage.length-1;f>=0;f--){var a=localStorage.key(f);a.indexOf(i)===0&&localStorage.removeItem(a)}});return T(t,e),t}function Ut(e,n){var t=this;e=E(e);var i=t.ready().then(function(){var f=t._dbInfo,a=localStorage.getItem(f.keyPrefix+e);return a&&(a=f.serializer.deserialize(a)),a});return T(i,n),i}function qt(e,n){var t=this,i=t.ready().then(function(){for(var f=t._dbInfo,a=f.keyPrefix,p=a.length,v=localStorage.length,g=1,_=0;_<v;_++){var w=localStorage.key(_);if(w.indexOf(a)===0){var S=localStorage.getItem(w);if(S&&(S=f.serializer.deserialize(S)),S=e(S,w.substring(p),g++),S!==void 0)return S}}});return T(i,n),i}function jt(e,n){var t=this,i=t.ready().then(function(){var f=t._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(f.keyPrefix.length)),a});return T(i,n),i}function Yt(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo,f=localStorage.length,a=[],p=0;p<f;p++){var v=localStorage.key(p);v.indexOf(i.keyPrefix)===0&&a.push(v.substring(i.keyPrefix.length))}return a});return T(t,e),t}function Wt(e){var n=this,t=n.keys().then(function(i){return i.length});return T(t,e),t}function Gt(e,n){var t=this;e=E(e);var i=t.ready().then(function(){var f=t._dbInfo;localStorage.removeItem(f.keyPrefix+e)});return T(i,n),i}function Kt(e,n,t){var i=this;e=E(e);var f=i.ready().then(function(){n===void 0&&(n=null);var a=n;return new c(function(p,v){var g=i._dbInfo;g.serializer.serialize(n,function(_,w){if(w)v(w);else try{localStorage.setItem(g.keyPrefix+e,_),p(a)}catch(S){(S.name==="QuotaExceededError"||S.name==="NS_ERROR_DOM_QUOTA_REACHED")&&v(S),v(S)}})})});return T(f,t),f}function Zt(e,n){if(n=I.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,f;return e.name?f=new c(function(a){e.storeName?a(Ge(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var p=localStorage.length-1;p>=0;p--){var v=localStorage.key(p);v.indexOf(a)===0&&localStorage.removeItem(v)}}):f=c.reject("Invalid arguments"),T(f,n),f}var Xt={_driver:"localStorageWrapper",_initStorage:Ft,_support:zt(),iterate:qt,getItem:Ut,setItem:Kt,removeItem:Gt,clear:kt,length:Wt,key:jt,keys:Yt,dropInstance:Zt},Jt=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},Qt=function(n,t){for(var i=n.length,f=0;f<i;){if(Jt(n[f],t))return!0;f++}return!1},Ke=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},Ze={},te={INDEXEDDB:yt,WEBSQL:Bt,LOCALSTORAGE:Xt},$t=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],de=["dropInstance"],ge=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),Ht={description:"",driver:$t.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function en(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function _e(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Ke(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var tn=function(){function e(n){u(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],f=i._driver;this[t]=f,re[f]||this.defineDriver(i)}this._defaultConfig=_e({},Ht),this._config=_e({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":m(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,f){var a=new c(function(p,v){try{var g=t._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){v(_);return}for(var w=ge.concat("_initStorage"),S=0,D=w.length;S<D;S++){var M=w[S],C=!Qt(de,M);if((C||t[M])&&typeof t[M]!="function"){v(_);return}}var V=function(){for(var oe=function(on){return function(){var an=new Error("Method "+on+" is not implemented by the current driver"),Xe=c.reject(an);return T(Xe,arguments[arguments.length-1]),Xe}},we=0,rn=de.length;we<rn;we++){var Te=de[we];t[Te]||(t[Te]=oe(Te))}};V();var z=function(oe){re[g]&&console.info("Redefining LocalForage driver: "+g),re[g]=t,Ze[g]=oe,p()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(z,v):z(!!t._support):z(!0)}catch(W){v(W)}});return P(a,i,f),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,f){var a=re[t]?c.resolve(re[t]):c.reject(new Error("Driver not found."));return P(a,i,f),a},e.prototype.getSerializer=function(t){var i=c.resolve(ye);return P(i,t),i},e.prototype.ready=function(t){var i=this,f=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return P(f,t,t),f},e.prototype.setDriver=function(t,i,f){var a=this;Ke(t)||(t=[t]);var p=this._getSupportedDrivers(t);function v(){a._config.driver=a.driver()}function g(S){return a._extend(S),v(),a._ready=a._initStorage(a._config),a._ready}function _(S){return function(){var D=0;function M(){for(;D<S.length;){var C=S[D];return D++,a._dbInfo=null,a._ready=null,a.getDriver(C).then(g).catch(M)}v();var V=new Error("No available storage method found.");return a._driverSet=c.reject(V),a._driverSet}return M()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=w.then(function(){var S=p[0];return a._dbInfo=null,a._ready=null,a.getDriver(S).then(function(D){a._driver=D._driver,v(),a._wrapLibraryMethodsWithReady(),a._initDriver=_(p)})}).catch(function(){v();var S=new Error("No available storage method found.");return a._driverSet=c.reject(S),a._driverSet}),P(this._driverSet,i,f),this._driverSet},e.prototype.supports=function(t){return!!Ze[t]},e.prototype._extend=function(t){_e(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],f=0,a=t.length;f<a;f++){var p=t[f];this.supports(p)&&i.push(p)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=ge.length;t<i;t++)en(this,ge[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),nn=new tn;d.exports=nn},{3:3}]},{},[4])(4)})});var ie=h=>({vertices:[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}]});function Re(h,r){for(var o=h.length,s=h[o-1],d=r[0],b=r[1],m=s[0],u=s[1],l,x,y=!1,N=0;N<o;++N)s=h[N],l=s[0],x=s[1],x>b!=u>b&&d<(m-l)*(b-x)/(u-x)+l&&(y=!y),m=l,u=x;return y}var pn=2220446049250313e-31;function le(h,r,o,s){let d={};d.rWppo=function(u,l){return u==l},d.fyZNp=function(u,l){return u<=l},d.mnyZu=function(u,l){return u*l};let b=d,m=Math.abs(h-r);return b.rWppo(o,null)&&(o=pn),s==null&&(s=o),b.fyZNp(m,o)||m<=b.mnyZu(s,Math.min(Math.abs(h),Math.abs(r)))?!0:h===r}var G=class Pe{constructor(r,o){this.x=r,this.y=o}static worzrdvh273cb4a9dad54460bade8c5b62d6f8a9(r){return new Pe(r.x,r.y)}dkzlukc41c231fd7324db183b3497128ac9d1b(){let r={};return r.x=this.x,r.y=this.y,r}kjjtfua46d282cb5a140648689026fb451e715(r){let o={StioE:function(d,b,m){return d(b,m)},UaGhl:function(d,b,m){return d(b,m)}};return o.StioE(le,this.x,r.x)&&o.UaGhl(le,this.y,r.y)}evigfvh145933a4232a4fb59108a2569b5a8bdd(){return[this.x,this.y]}sasptcoyv18bd16cc88554c9f9d34fd202a0fd980(r){let o={};o.vaidJ=function(m,u){return m+u},o.jBzvG=function(m,u){return m/u},o.gnXYD=function(m,u){return m+u};let s=o,d=s.vaidJ(this.x,r.x)/2,b=s.jBzvG(s.gnXYD(this.y,r.y),2);return new Pe(d,b)}juomxudatjdb479fe6f15e4022855d5bafa630fae4(r){let o={};o.njrTw=function(m,u){return m-u},o.RCSyX=function(m,u){return m+u},o.UKOKw=function(m,u){return m*u};let s=o,d=r.x-this.x,b=s.njrTw(r.y,this.y);return Math.sqrt(s.RCSyX(s.UKOKw(d,d),s.UKOKw(b,b)))}};function Ee(h,r,o){let s={};s.rjDUU=function(N,c){return N-c},s.NnlNv=function(N,c){return N-c},s.fzFub=function(N,c){return N+c},s.UZdpU=function(N,c){return N*c},s.MEsga=function(N,c){return N===c},s.KiEPB=function(N,c){return N*c};let d=s,b={x:d.rjDUU(h.x,r.x),y:h.y-r.y},m={x:d.rjDUU(o.x,r.x),y:d.NnlNv(o.y,r.y)},u=d.fzFub(d.UZdpU(b.x,m.x),b.y*m.y),l=Math.hypot(b.x,b.y),x=Math.hypot(m.x,m.y);if(d.MEsga(l,0)||x===0)return 0;let y=Math.min(1,Math.max(-1,u/d.KiEPB(l,x)));return Math.acos(y)}var Qe=class{static ouumgzlpdec50df79b1c479992bb168bf4b80487(h,r,o){let s=r.sasptcoyv18bd16cc88554c9f9d34fd202a0fd980(o),d=r.juomxudatjdb479fe6f15e4022855d5bafa630fae4(o)/2;return s.juomxudatjdb479fe6f15e4022855d5bafa630fae4(h)<=d}},xn=class q{constructor(r){let o={};o.mVphW="3|4|0|2|1";let s=o,d=s.mVphW.split("|"),b=0;for(;;){switch(d[b++]){case"0":this.sectionTag="";continue;case"1":!q.gdwvw719c9565c89f41b99253abeef6bf30b2(r)&&this.points.reverse();continue;case"2":this.materialTag="";continue;case"3":this.points=r;continue;case"4":this.tag="";continue}break}}static worzrdvh273cb4a9dad54460bade8c5b62d6f8a9(r){return new q(r.points.map(o=>G.worzrdvh273cb4a9dad54460bade8c5b62d6f8a9(o)))}dkzlukc41c231fd7324db183b3497128ac9d1b(){return{points:this.points.map(r=>r.dkzlukc41c231fd7324db183b3497128ac9d1b()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static gdwvw719c9565c89f41b99253abeef6bf30b2(r){let o={};o.bLWXa=function(l,x){return l-x},o.WMALp=function(l,x){return l-x},o.nPjEj=function(l,x){return l-x},o.rVorm=function(l,x){return l*x},o.nvBQD=function(l,x){return l-x},o.rsdPl=function(l,x){return l>x};let s=o,[d,b,m]=r,u=s.bLWXa(s.WMALp(b.x,d.x)*s.nPjEj(m.y,d.y),s.rVorm(s.nvBQD(b.y,d.y),s.nvBQD(m.x,d.x)));return s.rsdPl(u,0)}ntjskx7dc846b2e10648b4b164dabd7332e01b(r,o,s){this.tag=r,this.sectionTag=o,this.materialTag=s}rgxwsdephq30fc029e545d42a9b91ffb41f8150da9(){let r={};r.kwfLf=function(l,x){return l/x},r.qzcpW=function(l,x){return l+x},r.JsmgM=function(l,x){return l/x};let o=r,[s,d,b]=this.points,m=o.kwfLf(o.qzcpW(o.qzcpW(s.x,d.x),b.x),3),u=o.JsmgM(o.qzcpW(o.qzcpW(s.y,d.y),b.y),3);return new G(m,u)}qshujdjitn647de326fd834f228ced0032666719d2(r=.1){let o={};o.OPtKN=function(x,y){return x-y},o.ccpsB=function(x,y){return x+y},o.gLIEa=function(x,y){return x*y},o.XQasB=function(x,y){return x-y},o.kHaNC=function(x,y){return x*y},o.hKfES=function(x,y){return x/y},o.eDtbN=function(x,y){return x+y},o.HZVjf=function(x,y){return x*y};let s=o,d=this.rgxwsdephq30fc029e545d42a9b91ffb41f8150da9(),b=this.points.map(x=>{let y=s.OPtKN(d.x,x.x),N=s.OPtKN(d.y,x.y);return Math.sqrt(s.ccpsB(s.gLIEa(y,y),N*N))}),m=Math.max(...b),u=s.kHaNC(m,r);return this.points.map(x=>{let y=d.x-x.x,N=s.XQasB(d.y,x.y),c=Math.sqrt(s.gLIEa(y,y)+s.kHaNC(N,N)),T=s.hKfES(u,c);return new G(x.x+y*T,s.eDtbN(x.y,s.HZVjf(N,T)))})}diuryigajn0870c1d554f746b3bb23f8778a17f022(){let r=this.rgxwsdephq30fc029e545d42a9b91ffb41f8150da9();return[new q([this.points[0],this.points[1],r]),new q([this.points[1],this.points[2],r]),new q([this.points[2],this.points[0],r])]}hyclvxb65e2714e285642b4944506f3fe82e412(){let r={};r.ZtpBt=function(x,y){return x+y},r.TIzrA=function(x,y){return x/y},r.ptpyr=function(x,y){return x/y},r.xXoTf=function(x,y){return x+y},r.mkPZX=function(x,y){return x+y};let o=r,[s,d,b]=this.points,m=new G(o.ZtpBt(s.x,d.x)/2,o.TIzrA(o.ZtpBt(s.y,d.y),2)),u=new G(o.ptpyr(o.xXoTf(d.x,b.x),2),o.mkPZX(d.y,b.y)/2),l=new G(o.TIzrA(o.ZtpBt(b.x,s.x),2),o.ZtpBt(b.y,s.y)/2);return[new q([s,m,l]),new q([m,d,u]),new q([l,u,b]),new q([m,u,l])]}pllrubzo76dfcc35d0a942869e8a29d98a8bd48c(){let r={};r.hDSeA=function(E,I){return E*I},r.rZJgV=function(E,I){return E+I},r.Oweow=function(E,I){return E-I},r.AiFQQ=function(E,I){return E-I},r.blidA=function(E,I){return E<I},r.pdHyA=function(E,I){return E/I},r.LWAFm=function(E,I){return E*I},r.UdKkb=function(E,I){return E*I},r.FzYJl=function(E,I){return E*I},r.ufktY=function(E,I){return E-I},r.GtNni=function(E,I){return E+I},r.ZYMzm=function(E,I){return E*I},r.LTqle=function(E,I){return E*I},r.EFClR=function(E,I){return E*I},r.ijnuv=function(E,I){return E/I},r.fDZoN=function(E,I){return E*I},r.FfVkO=function(E,I){return E*I},r.sDQlw=function(E,I){return E-I},r.FznNM=function(E,I){return E+I},r.YloQG=function(E,I){return E*I};let o=r,[s,d,b]=this.points,m=s.x,u=s.y,l=d.x,x=d.y,y=b.x,N=b.y,c=o.hDSeA(2,o.rZJgV(o.hDSeA(m,o.Oweow(x,N)),l*o.AiFQQ(N,u))+y*(u-x));if(o.blidA(Math.abs(c),1e-10))return null;let T=o.pdHyA(o.LWAFm(o.rZJgV(o.UdKkb(m,m),o.FzYJl(u,u)),o.ufktY(x,N))+o.GtNni(o.ZYMzm(l,l),o.LTqle(x,x))*o.ufktY(N,u)+o.LTqle(o.rZJgV(y*y,o.EFClR(N,N)),u-x),c),P=o.ijnuv(o.GtNni(o.rZJgV(o.hDSeA(o.fDZoN(m,m)+u*u,y-l),o.FfVkO(o.rZJgV(o.EFClR(l,l),o.FfVkO(x,x)),o.sDQlw(m,y))),o.FzYJl(o.FznNM(y*y,o.YloQG(N,N)),l-m)),c);return new G(T,P)}vgcpa1a4910c44b31459faad716d0df4b434f(){let r={};r.wrFAL=function(d,b){return d===b};let o=r,s=this.pllrubzo76dfcc35d0a942869e8a29d98a8bd48c();return o.wrFAL(s,null)?[]:[new q([this.points[0],this.points[1],s]),new q([this.points[1],this.points[2],s]),new q([this.points[2],this.points[0],s])]}kwytobn7fb48e78a64b4481b7a8de226ed0fa73(){let r={};r.PumoR=function(T,P){return T*P},r.kyUdh=function(T,P){return T+P},r.WxPXh=function(T,P){return T+P},r.zpNXQ=function(T,P){return T-P},r.xXfiC=function(T,P){return T-P};let o=r,[s,d,b]=this.points,m=s.x,u=d.x,l=b.x,x=s.y,y=d.y,N=b.y;return o.PumoR(.5,Math.abs(o.kyUdh(o.WxPXh(o.PumoR(m,o.zpNXQ(y,N)),u*o.xXfiC(N,x)),l*o.xXfiC(x,y))))}cwovstfbghc2fb7d3def854af2a70c470e0a3f1586(){let r=this.kwytobn7fb48e78a64b4481b7a8de226ed0fa73();return le(r,0)}favkxiv26fd27c14da94049a90ccc87a86bbe69(){let r={YHsoR:function(m,u,l,x){return m(u,l,x)}},[o,s,d]=this.points;return[r.YHsoR(Ee,s,o,d),r.YHsoR(Ee,o,s,d),r.YHsoR(Ee,o,d,s)]}xdscikb41b4a5830e74768ba4c039b06331f9a(r=15*Math.PI/180){return!!this.favkxiv26fd27c14da94049a90ccc87a86bbe69().some(s=>s<r)}gcipcvpwuwa74351ceaf824ae3a73e1848d808de27(){let r={};r.JNIKv=function(d,b){return d<b},r.vTdNG=function(d,b){return d%b},r.yNkgq=function(d,b){return d+b};let o=r,s=this.pllrubzo76dfcc35d0a942869e8a29d98a8bd48c();if(!s)return this.wrwwdd1269840a2e82460d900802956cb47783();for(let d=0;o.JNIKv(d,3);d++){let b=this.points[d],m=this.points[o.vTdNG(o.yNkgq(d,1),3)];if(Qe.ouumgzlpdec50df79b1c479992bb168bf4b80487(s,b,m))return this.wrwwdd1269840a2e82460d900802956cb47783()}return s}cssyanmqhd82dff79f87ed46f4abdaace5debd0d65(r){let[o,s,d]=this.points,b={};b.p1=o,b.p2=s;let m={};m.p1=s,m.p2=d;let u={};u.p1=d,u.p2=o;let l=[b,m,u],x=[];for(let y of l)for(let N of r)if(!this.points.some(c=>c.kjjtfua46d282cb5a140648689026fb451e715(N))&&Qe.ouumgzlpdec50df79b1c479992bb168bf4b80487(N,y.p1,y.p2))return x.push(y.p1.sasptcoyv18bd16cc88554c9f9d34fd202a0fd980(y.p2)),x;return x}amcpooffe5e9dbc54d4f4c982cd55dc9abed86(r){let o=this.pllrubzo76dfcc35d0a942869e8a29d98a8bd48c();return o?r.some(s=>s.lmoqwdbfade3a77e9495b98f29a1f1dac5d4d(o))?o:this.wrwwdd1269840a2e82460d900802956cb47783():this.wrwwdd1269840a2e82460d900802956cb47783()}wrwwdd1269840a2e82460d900802956cb47783(){let r={};r.RGNLB=function(c,T){return c<T},r.rXKfY=function(c,T){return c>T};let o=r,[s,d,b]=this.points,m={};m.p1=s,m.p2=d;let u={};u.p1=d,u.p2=b;let l={};l.p1=b,l.p2=s;let x=[m,u,l],y=x[0],N=y.p1.juomxudatjdb479fe6f15e4022855d5bafa630fae4(y.p2);for(let c=1;o.RGNLB(c,x.length);c++){let T=x[c].p1.juomxudatjdb479fe6f15e4022855d5bafa630fae4(x[c].p2);o.rXKfY(T,N)&&(N=T,y=x[c])}return y.p1.sasptcoyv18bd16cc88554c9f9d34fd202a0fd980(y.p2)}};var bn=class $e{constructor(r,o,s,d){let b="0|4|2|3|1".split("|"),m=0;for(;;){switch(b[m++]){case"0":this.points=r;continue;case"1":this.d3Polygon=r.map(u=>[u.x,u.y]);continue;case"2":this.sectionTag=s;continue;case"3":this.materialTag=d;continue;case"4":this.tag=o;continue}break}}static worzrdvh273cb4a9dad54460bade8c5b62d6f8a9(r){return new $e(r.points.map(o=>G.worzrdvh273cb4a9dad54460bade8c5b62d6f8a9(o)),r.tag,r.sectionTag,r.materialTag)}isynwgk49f8df99dc6a4425b61e59c942bceb04(r){let o={};o.TvaNp=function(d,b){return d-b},o.byecE=function(d,b){return d<b};let s=o;for(let d=0,b=s.TvaNp(this.points.length,1);s.byecE(d,this.points.length);b=d++)if(vn(r,this.points[d],this.points[b]))return!0;return!1}lmoqwdbfade3a77e9495b98f29a1f1dac5d4d(r){return this.isynwgk49f8df99dc6a4425b61e59c942bceb04(r)?!0:Re(this.d3Polygon,[r.x,r.y])}afakgkixff9a56cd6f1a744318c750e2c8b5ebd7c(r,o){let s={};s.dgjQr=function(m,u){return m%u},s.wCaCw=function(m,u){return m+u},s.rhNEb=function(m,u){return m-u},s.msPZt=function(m,u){return m+u},s.KFqFL=function(m,u){return m*u},s.yLMLh=function(m,u){return m/u},s.QefTI=function(m,u){return m<u},s.RohNa=function(m,u){return m+u},s.DgVjl=function(m,u){return m*u};let d=s,b=[];for(let m=0;m<r.length;m++){let u=r[m],l=r[d.dgjQr(d.wCaCw(m,1),r.length)],x=d.rhNEb(l.x,u.x),y=d.rhNEb(l.y,u.y),N=Math.sqrt(d.msPZt(d.KFqFL(x,x),d.KFqFL(y,y))),c=Math.floor(d.yLMLh(N,o));b.push(new G(u.x,u.y));for(let T=1;d.QefTI(T,c);T++){let P=d.yLMLh(T*o,N),E=d.RohNa(u.x,d.DgVjl(P,x)),I=d.wCaCw(u.y,P*y);b.push(new G(E,I))}}return b}};function vn(h,r,o){let s={qOTJz:function(u,l){return u-l},mKkxn:function(u,l){return u*l},mhVeO:function(u,l){return u-l},NUKfu:function(u,l){return u-l},jTgZF:function(u,l,x){return u(l,x)},PxZns:function(u,l){return u-l},ElbiP:function(u,l){return u-l},vsmUs:function(u,l){return u*l},LTqdk:function(u,l){return u<l},IOLPR:function(u,l){return u+l},xNYgD:function(u,l){return u**l},BGGKb:function(u,l){return u-l}},d=s.qOTJz(s.mKkxn(s.mhVeO(h.y,r.y),s.NUKfu(o.x,r.x)),s.mKkxn(s.NUKfu(h.x,r.x),o.y-r.y));if(!s.jTgZF(le,Math.abs(d),0))return!1;let b=s.PxZns(h.x,r.x)*s.ElbiP(o.x,r.x)+s.vsmUs(h.y-r.y,s.NUKfu(o.y,r.y));if(s.LTqdk(b,0))return!1;let m=s.IOLPR(s.qOTJz(o.x,r.x)**2,s.xNYgD(s.BGGKb(o.y,r.y),2));return!(b>m)}function He(h){let r=h.polygons.map(b=>bn.worzrdvh273cb4a9dad54460bade8c5b62d6f8a9(b)),o=h.baseTriangles.map(b=>xn.worzrdvh273cb4a9dad54460bade8c5b62d6f8a9(b)),s=o,d=[];for(let b of s){let m=b.rgxwsdephq30fc029e545d42a9b91ffb41f8150da9(),u=r.find(l=>l.lmoqwdbfade3a77e9495b98f29a1f1dac5d4d(m));u&&(b.ntjskx7dc846b2e10648b4b164dabd7332e01b(u.tag,u.sectionTag,u.materialTag),d.push(b))}return{triangles:d.map(b=>b.dkzlukc41c231fd7324db183b3497128ac9d1b())}}var Ne=hn(tt());var nt=(h,r,o="")=>`View3dModel-${h}-${r}${o}`,rt=h=>`Triangles-${h}`;var gn=2220446049250313e-31;function fe(h,r,o,s){let d=Math.abs(h-r);return o==null&&(o=gn),s==null&&(s=o),d<=o||d<=s*Math.min(Math.abs(h),Math.abs(r))?!0:h===r}var $=class extends Error{constructor(r){super(r)}};function ot(h){if(h.length<3)throw new $("At least three vertices are required to form a face.");return{vertices:[...h.filter(r=>r)],results:[]}}var se=h=>{let r=(h.points??"").trim().split(/\s+/).map(s=>s.split(",")),o=[];for(let[s,d]of r){let b=parseFloat(s),m=parseFloat(d);if(Number.isFinite(b)&&Number.isFinite(m))o.push({x:b,y:m});else throw new $("Invalid vertex coordinates")}return{vertices:o}};function at(h){let r=0,o=0,s=0,d=h.length;for(let b=0;b<d;b++){let{x:m,y:u}=h[b],{x:l,y:x}=h[(b+1)%d],y=m*x-l*u;r+=y,o+=(m+l)*y,s+=(u+x)*y}return r*=.5,r===0?{x:0,y:0}:(o/=6*r,s/=6*r,{x:o,y:s})}function*it(h,r){let o=[...new Set(r.rectangles.map(c=>c.name).concat(r.polygons.map(c=>c.name)))],s=[];for(let c of h){let T=c.points.map(I=>Tn(I)),P=ot(T);if(o.indexOf(c.name)===-1)throw new $(`Geometry name ${c.name} not found in geometry rectangles or polygons.`);s.push(P)}let d=r.supports.map(c=>Rn(c)),b=h.flatMap(c=>c.points).map(c=>c.x).reduce((c,T)=>Math.max(c,T),-1/0),m=h.flatMap(c=>c.points).map(c=>c.x).reduce((c,T)=>Math.min(c,T),1/0),u=h.flatMap(c=>c.points).map(c=>c.y).reduce((c,T)=>Math.max(c,T),-1/0),l=h.flatMap(c=>c.points).map(c=>c.y).reduce((c,T)=>Math.min(c,T),1/0),x=b-m,y=u-l,N=[...r.polygons.map(c=>se(c)),...r.rectangles.map(c=>ie(c))].map(c=>c.vertices.map(T=>({x:T.x,y:T.y}))).map(c=>({points:c}));for(let c of r.loadCases)yield{faces:s,wireframeFaces:[],supports:d,borders:N,loads:wn(c,r),loadCaseTag:c.name,width:x,height:y}}function wn(h,r){let o=[];for(let s of h.pointLoads)fe(s.fx,0)||o.push({x:s.x,y:s.y,z:0,valueX:s.fx,valueY:0,valueZ:0,type:"point"}),fe(s.fy,0)||o.push({x:s.x,y:s.y,z:0,valueY:s.fy,valueZ:0,valueX:0,type:"point"});for(let s of h.distributedLoads){let d=r.polygons.filter(u=>u.name===s.geometryName).map(u=>se(u)),b=r.rectangles.filter(u=>u.name===s.geometryName).map(u=>ie(u)),m=[...d,...b];for(let u of m){let l=at(u.vertices);fe(s.fx,0)||o.push({x:l.x,y:l.y,z:0,valueX:s.fx,valueY:0,valueZ:0,type:"distributed"}),fe(s.fy,0)||o.push({x:l.x,y:l.y,z:0,valueX:0,valueY:s.fy,valueZ:0,type:"distributed"})}}return o}function Tn(h){return{x:h.x,y:h.y,z:0,ux:0,uy:0,uz:0,value:0}}function Rn(h){return{x:h.x,y:h.y,z:0,ux:h.fixedX,uy:h.fixedY,uz:!1}}addEventListener("message",({data:h})=>{En(h)});var En=async h=>{let{geometry:r,uuid:o,baseTriangles:s}=h,d=r.loadCases.flatMap(P=>P.pointLoads).map(P=>({x:P.x,y:P.y})),b=r.supports.map(P=>({x:P.x,y:P.y})),m=r.resultPoints.map(P=>({x:P.x,y:P.y})),u=r.rectangles.map(P=>In(P)),l=r.polygons.map(P=>Dn(P)),x=u.concat(l),y={maxTriangleArea:r.meshingConfiguration.maxMeshArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(P=>Pn(P))},c=He({polygons:x,extraPoints:d.concat(b).concat(m),meshingConfiguration:y,baseTriangles:s.map(P=>An(P))}).triangles.map(P=>Nn(P));await Ne.setItem(rt(o),c);for(let P of it(c,r))await Ne.setItem(nt(o,P.loadCaseTag),P);postMessage({uuid:o})},Pn=h=>({radius:h.radius,maxTriangleArea:h.maxArea,center:{x:h.x,y:h.y}}),Sn=h=>({x:h.x,y:h.y}),Nn=h=>({points:h.points.map(o=>Sn(o)),name:h.tag,sectionTag:h.sectionTag,materialTag:h.materialTag}),In=h=>({points:ie(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),Dn=h=>({points:se(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),An=h=>({points:h.points.map(o=>({x:o.x,y:o.y}))});
