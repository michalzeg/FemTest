var fn=Object.create;var Je=Object.defineProperty;var sn=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,dn=Object.prototype.hasOwnProperty;var ae=(h=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(h,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):h)(function(h){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+h+'" is not supported')});var ln=(h,r)=>()=>(r||h((r={exports:{}}).exports,r),r.exports);var mn=(h,r,o,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let c of cn(r))!dn.call(h,c)&&c!==o&&Je(h,c,{get:()=>r[c],enumerable:!(s=sn(r,c))||s.enumerable});return h};var bn=(h,r,o)=>(o=h!=null?fn(un(h)):{},mn(r||!h||!h.__esModule?Je(o,"default",{value:h,enumerable:!0}):o,h));var tt=ln((et,Se)=>{"use strict";(function(h){if(typeof et=="object"&&typeof Se<"u")Se.exports=h();else if(typeof define=="function"&&define.amd)define([],h);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=h()}})(function(){var h,r,o;return function s(c,x,l){function m(g,I){if(!x[g]){if(!c[g]){var u=typeof ae=="function"&&ae;if(!I&&u)return u(g,!0);if(b)return b(g,!0);var w=new Error("Cannot find module '"+g+"'");throw w.code="MODULE_NOT_FOUND",w}var R=x[g]={exports:{}};c[g][0].call(R.exports,function(P){var D=c[g][1][P];return m(D||P)},R,R.exports,s,c,x,l)}return x[g].exports}for(var b=typeof ae=="function"&&ae,d=0;d<l.length;d++)m(l[d]);return m}({1:[function(s,c,x){(function(l){"use strict";var m=l.MutationObserver||l.WebKitMutationObserver,b;if(m){var d=0,g=new m(P),I=l.document.createTextNode("");g.observe(I,{characterData:!0}),b=function(){I.data=d=++d%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var u=new l.MessageChannel;u.port1.onmessage=P,b=function(){u.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?b=function(){var z=l.document.createElement("script");z.onreadystatechange=function(){P(),z.onreadystatechange=null,z.parentNode.removeChild(z),z=null},l.document.documentElement.appendChild(z)}:b=function(){setTimeout(P,0)};var w,R=[];function P(){w=!0;for(var z,j,F=R.length;F;){for(j=R,R=[],z=-1;++z<F;)j[z]();F=R.length}w=!1}c.exports=D;function D(z){R.push(z)===1&&!w&&b()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(s,c,x){"use strict";var l=s(1);function m(){}var b={},d=["REJECTED"],g=["FULFILLED"],I=["PENDING"];c.exports=u;function u(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,E!==m&&D(this,E)}u.prototype.catch=function(E){return this.then(null,E)},u.prototype.then=function(E,N){if(typeof E!="function"&&this.state===g||typeof N!="function"&&this.state===d)return this;var M=new this.constructor(m);if(this.state!==I){var B=this.state===g?E:N;R(M,B,this.outcome)}else this.queue.push(new w(M,E,N));return M};function w(E,N,M){this.promise=E,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}w.prototype.callFulfilled=function(E){b.resolve(this.promise,E)},w.prototype.otherCallFulfilled=function(E){R(this.promise,this.onFulfilled,E)},w.prototype.callRejected=function(E){b.reject(this.promise,E)},w.prototype.otherCallRejected=function(E){R(this.promise,this.onRejected,E)};function R(E,N,M){l(function(){var B;try{B=N(M)}catch(W){return b.reject(E,W)}B===E?b.reject(E,new TypeError("Cannot resolve promise with itself")):b.resolve(E,B)})}b.resolve=function(E,N){var M=z(P,N);if(M.status==="error")return b.reject(E,M.value);var B=M.value;if(B)D(E,B);else{E.state=g,E.outcome=N;for(var W=-1,G=E.queue.length;++W<G;)E.queue[W].callFulfilled(N)}return E},b.reject=function(E,N){E.state=d,E.outcome=N;for(var M=-1,B=E.queue.length;++M<B;)E.queue[M].callRejected(N);return E};function P(E){var N=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof N=="function")return function(){N.apply(E,arguments)}}function D(E,N){var M=!1;function B(q){M||(M=!0,b.reject(E,q))}function W(q){M||(M=!0,b.resolve(E,q))}function G(){N(W,B)}var U=z(G);U.status==="error"&&B(U.value)}function z(E,N){var M={};try{M.value=E(N),M.status="success"}catch(B){M.status="error",M.value=B}return M}u.resolve=j;function j(E){return E instanceof this?E:b.resolve(new this(m),E)}u.reject=F;function F(E){var N=new this(m);return b.reject(N,E)}u.all=me;function me(E){var N=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=E.length,B=!1;if(!M)return this.resolve([]);for(var W=new Array(M),G=0,U=-1,q=new this(m);++U<M;)H(E[U],U);return q;function H(ne,ce){N.resolve(ne).then(be,function(ee){B||(B=!0,b.reject(q,ee))});function be(ee){W[ce]=ee,++G===M&&!B&&(B=!0,b.resolve(q,W))}}}u.race=X;function X(E){var N=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=E.length,B=!1;if(!M)return this.resolve([]);for(var W=-1,G=new this(m);++W<M;)U(E[W]);return G;function U(q){N.resolve(q).then(function(H){B||(B=!0,b.resolve(G,H))},function(H){B||(B=!0,b.reject(G,H))})}}},{1:1}],3:[function(s,c,x){(function(l){"use strict";typeof l.Promise!="function"&&(l.Promise=s(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(s,c,x){"use strict";var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function m(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function b(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=b();function g(){try{if(!d||!d.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function I(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(a){if(a.name!=="TypeError")throw a;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,f=0;f<e.length;f+=1)i.append(e[f]);return i.getBlob(n.type)}}typeof Promise>"u"&&s(3);var u=Promise;function w(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function R(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function P(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function D(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var z="local-forage-detect-blob-support",j=void 0,F={},me=Object.prototype.toString,X="readonly",E="readwrite";function N(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),f=0;f<n;f++)i[f]=e.charCodeAt(f);return t}function M(e){return new u(function(n){var t=e.transaction(z,E),i=I([""]);t.objectStore(z).put(i,"key"),t.onabort=function(f){f.preventDefault(),f.stopPropagation(),n(!1)},t.oncomplete=function(){var f=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);n(a||!f||parseInt(f[1],10)>=43)}}).catch(function(){return!1})}function B(e){return typeof j=="boolean"?u.resolve(j):M(e).then(function(n){return j=n,j})}function W(e){var n=F[e.name],t={};t.promise=new u(function(i,f){t.resolve=i,t.reject=f}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function G(e){var n=F[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function U(e,n){var t=F[e.name],i=t.deferredOperations.pop();if(i)return i.reject(n),i.promise}function q(e,n){return new u(function(t,i){if(F[e.name]=F[e.name]||Ae(),e.db)if(n)W(e),e.db.close();else return t(e.db);var f=[e.name];n&&f.push(e.version);var a=d.open.apply(d,f);n&&(a.onupgradeneeded=function(p){var y=a.result;try{y.createObjectStore(e.storeName),p.oldVersion<=1&&y.createObjectStore(z)}catch(v){if(v.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw v}}),a.onerror=function(p){p.preventDefault(),i(a.error)},a.onsuccess=function(){var p=a.result;p.onversionchange=function(y){y.target.close()},t(p),G(e)}})}function H(e){return q(e,!1)}function ne(e){return q(e,!0)}function ce(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,f=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),f||t){if(t){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function be(e){return new u(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(f){var a=btoa(f.target.result||"");n({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var n=N(atob(e.data));return I([n],{type:e.type})}function De(e){return e&&e.__local_forage_encoded_blob}function ft(e){var n=this,t=n._initReady().then(function(){var i=F[n._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return R(t,e,e),t}function st(e){W(e);for(var n=F[e.name],t=n.forages,i=0;i<t.length;i++){var f=t[i];f._dbInfo.db&&(f._dbInfo.db.close(),f._dbInfo.db=null)}return e.db=null,H(e).then(function(a){return e.db=a,ce(e)?ne(e):a}).then(function(a){e.db=n.db=a;for(var p=0;p<t.length;p++)t[p]._dbInfo.db=a}).catch(function(a){throw U(e,a),a})}function Z(e,n,t,i){i===void 0&&(i=1);try{var f=e.db.transaction(e.storeName,n);t(null,f)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return u.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return st(e).then(function(){Z(e,n,t,i-1)})}).catch(t);t(a)}}function Ae(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ct(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var f=F[t.name];f||(f=Ae(),F[t.name]=f),f.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=ft);var a=[];function p(){return u.resolve()}for(var y=0;y<f.forages.length;y++){var v=f.forages[y];v!==n&&a.push(v._initReady().catch(p))}var _=f.forages.slice(0);return u.all(a).then(function(){return t.db=f.db,H(t)}).then(function(T){return t.db=T,ce(t,n._defaultConfig.version)?ne(t):T}).then(function(T){t.db=f.db=T,n._dbInfo=t;for(var S=0;S<_.length;S++){var A=_[S];A!==n&&(A._dbInfo.db=t.db,A._dbInfo.version=t.version)}})}function ut(e,n){var t=this;e=P(e);var i=new u(function(f,a){t.ready().then(function(){Z(t._dbInfo,X,function(p,y){if(p)return a(p);try{var v=y.objectStore(t._dbInfo.storeName),_=v.get(e);_.onsuccess=function(){var T=_.result;T===void 0&&(T=null),De(T)&&(T=ee(T)),f(T)},_.onerror=function(){a(_.error)}}catch(T){a(T)}})}).catch(a)});return w(i,n),i}function dt(e,n){var t=this,i=new u(function(f,a){t.ready().then(function(){Z(t._dbInfo,X,function(p,y){if(p)return a(p);try{var v=y.objectStore(t._dbInfo.storeName),_=v.openCursor(),T=1;_.onsuccess=function(){var S=_.result;if(S){var A=S.value;De(A)&&(A=ee(A));var L=e(A,S.key,T++);L!==void 0?f(L):S.continue()}else f()},_.onerror=function(){a(_.error)}}catch(S){a(S)}})}).catch(a)});return w(i,n),i}function lt(e,n,t){var i=this;e=P(e);var f=new u(function(a,p){var y;i.ready().then(function(){return y=i._dbInfo,me.call(n)==="[object Blob]"?B(y.db).then(function(v){return v?n:be(n)}):n}).then(function(v){Z(i._dbInfo,E,function(_,T){if(_)return p(_);try{var S=T.objectStore(i._dbInfo.storeName);v===null&&(v=void 0);var A=S.put(v,e);T.oncomplete=function(){v===void 0&&(v=null),a(v)},T.onabort=T.onerror=function(){var L=A.error?A.error:A.transaction.error;p(L)}}catch(L){p(L)}})}).catch(p)});return w(f,t),f}function mt(e,n){var t=this;e=P(e);var i=new u(function(f,a){t.ready().then(function(){Z(t._dbInfo,E,function(p,y){if(p)return a(p);try{var v=y.objectStore(t._dbInfo.storeName),_=v.delete(e);y.oncomplete=function(){f()},y.onerror=function(){a(_.error)},y.onabort=function(){var T=_.error?_.error:_.transaction.error;a(T)}}catch(T){a(T)}})}).catch(a)});return w(i,n),i}function bt(e){var n=this,t=new u(function(i,f){n.ready().then(function(){Z(n._dbInfo,E,function(a,p){if(a)return f(a);try{var y=p.objectStore(n._dbInfo.storeName),v=y.clear();p.oncomplete=function(){i()},p.onabort=p.onerror=function(){var _=v.error?v.error:v.transaction.error;f(_)}}catch(_){f(_)}})}).catch(f)});return w(t,e),t}function ht(e){var n=this,t=new u(function(i,f){n.ready().then(function(){Z(n._dbInfo,X,function(a,p){if(a)return f(a);try{var y=p.objectStore(n._dbInfo.storeName),v=y.count();v.onsuccess=function(){i(v.result)},v.onerror=function(){f(v.error)}}catch(_){f(_)}})}).catch(f)});return w(t,e),t}function pt(e,n){var t=this,i=new u(function(f,a){if(e<0){f(null);return}t.ready().then(function(){Z(t._dbInfo,X,function(p,y){if(p)return a(p);try{var v=y.objectStore(t._dbInfo.storeName),_=!1,T=v.openKeyCursor();T.onsuccess=function(){var S=T.result;if(!S){f(null);return}e===0||_?f(S.key):(_=!0,S.advance(e))},T.onerror=function(){a(T.error)}}catch(S){a(S)}})}).catch(a)});return w(i,n),i}function xt(e){var n=this,t=new u(function(i,f){n.ready().then(function(){Z(n._dbInfo,X,function(a,p){if(a)return f(a);try{var y=p.objectStore(n._dbInfo.storeName),v=y.openKeyCursor(),_=[];v.onsuccess=function(){var T=v.result;if(!T){i(_);return}_.push(T.key),T.continue()},v.onerror=function(){f(v.error)}}catch(T){f(T)}})}).catch(f)});return w(t,e),t}function yt(e,n){n=D.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,f;if(!e.name)f=u.reject("Invalid arguments");else{var a=e.name===t.name&&i._dbInfo.db,p=a?u.resolve(i._dbInfo.db):H(e).then(function(y){var v=F[e.name],_=v.forages;v.db=y;for(var T=0;T<_.length;T++)_[T]._dbInfo.db=y;return y});e.storeName?f=p.then(function(y){if(y.objectStoreNames.contains(e.storeName)){var v=y.version+1;W(e);var _=F[e.name],T=_.forages;y.close();for(var S=0;S<T.length;S++){var A=T[S];A._dbInfo.db=null,A._dbInfo.version=v}var L=new u(function(C,O){var V=d.open(e.name,v);V.onerror=function(K){var oe=V.result;oe.close(),O(K)},V.onupgradeneeded=function(){var K=V.result;K.deleteObjectStore(e.storeName)},V.onsuccess=function(){var K=V.result;K.close(),C(K)}});return L.then(function(C){_.db=C;for(var O=0;O<T.length;O++){var V=T[O];V._dbInfo.db=C,G(V._dbInfo)}}).catch(function(C){throw(U(e,C)||u.resolve()).catch(function(){}),C})}}):f=p.then(function(y){W(e);var v=F[e.name],_=v.forages;y.close();for(var T=0;T<_.length;T++){var S=_[T];S._dbInfo.db=null}var A=new u(function(L,C){var O=d.deleteDatabase(e.name);O.onerror=function(){var V=O.result;V&&V.close(),C(O.error)},O.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},O.onsuccess=function(){var V=O.result;V&&V.close(),L(V)}});return A.then(function(L){v.db=L;for(var C=0;C<_.length;C++){var O=_[C];G(O._dbInfo)}}).catch(function(L){throw(U(e,L)||u.resolve()).catch(function(){}),L})})}return w(f,n),f}var gt={_driver:"asyncStorage",_initStorage:ct,_support:g(),iterate:dt,getItem:ut,setItem:lt,removeItem:mt,clear:bt,length:ht,key:pt,keys:xt,dropInstance:yt};function vt(){return typeof openDatabase=="function"}var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t="~~local_forage_type~",Me=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",he=ue.length,pe="arbf",xe="blob",Ne="si08",Le="ui08",Ce="uic8",Be="si16",Ve="si32",Oe="ur16",ze="ui32",Fe="fl32",We="fl64",Ge=he+pe.length,ke=Object.prototype.toString;function Ue(e){var n=e.length*.75,t=e.length,i,f=0,a,p,y,v;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var _=new ArrayBuffer(n),T=new Uint8Array(_);for(i=0;i<t;i+=4)a=J.indexOf(e[i]),p=J.indexOf(e[i+1]),y=J.indexOf(e[i+2]),v=J.indexOf(e[i+3]),T[f++]=a<<2|p>>4,T[f++]=(p&15)<<4|y>>2,T[f++]=(y&3)<<6|v&63;return _}function ye(e){var n=new Uint8Array(e),t="",i;for(i=0;i<n.length;i+=3)t+=J[n[i]>>2],t+=J[(n[i]&3)<<4|n[i+1]>>4],t+=J[(n[i+1]&15)<<2|n[i+2]>>6],t+=J[n[i+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function wt(e,n){var t="";if(e&&(t=ke.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&ke.call(e.buffer)==="[object ArrayBuffer]")){var i,f=ue;e instanceof ArrayBuffer?(i=e,f+=pe):(i=e.buffer,t==="[object Int8Array]"?f+=Ne:t==="[object Uint8Array]"?f+=Le:t==="[object Uint8ClampedArray]"?f+=Ce:t==="[object Int16Array]"?f+=Be:t==="[object Uint16Array]"?f+=Oe:t==="[object Int32Array]"?f+=Ve:t==="[object Uint32Array]"?f+=ze:t==="[object Float32Array]"?f+=Fe:t==="[object Float64Array]"?f+=We:n(new Error("Failed to get type for BinaryArray"))),n(f+ye(i))}else if(t==="[object Blob]"){var a=new FileReader;a.onload=function(){var p=_t+e.type+"~"+ye(this.result);n(ue+xe+p)},a.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(p){console.error("Couldn't convert value into a JSON string: ",e),n(null,p)}}function Tt(e){if(e.substring(0,he)!==ue)return JSON.parse(e);var n=e.substring(Ge),t=e.substring(he,Ge),i;if(t===xe&&Me.test(n)){var f=n.match(Me);i=f[1],n=n.substring(f[0].length)}var a=Ue(n);switch(t){case pe:return a;case xe:return I([a],{type:i});case Ne:return new Int8Array(a);case Le:return new Uint8Array(a);case Ce:return new Uint8ClampedArray(a);case Be:return new Int16Array(a);case Oe:return new Uint16Array(a);case Ve:return new Int32Array(a);case ze:return new Uint32Array(a);case Fe:return new Float32Array(a);case We:return new Float64Array(a);default:throw new Error("Unkown type: "+t)}}var ge={serialize:wt,deserialize:Tt,stringToBuffer:Ue,bufferToString:ye};function qe(e,n,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function Et(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var f=new u(function(a,p){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(y){return p(y)}t.db.transaction(function(y){qe(y,t,function(){n._dbInfo=t,a()},function(v,_){p(_)})},p)});return t.serializer=ge,f}function Q(e,n,t,i,f,a){e.executeSql(t,i,f,function(p,y){y.code===y.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(v,_){_.rows.length?a(v,y):qe(v,n,function(){v.executeSql(t,i,f,a)},a)},a):a(p,y)},a)}function Rt(e,n){var t=this;e=P(e);var i=new u(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){Q(y,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[e],function(v,_){var T=_.rows.length?_.rows.item(0).value:null;T&&(T=p.serializer.deserialize(T)),f(T)},function(v,_){a(_)})})}).catch(a)});return w(i,n),i}function It(e,n){var t=this,i=new u(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){Q(y,p,"SELECT * FROM "+p.storeName,[],function(v,_){for(var T=_.rows,S=T.length,A=0;A<S;A++){var L=T.item(A),C=L.value;if(C&&(C=p.serializer.deserialize(C)),C=e(C,L.key,A+1),C!==void 0){f(C);return}}f()},function(v,_){a(_)})})}).catch(a)});return w(i,n),i}function Ke(e,n,t,i){var f=this;e=P(e);var a=new u(function(p,y){f.ready().then(function(){n===void 0&&(n=null);var v=n,_=f._dbInfo;_.serializer.serialize(n,function(T,S){S?y(S):_.db.transaction(function(A){Q(A,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[e,T],function(){p(v)},function(L,C){y(C)})},function(A){if(A.code===A.QUOTA_ERR){if(i>0){p(Ke.apply(f,[e,v,t,i-1]));return}y(A)}})})}).catch(y)});return w(a,t),a}function St(e,n,t){return Ke.apply(this,[e,n,t,1])}function Pt(e,n){var t=this;e=P(e);var i=new u(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){Q(y,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[e],function(){f()},function(v,_){a(_)})})}).catch(a)});return w(i,n),i}function Dt(e){var n=this,t=new u(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Q(p,a,"DELETE FROM "+a.storeName,[],function(){i()},function(y,v){f(v)})})}).catch(f)});return w(t,e),t}function At(e){var n=this,t=new u(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Q(p,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(y,v){var _=v.rows.item(0).c;i(_)},function(y,v){f(v)})})}).catch(f)});return w(t,e),t}function Mt(e,n){var t=this,i=new u(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){Q(y,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[e+1],function(v,_){var T=_.rows.length?_.rows.item(0).key:null;f(T)},function(v,_){a(_)})})}).catch(a)});return w(i,n),i}function Nt(e){var n=this,t=new u(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Q(p,a,"SELECT key FROM "+a.storeName,[],function(y,v){for(var _=[],T=0;T<v.rows.length;T++)_.push(v.rows.item(T).key);i(_)},function(y,v){f(v)})})}).catch(f)});return w(t,e),t}function Lt(e){return new u(function(n,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(f,a){for(var p=[],y=0;y<a.rows.length;y++)p.push(a.rows.item(y).name);n({db:e,storeNames:p})},function(f,a){t(a)})},function(i){t(i)})})}function Ct(e,n){n=D.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,f;return e.name?f=new u(function(a){var p;e.name===t.name?p=i._dbInfo.db:p=openDatabase(e.name,"","",0),e.storeName?a({db:p,storeNames:[e.storeName]}):a(Lt(p))}).then(function(a){return new u(function(p,y){a.db.transaction(function(v){function _(L){return new u(function(C,O){v.executeSql("DROP TABLE IF EXISTS "+L,[],function(){C()},function(V,K){O(K)})})}for(var T=[],S=0,A=a.storeNames.length;S<A;S++)T.push(_(a.storeNames[S]));u.all(T).then(function(){p()}).catch(function(L){y(L)})},function(v){y(v)})})}):f=u.reject("Invalid arguments"),w(f,n),f}var Bt={_driver:"webSQLStorage",_initStorage:Et,_support:vt(),iterate:It,getItem:Rt,setItem:St,removeItem:Pt,clear:Dt,length:At,key:Mt,keys:Nt,dropInstance:Ct};function Vt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ye(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Ot(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function zt(){return!Ot()||localStorage.length>0}function Ft(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=Ye(e,n._defaultConfig),zt()?(n._dbInfo=t,t.serializer=ge,u.resolve()):u.reject()}function Wt(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo.keyPrefix,f=localStorage.length-1;f>=0;f--){var a=localStorage.key(f);a.indexOf(i)===0&&localStorage.removeItem(a)}});return w(t,e),t}function Gt(e,n){var t=this;e=P(e);var i=t.ready().then(function(){var f=t._dbInfo,a=localStorage.getItem(f.keyPrefix+e);return a&&(a=f.serializer.deserialize(a)),a});return w(i,n),i}function kt(e,n){var t=this,i=t.ready().then(function(){for(var f=t._dbInfo,a=f.keyPrefix,p=a.length,y=localStorage.length,v=1,_=0;_<y;_++){var T=localStorage.key(_);if(T.indexOf(a)===0){var S=localStorage.getItem(T);if(S&&(S=f.serializer.deserialize(S)),S=e(S,T.substring(p),v++),S!==void 0)return S}}});return w(i,n),i}function Ut(e,n){var t=this,i=t.ready().then(function(){var f=t._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(f.keyPrefix.length)),a});return w(i,n),i}function qt(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo,f=localStorage.length,a=[],p=0;p<f;p++){var y=localStorage.key(p);y.indexOf(i.keyPrefix)===0&&a.push(y.substring(i.keyPrefix.length))}return a});return w(t,e),t}function Kt(e){var n=this,t=n.keys().then(function(i){return i.length});return w(t,e),t}function Yt(e,n){var t=this;e=P(e);var i=t.ready().then(function(){var f=t._dbInfo;localStorage.removeItem(f.keyPrefix+e)});return w(i,n),i}function jt(e,n,t){var i=this;e=P(e);var f=i.ready().then(function(){n===void 0&&(n=null);var a=n;return new u(function(p,y){var v=i._dbInfo;v.serializer.serialize(n,function(_,T){if(T)y(T);else try{localStorage.setItem(v.keyPrefix+e,_),p(a)}catch(S){(S.name==="QuotaExceededError"||S.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(S),y(S)}})})});return w(f,t),f}function Ht(e,n){if(n=D.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,f;return e.name?f=new u(function(a){e.storeName?a(Ye(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var p=localStorage.length-1;p>=0;p--){var y=localStorage.key(p);y.indexOf(a)===0&&localStorage.removeItem(y)}}):f=u.reject("Invalid arguments"),w(f,n),f}var Zt={_driver:"localStorageWrapper",_initStorage:Ft,_support:Vt(),iterate:kt,getItem:Gt,setItem:jt,removeItem:Yt,clear:Wt,length:Kt,key:Ut,keys:qt,dropInstance:Ht},Jt=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},Qt=function(n,t){for(var i=n.length,f=0;f<i;){if(Jt(n[f],t))return!0;f++}return!1},je=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},He={},te={INDEXEDDB:gt,WEBSQL:Bt,LOCALSTORAGE:Zt},$t=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],de=["dropInstance"],ve=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),Xt={description:"",driver:$t.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function en(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function _e(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(je(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var tn=function(){function e(n){m(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],f=i._driver;this[t]=f,re[f]||this.defineDriver(i)}this._defaultConfig=_e({},Xt),this._config=_e({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":l(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,f){var a=new u(function(p,y){try{var v=t._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){y(_);return}for(var T=ve.concat("_initStorage"),S=0,A=T.length;S<A;S++){var L=T[S],C=!Qt(de,L);if((C||t[L])&&typeof t[L]!="function"){y(_);return}}var O=function(){for(var oe=function(on){return function(){var an=new Error("Method "+on+" is not implemented by the current driver"),Ze=u.reject(an);return w(Ze,arguments[arguments.length-1]),Ze}},we=0,rn=de.length;we<rn;we++){var Te=de[we];t[Te]||(t[Te]=oe(Te))}};O();var V=function(oe){re[v]&&console.info("Redefining LocalForage driver: "+v),re[v]=t,He[v]=oe,p()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(V,y):V(!!t._support):V(!0)}catch(K){y(K)}});return R(a,i,f),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,f){var a=re[t]?u.resolve(re[t]):u.reject(new Error("Driver not found."));return R(a,i,f),a},e.prototype.getSerializer=function(t){var i=u.resolve(ge);return R(i,t),i},e.prototype.ready=function(t){var i=this,f=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return R(f,t,t),f},e.prototype.setDriver=function(t,i,f){var a=this;je(t)||(t=[t]);var p=this._getSupportedDrivers(t);function y(){a._config.driver=a.driver()}function v(S){return a._extend(S),y(),a._ready=a._initStorage(a._config),a._ready}function _(S){return function(){var A=0;function L(){for(;A<S.length;){var C=S[A];return A++,a._dbInfo=null,a._ready=null,a.getDriver(C).then(v).catch(L)}y();var O=new Error("No available storage method found.");return a._driverSet=u.reject(O),a._driverSet}return L()}}var T=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=T.then(function(){var S=p[0];return a._dbInfo=null,a._ready=null,a.getDriver(S).then(function(A){a._driver=A._driver,y(),a._wrapLibraryMethodsWithReady(),a._initDriver=_(p)})}).catch(function(){y();var S=new Error("No available storage method found.");return a._driverSet=u.reject(S),a._driverSet}),R(this._driverSet,i,f),this._driverSet},e.prototype.supports=function(t){return!!He[t]},e.prototype._extend=function(t){_e(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],f=0,a=t.length;f<a;f++){var p=t[f];this.supports(p)&&i.push(p)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=ve.length;t<i;t++)en(this,ve[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),nn=new tn;c.exports=nn},{3:3}]},{},[4])(4)})});var ie=h=>({vertices:[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}]});function Ee(h,r){for(var o=h.length,s=h[o-1],c=r[0],x=r[1],l=s[0],m=s[1],b,d,g=!1,I=0;I<o;++I)s=h[I],b=s[0],d=s[1],d>x!=m>x&&c<(l-b)*(x-d)/(m-d)+b&&(g=!g),l=b,m=d;return g}var hn=2220446049250313e-31;function le(h,r,o,s){let c={};c.zkkLL=function(m,b){return m-b},c.RjFhi=function(m,b){return m==b},c.pcRjk=function(m,b){return m<=b},c.bwrtf=function(m,b){return m===b};let x=c,l=Math.abs(x.zkkLL(h,r));return x.RjFhi(o,null)&&(o=hn),s==null&&(s=o),l<=o||x.pcRjk(l,s*Math.min(Math.abs(h),Math.abs(r)))?!0:x.bwrtf(h,r)}var Y=class Ie{constructor(r,o){this.x=r,this.y=o}static awtmrrsif469320905ac4fb5a6b3f9ef496107b3(r){return new Ie(r.x,r.y)}ztbeil1d2bb214952e4b1dab18d42606f2c7f0(){let r={};return r.x=this.x,r.y=this.y,r}yyyetjn314788e446384ef9aa65752c74f85742(r){let o={KhcmR:function(c,x,l){return c(x,l)},QsatX:function(c,x,l){return c(x,l)}};return o.KhcmR(le,this.x,r.x)&&o.QsatX(le,this.y,r.y)}qakbml07d7c993b96849f6883816d98b797660(){return[this.x,this.y]}dmyzs8522b510ba474d2e824c7ddbbcd1bbac(r){let o={};o.fWewI=function(l,m){return l/m},o.qgOiI=function(l,m){return l+m};let s=o,c=s.fWewI(this.x+r.x,2),x=s.qgOiI(this.y,r.y)/2;return new Ie(c,x)}mpksk36a0155a26d344af9a2d23df8ca6df65(r){let o={};o.FOgCD=function(l,m){return l-m},o.roKlm=function(l,m){return l+m},o.OaTlI=function(l,m){return l*m};let s=o,c=s.FOgCD(r.x,this.x),x=s.FOgCD(r.y,this.y);return Math.sqrt(s.roKlm(c*c,s.OaTlI(x,x)))}};function Re(h,r,o){let s={};s.IzJaz=function(I,u){return I-u},s.rVMuy=function(I,u){return I-u},s.oQiLf=function(I,u){return I-u},s.AWzVu=function(I,u){return I+u},s.mNVGm=function(I,u){return I*u},s.rVRMt=function(I,u){return I===u},s.DjNTA=function(I,u){return I/u},s.KVMLu=function(I,u){return I*u};let c=s,x={x:c.IzJaz(h.x,r.x),y:h.y-r.y},l={x:c.rVMuy(o.x,r.x),y:c.oQiLf(o.y,r.y)},m=c.AWzVu(x.x*l.x,c.mNVGm(x.y,l.y)),b=Math.hypot(x.x,x.y),d=Math.hypot(l.x,l.y);if(c.rVRMt(b,0)||c.rVRMt(d,0))return 0;let g=Math.min(1,Math.max(-1,c.DjNTA(m,c.KVMLu(b,d))));return Math.acos(g)}var Qe=class{static mqawxccd52c4f953961f4902a667e7a96a0899a4(h,r,o){let s={};s.BYuZb=function(b,d){return b/d};let c=s,x=r.dmyzs8522b510ba474d2e824c7ddbbcd1bbac(o),l=c.BYuZb(r.mpksk36a0155a26d344af9a2d23df8ca6df65(o),2);return x.mpksk36a0155a26d344af9a2d23df8ca6df65(h)<=l}},pn=class k{constructor(r){this.points=r,!k.oaecmtad834211609244b89156d4278d847c4c(r)&&this.points.reverse()}tag="";sectionTag="";materialTag="";static awtmrrsif469320905ac4fb5a6b3f9ef496107b3(r){return new k(r.points.map(o=>Y.awtmrrsif469320905ac4fb5a6b3f9ef496107b3(o)))}ztbeil1d2bb214952e4b1dab18d42606f2c7f0(){return{points:this.points.map(r=>r.ztbeil1d2bb214952e4b1dab18d42606f2c7f0()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static oaecmtad834211609244b89156d4278d847c4c(r){let o={};o.cFBBh=function(b,d){return b-d},o.TErNg=function(b,d){return b-d},o.ERqPl=function(b,d){return b-d},o.MCrRX=function(b,d){return b>d};let s=o,[c,x,l]=r,m=s.cFBBh(s.TErNg(x.x,c.x)*(l.y-c.y),(x.y-c.y)*s.ERqPl(l.x,c.x));return s.MCrRX(m,0)}zxcva6f620b8deedd4094960ca0a628c16a73(r,o,s){this.tag=r,this.sectionTag=o,this.materialTag=s}fhwpcvsnefb31b5a029f43acb383dfe988ef7c0b(){let r={};r.pZuof=function(b,d){return b/d},r.ULgVE=function(b,d){return b+d},r.xncEA=function(b,d){return b+d};let o=r,[s,c,x]=this.points,l=o.pZuof(o.ULgVE(s.x+c.x,x.x),3),m=o.pZuof(o.xncEA(o.ULgVE(s.y,c.y),x.y),3);return new Y(l,m)}lfngicewyd81d82e8b8f244c1aa0c2762f571c0fc(r=.1){let o={};o.yXtQR=function(d,g){return d-g},o.CQdrE=function(d,g){return d+g},o.ZkIop=function(d,g){return d*g},o.WwyfW=function(d,g){return d*g},o.oYMeS=function(d,g){return d*g},o.FyRqU=function(d,g){return d/g},o.cobvP=function(d,g){return d+g};let s=o,c=this.fhwpcvsnefb31b5a029f43acb383dfe988ef7c0b(),x=this.points.map(d=>{let g=s.yXtQR(c.x,d.x),I=c.y-d.y;return Math.sqrt(s.CQdrE(g*g,s.ZkIop(I,I)))}),l=Math.max(...x),m=l*r;return this.points.map(d=>{let g=s.yXtQR(c.x,d.x),I=s.yXtQR(c.y,d.y),u=Math.sqrt(s.WwyfW(g,g)+s.oYMeS(I,I)),w=s.FyRqU(m,u);return new Y(s.cobvP(d.x,g*w),s.CQdrE(d.y,s.oYMeS(I,w)))})}rokyi204466c591c44b16ae1853235d37eddb(){let r=this.fhwpcvsnefb31b5a029f43acb383dfe988ef7c0b();return[new k([this.points[0],this.points[1],r]),new k([this.points[1],this.points[2],r]),new k([this.points[2],this.points[0],r])]}arstejo9dbabd9e26f44dd881dbc6170ba60d28(){let r={};r.zHsPG=function(d,g){return d/g},r.GovIk=function(d,g){return d+g},r.FgGpN=function(d,g){return d/g},r.xGRGR=function(d,g){return d+g},r.tNmBW=function(d,g){return d+g},r.CIchl=function(d,g){return d/g};let o=r,[s,c,x]=this.points,l=new Y(o.zHsPG(o.GovIk(s.x,c.x),2),o.FgGpN(o.GovIk(s.y,c.y),2)),m=new Y(o.GovIk(c.x,x.x)/2,o.zHsPG(o.xGRGR(c.y,x.y),2)),b=new Y(o.tNmBW(x.x,s.x)/2,o.CIchl(x.y+s.y,2));return[new k([s,l,b]),new k([l,c,m]),new k([b,m,x]),new k([l,m,b])]}zvdunxt8ed91914f45148f7861d48d0a6dd133d(){let r={};r.Abydf=function(P,D){return P*D},r.UWRHd=function(P,D){return P+D},r.pBfSV=function(P,D){return P*D},r.EfuOY=function(P,D){return P-D},r.ATwFI=function(P,D){return P<D},r.WsVhV=function(P,D){return P+D},r.joxJa=function(P,D){return P*D},r.oHHBx=function(P,D){return P-D},r.WDxuK=function(P,D){return P+D},r.IbaLv=function(P,D){return P/D},r.epiNu=function(P,D){return P+D},r.OhEjh=function(P,D){return P+D},r.REbyl=function(P,D){return P*D},r.LGBke=function(P,D){return P*D},r.ITHbT=function(P,D){return P*D},r.fZqZK=function(P,D){return P*D};let o=r,[s,c,x]=this.points,l=s.x,m=s.y,b=c.x,d=c.y,g=x.x,I=x.y,u=o.Abydf(2,o.UWRHd(o.UWRHd(o.pBfSV(l,o.EfuOY(d,I)),b*(I-m)),o.Abydf(g,m-d)));if(o.ATwFI(Math.abs(u),1e-10))return null;let w=o.UWRHd((o.Abydf(l,l)+o.pBfSV(m,m))*o.EfuOY(d,I)+o.pBfSV(o.WsVhV(o.joxJa(b,b),o.Abydf(d,d)),o.oHHBx(I,m)),o.pBfSV(o.WDxuK(o.pBfSV(g,g),I*I),o.oHHBx(m,d)))/u,R=o.IbaLv(o.epiNu(o.WsVhV(o.OhEjh(o.REbyl(l,l),o.LGBke(m,m))*(g-b),o.ITHbT(o.OhEjh(o.LGBke(b,b),o.Abydf(d,d)),o.oHHBx(l,g))),o.REbyl(o.WDxuK(o.fZqZK(g,g),o.ITHbT(I,I)),o.oHHBx(b,l))),u);return new Y(w,R)}iytsihq489e7b7180be4c0fa2e85cc68f92e1d6(){let r=this.zvdunxt8ed91914f45148f7861d48d0a6dd133d();return r===null?[]:[new k([this.points[0],this.points[1],r]),new k([this.points[1],this.points[2],r]),new k([this.points[2],this.points[0],r])]}xukfbbzpx9cb183e0a6244b39b194b6e212f24b7f(){let r={};r.IPVOs=function(w,R){return w*R},r.jNzBY=function(w,R){return w+R},r.EcAqu=function(w,R){return w+R},r.EWmLR=function(w,R){return w-R},r.VCwrg=function(w,R){return w*R},r.MsggN=function(w,R){return w-R};let o=r,[s,c,x]=this.points,l=s.x,m=c.x,b=x.x,d=s.y,g=c.y,I=x.y;return o.IPVOs(.5,Math.abs(o.jNzBY(o.EcAqu(l*o.EWmLR(g,I),o.IPVOs(m,o.EWmLR(I,d))),o.VCwrg(b,o.MsggN(d,g)))))}wzpmnd455a9c8eb944e6d9bd7174106086831(){let r={Zlgsb:function(s,c,x){return s(c,x)}},o=this.xukfbbzpx9cb183e0a6244b39b194b6e212f24b7f();return r.Zlgsb(le,o,0)}rohtsz3b16fa0d6a644ae5a8d9569bb6fce6a3(){let r={WDqiF:function(l,m,b,d){return l(m,b,d)},lHSxd:function(l,m,b,d){return l(m,b,d)}},[o,s,c]=this.points;return[r.WDqiF(Re,s,o,c),r.lHSxd(Re,o,s,c),r.lHSxd(Re,o,c,s)]}achyhqxgibcd9066a2bde4c08b4acfb34bde1147b(r=15*Math.PI/180){return!!this.rohtsz3b16fa0d6a644ae5a8d9569bb6fce6a3().some(s=>s<r)}zvoqivlzd9c0de0b5d9874a148cabb50012ef06db(){let r={};r.UcPpo=function(c,x){return c%x},r.PjViR=function(c,x){return c+x};let o=r,s=this.zvdunxt8ed91914f45148f7861d48d0a6dd133d();if(!s)return this.cteimtcc4dad9c503841f18da56e64a97ea858();for(let c=0;c<3;c++){let x=this.points[c],l=this.points[o.UcPpo(o.PjViR(c,1),3)];if(Qe.mqawxccd52c4f953961f4902a667e7a96a0899a4(s,x,l))return this.cteimtcc4dad9c503841f18da56e64a97ea858()}return s}silywttkju8be3a28ddacd4b899f50db51a6ad7b39(r){let[o,s,c]=this.points,x={};x.p1=o,x.p2=s;let l={};l.p1=s,l.p2=c;let m={};m.p1=c,m.p2=o;let b=[x,l,m],d=[];for(let g of b)for(let I of r)if(!this.points.some(u=>u.yyyetjn314788e446384ef9aa65752c74f85742(I))&&Qe.mqawxccd52c4f953961f4902a667e7a96a0899a4(I,g.p1,g.p2))return d.push(g.p1.dmyzs8522b510ba474d2e824c7ddbbcd1bbac(g.p2)),d;return d}lqvyr792087de0e2a4931a51a6acd4051fb6f(r){let o=this.zvdunxt8ed91914f45148f7861d48d0a6dd133d();return o?r.some(s=>s.tzpsra9026fbfb199f4786ab6e2b5280879d33(o))?o:this.cteimtcc4dad9c503841f18da56e64a97ea858():this.cteimtcc4dad9c503841f18da56e64a97ea858()}cteimtcc4dad9c503841f18da56e64a97ea858(){let r={};r.KUJnM=function(u,w){return u<w},r.IdcYd=function(u,w){return u>w};let o=r,[s,c,x]=this.points,l={};l.p1=s,l.p2=c;let m={};m.p1=c,m.p2=x;let b={};b.p1=x,b.p2=s;let d=[l,m,b],g=d[0],I=g.p1.mpksk36a0155a26d344af9a2d23df8ca6df65(g.p2);for(let u=1;o.KUJnM(u,d.length);u++){let w=d[u].p1.mpksk36a0155a26d344af9a2d23df8ca6df65(d[u].p2);o.IdcYd(w,I)&&(I=w,g=d[u])}return g.p1.dmyzs8522b510ba474d2e824c7ddbbcd1bbac(g.p2)}};var xn=class $e{constructor(r,o,s,c){let x={};x.mCOYj="2|4|1|0|3";let l=x,m=l.mCOYj.split("|"),b=0;for(;;){switch(m[b++]){case"0":this.materialTag=c;continue;case"1":this.sectionTag=s;continue;case"2":this.points=r;continue;case"3":this.d3Polygon=r.map(d=>[d.x,d.y]);continue;case"4":this.tag=o;continue}break}}d3Polygon;static awtmrrsif469320905ac4fb5a6b3f9ef496107b3(r){return new $e(r.points.map(o=>Y.awtmrrsif469320905ac4fb5a6b3f9ef496107b3(o)),r.tag,r.sectionTag,r.materialTag)}seuysggjnq40faa7a4d164455da61772488242ec38(r){let o={ZKgEp:function(s,c){return s-c},ejJgK:function(s,c){return s<c},KLhKT:function(s,c,x,l){return s(c,x,l)}};for(let s=0,c=o.ZKgEp(this.points.length,1);o.ejJgK(s,this.points.length);c=s++)if(o.KLhKT(yn,r,this.points[s],this.points[c]))return!0;return!1}tzpsra9026fbfb199f4786ab6e2b5280879d33(r){let o={NyVSr:function(c,x,l){return c(x,l)}};return this.seuysggjnq40faa7a4d164455da61772488242ec38(r)?!0:o.NyVSr(Ee,this.d3Polygon,[r.x,r.y])}zflhxjbdc2861562ecf47a18ce57d816c84e269(r,o){let s={};s.xlUpa=function(l,m){return l%m},s.UCesa=function(l,m){return l+m},s.TfKyl=function(l,m){return l-m},s.oaDoZ=function(l,m){return l*m},s.fZalO=function(l,m){return l*m},s.hQrJD=function(l,m){return l/m},s.RkGmg=function(l,m){return l<m},s.npFqF=function(l,m){return l*m},s.COaKn=function(l,m){return l+m},s.xnlJG=function(l,m){return l+m};let c=s,x=[];for(let l=0;l<r.length;l++){let m=r[l],b=r[c.xlUpa(c.UCesa(l,1),r.length)],d=c.TfKyl(b.x,m.x),g=c.TfKyl(b.y,m.y),I=Math.sqrt(c.oaDoZ(d,d)+c.fZalO(g,g)),u=Math.floor(c.hQrJD(I,o));x.push(new Y(m.x,m.y));for(let w=1;c.RkGmg(w,u);w++){let R=c.npFqF(w,o)/I,P=c.COaKn(m.x,R*d),D=c.xnlJG(m.y,R*g);x.push(new Y(P,D))}}return x}};function yn(h,r,o){let s={};s.oJTFs=function(b,d){return b-d},s.czFCK=function(b,d){return b*d},s.AWzxD=function(b,d){return b+d},s.IsUny=function(b,d){return b*d},s.JfnOe=function(b,d){return b-d},s.CgTqb=function(b,d){return b<d},s.uhyqZ=function(b,d){return b**d},s.hmmes=function(b,d){return b-d},s.iExni=function(b,d){return b-d},s.FnSTy=function(b,d){return b>d};let c=s,x=c.oJTFs(c.czFCK(h.y-r.y,c.oJTFs(o.x,r.x)),c.czFCK(c.oJTFs(h.x,r.x),c.oJTFs(o.y,r.y)));if(!le(Math.abs(x),0))return!1;let l=c.AWzxD(c.czFCK(h.x-r.x,c.oJTFs(o.x,r.x)),c.IsUny(c.JfnOe(h.y,r.y),c.JfnOe(o.y,r.y)));if(c.CgTqb(l,0))return!1;let m=c.AWzxD(c.uhyqZ(c.hmmes(o.x,r.x),2),c.iExni(o.y,r.y)**2);return!c.FnSTy(l,m)}function Xe(h){let r=h.polygons.map(x=>xn.awtmrrsif469320905ac4fb5a6b3f9ef496107b3(x)),o=h.baseTriangles.map(x=>pn.awtmrrsif469320905ac4fb5a6b3f9ef496107b3(x)),s=o,c=[];for(let x of s){let l=x.fhwpcvsnefb31b5a029f43acb383dfe988ef7c0b(),m=r.find(b=>b.tzpsra9026fbfb199f4786ab6e2b5280879d33(l));m&&(x.zxcva6f620b8deedd4094960ca0a628c16a73(m.tag,m.sectionTag,m.materialTag),c.push(x))}return{triangles:c.map(x=>x.ztbeil1d2bb214952e4b1dab18d42606f2c7f0())}}var Pe=bn(tt());var nt=(h,r,o="")=>`View3dModel-${h}-${r}${o}`,rt=h=>`Triangles-${h}`;var vn=2220446049250313e-31;function fe(h,r,o,s){let c=Math.abs(h-r);return o==null&&(o=vn),s==null&&(s=o),c<=o||c<=s*Math.min(Math.abs(h),Math.abs(r))?!0:h===r}var $=class extends Error{constructor(r){super(r)}};function ot(h){if(h.length<3)throw new $("At least three vertices are required to form a face.");return{vertices:[...h.filter(r=>r)],results:[]}}var se=h=>{let r=(h.points??"").trim().split(/\s+/).map(s=>s.split(",")),o=[];for(let[s,c]of r){let x=parseFloat(s),l=parseFloat(c);if(Number.isFinite(x)&&Number.isFinite(l))o.push({x,y:l});else throw new $("Invalid vertex coordinates")}return{vertices:o}};function at(h){let r=0,o=0,s=0,c=h.length;for(let x=0;x<c;x++){let{x:l,y:m}=h[x],{x:b,y:d}=h[(x+1)%c],g=l*d-b*m;r+=g,o+=(l+b)*g,s+=(m+d)*g}return r*=.5,r===0?{x:0,y:0}:(o/=6*r,s/=6*r,{x:o,y:s})}function*it(h,r){let o=[...new Set(r.rectangles.map(u=>u.name).concat(r.polygons.map(u=>u.name)))],s=[];for(let u of h){let w=u.points.map(D=>Tn(D)),R=ot(w);if(o.indexOf(u.name)===-1)throw new $(`Geometry name ${u.name} not found in geometry rectangles or polygons.`);s.push(R)}let c=r.supports.map(u=>En(u)),x=h.flatMap(u=>u.points).map(u=>u.x).reduce((u,w)=>Math.max(u,w),-1/0),l=h.flatMap(u=>u.points).map(u=>u.x).reduce((u,w)=>Math.min(u,w),1/0),m=h.flatMap(u=>u.points).map(u=>u.y).reduce((u,w)=>Math.max(u,w),-1/0),b=h.flatMap(u=>u.points).map(u=>u.y).reduce((u,w)=>Math.min(u,w),1/0),d=x-l,g=m-b,I=[...r.polygons.map(u=>se(u)),...r.rectangles.map(u=>ie(u))].map(u=>u.vertices.map(w=>({x:w.x,y:w.y}))).map(u=>({points:u}));for(let u of r.loadCases)yield{faces:s,wireframeFaces:[],supports:c,borders:I,loads:wn(u,r),loadCaseTag:u.name,width:d,height:g}}function wn(h,r){let o=[];for(let s of h.pointLoads)fe(s.fx,0)||o.push({x:s.x,y:s.y,z:0,valueX:s.fx,valueY:0,valueZ:0,type:"point"}),fe(s.fy,0)||o.push({x:s.x,y:s.y,z:0,valueY:s.fy,valueZ:0,valueX:0,type:"point"});for(let s of h.distributedLoads){let c=r.polygons.filter(m=>m.name===s.geometryName).map(m=>se(m)),x=r.rectangles.filter(m=>m.name===s.geometryName).map(m=>ie(m)),l=[...c,...x];for(let m of l){let b=at(m.vertices);fe(s.fx,0)||o.push({x:b.x,y:b.y,z:0,valueX:s.fx,valueY:0,valueZ:0,type:"distributed"}),fe(s.fy,0)||o.push({x:b.x,y:b.y,z:0,valueX:0,valueY:s.fy,valueZ:0,type:"distributed"})}}return o}function Tn(h){return{x:h.x,y:h.y,z:0,ux:0,uy:0,uz:0,value:0}}function En(h){return{x:h.x,y:h.y,z:0,ux:h.fixedX,uy:h.fixedY,uz:!1}}addEventListener("message",({data:h})=>{Rn(h)});var Rn=async h=>{let{geometry:r,uuid:o,baseTriangles:s}=h,c=r.loadCases.flatMap(R=>R.pointLoads).map(R=>({x:R.x,y:R.y})),x=r.supports.map(R=>({x:R.x,y:R.y})),l=r.resultPoints.map(R=>({x:R.x,y:R.y})),m=r.rectangles.map(R=>Dn(R)),b=r.polygons.map(R=>An(R)),d=m.concat(b),g={maxTriangleArea:r.meshingConfiguration.maxMeshArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(R=>In(R))},u=Xe({polygons:d,extraPoints:c.concat(x).concat(l),meshingConfiguration:g,baseTriangles:s.map(R=>Mn(R))}).triangles.map(R=>Pn(R));await Pe.setItem(rt(o),u);for(let R of it(u,r))await Pe.setItem(nt(o,R.loadCaseTag),R);postMessage({uuid:o})},In=h=>({radius:h.radius,maxTriangleArea:h.maxArea,center:{x:h.x,y:h.y}}),Sn=h=>({x:h.x,y:h.y}),Pn=h=>({points:h.points.map(o=>Sn(o)),name:h.tag,sectionTag:h.sectionTag,materialTag:h.materialTag}),Dn=h=>({points:ie(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),An=h=>({points:se(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),Mn=h=>({points:h.points.map(o=>({x:o.x,y:o.y}))});
