var yt=Object.create;var rn=Object.defineProperty;var gt=Object.getOwnPropertyDescriptor;var _t=Object.getOwnPropertyNames;var wt=Object.getPrototypeOf,Tt=Object.prototype.hasOwnProperty;var ae=(x=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(x,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):x)(function(x){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+x+'" is not supported')});var Pe=(x,r)=>()=>(r||x((r={exports:{}}).exports,r),r.exports);var Et=(x,r,o,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of _t(r))!Tt.call(x,u)&&u!==o&&rn(x,u,{get:()=>r[u],enumerable:!(f=gt(r,u))||f.enumerable});return x};var ie=(x,r,o)=>(o=x!=null?yt(wt(x)):{},Et(r||!x||!x.__esModule?rn(o,"default",{value:x,enumerable:!0}):o,x));var he=Pe((Ut,on)=>{"use strict";var Re=Math.abs,St=Math.min;function me(x,r,o,f){var u=Re(x-r);return o==null&&(o=me.DBL_EPSILON),f==null&&(f=o),u<=o||u<=f*St(Re(x),Re(r))?!0:x===r}me.FLT_EPSILON=11920929e-14;me.DBL_EPSILON=2220446049250313e-31;on.exports=me});var ln=Pe((dn,Le)=>{"use strict";(function(x){if(typeof dn=="object"&&typeof Le<"u")Le.exports=x();else if(typeof define=="function"&&define.amd)define([],x);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=x()}})(function(){var x,r,o;return function f(u,b,l){function m(_,S){if(!b[_]){if(!u[_]){var s=typeof ae=="function"&&ae;if(!S&&s)return s(_,!0);if(h)return h(_,!0);var T=new Error("Cannot find module '"+_+"'");throw T.code="MODULE_NOT_FOUND",T}var R=b[_]={exports:{}};u[_][0].call(R.exports,function(P){var N=u[_][1][P];return m(N||P)},R,R.exports,f,u,b,l)}return b[_].exports}for(var h=typeof ae=="function"&&ae,d=0;d<l.length;d++)m(l[d]);return m}({1:[function(f,u,b){(function(l){"use strict";var m=l.MutationObserver||l.WebKitMutationObserver,h;if(m){var d=0,_=new m(P),S=l.document.createTextNode("");_.observe(S,{characterData:!0}),h=function(){S.data=d=++d%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var s=new l.MessageChannel;s.port1.onmessage=P,h=function(){s.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?h=function(){var q=l.document.createElement("script");q.onreadystatechange=function(){P(),q.onreadystatechange=null,q.parentNode.removeChild(q),q=null},l.document.documentElement.appendChild(q)}:h=function(){setTimeout(P,0)};var T,R=[];function P(){T=!0;for(var q,H,z=R.length;z;){for(H=R,R=[],q=-1;++q<z;)H[q]();z=R.length}T=!1}u.exports=N;function N(q){R.push(q)===1&&!T&&h()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,u,b){"use strict";var l=f(1);function m(){}var h={},d=["REJECTED"],_=["FULFILLED"],S=["PENDING"];u.exports=s;function s(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=S,this.queue=[],this.outcome=void 0,E!==m&&N(this,E)}s.prototype.catch=function(E){return this.then(null,E)},s.prototype.then=function(E,A){if(typeof E!="function"&&this.state===_||typeof A!="function"&&this.state===d)return this;var C=new this.constructor(m);if(this.state!==S){var B=this.state===_?E:A;R(C,B,this.outcome)}else this.queue.push(new T(C,E,A));return C};function T(E,A,C){this.promise=E,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}T.prototype.callFulfilled=function(E){h.resolve(this.promise,E)},T.prototype.otherCallFulfilled=function(E){R(this.promise,this.onFulfilled,E)},T.prototype.callRejected=function(E){h.reject(this.promise,E)},T.prototype.otherCallRejected=function(E){R(this.promise,this.onRejected,E)};function R(E,A,C){l(function(){var B;try{B=A(C)}catch(k){return h.reject(E,k)}B===E?h.reject(E,new TypeError("Cannot resolve promise with itself")):h.resolve(E,B)})}h.resolve=function(E,A){var C=q(P,A);if(C.status==="error")return h.reject(E,C.value);var B=C.value;if(B)N(E,B);else{E.state=_,E.outcome=A;for(var k=-1,F=E.queue.length;++k<F;)E.queue[k].callFulfilled(A)}return E},h.reject=function(E,A){E.state=d,E.outcome=A;for(var C=-1,B=E.queue.length;++C<B;)E.queue[C].callRejected(A);return E};function P(E){var A=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof A=="function")return function(){A.apply(E,arguments)}}function N(E,A){var C=!1;function B(Y){C||(C=!0,h.reject(E,Y))}function k(Y){C||(C=!0,h.resolve(E,Y))}function F(){A(k,B)}var j=q(F);j.status==="error"&&B(j.value)}function q(E,A){var C={};try{C.value=E(A),C.status="success"}catch(B){C.status="error",C.value=B}return C}s.resolve=H;function H(E){return E instanceof this?E:h.resolve(new this(m),E)}s.reject=z;function z(E){var A=new this(m);return h.reject(A,E)}s.all=pe;function pe(E){var A=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=E.length,B=!1;if(!C)return this.resolve([]);for(var k=new Array(C),F=0,j=-1,Y=new this(m);++j<C;)Z(E[j],j);return Y;function Z(te,ue){A.resolve(te).then(be,function(ee){B||(B=!0,h.reject(Y,ee))});function be(ee){k[ue]=ee,++F===C&&!B&&(B=!0,h.resolve(Y,k))}}}s.race=J;function J(E){var A=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=E.length,B=!1;if(!C)return this.resolve([]);for(var k=-1,F=new this(m);++k<C;)j(E[k]);return F;function j(Y){A.resolve(Y).then(function(Z){B||(B=!0,h.resolve(F,Z))},function(Z){B||(B=!0,h.reject(F,Z))})}}},{1:1}],3:[function(f,u,b){(function(l){"use strict";typeof l.Promise!="function"&&(l.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,u,b){"use strict";var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=h();function _(){try{if(!d||!d.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function S(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(a){if(a.name!=="TypeError")throw a;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new n,c=0;c<e.length;c+=1)i.append(e[c]);return i.getBlob(t.type)}}typeof Promise>"u"&&f(3);var s=Promise;function T(e,t){t&&e.then(function(n){t(null,n)},function(n){t(n)})}function R(e,t,n){typeof t=="function"&&e.then(t),typeof n=="function"&&e.catch(n)}function P(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function N(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var q="local-forage-detect-blob-support",H=void 0,z={},pe=Object.prototype.toString,J="readonly",E="readwrite";function A(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),c=0;c<t;c++)i[c]=e.charCodeAt(c);return n}function C(e){return new s(function(t){var n=e.transaction(q,E),i=S([""]);n.objectStore(q).put(i,"key"),n.onabort=function(c){c.preventDefault(),c.stopPropagation(),t(!1)},n.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);t(a||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function B(e){return typeof H=="boolean"?s.resolve(H):C(e).then(function(t){return H=t,H})}function k(e){var t=z[e.name],n={};n.promise=new s(function(i,c){n.resolve=i,n.reject=c}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function F(e){var t=z[e.name],n=t.deferredOperations.pop();if(n)return n.resolve(),n.promise}function j(e,t){var n=z[e.name],i=n.deferredOperations.pop();if(i)return i.reject(t),i.promise}function Y(e,t){return new s(function(n,i){if(z[e.name]=z[e.name]||Ve(),e.db)if(t)k(e),e.db.close();else return n(e.db);var c=[e.name];t&&c.push(e.version);var a=d.open.apply(d,c);t&&(a.onupgradeneeded=function(p){var v=a.result;try{v.createObjectStore(e.storeName),p.oldVersion<=1&&v.createObjectStore(q)}catch(y){if(y.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw y}}),a.onerror=function(p){p.preventDefault(),i(a.error)},a.onsuccess=function(){var p=a.result;p.onversionchange=function(v){v.target.close()},n(p),F(e)}})}function Z(e){return Y(e,!1)}function te(e){return Y(e,!0)}function ue(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,c=e.version>e.db.version;if(i&&(e.version!==t&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),c||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function be(e){return new s(function(t,n){var i=new FileReader;i.onerror=n,i.onloadend=function(c){var a=btoa(c.target.result||"");t({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var t=A(atob(e.data));return S([t],{type:e.type})}function Oe(e){return e&&e.__local_forage_encoded_blob}function gn(e){var t=this,n=t._initReady().then(function(){var i=z[t._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return R(n,e,e),n}function _n(e){k(e);for(var t=z[e.name],n=t.forages,i=0;i<n.length;i++){var c=n[i];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return e.db=null,Z(e).then(function(a){return e.db=a,ue(e)?te(e):a}).then(function(a){e.db=t.db=a;for(var p=0;p<n.length;p++)n[p]._dbInfo.db=a}).catch(function(a){throw j(e,a),a})}function X(e,t,n,i){i===void 0&&(i=1);try{var c=e.db.transaction(e.storeName,t);n(null,c)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return s.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),te(e)}).then(function(){return _n(e).then(function(){X(e,t,n,i-1)})}).catch(n);n(a)}}function Ve(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function wn(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=e[i];var c=z[n.name];c||(c=Ve(),z[n.name]=c),c.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=gn);var a=[];function p(){return s.resolve()}for(var v=0;v<c.forages.length;v++){var y=c.forages[v];y!==t&&a.push(y._initReady().catch(p))}var g=c.forages.slice(0);return s.all(a).then(function(){return n.db=c.db,Z(n)}).then(function(w){return n.db=w,ue(n,t._defaultConfig.version)?te(n):w}).then(function(w){n.db=c.db=w,t._dbInfo=n;for(var I=0;I<g.length;I++){var D=g[I];D!==t&&(D._dbInfo.db=n.db,D._dbInfo.version=n.version)}})}function Tn(e,t){var n=this;e=P(e);var i=new s(function(c,a){n.ready().then(function(){X(n._dbInfo,J,function(p,v){if(p)return a(p);try{var y=v.objectStore(n._dbInfo.storeName),g=y.get(e);g.onsuccess=function(){var w=g.result;w===void 0&&(w=null),Oe(w)&&(w=ee(w)),c(w)},g.onerror=function(){a(g.error)}}catch(w){a(w)}})}).catch(a)});return T(i,t),i}function En(e,t){var n=this,i=new s(function(c,a){n.ready().then(function(){X(n._dbInfo,J,function(p,v){if(p)return a(p);try{var y=v.objectStore(n._dbInfo.storeName),g=y.openCursor(),w=1;g.onsuccess=function(){var I=g.result;if(I){var D=I.value;Oe(D)&&(D=ee(D));var L=e(D,I.key,w++);L!==void 0?c(L):I.continue()}else c()},g.onerror=function(){a(g.error)}}catch(I){a(I)}})}).catch(a)});return T(i,t),i}function Sn(e,t,n){var i=this;e=P(e);var c=new s(function(a,p){var v;i.ready().then(function(){return v=i._dbInfo,pe.call(t)==="[object Blob]"?B(v.db).then(function(y){return y?t:be(t)}):t}).then(function(y){X(i._dbInfo,E,function(g,w){if(g)return p(g);try{var I=w.objectStore(i._dbInfo.storeName);y===null&&(y=void 0);var D=I.put(y,e);w.oncomplete=function(){y===void 0&&(y=null),a(y)},w.onabort=w.onerror=function(){var L=D.error?D.error:D.transaction.error;p(L)}}catch(L){p(L)}})}).catch(p)});return T(c,n),c}function In(e,t){var n=this;e=P(e);var i=new s(function(c,a){n.ready().then(function(){X(n._dbInfo,E,function(p,v){if(p)return a(p);try{var y=v.objectStore(n._dbInfo.storeName),g=y.delete(e);v.oncomplete=function(){c()},v.onerror=function(){a(g.error)},v.onabort=function(){var w=g.error?g.error:g.transaction.error;a(w)}}catch(w){a(w)}})}).catch(a)});return T(i,t),i}function Pn(e){var t=this,n=new s(function(i,c){t.ready().then(function(){X(t._dbInfo,E,function(a,p){if(a)return c(a);try{var v=p.objectStore(t._dbInfo.storeName),y=v.clear();p.oncomplete=function(){i()},p.onabort=p.onerror=function(){var g=y.error?y.error:y.transaction.error;c(g)}}catch(g){c(g)}})}).catch(c)});return T(n,e),n}function Rn(e){var t=this,n=new s(function(i,c){t.ready().then(function(){X(t._dbInfo,J,function(a,p){if(a)return c(a);try{var v=p.objectStore(t._dbInfo.storeName),y=v.count();y.onsuccess=function(){i(y.result)},y.onerror=function(){c(y.error)}}catch(g){c(g)}})}).catch(c)});return T(n,e),n}function Nn(e,t){var n=this,i=new s(function(c,a){if(e<0){c(null);return}n.ready().then(function(){X(n._dbInfo,J,function(p,v){if(p)return a(p);try{var y=v.objectStore(n._dbInfo.storeName),g=!1,w=y.openKeyCursor();w.onsuccess=function(){var I=w.result;if(!I){c(null);return}e===0||g?c(I.key):(g=!0,I.advance(e))},w.onerror=function(){a(w.error)}}catch(I){a(I)}})}).catch(a)});return T(i,t),i}function Dn(e){var t=this,n=new s(function(i,c){t.ready().then(function(){X(t._dbInfo,J,function(a,p){if(a)return c(a);try{var v=p.objectStore(t._dbInfo.storeName),y=v.openKeyCursor(),g=[];y.onsuccess=function(){var w=y.result;if(!w){i(g);return}g.push(w.key),w.continue()},y.onerror=function(){c(y.error)}}catch(w){c(w)}})}).catch(c)});return T(n,e),n}function Cn(e,t){t=N.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i=this,c;if(!e.name)c=s.reject("Invalid arguments");else{var a=e.name===n.name&&i._dbInfo.db,p=a?s.resolve(i._dbInfo.db):Z(e).then(function(v){var y=z[e.name],g=y.forages;y.db=v;for(var w=0;w<g.length;w++)g[w]._dbInfo.db=v;return v});e.storeName?c=p.then(function(v){if(v.objectStoreNames.contains(e.storeName)){var y=v.version+1;k(e);var g=z[e.name],w=g.forages;v.close();for(var I=0;I<w.length;I++){var D=w[I];D._dbInfo.db=null,D._dbInfo.version=y}var L=new s(function(M,V){var O=d.open(e.name,y);O.onerror=function(U){var oe=O.result;oe.close(),V(U)},O.onupgradeneeded=function(){var U=O.result;U.deleteObjectStore(e.storeName)},O.onsuccess=function(){var U=O.result;U.close(),M(U)}});return L.then(function(M){g.db=M;for(var V=0;V<w.length;V++){var O=w[V];O._dbInfo.db=M,F(O._dbInfo)}}).catch(function(M){throw(j(e,M)||s.resolve()).catch(function(){}),M})}}):c=p.then(function(v){k(e);var y=z[e.name],g=y.forages;v.close();for(var w=0;w<g.length;w++){var I=g[w];I._dbInfo.db=null}var D=new s(function(L,M){var V=d.deleteDatabase(e.name);V.onerror=function(){var O=V.result;O&&O.close(),M(V.error)},V.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},V.onsuccess=function(){var O=V.result;O&&O.close(),L(O)}});return D.then(function(L){y.db=L;for(var M=0;M<g.length;M++){var V=g[M];F(V._dbInfo)}}).catch(function(L){throw(j(e,L)||s.resolve()).catch(function(){}),L})})}return T(c,t),c}var An={_driver:"asyncStorage",_initStorage:wn,_support:_(),iterate:En,getItem:Tn,setItem:Sn,removeItem:In,clear:Pn,length:Rn,key:Nn,keys:Dn,dropInstance:Cn};function Ln(){return typeof openDatabase=="function"}var Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mn="~~local_forage_type~",qe=/^~~local_forage_type~([^~]+)~/,de="__lfsc__:",ve=de.length,ye="arbf",ge="blob",ze="si08",ke="ui08",Fe="uic8",We="si16",je="si32",Ye="ur16",Ue="ui32",Ge="fl32",He="fl64",Ze=ve+ye.length,Xe=Object.prototype.toString;function Qe(e){var t=e.length*.75,n=e.length,i,c=0,a,p,v,y;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var g=new ArrayBuffer(t),w=new Uint8Array(g);for(i=0;i<n;i+=4)a=Q.indexOf(e[i]),p=Q.indexOf(e[i+1]),v=Q.indexOf(e[i+2]),y=Q.indexOf(e[i+3]),w[c++]=a<<2|p>>4,w[c++]=(p&15)<<4|v>>2,w[c++]=(v&3)<<6|y&63;return g}function _e(e){var t=new Uint8Array(e),n="",i;for(i=0;i<t.length;i+=3)n+=Q[t[i]>>2],n+=Q[(t[i]&3)<<4|t[i+1]>>4],n+=Q[(t[i+1]&15)<<2|t[i+2]>>6],n+=Q[t[i+2]&63];return t.length%3===2?n=n.substring(0,n.length-1)+"=":t.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function Bn(e,t){var n="";if(e&&(n=Xe.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&Xe.call(e.buffer)==="[object ArrayBuffer]")){var i,c=de;e instanceof ArrayBuffer?(i=e,c+=ye):(i=e.buffer,n==="[object Int8Array]"?c+=ze:n==="[object Uint8Array]"?c+=ke:n==="[object Uint8ClampedArray]"?c+=Fe:n==="[object Int16Array]"?c+=We:n==="[object Uint16Array]"?c+=Ye:n==="[object Int32Array]"?c+=je:n==="[object Uint32Array]"?c+=Ue:n==="[object Float32Array]"?c+=Ge:n==="[object Float64Array]"?c+=He:t(new Error("Failed to get type for BinaryArray"))),t(c+_e(i))}else if(n==="[object Blob]"){var a=new FileReader;a.onload=function(){var p=Mn+e.type+"~"+_e(this.result);t(de+ge+p)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(p){console.error("Couldn't convert value into a JSON string: ",e),t(null,p)}}function On(e){if(e.substring(0,ve)!==de)return JSON.parse(e);var t=e.substring(Ze),n=e.substring(ve,Ze),i;if(n===ge&&qe.test(t)){var c=t.match(qe);i=c[1],t=t.substring(c[0].length)}var a=Qe(t);switch(n){case ye:return a;case ge:return S([a],{type:i});case ze:return new Int8Array(a);case ke:return new Uint8Array(a);case Fe:return new Uint8ClampedArray(a);case We:return new Int16Array(a);case Ye:return new Uint16Array(a);case je:return new Int32Array(a);case Ue:return new Uint32Array(a);case Ge:return new Float32Array(a);case He:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}}var we={serialize:Bn,deserialize:On,stringToBuffer:Qe,bufferToString:_e};function Ke(e,t,n,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Vn(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=typeof e[i]!="string"?e[i].toString():e[i];var c=new s(function(a,p){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(v){return p(v)}n.db.transaction(function(v){Ke(v,n,function(){t._dbInfo=n,a()},function(y,g){p(g)})},p)});return n.serializer=we,c}function K(e,t,n,i,c,a){e.executeSql(n,i,c,function(p,v){v.code===v.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(y,g){g.rows.length?a(y,v):Ke(y,t,function(){y.executeSql(n,i,c,a)},a)},a):a(p,v)},a)}function qn(e,t){var n=this;e=P(e);var i=new s(function(c,a){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(v){K(v,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[e],function(y,g){var w=g.rows.length?g.rows.item(0).value:null;w&&(w=p.serializer.deserialize(w)),c(w)},function(y,g){a(g)})})}).catch(a)});return T(i,t),i}function zn(e,t){var n=this,i=new s(function(c,a){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(v){K(v,p,"SELECT * FROM "+p.storeName,[],function(y,g){for(var w=g.rows,I=w.length,D=0;D<I;D++){var L=w.item(D),M=L.value;if(M&&(M=p.serializer.deserialize(M)),M=e(M,L.key,D+1),M!==void 0){c(M);return}}c()},function(y,g){a(g)})})}).catch(a)});return T(i,t),i}function $e(e,t,n,i){var c=this;e=P(e);var a=new s(function(p,v){c.ready().then(function(){t===void 0&&(t=null);var y=t,g=c._dbInfo;g.serializer.serialize(t,function(w,I){I?v(I):g.db.transaction(function(D){K(D,g,"INSERT OR REPLACE INTO "+g.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){p(y)},function(L,M){v(M)})},function(D){if(D.code===D.QUOTA_ERR){if(i>0){p($e.apply(c,[e,y,n,i-1]));return}v(D)}})})}).catch(v)});return T(a,n),a}function kn(e,t,n){return $e.apply(this,[e,t,n,1])}function Fn(e,t){var n=this;e=P(e);var i=new s(function(c,a){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(v){K(v,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[e],function(){c()},function(y,g){a(g)})})}).catch(a)});return T(i,t),i}function Wn(e){var t=this,n=new s(function(i,c){t.ready().then(function(){var a=t._dbInfo;a.db.transaction(function(p){K(p,a,"DELETE FROM "+a.storeName,[],function(){i()},function(v,y){c(y)})})}).catch(c)});return T(n,e),n}function jn(e){var t=this,n=new s(function(i,c){t.ready().then(function(){var a=t._dbInfo;a.db.transaction(function(p){K(p,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(v,y){var g=y.rows.item(0).c;i(g)},function(v,y){c(y)})})}).catch(c)});return T(n,e),n}function Yn(e,t){var n=this,i=new s(function(c,a){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(v){K(v,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[e+1],function(y,g){var w=g.rows.length?g.rows.item(0).key:null;c(w)},function(y,g){a(g)})})}).catch(a)});return T(i,t),i}function Un(e){var t=this,n=new s(function(i,c){t.ready().then(function(){var a=t._dbInfo;a.db.transaction(function(p){K(p,a,"SELECT key FROM "+a.storeName,[],function(v,y){for(var g=[],w=0;w<y.rows.length;w++)g.push(y.rows.item(w).key);i(g)},function(v,y){c(y)})})}).catch(c)});return T(n,e),n}function Gn(e){return new s(function(t,n){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,a){for(var p=[],v=0;v<a.rows.length;v++)p.push(a.rows.item(v).name);t({db:e,storeNames:p})},function(c,a){n(a)})},function(i){n(i)})})}function Hn(e,t){t=N.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i=this,c;return e.name?c=new s(function(a){var p;e.name===n.name?p=i._dbInfo.db:p=openDatabase(e.name,"","",0),e.storeName?a({db:p,storeNames:[e.storeName]}):a(Gn(p))}).then(function(a){return new s(function(p,v){a.db.transaction(function(y){function g(L){return new s(function(M,V){y.executeSql("DROP TABLE IF EXISTS "+L,[],function(){M()},function(O,U){V(U)})})}for(var w=[],I=0,D=a.storeNames.length;I<D;I++)w.push(g(a.storeNames[I]));s.all(w).then(function(){p()}).catch(function(L){v(L)})},function(y){v(y)})})}):c=s.reject("Invalid arguments"),T(c,t),c}var Zn={_driver:"webSQLStorage",_initStorage:Vn,_support:Ln(),iterate:zn,getItem:qn,setItem:kn,removeItem:Fn,clear:Wn,length:jn,key:Yn,keys:Un,dropInstance:Hn};function Xn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Je(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Qn(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Kn(){return!Qn()||localStorage.length>0}function $n(e){var t=this,n={};if(e)for(var i in e)n[i]=e[i];return n.keyPrefix=Je(e,t._defaultConfig),Kn()?(t._dbInfo=n,n.serializer=we,s.resolve()):s.reject()}function Jn(e){var t=this,n=t.ready().then(function(){for(var i=t._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var a=localStorage.key(c);a.indexOf(i)===0&&localStorage.removeItem(a)}});return T(n,e),n}function et(e,t){var n=this;e=P(e);var i=n.ready().then(function(){var c=n._dbInfo,a=localStorage.getItem(c.keyPrefix+e);return a&&(a=c.serializer.deserialize(a)),a});return T(i,t),i}function nt(e,t){var n=this,i=n.ready().then(function(){for(var c=n._dbInfo,a=c.keyPrefix,p=a.length,v=localStorage.length,y=1,g=0;g<v;g++){var w=localStorage.key(g);if(w.indexOf(a)===0){var I=localStorage.getItem(w);if(I&&(I=c.serializer.deserialize(I)),I=e(I,w.substring(p),y++),I!==void 0)return I}}});return T(i,t),i}function tt(e,t){var n=this,i=n.ready().then(function(){var c=n._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(c.keyPrefix.length)),a});return T(i,t),i}function rt(e){var t=this,n=t.ready().then(function(){for(var i=t._dbInfo,c=localStorage.length,a=[],p=0;p<c;p++){var v=localStorage.key(p);v.indexOf(i.keyPrefix)===0&&a.push(v.substring(i.keyPrefix.length))}return a});return T(n,e),n}function ot(e){var t=this,n=t.keys().then(function(i){return i.length});return T(n,e),n}function at(e,t){var n=this;e=P(e);var i=n.ready().then(function(){var c=n._dbInfo;localStorage.removeItem(c.keyPrefix+e)});return T(i,t),i}function it(e,t,n){var i=this;e=P(e);var c=i.ready().then(function(){t===void 0&&(t=null);var a=t;return new s(function(p,v){var y=i._dbInfo;y.serializer.serialize(t,function(g,w){if(w)v(w);else try{localStorage.setItem(y.keyPrefix+e,g),p(a)}catch(I){(I.name==="QuotaExceededError"||I.name==="NS_ERROR_DOM_QUOTA_REACHED")&&v(I),v(I)}})})});return T(c,n),c}function ft(e,t){if(t=N.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var i=this,c;return e.name?c=new s(function(a){e.storeName?a(Je(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var p=localStorage.length-1;p>=0;p--){var v=localStorage.key(p);v.indexOf(a)===0&&localStorage.removeItem(v)}}):c=s.reject("Invalid arguments"),T(c,t),c}var ct={_driver:"localStorageWrapper",_initStorage:$n,_support:Xn(),iterate:nt,getItem:et,setItem:it,removeItem:at,clear:Jn,length:ot,key:tt,keys:rt,dropInstance:ft},st=function(t,n){return t===n||typeof t=="number"&&typeof n=="number"&&isNaN(t)&&isNaN(n)},ut=function(t,n){for(var i=t.length,c=0;c<i;){if(st(t[c],n))return!0;c++}return!1},en=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},nn={},ne={INDEXEDDB:An,WEBSQL:Zn,LOCALSTORAGE:ct},dt=[ne.INDEXEDDB._driver,ne.WEBSQL._driver,ne.LOCALSTORAGE._driver],le=["dropInstance"],Te=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(le),lt={description:"",driver:dt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function mt(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function Ee(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(en(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ht=function(){function e(t){m(this,e);for(var n in ne)if(ne.hasOwnProperty(n)){var i=ne[n],c=i._driver;this[n]=c,re[c]||this.defineDriver(i)}this._defaultConfig=Ee({},lt),this._config=Ee({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":l(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in n){if(i==="storeName"&&(n[i]=n[i].replace(/\W/g,"_")),i==="version"&&typeof n[i]!="number")return new Error("Database version must be a number.");this._config[i]=n[i]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,i,c){var a=new s(function(p,v){try{var y=n._driver,g=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){v(g);return}for(var w=Te.concat("_initStorage"),I=0,D=w.length;I<D;I++){var L=w[I],M=!ut(le,L);if((M||n[L])&&typeof n[L]!="function"){v(g);return}}var V=function(){for(var oe=function(bt){return function(){var vt=new Error("Method "+bt+" is not implemented by the current driver"),tn=s.reject(vt);return T(tn,arguments[arguments.length-1]),tn}},Se=0,pt=le.length;Se<pt;Se++){var Ie=le[Se];n[Ie]||(n[Ie]=oe(Ie))}};V();var O=function(oe){re[y]&&console.info("Redefining LocalForage driver: "+y),re[y]=n,nn[y]=oe,p()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(O,v):O(!!n._support):O(!0)}catch(U){v(U)}});return R(a,i,c),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,i,c){var a=re[n]?s.resolve(re[n]):s.reject(new Error("Driver not found."));return R(a,i,c),a},e.prototype.getSerializer=function(n){var i=s.resolve(we);return R(i,n),i},e.prototype.ready=function(n){var i=this,c=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return R(c,n,n),c},e.prototype.setDriver=function(n,i,c){var a=this;en(n)||(n=[n]);var p=this._getSupportedDrivers(n);function v(){a._config.driver=a.driver()}function y(I){return a._extend(I),v(),a._ready=a._initStorage(a._config),a._ready}function g(I){return function(){var D=0;function L(){for(;D<I.length;){var M=I[D];return D++,a._dbInfo=null,a._ready=null,a.getDriver(M).then(y).catch(L)}v();var V=new Error("No available storage method found.");return a._driverSet=s.reject(V),a._driverSet}return L()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return s.resolve()}):s.resolve();return this._driverSet=w.then(function(){var I=p[0];return a._dbInfo=null,a._ready=null,a.getDriver(I).then(function(D){a._driver=D._driver,v(),a._wrapLibraryMethodsWithReady(),a._initDriver=g(p)})}).catch(function(){v();var I=new Error("No available storage method found.");return a._driverSet=s.reject(I),a._driverSet}),R(this._driverSet,i,c),this._driverSet},e.prototype.supports=function(n){return!!nn[n]},e.prototype._extend=function(n){Ee(this,n)},e.prototype._getSupportedDrivers=function(n){for(var i=[],c=0,a=n.length;c<a;c++){var p=n[c];this.supports(p)&&i.push(p)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,i=Te.length;n<i;n++)mt(this,Te[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),xt=new ht;u.exports=xt},{3:3}]},{},[4])(4)})});var bn=Pe((rr,pn)=>{"use strict";var Me=Math.abs,Ct=Math.min;function xe(x,r,o,f){var u=Me(x-r);return o==null&&(o=xe.DBL_EPSILON),f==null&&(f=o),u<=o||u<=f*Ct(Me(x),Me(r))?!0:x===r}xe.FLT_EPSILON=11920929e-14;xe.DBL_EPSILON=2220446049250313e-31;pn.exports=xe});var fe=x=>({vertices:[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}]});var Ce=ie(he(),1),fn=ie(he(),1);function Ne(x,r){for(var o=x.length,f=x[o-1],u=r[0],b=r[1],l=f[0],m=f[1],h,d,_=!1,S=0;S<o;++S)f=x[S],h=f[0],d=f[1],d>b!=m>b&&u<(l-h)*(b-d)/(m-d)+h&&(_=!_),l=h,m=d;return _}var cn=ie(he(),1);var G=class Ae{constructor(r,o){this.x=r,this.y=o}static rnhmc088af9c65fea497ba4ce744ae5800ff8(r){return new Ae(r.x,r.y)}kyergdnrpx9c6e840b9fb6462d80254b6768309c0f(){let r={};return r.x=this.x,r.y=this.y,r}wfjesldcfe3e3d426492484c82c71ea5885b5d8e(r){let o={jZSzi:function(u,b,l){return u(b,l)}};return o.jZSzi(Ce.default,this.x,r.x)&&o.jZSzi(Ce.default,this.y,r.y)}utcdfnuba473959bc82496c9937ceec02e390c0(){return[this.x,this.y]}lfkqp3949965225ed4575984725f570acd5c7(r){let o={};o.UAdwf=function(l,m){return l/m},o.vbyEh=function(l,m){return l/m},o.OWAGC=function(l,m){return l+m};let f=o,u=f.UAdwf(this.x+r.x,2),b=f.vbyEh(f.OWAGC(this.y,r.y),2);return new Ae(u,b)}pvhvjcdy73f32904a02748eb9a764649a3a76128(r){let o={};o.xBiuT=function(l,m){return l-m},o.grryw=function(l,m){return l+m},o.zLEpp=function(l,m){return l*m},o.ZOSZx=function(l,m){return l*m};let f=o,u=f.xBiuT(r.x,this.x),b=r.y-this.y;return Math.sqrt(f.grryw(f.zLEpp(u,u),f.ZOSZx(b,b)))}};function De(x,r,o){let f={};f.THBZq=function(S,s){return S-s},f.hPwRq=function(S,s){return S-s},f.ABTgR=function(S,s){return S+s},f.vGQGE=function(S,s){return S*s},f.EemwW=function(S,s){return S*s},f.uVQAZ=function(S,s){return S===s},f.RFqGH=function(S,s){return S===s},f.ayTkO=function(S,s){return S/s};let u=f,b={x:u.THBZq(x.x,r.x),y:u.THBZq(x.y,r.y)},l={x:u.hPwRq(o.x,r.x),y:u.hPwRq(o.y,r.y)},m=u.ABTgR(u.vGQGE(b.x,l.x),u.EemwW(b.y,l.y)),h=Math.hypot(b.x,b.y),d=Math.hypot(l.x,l.y);if(u.uVQAZ(h,0)||u.RFqGH(d,0))return 0;let _=Math.min(1,Math.max(-1,u.ayTkO(m,u.EemwW(h,d))));return Math.acos(_)}var an=class{static kzaujfsvr5a6bd3c6d74042e291836e0944105cd5(x,r,o){let f={};f.DBljF=function(h,d){return h/d},f.YpxkU=function(h,d){return h<=d};let u=f,b=r.lfkqp3949965225ed4575984725f570acd5c7(o),l=u.DBljF(r.pvhvjcdy73f32904a02748eb9a764649a3a76128(o),2),m=b.pvhvjcdy73f32904a02748eb9a764649a3a76128(x);return u.YpxkU(m,l)}},It=class W{constructor(r){let o="2|4|1|0|3".split("|"),f=0;for(;;){switch(o[f++]){case"0":this.materialTag="";continue;case"1":this.sectionTag="";continue;case"2":this.points=r;continue;case"3":!W.mvrlo97d9ab5d1fab44bc94ea84564c2dbdf9(r)&&this.points.reverse();continue;case"4":this.tag="";continue}break}}static rnhmc088af9c65fea497ba4ce744ae5800ff8(r){return new W(r.points.map(o=>G.rnhmc088af9c65fea497ba4ce744ae5800ff8(o)))}kyergdnrpx9c6e840b9fb6462d80254b6768309c0f(){return{points:this.points.map(r=>r.kyergdnrpx9c6e840b9fb6462d80254b6768309c0f()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static mvrlo97d9ab5d1fab44bc94ea84564c2dbdf9(r){let o={};o.OmZlr=function(h,d){return h-d},o.fpOlU=function(h,d){return h*d},o.wYawW=function(h,d){return h-d},o.CrdGC=function(h,d){return h*d},o.UOpxf=function(h,d){return h>d};let f=o,[u,b,l]=r,m=f.OmZlr(f.fpOlU(f.wYawW(b.x,u.x),f.OmZlr(l.y,u.y)),f.CrdGC(b.y-u.y,f.wYawW(l.x,u.x)));return f.UOpxf(m,0)}ciwbhyrne3b779e07a8b40ea8497d5c19ed17f8d(r,o,f){this.tag=r,this.sectionTag=o,this.materialTag=f}juzjdk8d2caedc0a6940f1950ddf074664002a(){let r={};r.Qvcrb=function(h,d){return h/d},r.pyEcc=function(h,d){return h+d},r.nHhVt=function(h,d){return h/d},r.LObju=function(h,d){return h+d};let o=r,[f,u,b]=this.points,l=o.Qvcrb(o.pyEcc(o.pyEcc(f.x,u.x),b.x),3),m=o.nHhVt(o.pyEcc(o.LObju(f.y,u.y),b.y),3);return new G(l,m)}demphodfeda9eba459a4305b338a23b9c31eeb7(r=.1){let o={};o.CkdWr=function(d,_){return d+_},o.uewIu=function(d,_){return d*_},o.SqJlc=function(d,_){return d-_},o.VeDXE=function(d,_){return d+_},o.UEnpd=function(d,_){return d*_},o.isYVP=function(d,_){return d/_},o.vmpmM=function(d,_){return d*_};let f=o,u=this.juzjdk8d2caedc0a6940f1950ddf074664002a(),b=this.points.map(d=>{let _=u.x-d.x,S=u.y-d.y;return Math.sqrt(f.CkdWr(f.uewIu(_,_),f.uewIu(S,S)))}),l=Math.max(...b),m=f.uewIu(l,r);return this.points.map(d=>{let _=u.x-d.x,S=f.SqJlc(u.y,d.y),s=Math.sqrt(f.VeDXE(f.UEnpd(_,_),f.uewIu(S,S))),T=f.isYVP(m,s);return new G(d.x+f.UEnpd(_,T),d.y+f.vmpmM(S,T))})}zzlez31171ce175bf47a0b727fda8da42b1bd(){let r=this.juzjdk8d2caedc0a6940f1950ddf074664002a();return[new W([this.points[0],this.points[1],r]),new W([this.points[1],this.points[2],r]),new W([this.points[2],this.points[0],r])]}usqhqcxc17ce85876d040d39538740d05c867cd(){let r={};r.BdkiS=function(d,_){return d/_},r.KVNag=function(d,_){return d+_},r.KnlNx=function(d,_){return d+_},r.cqvaP=function(d,_){return d/_},r.WzoeI=function(d,_){return d+_};let o=r,[f,u,b]=this.points,l=new G(o.BdkiS(o.KVNag(f.x,u.x),2),o.BdkiS(o.KnlNx(f.y,u.y),2)),m=new G((u.x+b.x)/2,o.cqvaP(u.y+b.y,2)),h=new G(o.BdkiS(o.WzoeI(b.x,f.x),2),o.cqvaP(o.WzoeI(b.y,f.y),2));return[new W([f,l,h]),new W([l,u,m]),new W([h,m,b]),new W([l,m,h])]}uaompdxqb97d8fbb49594416beddec3ce042e268(){let r={};r.sxcTx=function(P,N){return P*N},r.QvBah=function(P,N){return P+N},r.DXrso=function(P,N){return P+N},r.Fhnbq=function(P,N){return P-N},r.Mvudz=function(P,N){return P*N},r.xszpX=function(P,N){return P-N},r.EIfjK=function(P,N){return P<N},r.KYoAE=function(P,N){return P/N},r.sClCD=function(P,N){return P+N},r.aLZkH=function(P,N){return P*N},r.SiLwo=function(P,N){return P+N},r.WIpOS=function(P,N){return P*N},r.TNqWN=function(P,N){return P-N},r.birLF=function(P,N){return P*N},r.DGjOu=function(P,N){return P-N},r.XRNEy=function(P,N){return P*N},r.CxyBX=function(P,N){return P*N},r.JJpGt=function(P,N){return P+N};let o=r,[f,u,b]=this.points,l=f.x,m=f.y,h=u.x,d=u.y,_=b.x,S=b.y,s=o.sxcTx(2,o.QvBah(o.DXrso(l*o.Fhnbq(d,S),o.Mvudz(h,o.Fhnbq(S,m))),o.sxcTx(_,o.xszpX(m,d))));if(o.EIfjK(Math.abs(s),1e-10))return null;let T=o.KYoAE(o.QvBah(o.sClCD((o.sxcTx(l,l)+o.aLZkH(m,m))*o.Fhnbq(d,S),o.Mvudz(o.SiLwo(o.WIpOS(h,h),o.aLZkH(d,d)),o.TNqWN(S,m))),o.SiLwo(o.birLF(_,_),S*S)*o.DGjOu(m,d)),s),R=o.sClCD(o.SiLwo(o.XRNEy(l*l+m*m,o.TNqWN(_,h)),o.CxyBX(o.sClCD(h*h,d*d),o.Fhnbq(l,_))),o.birLF(o.JJpGt(o.birLF(_,_),o.Mvudz(S,S)),o.TNqWN(h,l)))/s;return new G(T,R)}yewkjeyzmq66f017a3e2a2473484e91e0866bcc52d(){let r={};r.gEpZA=function(u,b){return u===b};let o=r,f=this.uaompdxqb97d8fbb49594416beddec3ce042e268();return o.gEpZA(f,null)?[]:[new W([this.points[0],this.points[1],f]),new W([this.points[1],this.points[2],f]),new W([this.points[2],this.points[0],f])]}zbgicawgc4af29ad3997b41469bb0a97aef6cbf8c(){let r={};r.FRYNc=function(T,R){return T*R},r.amdLV=function(T,R){return T+R},r.UaLTc=function(T,R){return T-R};let o=r,[f,u,b]=this.points,l=f.x,m=u.x,h=b.x,d=f.y,_=u.y,S=b.y;return o.FRYNc(.5,Math.abs(o.amdLV(o.amdLV(o.FRYNc(l,o.UaLTc(_,S)),m*o.UaLTc(S,d)),h*(d-_))))}wkxlavvtica9b24644b4b4aeaa74064b666049e98(){let r={pzsCZ:function(f,u,b){return f(u,b)}},o=this.zbgicawgc4af29ad3997b41469bb0a97aef6cbf8c();return r.pzsCZ(fn.default,o,0)}yshieaxofre9acdb5b5ac3417aa667c25469fa8296(){let r={AQuRf:function(l,m,h,d){return l(m,h,d)},HkrXP:function(l,m,h,d){return l(m,h,d)},BCqVc:function(l,m,h,d){return l(m,h,d)}},[o,f,u]=this.points;return[r.AQuRf(De,f,o,u),r.HkrXP(De,o,f,u),r.BCqVc(De,o,u,f)]}evaoeprkn252718422dfd459bb22efc509ddfcb7d(r=15*Math.PI/180){return!!this.yshieaxofre9acdb5b5ac3417aa667c25469fa8296().some(f=>f<r)}hzeahuyco09f961b3d3b54e1b9e59714b2387a917(){let r={};r.euNpP=function(u,b){return u%b},r.fsLee=function(u,b){return u+b};let o=r,f=this.uaompdxqb97d8fbb49594416beddec3ce042e268();if(!f)return this.gvavnkq5ba8272c23b84b2ab28e0d2ca204201b();for(let u=0;u<3;u++){let b=this.points[u],l=this.points[o.euNpP(o.fsLee(u,1),3)];if(an.kzaujfsvr5a6bd3c6d74042e291836e0944105cd5(f,b,l))return this.gvavnkq5ba8272c23b84b2ab28e0d2ca204201b()}return f}dueqzrnjml5014e932093e485f9d1b001719120b14(r){let[o,f,u]=this.points,b={};b.p1=o,b.p2=f;let l={};l.p1=f,l.p2=u;let m={};m.p1=u,m.p2=o;let h=[b,l,m],d=[];for(let _ of h)for(let S of r)if(!this.points.some(s=>s.wfjesldcfe3e3d426492484c82c71ea5885b5d8e(S))&&an.kzaujfsvr5a6bd3c6d74042e291836e0944105cd5(S,_.p1,_.p2))return d.push(_.p1.lfkqp3949965225ed4575984725f570acd5c7(_.p2)),d;return d}wfuajn14b058d078a9460bb388825f6536396e(r){let o=this.uaompdxqb97d8fbb49594416beddec3ce042e268();return o?r.some(f=>f.lnsrkbu4a7c998e01264e9b8976511bce6011f0(o))?o:this.gvavnkq5ba8272c23b84b2ab28e0d2ca204201b():this.gvavnkq5ba8272c23b84b2ab28e0d2ca204201b()}gvavnkq5ba8272c23b84b2ab28e0d2ca204201b(){let r={};r.GhYlB=function(s,T){return s<T},r.qZnHr=function(s,T){return s>T};let o=r,[f,u,b]=this.points,l={};l.p1=f,l.p2=u;let m={};m.p1=u,m.p2=b;let h={};h.p1=b,h.p2=f;let d=[l,m,h],_=d[0],S=_.p1.pvhvjcdy73f32904a02748eb9a764649a3a76128(_.p2);for(let s=1;o.GhYlB(s,d.length);s++){let T=d[s].p1.pvhvjcdy73f32904a02748eb9a764649a3a76128(d[s].p2);o.qZnHr(T,S)&&(S=T,_=d[s])}return _.p1.lfkqp3949965225ed4575984725f570acd5c7(_.p2)}};var Pt=class sn{constructor(r,o,f,u){let b="2|1|3|0|4".split("|"),l=0;for(;;){switch(b[l++]){case"0":this.materialTag=u;continue;case"1":this.tag=o;continue;case"2":this.points=r;continue;case"3":this.sectionTag=f;continue;case"4":this.d3Polygon=r.map(m=>[m.x,m.y]);continue}break}}static rnhmc088af9c65fea497ba4ce744ae5800ff8(r){return new sn(r.points.map(o=>G.rnhmc088af9c65fea497ba4ce744ae5800ff8(o)),r.tag,r.sectionTag,r.materialTag)}harme2f5f1859c04c43b199738bd2ba4829b7(r){let o={RqAuz:function(f,u){return f-u},TLNeP:function(f,u){return f<u},PnqXQ:function(f,u,b,l){return f(u,b,l)}};for(let f=0,u=o.RqAuz(this.points.length,1);o.TLNeP(f,this.points.length);u=f++)if(o.PnqXQ(Rt,r,this.points[f],this.points[u]))return!0;return!1}lnsrkbu4a7c998e01264e9b8976511bce6011f0(r){return this.harme2f5f1859c04c43b199738bd2ba4829b7(r)?!0:Ne(this.d3Polygon,[r.x,r.y])}kcrykz6997437e12a0498ca62c3078a67a376f(r,o){let f={};f.dLyCM=function(l,m){return l%m},f.EbJcl=function(l,m){return l+m},f.Ffhva=function(l,m){return l-m},f.VGFpU=function(l,m){return l+m},f.TcGxH=function(l,m){return l*m},f.MffCv=function(l,m){return l/m},f.UqjII=function(l,m){return l<m},f.MvafY=function(l,m){return l*m},f.utAHP=function(l,m){return l+m},f.WjtQg=function(l,m){return l*m},f.bBHkZ=function(l,m){return l+m};let u=f,b=[];for(let l=0;l<r.length;l++){let m=r[l],h=r[u.dLyCM(u.EbJcl(l,1),r.length)],d=h.x-m.x,_=u.Ffhva(h.y,m.y),S=Math.sqrt(u.VGFpU(u.TcGxH(d,d),_*_)),s=Math.floor(u.MffCv(S,o));b.push(new G(m.x,m.y));for(let T=1;u.UqjII(T,s);T++){let R=u.MffCv(u.MvafY(T,o),S),P=u.utAHP(m.x,u.WjtQg(R,d)),N=u.bBHkZ(m.y,R*_);b.push(new G(P,N))}}return b}};function Rt(x,r,o){let f={};f.LxWcv=function(h,d){return h-d},f.qjVHD=function(h,d){return h-d},f.lmDir=function(h,d){return h*d},f.CmyCm=function(h,d){return h-d},f.XohFw=function(h,d){return h+d},f.WxcKA=function(h,d){return h*d},f.ZlHuV=function(h,d){return h-d},f.xOtfa=function(h,d){return h+d},f.Zsbcq=function(h,d){return h-d},f.UINhS=function(h,d){return h-d},f.gWaKJ=function(h,d){return h>d};let u=f,b=u.LxWcv(x.y,r.y)*u.qjVHD(o.x,r.x)-u.lmDir(u.CmyCm(x.x,r.x),o.y-r.y);if(!(0,cn.default)(Math.abs(b),0))return!1;let l=u.XohFw(u.WxcKA(u.LxWcv(x.x,r.x),u.ZlHuV(o.x,r.x)),u.LxWcv(x.y,r.y)*u.ZlHuV(o.y,r.y));if(l<0)return!1;let m=u.xOtfa(u.Zsbcq(o.x,r.x)**2,u.UINhS(o.y,r.y)**2);return!u.gWaKJ(l,m)}function un(x){let r=x.polygons.map(b=>Pt.rnhmc088af9c65fea497ba4ce744ae5800ff8(b)),o=x.baseTriangles.map(b=>It.rnhmc088af9c65fea497ba4ce744ae5800ff8(b)),f=o,u=[];for(let b of f){let l=b.juzjdk8d2caedc0a6940f1950ddf074664002a(),m=r.find(h=>h.lnsrkbu4a7c998e01264e9b8976511bce6011f0(l));m&&(b.ciwbhyrne3b779e07a8b40ea8497d5c19ed17f8d(m.tag,m.sectionTag,m.materialTag),u.push(b))}return{triangles:u.map(b=>b.kyergdnrpx9c6e840b9fb6462d80254b6768309c0f())}}var Be=ie(ln());var mn=(x,r,o="")=>`View3dModel-${x}-${r}${o}`,hn=x=>`Triangles-${x}`;var $=class extends Error{constructor(r){super(r)}};function xn(x){if(x.length<3)throw new $("At least three vertices are required to form a face.");return{vertices:[...x.filter(r=>r)],results:[]}}var se=ie(bn());var ce=x=>{let r=(x.points??"").trim().split(/\s+/).map(f=>f.split(",")),o=[];for(let[f,u]of r){let b=parseFloat(f),l=parseFloat(u);if(Number.isFinite(b)&&Number.isFinite(l))o.push({x:b,y:l});else throw new $("Invalid vertex coordinates")}return{vertices:o}};function vn(x){let r=0,o=0,f=0,u=x.length;for(let b=0;b<u;b++){let{x:l,y:m}=x[b],{x:h,y:d}=x[(b+1)%u],_=l*d-h*m;r+=_,o+=(l+h)*_,f+=(m+d)*_}return r*=.5,r===0?{x:0,y:0}:(o/=6*r,f/=6*r,{x:o,y:f})}function*yn(x,r){let o=[...new Set(r.rectangles.map(s=>s.name).concat(r.polygons.map(s=>s.name)))],f=[];for(let s of x){let T=s.points.map(N=>Lt(N)),R=xn(T);if(o.indexOf(s.name)===-1)throw new $(`Geometry name ${s.name} not found in geometry rectangles or polygons.`);f.push(R)}let u=r.supports.map(s=>Mt(s)),b=x.flatMap(s=>s.points).map(s=>s.x).reduce((s,T)=>Math.max(s,T),-1/0),l=x.flatMap(s=>s.points).map(s=>s.x).reduce((s,T)=>Math.min(s,T),1/0),m=x.flatMap(s=>s.points).map(s=>s.y).reduce((s,T)=>Math.max(s,T),-1/0),h=x.flatMap(s=>s.points).map(s=>s.y).reduce((s,T)=>Math.min(s,T),1/0),d=b-l,_=m-h,S=[...r.polygons.map(s=>ce(s)),...r.rectangles.map(s=>fe(s))].map(s=>s.vertices.map(T=>({x:T.x,y:T.y}))).map(s=>({points:s}));for(let s of r.loadCases)yield{faces:f,wireframeFaces:[],supports:u,borders:S,loads:At(s,r),loadCaseTag:s.name,width:d,height:_}}function At(x,r){let o=[];for(let f of x.pointLoads)(0,se.default)(f.fx,0)||o.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"point"}),(0,se.default)(f.fy,0)||o.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of x.distributedLoads){let u=r.polygons.filter(m=>m.name===f.geometryName).map(m=>ce(m)),b=r.rectangles.filter(m=>m.name===f.geometryName).map(m=>fe(m)),l=[...u,...b];for(let m of l){let h=vn(m.vertices);(0,se.default)(f.fx,0)||o.push({x:h.x,y:h.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),(0,se.default)(f.fy,0)||o.push({x:h.x,y:h.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return o}function Lt(x){return{x:x.x,y:x.y,z:0,ux:0,uy:0,uz:0,value:0}}function Mt(x){return{x:x.x,y:x.y,z:0,ux:x.fixedX,uy:x.fixedY,uz:!1}}addEventListener("message",({data:x})=>{Bt(x)});var Bt=async x=>{let{geometry:r,uuid:o,baseTriangles:f}=x,u=r.loadCases.flatMap(R=>R.pointLoads).map(R=>({x:R.x,y:R.y})),b=r.supports.map(R=>({x:R.x,y:R.y})),l=r.resultPoints.map(R=>({x:R.x,y:R.y})),m=r.rectangles.map(R=>zt(R)),h=r.polygons.map(R=>kt(R)),d=m.concat(h),_={maxTriangleArea:r.meshingConfiguration.maxMeshArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(R=>Ot(R))},s=un({polygons:d,extraPoints:u.concat(b).concat(l),meshingConfiguration:_,baseTriangles:f.map(R=>Ft(R))}).triangles.map(R=>qt(R));await Be.setItem(hn(o),s);for(let R of yn(s,r))await Be.setItem(mn(o,R.loadCaseTag),R);postMessage({uuid:o})},Ot=x=>({radius:x.radius,maxTriangleArea:x.maxArea,center:{x:x.x,y:x.y}}),Vt=x=>({x:x.x,y:x.y}),qt=x=>({points:x.points.map(o=>Vt(o)),name:x.tag,sectionTag:x.sectionTag,materialTag:x.materialTag}),zt=x=>({points:fe(x).vertices.map(o=>({x:o.x,y:o.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),kt=x=>({points:ce(x).vertices.map(o=>({x:o.x,y:o.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),Ft=x=>({points:x.points.map(o=>({x:o.x,y:o.y}))});
