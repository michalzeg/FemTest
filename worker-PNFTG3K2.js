var bn=Object.create;var rt=Object.defineProperty;var vn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames;var wn=Object.getPrototypeOf,Pn=Object.prototype.hasOwnProperty;var ae=(x=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(x,{get:(n,o)=>(typeof require<"u"?require:n)[o]}):x)(function(x){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+x+'" is not supported')});var Te=(x,n)=>()=>(n||x((n={exports:{}}).exports,n),n.exports);var En=(x,n,o,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let d of _n(n))!Pn.call(x,d)&&d!==o&&rt(x,d,{get:()=>n[d],enumerable:!(f=vn(n,d))||f.enumerable});return x};var ie=(x,n,o)=>(o=x!=null?bn(wn(x)):{},En(n||!x||!x.__esModule?rt(o,"default",{value:x,enumerable:!0}):o,x));var xe=Te((jn,ot)=>{"use strict";var Re=Math.abs,Sn=Math.min;function me(x,n,o,f){var d=Re(x-n);return o==null&&(o=me.DBL_EPSILON),f==null&&(f=o),d<=o||d<=f*Sn(Re(x),Re(n))?!0:x===n}me.FLT_EPSILON=11920929e-14;me.DBL_EPSILON=2220446049250313e-31;ot.exports=me});var dt=Te((ut,Le)=>{"use strict";(function(x){if(typeof ut=="object"&&typeof Le<"u")Le.exports=x();else if(typeof define=="function"&&define.amd)define([],x);else{var n;typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"?n=self:n=this,n.localforage=x()}})(function(){var x,n,o;return function f(d,y,m){function u(_,N){if(!y[_]){if(!d[_]){var s=typeof ae=="function"&&ae;if(!N&&s)return s(_,!0);if(l)return l(_,!0);var P=new Error("Cannot find module '"+_+"'");throw P.code="MODULE_NOT_FOUND",P}var I=y[_]={exports:{}};d[_][0].call(I.exports,function(S){var T=d[_][1][S];return u(T||S)},I,I.exports,f,d,y,m)}return y[_].exports}for(var l=typeof ae=="function"&&ae,p=0;p<m.length;p++)u(m[p]);return u}({1:[function(f,d,y){(function(m){"use strict";var u=m.MutationObserver||m.WebKitMutationObserver,l;if(u){var p=0,_=new u(S),N=m.document.createTextNode("");_.observe(N,{characterData:!0}),l=function(){N.data=p=++p%2}}else if(!m.setImmediate&&typeof m.MessageChannel<"u"){var s=new m.MessageChannel;s.port1.onmessage=S,l=function(){s.port2.postMessage(0)}}else"document"in m&&"onreadystatechange"in m.document.createElement("script")?l=function(){var V=m.document.createElement("script");V.onreadystatechange=function(){S(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},m.document.documentElement.appendChild(V)}:l=function(){setTimeout(S,0)};var P,I=[];function S(){P=!0;for(var V,X,F=I.length;F;){for(X=I,I=[],V=-1;++V<F;)X[V]();F=I.length}P=!1}d.exports=T;function T(V){I.push(V)===1&&!P&&l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,d,y){"use strict";var m=f(1);function u(){}var l={},p=["REJECTED"],_=["FULFILLED"],N=["PENDING"];d.exports=s;function s(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=N,this.queue=[],this.outcome=void 0,E!==u&&T(this,E)}s.prototype.catch=function(E){return this.then(null,E)},s.prototype.then=function(E,M){if(typeof E!="function"&&this.state===_||typeof M!="function"&&this.state===p)return this;var A=new this.constructor(u);if(this.state!==N){var C=this.state===_?E:M;I(A,C,this.outcome)}else this.queue.push(new P(A,E,M));return A};function P(E,M,A){this.promise=E,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}P.prototype.callFulfilled=function(E){l.resolve(this.promise,E)},P.prototype.otherCallFulfilled=function(E){I(this.promise,this.onFulfilled,E)},P.prototype.callRejected=function(E){l.reject(this.promise,E)},P.prototype.otherCallRejected=function(E){I(this.promise,this.onRejected,E)};function I(E,M,A){m(function(){var C;try{C=M(A)}catch(q){return l.reject(E,q)}C===E?l.reject(E,new TypeError("Cannot resolve promise with itself")):l.resolve(E,C)})}l.resolve=function(E,M){var A=V(S,M);if(A.status==="error")return l.reject(E,A.value);var C=A.value;if(C)T(E,C);else{E.state=_,E.outcome=M;for(var q=-1,U=E.queue.length;++q<U;)E.queue[q].callFulfilled(M)}return E},l.reject=function(E,M){E.state=p,E.outcome=M;for(var A=-1,C=E.queue.length;++A<C;)E.queue[A].callRejected(M);return E};function S(E){var M=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof M=="function")return function(){M.apply(E,arguments)}}function T(E,M){var A=!1;function C(W){A||(A=!0,l.reject(E,W))}function q(W){A||(A=!0,l.resolve(E,W))}function U(){M(q,C)}var G=V(U);G.status==="error"&&C(G.value)}function V(E,M){var A={};try{A.value=E(M),A.status="success"}catch(C){A.status="error",A.value=C}return A}s.resolve=X;function X(E){return E instanceof this?E:l.resolve(new this(u),E)}s.reject=F;function F(E){var M=new this(u);return l.reject(M,E)}s.all=pe;function pe(E){var M=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=E.length,C=!1;if(!A)return this.resolve([]);for(var q=new Array(A),U=0,G=-1,W=new this(u);++G<A;)J(E[G],G);return W;function J(ne,ue){M.resolve(ne).then(ye,function(ee){C||(C=!0,l.reject(W,ee))});function ye(ee){q[ue]=ee,++U===A&&!C&&(C=!0,l.resolve(W,q))}}}s.race=$;function $(E){var M=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=E.length,C=!1;if(!A)return this.resolve([]);for(var q=-1,U=new this(u);++q<A;)G(E[q]);return U;function G(W){M.resolve(W).then(function(J){C||(C=!0,l.resolve(U,J))},function(J){C||(C=!0,l.reject(U,J))})}}},{1:1}],3:[function(f,d,y){(function(m){"use strict";typeof m.Promise!="function"&&(m.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,d,y){"use strict";var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function u(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var p=l();function _(){try{if(!p||!p.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),r=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||r)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function N(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(a){if(a.name!=="TypeError")throw a;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,c=0;c<e.length;c+=1)i.append(e[c]);return i.getBlob(r.type)}}typeof Promise>"u"&&f(3);var s=Promise;function P(e,r){r&&e.then(function(t){r(null,t)},function(t){r(t)})}function I(e,r,t){typeof r=="function"&&e.then(r),typeof t=="function"&&e.catch(t)}function S(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function T(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var V="local-forage-detect-blob-support",X=void 0,F={},pe=Object.prototype.toString,$="readonly",E="readwrite";function M(e){for(var r=e.length,t=new ArrayBuffer(r),i=new Uint8Array(t),c=0;c<r;c++)i[c]=e.charCodeAt(c);return t}function A(e){return new s(function(r){var t=e.transaction(V,E),i=N([""]);t.objectStore(V).put(i,"key"),t.onabort=function(c){c.preventDefault(),c.stopPropagation(),r(!1)},t.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);r(a||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function C(e){return typeof X=="boolean"?s.resolve(X):A(e).then(function(r){return X=r,X})}function q(e){var r=F[e.name],t={};t.promise=new s(function(i,c){t.resolve=i,t.reject=c}),r.deferredOperations.push(t),r.dbReady?r.dbReady=r.dbReady.then(function(){return t.promise}):r.dbReady=t.promise}function U(e){var r=F[e.name],t=r.deferredOperations.pop();if(t)return t.resolve(),t.promise}function G(e,r){var t=F[e.name],i=t.deferredOperations.pop();if(i)return i.reject(r),i.promise}function W(e,r){return new s(function(t,i){if(F[e.name]=F[e.name]||ze(),e.db)if(r)q(e),e.db.close();else return t(e.db);var c=[e.name];r&&c.push(e.version);var a=p.open.apply(p,c);r&&(a.onupgradeneeded=function(h){var g=a.result;try{g.createObjectStore(e.storeName),h.oldVersion<=1&&g.createObjectStore(V)}catch(b){if(b.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+h.oldVersion+" to version "+h.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw b}}),a.onerror=function(h){h.preventDefault(),i(a.error)},a.onsuccess=function(){var h=a.result;h.onversionchange=function(g){g.target.close()},t(h),U(e)}})}function J(e){return W(e,!1)}function ne(e){return W(e,!0)}function ue(e,r){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,c=e.version>e.db.version;if(i&&(e.version!==r&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),c||t){if(t){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function ye(e){return new s(function(r,t){var i=new FileReader;i.onerror=t,i.onloadend=function(c){var a=btoa(c.target.result||"");r({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var r=M(atob(e.data));return N([r],{type:e.type})}function Oe(e){return e&&e.__local_forage_encoded_blob}function bt(e){var r=this,t=r._initReady().then(function(){var i=F[r._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return I(t,e,e),t}function vt(e){q(e);for(var r=F[e.name],t=r.forages,i=0;i<t.length;i++){var c=t[i];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return e.db=null,J(e).then(function(a){return e.db=a,ue(e)?ne(e):a}).then(function(a){e.db=r.db=a;for(var h=0;h<t.length;h++)t[h]._dbInfo.db=a}).catch(function(a){throw G(e,a),a})}function k(e,r,t,i){i===void 0&&(i=1);try{var c=e.db.transaction(e.storeName,r);t(null,c)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return s.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return vt(e).then(function(){k(e,r,t,i-1)})}).catch(t);t(a)}}function ze(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _t(e){var r=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var c=F[t.name];c||(c=ze(),F[t.name]=c),c.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=bt);var a=[];function h(){return s.resolve()}for(var g=0;g<c.forages.length;g++){var b=c.forages[g];b!==r&&a.push(b._initReady().catch(h))}var v=c.forages.slice(0);return s.all(a).then(function(){return t.db=c.db,J(t)}).then(function(w){return t.db=w,ue(t,r._defaultConfig.version)?ne(t):w}).then(function(w){t.db=c.db=w,r._dbInfo=t;for(var R=0;R<v.length;R++){var D=v[R];D!==r&&(D._dbInfo.db=t.db,D._dbInfo.version=t.version)}})}function wt(e,r){var t=this;e=S(e);var i=new s(function(c,a){t.ready().then(function(){k(t._dbInfo,$,function(h,g){if(h)return a(h);try{var b=g.objectStore(t._dbInfo.storeName),v=b.get(e);v.onsuccess=function(){var w=v.result;w===void 0&&(w=null),Oe(w)&&(w=ee(w)),c(w)},v.onerror=function(){a(v.error)}}catch(w){a(w)}})}).catch(a)});return P(i,r),i}function Pt(e,r){var t=this,i=new s(function(c,a){t.ready().then(function(){k(t._dbInfo,$,function(h,g){if(h)return a(h);try{var b=g.objectStore(t._dbInfo.storeName),v=b.openCursor(),w=1;v.onsuccess=function(){var R=v.result;if(R){var D=R.value;Oe(D)&&(D=ee(D));var L=e(D,R.key,w++);L!==void 0?c(L):R.continue()}else c()},v.onerror=function(){a(v.error)}}catch(R){a(R)}})}).catch(a)});return P(i,r),i}function Et(e,r,t){var i=this;e=S(e);var c=new s(function(a,h){var g;i.ready().then(function(){return g=i._dbInfo,pe.call(r)==="[object Blob]"?C(g.db).then(function(b){return b?r:ye(r)}):r}).then(function(b){k(i._dbInfo,E,function(v,w){if(v)return h(v);try{var R=w.objectStore(i._dbInfo.storeName);b===null&&(b=void 0);var D=R.put(b,e);w.oncomplete=function(){b===void 0&&(b=null),a(b)},w.onabort=w.onerror=function(){var L=D.error?D.error:D.transaction.error;h(L)}}catch(L){h(L)}})}).catch(h)});return P(c,t),c}function St(e,r){var t=this;e=S(e);var i=new s(function(c,a){t.ready().then(function(){k(t._dbInfo,E,function(h,g){if(h)return a(h);try{var b=g.objectStore(t._dbInfo.storeName),v=b.delete(e);g.oncomplete=function(){c()},g.onerror=function(){a(v.error)},g.onabort=function(){var w=v.error?v.error:v.transaction.error;a(w)}}catch(w){a(w)}})}).catch(a)});return P(i,r),i}function It(e){var r=this,t=new s(function(i,c){r.ready().then(function(){k(r._dbInfo,E,function(a,h){if(a)return c(a);try{var g=h.objectStore(r._dbInfo.storeName),b=g.clear();h.oncomplete=function(){i()},h.onabort=h.onerror=function(){var v=b.error?b.error:b.transaction.error;c(v)}}catch(v){c(v)}})}).catch(c)});return P(t,e),t}function Tt(e){var r=this,t=new s(function(i,c){r.ready().then(function(){k(r._dbInfo,$,function(a,h){if(a)return c(a);try{var g=h.objectStore(r._dbInfo.storeName),b=g.count();b.onsuccess=function(){i(b.result)},b.onerror=function(){c(b.error)}}catch(v){c(v)}})}).catch(c)});return P(t,e),t}function Rt(e,r){var t=this,i=new s(function(c,a){if(e<0){c(null);return}t.ready().then(function(){k(t._dbInfo,$,function(h,g){if(h)return a(h);try{var b=g.objectStore(t._dbInfo.storeName),v=!1,w=b.openKeyCursor();w.onsuccess=function(){var R=w.result;if(!R){c(null);return}e===0||v?c(R.key):(v=!0,R.advance(e))},w.onerror=function(){a(w.error)}}catch(R){a(R)}})}).catch(a)});return P(i,r),i}function Nt(e){var r=this,t=new s(function(i,c){r.ready().then(function(){k(r._dbInfo,$,function(a,h){if(a)return c(a);try{var g=h.objectStore(r._dbInfo.storeName),b=g.openKeyCursor(),v=[];b.onsuccess=function(){var w=b.result;if(!w){i(v);return}v.push(w.key),w.continue()},b.onerror=function(){c(b.error)}}catch(w){c(w)}})}).catch(c)});return P(t,e),t}function Dt(e,r){r=T.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,c;if(!e.name)c=s.reject("Invalid arguments");else{var a=e.name===t.name&&i._dbInfo.db,h=a?s.resolve(i._dbInfo.db):J(e).then(function(g){var b=F[e.name],v=b.forages;b.db=g;for(var w=0;w<v.length;w++)v[w]._dbInfo.db=g;return g});e.storeName?c=h.then(function(g){if(g.objectStoreNames.contains(e.storeName)){var b=g.version+1;q(e);var v=F[e.name],w=v.forages;g.close();for(var R=0;R<w.length;R++){var D=w[R];D._dbInfo.db=null,D._dbInfo.version=b}var L=new s(function(B,z){var O=p.open(e.name,b);O.onerror=function(j){var oe=O.result;oe.close(),z(j)},O.onupgradeneeded=function(){var j=O.result;j.deleteObjectStore(e.storeName)},O.onsuccess=function(){var j=O.result;j.close(),B(j)}});return L.then(function(B){v.db=B;for(var z=0;z<w.length;z++){var O=w[z];O._dbInfo.db=B,U(O._dbInfo)}}).catch(function(B){throw(G(e,B)||s.resolve()).catch(function(){}),B})}}):c=h.then(function(g){q(e);var b=F[e.name],v=b.forages;g.close();for(var w=0;w<v.length;w++){var R=v[w];R._dbInfo.db=null}var D=new s(function(L,B){var z=p.deleteDatabase(e.name);z.onerror=function(){var O=z.result;O&&O.close(),B(z.error)},z.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},z.onsuccess=function(){var O=z.result;O&&O.close(),L(O)}});return D.then(function(L){b.db=L;for(var B=0;B<v.length;B++){var z=v[B];U(z._dbInfo)}}).catch(function(L){throw(G(e,L)||s.resolve()).catch(function(){}),L})})}return P(c,r),c}var At={_driver:"asyncStorage",_initStorage:_t,_support:_(),iterate:Pt,getItem:wt,setItem:Et,removeItem:St,clear:It,length:Tt,key:Rt,keys:Nt,dropInstance:Dt};function Mt(){return typeof openDatabase=="function"}var H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lt="~~local_forage_type~",Ve=/^~~local_forage_type~([^~]+)~/,de="__lfsc__:",ge=de.length,be="arbf",ve="blob",Fe="si08",qe="ui08",Ue="uic8",Ye="si16",Ge="si32",We="ur16",je="ui32",Ke="fl32",Xe="fl64",Je=ge+be.length,ke=Object.prototype.toString;function He(e){var r=e.length*.75,t=e.length,i,c=0,a,h,g,b;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var v=new ArrayBuffer(r),w=new Uint8Array(v);for(i=0;i<t;i+=4)a=H.indexOf(e[i]),h=H.indexOf(e[i+1]),g=H.indexOf(e[i+2]),b=H.indexOf(e[i+3]),w[c++]=a<<2|h>>4,w[c++]=(h&15)<<4|g>>2,w[c++]=(g&3)<<6|b&63;return v}function _e(e){var r=new Uint8Array(e),t="",i;for(i=0;i<r.length;i+=3)t+=H[r[i]>>2],t+=H[(r[i]&3)<<4|r[i+1]>>4],t+=H[(r[i+1]&15)<<2|r[i+2]>>6],t+=H[r[i+2]&63];return r.length%3===2?t=t.substring(0,t.length-1)+"=":r.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function Bt(e,r){var t="";if(e&&(t=ke.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&ke.call(e.buffer)==="[object ArrayBuffer]")){var i,c=de;e instanceof ArrayBuffer?(i=e,c+=be):(i=e.buffer,t==="[object Int8Array]"?c+=Fe:t==="[object Uint8Array]"?c+=qe:t==="[object Uint8ClampedArray]"?c+=Ue:t==="[object Int16Array]"?c+=Ye:t==="[object Uint16Array]"?c+=We:t==="[object Int32Array]"?c+=Ge:t==="[object Uint32Array]"?c+=je:t==="[object Float32Array]"?c+=Ke:t==="[object Float64Array]"?c+=Xe:r(new Error("Failed to get type for BinaryArray"))),r(c+_e(i))}else if(t==="[object Blob]"){var a=new FileReader;a.onload=function(){var h=Lt+e.type+"~"+_e(this.result);r(de+ve+h)},a.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(h){console.error("Couldn't convert value into a JSON string: ",e),r(null,h)}}function Ct(e){if(e.substring(0,ge)!==de)return JSON.parse(e);var r=e.substring(Je),t=e.substring(ge,Je),i;if(t===ve&&Ve.test(r)){var c=r.match(Ve);i=c[1],r=r.substring(c[0].length)}var a=He(r);switch(t){case be:return a;case ve:return N([a],{type:i});case Fe:return new Int8Array(a);case qe:return new Uint8Array(a);case Ue:return new Uint8ClampedArray(a);case Ye:return new Int16Array(a);case We:return new Uint16Array(a);case Ge:return new Int32Array(a);case je:return new Uint32Array(a);case Ke:return new Float32Array(a);case Xe:return new Float64Array(a);default:throw new Error("Unkown type: "+t)}}var we={serialize:Bt,deserialize:Ct,stringToBuffer:He,bufferToString:_e};function Ze(e,r,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function Ot(e){var r=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var c=new s(function(a,h){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(g){return h(g)}t.db.transaction(function(g){Ze(g,t,function(){r._dbInfo=t,a()},function(b,v){h(v)})},h)});return t.serializer=we,c}function Z(e,r,t,i,c,a){e.executeSql(t,i,c,function(h,g){g.code===g.SYNTAX_ERR?h.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(b,v){v.rows.length?a(b,g):Ze(b,r,function(){b.executeSql(t,i,c,a)},a)},a):a(h,g)},a)}function zt(e,r){var t=this;e=S(e);var i=new s(function(c,a){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(g){Z(g,h,"SELECT * FROM "+h.storeName+" WHERE key = ? LIMIT 1",[e],function(b,v){var w=v.rows.length?v.rows.item(0).value:null;w&&(w=h.serializer.deserialize(w)),c(w)},function(b,v){a(v)})})}).catch(a)});return P(i,r),i}function Vt(e,r){var t=this,i=new s(function(c,a){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(g){Z(g,h,"SELECT * FROM "+h.storeName,[],function(b,v){for(var w=v.rows,R=w.length,D=0;D<R;D++){var L=w.item(D),B=L.value;if(B&&(B=h.serializer.deserialize(B)),B=e(B,L.key,D+1),B!==void 0){c(B);return}}c()},function(b,v){a(v)})})}).catch(a)});return P(i,r),i}function Qe(e,r,t,i){var c=this;e=S(e);var a=new s(function(h,g){c.ready().then(function(){r===void 0&&(r=null);var b=r,v=c._dbInfo;v.serializer.serialize(r,function(w,R){R?g(R):v.db.transaction(function(D){Z(D,v,"INSERT OR REPLACE INTO "+v.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){h(b)},function(L,B){g(B)})},function(D){if(D.code===D.QUOTA_ERR){if(i>0){h(Qe.apply(c,[e,b,t,i-1]));return}g(D)}})})}).catch(g)});return P(a,t),a}function Ft(e,r,t){return Qe.apply(this,[e,r,t,1])}function qt(e,r){var t=this;e=S(e);var i=new s(function(c,a){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(g){Z(g,h,"DELETE FROM "+h.storeName+" WHERE key = ?",[e],function(){c()},function(b,v){a(v)})})}).catch(a)});return P(i,r),i}function Ut(e){var r=this,t=new s(function(i,c){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(h){Z(h,a,"DELETE FROM "+a.storeName,[],function(){i()},function(g,b){c(b)})})}).catch(c)});return P(t,e),t}function Yt(e){var r=this,t=new s(function(i,c){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(h){Z(h,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(g,b){var v=b.rows.item(0).c;i(v)},function(g,b){c(b)})})}).catch(c)});return P(t,e),t}function Gt(e,r){var t=this,i=new s(function(c,a){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(g){Z(g,h,"SELECT key FROM "+h.storeName+" WHERE id = ? LIMIT 1",[e+1],function(b,v){var w=v.rows.length?v.rows.item(0).key:null;c(w)},function(b,v){a(v)})})}).catch(a)});return P(i,r),i}function Wt(e){var r=this,t=new s(function(i,c){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(h){Z(h,a,"SELECT key FROM "+a.storeName,[],function(g,b){for(var v=[],w=0;w<b.rows.length;w++)v.push(b.rows.item(w).key);i(v)},function(g,b){c(b)})})}).catch(c)});return P(t,e),t}function jt(e){return new s(function(r,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,a){for(var h=[],g=0;g<a.rows.length;g++)h.push(a.rows.item(g).name);r({db:e,storeNames:h})},function(c,a){t(a)})},function(i){t(i)})})}function Kt(e,r){r=T.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,c;return e.name?c=new s(function(a){var h;e.name===t.name?h=i._dbInfo.db:h=openDatabase(e.name,"","",0),e.storeName?a({db:h,storeNames:[e.storeName]}):a(jt(h))}).then(function(a){return new s(function(h,g){a.db.transaction(function(b){function v(L){return new s(function(B,z){b.executeSql("DROP TABLE IF EXISTS "+L,[],function(){B()},function(O,j){z(j)})})}for(var w=[],R=0,D=a.storeNames.length;R<D;R++)w.push(v(a.storeNames[R]));s.all(w).then(function(){h()}).catch(function(L){g(L)})},function(b){g(b)})})}):c=s.reject("Invalid arguments"),P(c,r),c}var Xt={_driver:"webSQLStorage",_initStorage:Ot,_support:Mt(),iterate:Vt,getItem:zt,setItem:Ft,removeItem:qt,clear:Ut,length:Yt,key:Gt,keys:Wt,dropInstance:Kt};function Jt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function $e(e,r){var t=e.name+"/";return e.storeName!==r.storeName&&(t+=e.storeName+"/"),t}function kt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Ht(){return!kt()||localStorage.length>0}function Zt(e){var r=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=$e(e,r._defaultConfig),Ht()?(r._dbInfo=t,t.serializer=we,s.resolve()):s.reject()}function Qt(e){var r=this,t=r.ready().then(function(){for(var i=r._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var a=localStorage.key(c);a.indexOf(i)===0&&localStorage.removeItem(a)}});return P(t,e),t}function $t(e,r){var t=this;e=S(e);var i=t.ready().then(function(){var c=t._dbInfo,a=localStorage.getItem(c.keyPrefix+e);return a&&(a=c.serializer.deserialize(a)),a});return P(i,r),i}function en(e,r){var t=this,i=t.ready().then(function(){for(var c=t._dbInfo,a=c.keyPrefix,h=a.length,g=localStorage.length,b=1,v=0;v<g;v++){var w=localStorage.key(v);if(w.indexOf(a)===0){var R=localStorage.getItem(w);if(R&&(R=c.serializer.deserialize(R)),R=e(R,w.substring(h),b++),R!==void 0)return R}}});return P(i,r),i}function tn(e,r){var t=this,i=t.ready().then(function(){var c=t._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(c.keyPrefix.length)),a});return P(i,r),i}function nn(e){var r=this,t=r.ready().then(function(){for(var i=r._dbInfo,c=localStorage.length,a=[],h=0;h<c;h++){var g=localStorage.key(h);g.indexOf(i.keyPrefix)===0&&a.push(g.substring(i.keyPrefix.length))}return a});return P(t,e),t}function rn(e){var r=this,t=r.keys().then(function(i){return i.length});return P(t,e),t}function on(e,r){var t=this;e=S(e);var i=t.ready().then(function(){var c=t._dbInfo;localStorage.removeItem(c.keyPrefix+e)});return P(i,r),i}function an(e,r,t){var i=this;e=S(e);var c=i.ready().then(function(){r===void 0&&(r=null);var a=r;return new s(function(h,g){var b=i._dbInfo;b.serializer.serialize(r,function(v,w){if(w)g(w);else try{localStorage.setItem(b.keyPrefix+e,v),h(a)}catch(R){(R.name==="QuotaExceededError"||R.name==="NS_ERROR_DOM_QUOTA_REACHED")&&g(R),g(R)}})})});return P(c,t),c}function fn(e,r){if(r=T.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,c;return e.name?c=new s(function(a){e.storeName?a($e(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var h=localStorage.length-1;h>=0;h--){var g=localStorage.key(h);g.indexOf(a)===0&&localStorage.removeItem(g)}}):c=s.reject("Invalid arguments"),P(c,r),c}var cn={_driver:"localStorageWrapper",_initStorage:Zt,_support:Jt(),iterate:en,getItem:$t,setItem:an,removeItem:on,clear:Qt,length:rn,key:tn,keys:nn,dropInstance:fn},sn=function(r,t){return r===t||typeof r=="number"&&typeof t=="number"&&isNaN(r)&&isNaN(t)},un=function(r,t){for(var i=r.length,c=0;c<i;){if(sn(r[c],t))return!0;c++}return!1},et=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},tt={},te={INDEXEDDB:At,WEBSQL:Xt,LOCALSTORAGE:cn},dn=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],le=["dropInstance"],Pe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(le),ln={description:"",driver:dn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function mn(e,r){e[r]=function(){var t=arguments;return e.ready().then(function(){return e[r].apply(e,t)})}}function Ee(){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var t in r)r.hasOwnProperty(t)&&(et(r[t])?arguments[0][t]=r[t].slice():arguments[0][t]=r[t])}return arguments[0]}var xn=function(){function e(r){u(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],c=i._driver;this[t]=c,re[c]||this.defineDriver(i)}this._defaultConfig=Ee({},ln),this._config=Ee({},this._defaultConfig,r),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":m(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,c){var a=new s(function(h,g){try{var b=t._driver,v=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){g(v);return}for(var w=Pe.concat("_initStorage"),R=0,D=w.length;R<D;R++){var L=w[R],B=!un(le,L);if((B||t[L])&&typeof t[L]!="function"){g(v);return}}var z=function(){for(var oe=function(yn){return function(){var gn=new Error("Method "+yn+" is not implemented by the current driver"),nt=s.reject(gn);return P(nt,arguments[arguments.length-1]),nt}},Se=0,pn=le.length;Se<pn;Se++){var Ie=le[Se];t[Ie]||(t[Ie]=oe(Ie))}};z();var O=function(oe){re[b]&&console.info("Redefining LocalForage driver: "+b),re[b]=t,tt[b]=oe,h()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(O,g):O(!!t._support):O(!0)}catch(j){g(j)}});return I(a,i,c),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,c){var a=re[t]?s.resolve(re[t]):s.reject(new Error("Driver not found."));return I(a,i,c),a},e.prototype.getSerializer=function(t){var i=s.resolve(we);return I(i,t),i},e.prototype.ready=function(t){var i=this,c=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return I(c,t,t),c},e.prototype.setDriver=function(t,i,c){var a=this;et(t)||(t=[t]);var h=this._getSupportedDrivers(t);function g(){a._config.driver=a.driver()}function b(R){return a._extend(R),g(),a._ready=a._initStorage(a._config),a._ready}function v(R){return function(){var D=0;function L(){for(;D<R.length;){var B=R[D];return D++,a._dbInfo=null,a._ready=null,a.getDriver(B).then(b).catch(L)}g();var z=new Error("No available storage method found.");return a._driverSet=s.reject(z),a._driverSet}return L()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return s.resolve()}):s.resolve();return this._driverSet=w.then(function(){var R=h[0];return a._dbInfo=null,a._ready=null,a.getDriver(R).then(function(D){a._driver=D._driver,g(),a._wrapLibraryMethodsWithReady(),a._initDriver=v(h)})}).catch(function(){g();var R=new Error("No available storage method found.");return a._driverSet=s.reject(R),a._driverSet}),I(this._driverSet,i,c),this._driverSet},e.prototype.supports=function(t){return!!tt[t]},e.prototype._extend=function(t){Ee(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],c=0,a=t.length;c<a;c++){var h=t[c];this.supports(h)&&i.push(h)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=Pe.length;t<i;t++)mn(this,Pe[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),hn=new xn;d.exports=hn},{3:3}]},{},[4])(4)})});var pt=Te((rr,ht)=>{"use strict";var Be=Math.abs,An=Math.min;function he(x,n,o,f){var d=Be(x-n);return o==null&&(o=he.DBL_EPSILON),f==null&&(f=o),d<=o||d<=f*An(Be(x),Be(n))?!0:x===n}he.FLT_EPSILON=11920929e-14;he.DBL_EPSILON=2220446049250313e-31;ht.exports=he});var fe=x=>({vertices:[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}]});var Ae=ie(xe(),1),it=ie(xe(),1);function Ne(x,n){for(var o=x.length,f=x[o-1],d=n[0],y=n[1],m=f[0],u=f[1],l,p,_=!1,N=0;N<o;++N)f=x[N],l=f[0],p=f[1],p>y!=u>y&&d<(m-l)*(y-p)/(u-p)+l&&(_=!_),m=l,u=p;return _}var ft=ie(xe(),1);var K=class Me{constructor(n,o){this.x=n,this.y=o}static twwyptgry23a20a04bb4c4fc5a40645dc4f4cb508(n){return new Me(n.x,n.y)}vsrwhjgod988d751ee7247089d1313cf4a3c477b(){let n={};return n.x=this.x,n.y=this.y,n}gjlvzyeu404ffdd476794201be48fb31ec771299(n){let o={ayJUb:function(d,y,m){return d(y,m)},oXyih:function(d,y,m){return d(y,m)}};return o.ayJUb(Ae.default,this.x,n.x)&&o.oXyih(Ae.default,this.y,n.y)}nbpzs27458622ccc249959c20422615c06a64(){return[this.x,this.y]}thrpx4a1afdac63c341be9dea8f2d5157874f(n){let o={};o.qfbzJ=function(m,u){return m/u},o.UXNcK=function(m,u){return m+u},o.hopkd=function(m,u){return m+u};let f=o,d=f.qfbzJ(f.UXNcK(this.x,n.x),2),y=f.hopkd(this.y,n.y)/2;return new Me(d,y)}eujioed9e6571467040498ab1de9ba753185c(n){let o={};o.azVlo=function(m,u){return m-u},o.wGfbD=function(m,u){return m-u},o.AQPdj=function(m,u){return m+u},o.mmLgA=function(m,u){return m*u};let f=o,d=f.azVlo(n.x,this.x),y=f.wGfbD(n.y,this.y);return Math.sqrt(f.AQPdj(f.mmLgA(d,d),f.mmLgA(y,y)))}};function De(x,n,o){let f={};f.JgZGr=function(N,s){return N-s},f.ilcJX=function(N,s){return N-s},f.jumxB=function(N,s){return N*s},f.CNXbW=function(N,s){return N*s},f.cjbXW=function(N,s){return N===s},f.FSvKL=function(N,s){return N/s};let d=f,y={x:d.JgZGr(x.x,n.x),y:d.JgZGr(x.y,n.y)},m={x:d.JgZGr(o.x,n.x),y:d.ilcJX(o.y,n.y)},u=d.jumxB(y.x,m.x)+d.CNXbW(y.y,m.y),l=Math.hypot(y.x,y.y),p=Math.hypot(m.x,m.y);if(l===0||d.cjbXW(p,0))return 0;let _=Math.min(1,Math.max(-1,d.FSvKL(u,d.CNXbW(l,p))));return Math.acos(_)}var at=class{static ugxvanlcdc0820f15fdf4244a9e5bcc01416d1c6(x,n,o){let f={};f.akeqe=function(l,p){return l/p},f.GvlAU=function(l,p){return l<=p};let d=f,y=n.thrpx4a1afdac63c341be9dea8f2d5157874f(o),m=d.akeqe(n.eujioed9e6571467040498ab1de9ba753185c(o),2),u=y.eujioed9e6571467040498ab1de9ba753185c(x);return d.GvlAU(u,m)}},In=class Y{constructor(n){this.points=n,this.tag="",this.sectionTag="",this.materialTag="",!Y.aypglnqq2ecde99dfb6a4e3a8abbdbe6048f1786(n)&&this.points.reverse()}static twwyptgry23a20a04bb4c4fc5a40645dc4f4cb508(n){return new Y(n.points.map(o=>K.twwyptgry23a20a04bb4c4fc5a40645dc4f4cb508(o)))}vsrwhjgod988d751ee7247089d1313cf4a3c477b(){return{points:this.points.map(n=>n.vsrwhjgod988d751ee7247089d1313cf4a3c477b()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static aypglnqq2ecde99dfb6a4e3a8abbdbe6048f1786(n){let o={};o.uRbQk=function(l,p){return l-p},o.GUhPr=function(l,p){return l*p},o.cFxqu=function(l,p){return l-p},o.bLhqc=function(l,p){return l-p},o.xfKhm=function(l,p){return l>p};let f=o,[d,y,m]=n,u=f.uRbQk(f.GUhPr(y.x-d.x,f.cFxqu(m.y,d.y)),f.bLhqc(y.y,d.y)*f.cFxqu(m.x,d.x));return f.xfKhm(u,0)}zztda59b3e36d4757497f80020cd5fc7ed3af(n,o,f){this.tag=n,this.sectionTag=o,this.materialTag=f}mqvwzcg4de686ee364945948d9c49995095638f(){let n={};n.tPOlg=function(l,p){return l/p},n.WqhbL=function(l,p){return l+p},n.zcRxw=function(l,p){return l/p},n.JQopx=function(l,p){return l+p};let o=n,[f,d,y]=this.points,m=o.tPOlg(o.WqhbL(f.x,d.x)+y.x,3),u=o.zcRxw(o.JQopx(f.y,d.y)+y.y,3);return new K(m,u)}nbvjhlbrwd3f3bb4a983146c0865df34e9b7fc013(n=.1){let o={};o.pDehX=function(p,_){return p+_},o.mLIfN=function(p,_){return p*_},o.JYYYw=function(p,_){return p-_},o.ESrEj=function(p,_){return p*_},o.LaEAs=function(p,_){return p/_},o.WTlMM=function(p,_){return p*_};let f=o,d=this.mqvwzcg4de686ee364945948d9c49995095638f(),y=this.points.map(p=>{let _=d.x-p.x,N=d.y-p.y;return Math.sqrt(f.pDehX(_*_,f.mLIfN(N,N)))}),m=Math.max(...y),u=f.WTlMM(m,n);return this.points.map(p=>{let _=f.JYYYw(d.x,p.x),N=f.JYYYw(d.y,p.y),s=Math.sqrt(f.ESrEj(_,_)+f.ESrEj(N,N)),P=f.LaEAs(u,s);return new K(p.x+f.mLIfN(_,P),p.y+N*P)})}yyzxjtjib70cb95f21e84ec0b5ed3801ad7efdfd(){let n=this.mqvwzcg4de686ee364945948d9c49995095638f();return[new Y([this.points[0],this.points[1],n]),new Y([this.points[1],this.points[2],n]),new Y([this.points[2],this.points[0],n])]}qtdxnn71a2e3295779482ebb6f1565385936ca(){let n={};n.Fogic=function(p,_){return p/_},n.ZoMcm=function(p,_){return p+_},n.REqAt=function(p,_){return p/_},n.qIJyN=function(p,_){return p/_};let o=n,[f,d,y]=this.points,m=new K(o.Fogic(o.ZoMcm(f.x,d.x),2),(f.y+d.y)/2),u=new K(o.Fogic(d.x+y.x,2),o.REqAt(o.ZoMcm(d.y,y.y),2)),l=new K(o.Fogic(o.ZoMcm(y.x,f.x),2),o.qIJyN(y.y+f.y,2));return[new Y([f,m,l]),new Y([m,d,u]),new Y([l,u,y]),new Y([m,u,l])]}gzzfqctrwy4e7a236006d14769a414719fc3f9670f(){let n={};n.qACEE=function(S,T){return S*T},n.HVTce=function(S,T){return S+T},n.Puakw=function(S,T){return S-T},n.yJxvf=function(S,T){return S-T},n.VWpxh=function(S,T){return S<T},n.ODpqN=function(S,T){return S/T},n.jJVWl=function(S,T){return S+T},n.rPUPx=function(S,T){return S+T},n.YXcfz=function(S,T){return S*T},n.nNlfN=function(S,T){return S*T},n.FZVUK=function(S,T){return S*T},n.VToOD=function(S,T){return S+T},n.SXGZL=function(S,T){return S*T},n.yVpPj=function(S,T){return S*T},n.mNoHz=function(S,T){return S-T},n.oBCKS=function(S,T){return S/T},n.ikMnx=function(S,T){return S+T},n.IAPcM=function(S,T){return S*T},n.ffoik=function(S,T){return S-T},n.LSpyG=function(S,T){return S*T},n.RkgsD=function(S,T){return S*T},n.RFZdr=function(S,T){return S+T},n.QaJKI=function(S,T){return S*T};let o=n,[f,d,y]=this.points,m=f.x,u=f.y,l=d.x,p=d.y,_=y.x,N=y.y,s=o.qACEE(2,o.HVTce(o.qACEE(m,o.Puakw(p,N))+l*o.yJxvf(N,u),o.qACEE(_,o.yJxvf(u,p))));if(o.VWpxh(Math.abs(s),1e-10))return null;let P=o.ODpqN(o.jJVWl(o.rPUPx(o.YXcfz(o.YXcfz(m,m)+o.nNlfN(u,u),o.Puakw(p,N)),o.FZVUK(o.VToOD(o.qACEE(l,l),o.nNlfN(p,p)),o.Puakw(N,u))),o.SXGZL(o.VToOD(o.FZVUK(_,_),o.yVpPj(N,N)),o.mNoHz(u,p))),s),I=o.oBCKS(o.ikMnx(o.qACEE(m,m),o.IAPcM(u,u))*o.ffoik(_,l)+o.LSpyG(o.RkgsD(l,l)+p*p,m-_)+o.RFZdr(_*_,o.QaJKI(N,N))*o.mNoHz(l,m),s);return new K(P,I)}ohnyo0363eb9356d34a7da8f937a57bc45557(){let n={};n.vbvek=function(d,y){return d===y};let o=n,f=this.gzzfqctrwy4e7a236006d14769a414719fc3f9670f();return o.vbvek(f,null)?[]:[new Y([this.points[0],this.points[1],f]),new Y([this.points[1],this.points[2],f]),new Y([this.points[2],this.points[0],f])]}oxmzn38f84522012f498384f21bd5d9427976(){let n={};n.JkYdE=function(P,I){return P*I},n.bnUmm=function(P,I){return P+I},n.miqgR=function(P,I){return P-I},n.YprdB=function(P,I){return P*I},n.Unfhj=function(P,I){return P-I};let o=n,[f,d,y]=this.points,m=f.x,u=d.x,l=y.x,p=f.y,_=d.y,N=y.y;return o.JkYdE(.5,Math.abs(o.bnUmm(m*o.miqgR(_,N),o.YprdB(u,o.Unfhj(N,p)))+o.YprdB(l,o.Unfhj(p,_))))}egrohknl1e6dbbf82ba64bd7b9d7b276c306945a(){let n=this.oxmzn38f84522012f498384f21bd5d9427976();return(0,it.default)(n,0)}twurst024ffbc8875a473ebd50aa4423150e39(){let n={vhixY:function(m,u,l,p){return m(u,l,p)}},[o,f,d]=this.points;return[De(f,o,d),n.vhixY(De,o,f,d),n.vhixY(De,o,d,f)]}fobhve759b3e544e5410d974a96b6132027e0(n=15*Math.PI/180){return!!this.twurst024ffbc8875a473ebd50aa4423150e39().some(f=>f<n)}banddb6a4d81cda11447f8c6c7faf2f9c4b52(){let n={};n.rAmzP=function(d,y){return d<y},n.EYBgl=function(d,y){return d%y},n.JBzSY=function(d,y){return d+y};let o=n,f=this.gzzfqctrwy4e7a236006d14769a414719fc3f9670f();if(!f)return this.cxfgx97da017fa2544925aeda25a6f5e2fac0();for(let d=0;o.rAmzP(d,3);d++){let y=this.points[d],m=this.points[o.EYBgl(o.JBzSY(d,1),3)];if(at.ugxvanlcdc0820f15fdf4244a9e5bcc01416d1c6(f,y,m))return this.cxfgx97da017fa2544925aeda25a6f5e2fac0()}return f}ydruwaa52c299dab6f470b9d70d6ee8a37537f(n){let[o,f,d]=this.points,y={};y.p1=o,y.p2=f;let m={};m.p1=f,m.p2=d;let u={};u.p1=d,u.p2=o;let l=[y,m,u],p=[];for(let _ of l)for(let N of n)if(!this.points.some(s=>s.gjlvzyeu404ffdd476794201be48fb31ec771299(N))&&at.ugxvanlcdc0820f15fdf4244a9e5bcc01416d1c6(N,_.p1,_.p2))return p.push(_.p1.thrpx4a1afdac63c341be9dea8f2d5157874f(_.p2)),p;return p}aqdsqqnmyffb1288950bb4589a04380793af5c3bb(n){let o=this.gzzfqctrwy4e7a236006d14769a414719fc3f9670f();return o?n.some(f=>f.wdlut35cdcb5dfa7f446ba69ff64ee8fc8c8d(o))?o:this.cxfgx97da017fa2544925aeda25a6f5e2fac0():this.cxfgx97da017fa2544925aeda25a6f5e2fac0()}cxfgx97da017fa2544925aeda25a6f5e2fac0(){let n={};n.EOeQQ=function(s,P){return s>P};let o=n,[f,d,y]=this.points,m={};m.p1=f,m.p2=d;let u={};u.p1=d,u.p2=y;let l={};l.p1=y,l.p2=f;let p=[m,u,l],_=p[0],N=_.p1.eujioed9e6571467040498ab1de9ba753185c(_.p2);for(let s=1;s<p.length;s++){let P=p[s].p1.eujioed9e6571467040498ab1de9ba753185c(p[s].p2);o.EOeQQ(P,N)&&(N=P,_=p[s])}return _.p1.thrpx4a1afdac63c341be9dea8f2d5157874f(_.p2)}};var Tn=class ct{constructor(n,o,f,d){let y={};y.wWSPi="2|3|1|0|4";let m=y,u=m.wWSPi.split("|"),l=0;for(;;){switch(u[l++]){case"0":this.materialTag=d;continue;case"1":this.sectionTag=f;continue;case"2":this.points=n;continue;case"3":this.tag=o;continue;case"4":this.d3Polygon=n.map(p=>[p.x,p.y]);continue}break}}static FromDto(n){return new ct(n.points.map(o=>K.twwyptgry23a20a04bb4c4fc5a40645dc4f4cb508(o)),n.tag,n.sectionTag,n.materialTag)}cyrxkjn8eef0b1276724e76accab7564c883325(n){let o={};o.mUQbJ=function(d,y){return d<y};let f=o;for(let d=0,y=this.points.length-1;f.mUQbJ(d,this.points.length);y=d++)if(Rn(n,this.points[d],this.points[y]))return!0;return!1}wdlut35cdcb5dfa7f446ba69ff64ee8fc8c8d(n){return this.cyrxkjn8eef0b1276724e76accab7564c883325(n)?!0:Ne(this.d3Polygon,[n.x,n.y])}dywpfm4c0ca596fcc443b98f8c20a7fe3da3dd(n,o){let f={};f.XDuqO=function(m,u){return m<u},f.ZxXNX=function(m,u){return m%u},f.IIBPJ=function(m,u){return m+u},f.Chvaf=function(m,u){return m-u},f.CnZcN=function(m,u){return m*u},f.lBsYK=function(m,u){return m*u},f.SuiOB=function(m,u){return m/u},f.LYHpo=function(m,u){return m*u},f.hZHnU=function(m,u){return m*u};let d=f,y=[];for(let m=0;d.XDuqO(m,n.length);m++){let u=n[m],l=n[d.ZxXNX(d.IIBPJ(m,1),n.length)],p=d.Chvaf(l.x,u.x),_=d.Chvaf(l.y,u.y),N=Math.sqrt(d.IIBPJ(d.CnZcN(p,p),d.lBsYK(_,_))),s=Math.floor(d.SuiOB(N,o));y.push(new K(u.x,u.y));for(let P=1;P<s;P++){let I=d.LYHpo(P,o)/N,S=d.IIBPJ(u.x,d.hZHnU(I,p)),T=u.y+I*_;y.push(new K(S,T))}}return y}};function Rn(x,n,o){let f={KBnHc:function(u,l){return u-l},MQaWU:function(u,l){return u*l},OOtdM:function(u,l){return u-l},KUaGr:function(u,l){return u-l},qltgh:function(u,l,p){return u(l,p)},iIxIf:function(u,l){return u+l},BWpVr:function(u,l){return u*l},nggPn:function(u,l){return u-l},xWzFo:function(u,l){return u-l},yXPPB:function(u,l){return u<l},kzEsO:function(u,l){return u**l},UfoxN:function(u,l){return u-l},dKjFM:function(u,l){return u>l}},d=f.KBnHc(f.MQaWU(f.KBnHc(x.y,n.y),f.OOtdM(o.x,n.x)),f.MQaWU(f.KUaGr(x.x,n.x),f.OOtdM(o.y,n.y)));if(!f.qltgh(ft.default,Math.abs(d),0))return!1;let y=f.iIxIf(f.BWpVr(f.nggPn(x.x,n.x),o.x-n.x),f.BWpVr(f.KUaGr(x.y,n.y),f.xWzFo(o.y,n.y)));if(f.yXPPB(y,0))return!1;let m=f.iIxIf(f.nggPn(o.x,n.x)**2,f.kzEsO(f.UfoxN(o.y,n.y),2));return!f.dKjFM(y,m)}function st(x){let n=x.polygons.map(y=>Tn.FromDto(y)),o=x.baseTriangles.map(y=>In.twwyptgry23a20a04bb4c4fc5a40645dc4f4cb508(y)),f=o,d=[];for(let y of f){let m=y.mqvwzcg4de686ee364945948d9c49995095638f(),u=n.find(l=>l.wdlut35cdcb5dfa7f446ba69ff64ee8fc8c8d(m));u&&(y.zztda59b3e36d4757497f80020cd5fc7ed3af(u.tag,u.sectionTag,u.materialTag),d.push(y))}return{triangles:d.map(y=>y.vsrwhjgod988d751ee7247089d1313cf4a3c477b())}}var Ce=ie(dt());var lt=(x,n,o="")=>`View3dModel-${x}-${n}${o}`,mt=x=>`Triangles-${x}`;var Q=class extends Error{constructor(n){super(n)}};function xt(x){if(x.length<3)throw new Q("At least three vertices are required to form a face.");return{vertices:[...x.filter(n=>n)],results:[]}}var se=ie(pt());var ce=x=>{let n=(x.points??"").trim().split(/\s+/).map(f=>f.split(",")),o=[];for(let[f,d]of n){let y=parseFloat(f),m=parseFloat(d);if(Number.isFinite(y)&&Number.isFinite(m))o.push({x:y,y:m});else throw new Q("Invalid vertex coordinates")}return{vertices:o}};function yt(x){let n=0,o=0,f=0,d=x.length;for(let y=0;y<d;y++){let{x:m,y:u}=x[y],{x:l,y:p}=x[(y+1)%d],_=m*p-l*u;n+=_,o+=(m+l)*_,f+=(u+p)*_}return n*=.5,n===0?{x:0,y:0}:(o/=6*n,f/=6*n,{x:o,y:f})}function*gt(x,n){let o=[...new Set(n.rectangles.map(s=>s.name).concat(n.polygons.map(s=>s.name)))],f=[];for(let s of x){let P=s.points.map(T=>Ln(T)),I=xt(P);if(o.indexOf(s.name)===-1)throw new Q(`Geometry name ${s.name} not found in geometry rectangles or polygons.`);f.push(I)}let d=n.supports.map(s=>Bn(s)),y=x.flatMap(s=>s.points).map(s=>s.x).reduce((s,P)=>Math.max(s,P),-1/0),m=x.flatMap(s=>s.points).map(s=>s.x).reduce((s,P)=>Math.min(s,P),1/0),u=x.flatMap(s=>s.points).map(s=>s.y).reduce((s,P)=>Math.max(s,P),-1/0),l=x.flatMap(s=>s.points).map(s=>s.y).reduce((s,P)=>Math.min(s,P),1/0),p=y-m,_=u-l,N=[...n.polygons.map(s=>ce(s)),...n.rectangles.map(s=>fe(s))].map(s=>s.vertices.map(P=>({x:P.x,y:P.y}))).map(s=>({points:s}));for(let s of n.loadCases)yield{faces:f,wireframeFaces:[],supports:d,borders:N,loads:Mn(s,n),loadCaseTag:s.name,width:p,height:_}}function Mn(x,n){let o=[];for(let f of x.pointLoads)(0,se.default)(f.fx,0)||o.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"point"}),(0,se.default)(f.fy,0)||o.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of x.distributedLoads){let d=n.polygons.filter(u=>u.name===f.geometryName).map(u=>ce(u)),y=n.rectangles.filter(u=>u.name===f.geometryName).map(u=>fe(u)),m=[...d,...y];for(let u of m){let l=yt(u.vertices);(0,se.default)(f.fx,0)||o.push({x:l.x,y:l.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),(0,se.default)(f.fy,0)||o.push({x:l.x,y:l.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return o}function Ln(x){return{x:x.x,y:x.y,z:0,ux:0,uy:0,uz:0,value:0}}function Bn(x){return{x:x.x,y:x.y,z:0,ux:x.fixedX,uy:x.fixedY,uz:!1}}addEventListener("message",({data:x})=>{Cn(x)});var Cn=async x=>{let{geometry:n,uuid:o,baseTriangles:f}=x,d=n.loadCases.flatMap(I=>I.pointLoads).map(I=>({x:I.x,y:I.y})),y=n.supports.map(I=>({x:I.x,y:I.y})),m=n.resultPoints.map(I=>({x:I.x,y:I.y})),u=n.rectangles.map(I=>Fn(I)),l=n.polygons.map(I=>qn(I)),p=u.concat(l),_={maxTriangleArea:n.meshingConfiguration.maxTriangleArea,refinementPoints:n.meshingConfiguration.refinementPoints.map(I=>On(I))},s=st({polygons:p,extraPoints:d.concat(y).concat(m),meshingConfiguration:_,baseTriangles:f.map(I=>Un(I))}).triangles.map(I=>Vn(I));await Ce.setItem(mt(o),s);for(let I of gt(s,n))await Ce.setItem(lt(o,I.loadCaseTag),I);postMessage({uuid:o})},On=x=>({radius:x.radius,maxTriangleArea:x.maxArea,center:{x:x.x,y:x.y}}),zn=x=>({x:x.x,y:x.y}),Vn=x=>({points:x.points.map(o=>zn(o)),name:x.tag,sectionTag:x.sectionTag,materialTag:x.materialTag}),Fn=x=>({points:fe(x).vertices.map(o=>({x:o.x,y:o.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),qn=x=>({points:ce(x).vertices.map(o=>({x:o.x,y:o.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),Un=x=>({points:x.points.map(o=>({x:o.x,y:o.y}))});
