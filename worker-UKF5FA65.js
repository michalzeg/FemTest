var ft=Object.create;var Ze=Object.defineProperty;var st=Object.getOwnPropertyDescriptor;var ct=Object.getOwnPropertyNames;var ut=Object.getPrototypeOf,dt=Object.prototype.hasOwnProperty;var ae=(x=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(x,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):x)(function(x){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+x+'" is not supported')});var lt=(x,r)=>()=>(r||x((r={exports:{}}).exports,r),r.exports);var mt=(x,r,o,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let l of ct(r))!dt.call(x,l)&&l!==o&&Ze(x,l,{get:()=>r[l],enumerable:!(f=st(r,l))||f.enumerable});return x};var xt=(x,r,o)=>(o=x!=null?ft(ut(x)):{},mt(r||!x||!x.__esModule?Ze(o,"default",{value:x,enumerable:!0}):o,x));var nn=lt((en,Ie)=>{"use strict";(function(x){if(typeof en=="object"&&typeof Ie<"u")Ie.exports=x();else if(typeof define=="function"&&define.amd)define([],x);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=x()}})(function(){var x,r,o;return function f(l,b,m){function c(_,M){if(!b[_]){if(!l[_]){var u=typeof ae=="function"&&ae;if(!M&&u)return u(_,!0);if(d)return d(_,!0);var v=new Error("Cannot find module '"+_+"'");throw v.code="MODULE_NOT_FOUND",v}var R=b[_]={exports:{}};l[_][0].call(R.exports,function(I){var P=l[_][1][I];return c(P||I)},R,R.exports,f,l,b,m)}return b[_].exports}for(var d=typeof ae=="function"&&ae,h=0;h<m.length;h++)c(m[h]);return c}({1:[function(f,l,b){(function(m){"use strict";var c=m.MutationObserver||m.WebKitMutationObserver,d;if(c){var h=0,_=new c(I),M=m.document.createTextNode("");_.observe(M,{characterData:!0}),d=function(){M.data=h=++h%2}}else if(!m.setImmediate&&typeof m.MessageChannel<"u"){var u=new m.MessageChannel;u.port1.onmessage=I,d=function(){u.port2.postMessage(0)}}else"document"in m&&"onreadystatechange"in m.document.createElement("script")?d=function(){var z=m.document.createElement("script");z.onreadystatechange=function(){I(),z.onreadystatechange=null,z.parentNode.removeChild(z),z=null},m.document.documentElement.appendChild(z)}:d=function(){setTimeout(I,0)};var v,R=[];function I(){v=!0;for(var z,U,F=R.length;F;){for(U=R,R=[],z=-1;++z<F;)U[z]();F=R.length}v=!1}l.exports=P;function P(z){R.push(z)===1&&!v&&d()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,l,b){"use strict";var m=f(1);function c(){}var d={},h=["REJECTED"],_=["FULFILLED"],M=["PENDING"];l.exports=u;function u(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=M,this.queue=[],this.outcome=void 0,E!==c&&P(this,E)}u.prototype.catch=function(E){return this.then(null,E)},u.prototype.then=function(E,D){if(typeof E!="function"&&this.state===_||typeof D!="function"&&this.state===h)return this;var N=new this.constructor(c);if(this.state!==M){var B=this.state===_?E:D;R(N,B,this.outcome)}else this.queue.push(new v(N,E,D));return N};function v(E,D,N){this.promise=E,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(E){d.resolve(this.promise,E)},v.prototype.otherCallFulfilled=function(E){R(this.promise,this.onFulfilled,E)},v.prototype.callRejected=function(E){d.reject(this.promise,E)},v.prototype.otherCallRejected=function(E){R(this.promise,this.onRejected,E)};function R(E,D,N){m(function(){var B;try{B=D(N)}catch(O){return d.reject(E,O)}B===E?d.reject(E,new TypeError("Cannot resolve promise with itself")):d.resolve(E,B)})}d.resolve=function(E,D){var N=z(I,D);if(N.status==="error")return d.reject(E,N.value);var B=N.value;if(B)P(E,B);else{E.state=_,E.outcome=D;for(var O=-1,j=E.queue.length;++O<j;)E.queue[O].callFulfilled(D)}return E},d.reject=function(E,D){E.state=h,E.outcome=D;for(var N=-1,B=E.queue.length;++N<B;)E.queue[N].callRejected(D);return E};function I(E){var D=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof D=="function")return function(){D.apply(E,arguments)}}function P(E,D){var N=!1;function B(W){N||(N=!0,d.reject(E,W))}function O(W){N||(N=!0,d.resolve(E,W))}function j(){D(O,B)}var Y=z(j);Y.status==="error"&&B(Y.value)}function z(E,D){var N={};try{N.value=E(D),N.status="success"}catch(B){N.status="error",N.value=B}return N}u.resolve=U;function U(E){return E instanceof this?E:d.resolve(new this(c),E)}u.reject=F;function F(E){var D=new this(c);return d.reject(D,E)}u.all=me;function me(E){var D=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=E.length,B=!1;if(!N)return this.resolve([]);for(var O=new Array(N),j=0,Y=-1,W=new this(c);++Y<N;)Q(E[Y],Y);return W;function Q(te,ce){D.resolve(te).then(xe,function(ee){B||(B=!0,d.reject(W,ee))});function xe(ee){O[ce]=ee,++j===N&&!B&&(B=!0,d.resolve(W,O))}}}u.race=K;function K(E){var D=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=E.length,B=!1;if(!N)return this.resolve([]);for(var O=-1,j=new this(c);++O<N;)Y(E[O]);return j;function Y(W){D.resolve(W).then(function(Q){B||(B=!0,d.resolve(j,Q))},function(Q){B||(B=!0,d.reject(j,Q))})}}},{1:1}],3:[function(f,l,b){(function(m){"use strict";typeof m.Promise!="function"&&(m.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,l,b){"use strict";var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var h=d();function _(){try{if(!h||!h.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function M(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(a){if(a.name!=="TypeError")throw a;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new n,s=0;s<e.length;s+=1)i.append(e[s]);return i.getBlob(t.type)}}typeof Promise>"u"&&f(3);var u=Promise;function v(e,t){t&&e.then(function(n){t(null,n)},function(n){t(n)})}function R(e,t,n){typeof t=="function"&&e.then(t),typeof n=="function"&&e.catch(n)}function I(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function P(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var z="local-forage-detect-blob-support",U=void 0,F={},me=Object.prototype.toString,K="readonly",E="readwrite";function D(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),s=0;s<t;s++)i[s]=e.charCodeAt(s);return n}function N(e){return new u(function(t){var n=e.transaction(z,E),i=M([""]);n.objectStore(z).put(i,"key"),n.onabort=function(s){s.preventDefault(),s.stopPropagation(),t(!1)},n.oncomplete=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);t(a||!s||parseInt(s[1],10)>=43)}}).catch(function(){return!1})}function B(e){return typeof U=="boolean"?u.resolve(U):N(e).then(function(t){return U=t,U})}function O(e){var t=F[e.name],n={};n.promise=new u(function(i,s){n.resolve=i,n.reject=s}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function j(e){var t=F[e.name],n=t.deferredOperations.pop();if(n)return n.resolve(),n.promise}function Y(e,t){var n=F[e.name],i=n.deferredOperations.pop();if(i)return i.reject(t),i.promise}function W(e,t){return new u(function(n,i){if(F[e.name]=F[e.name]||Ae(),e.db)if(t)O(e),e.db.close();else return n(e.db);var s=[e.name];t&&s.push(e.version);var a=h.open.apply(h,s);t&&(a.onupgradeneeded=function(p){var g=a.result;try{g.createObjectStore(e.storeName),p.oldVersion<=1&&g.createObjectStore(z)}catch(y){if(y.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw y}}),a.onerror=function(p){p.preventDefault(),i(a.error)},a.onsuccess=function(){var p=a.result;p.onversionchange=function(g){g.target.close()},n(p),j(e)}})}function Q(e){return W(e,!1)}function te(e){return W(e,!0)}function ce(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,s=e.version>e.db.version;if(i&&(e.version!==t&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),s||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function xe(e){return new u(function(t,n){var i=new FileReader;i.onerror=n,i.onloadend=function(s){var a=btoa(s.target.result||"");t({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var t=D(atob(e.data));return M([t],{type:e.type})}function Me(e){return e&&e.__local_forage_encoded_blob}function sn(e){var t=this,n=t._initReady().then(function(){var i=F[t._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return R(n,e,e),n}function cn(e){O(e);for(var t=F[e.name],n=t.forages,i=0;i<n.length;i++){var s=n[i];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,Q(e).then(function(a){return e.db=a,ce(e)?te(e):a}).then(function(a){e.db=t.db=a;for(var p=0;p<n.length;p++)n[p]._dbInfo.db=a}).catch(function(a){throw Y(e,a),a})}function H(e,t,n,i){i===void 0&&(i=1);try{var s=e.db.transaction(e.storeName,t);n(null,s)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return u.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),te(e)}).then(function(){return cn(e).then(function(){H(e,t,n,i-1)})}).catch(n);n(a)}}function Ae(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function un(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=e[i];var s=F[n.name];s||(s=Ae(),F[n.name]=s),s.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=sn);var a=[];function p(){return u.resolve()}for(var g=0;g<s.forages.length;g++){var y=s.forages[g];y!==t&&a.push(y._initReady().catch(p))}var w=s.forages.slice(0);return u.all(a).then(function(){return n.db=s.db,Q(n)}).then(function(T){return n.db=T,ce(n,t._defaultConfig.version)?te(n):T}).then(function(T){n.db=s.db=T,t._dbInfo=n;for(var S=0;S<w.length;S++){var A=w[S];A!==t&&(A._dbInfo.db=n.db,A._dbInfo.version=n.version)}})}function dn(e,t){var n=this;e=I(e);var i=new u(function(s,a){n.ready().then(function(){H(n._dbInfo,K,function(p,g){if(p)return a(p);try{var y=g.objectStore(n._dbInfo.storeName),w=y.get(e);w.onsuccess=function(){var T=w.result;T===void 0&&(T=null),Me(T)&&(T=ee(T)),s(T)},w.onerror=function(){a(w.error)}}catch(T){a(T)}})}).catch(a)});return v(i,t),i}function ln(e,t){var n=this,i=new u(function(s,a){n.ready().then(function(){H(n._dbInfo,K,function(p,g){if(p)return a(p);try{var y=g.objectStore(n._dbInfo.storeName),w=y.openCursor(),T=1;w.onsuccess=function(){var S=w.result;if(S){var A=S.value;Me(A)&&(A=ee(A));var C=e(A,S.key,T++);C!==void 0?s(C):S.continue()}else s()},w.onerror=function(){a(w.error)}}catch(S){a(S)}})}).catch(a)});return v(i,t),i}function mn(e,t,n){var i=this;e=I(e);var s=new u(function(a,p){var g;i.ready().then(function(){return g=i._dbInfo,me.call(t)==="[object Blob]"?B(g.db).then(function(y){return y?t:xe(t)}):t}).then(function(y){H(i._dbInfo,E,function(w,T){if(w)return p(w);try{var S=T.objectStore(i._dbInfo.storeName);y===null&&(y=void 0);var A=S.put(y,e);T.oncomplete=function(){y===void 0&&(y=null),a(y)},T.onabort=T.onerror=function(){var C=A.error?A.error:A.transaction.error;p(C)}}catch(C){p(C)}})}).catch(p)});return v(s,n),s}function xn(e,t){var n=this;e=I(e);var i=new u(function(s,a){n.ready().then(function(){H(n._dbInfo,E,function(p,g){if(p)return a(p);try{var y=g.objectStore(n._dbInfo.storeName),w=y.delete(e);g.oncomplete=function(){s()},g.onerror=function(){a(w.error)},g.onabort=function(){var T=w.error?w.error:w.transaction.error;a(T)}}catch(T){a(T)}})}).catch(a)});return v(i,t),i}function hn(e){var t=this,n=new u(function(i,s){t.ready().then(function(){H(t._dbInfo,E,function(a,p){if(a)return s(a);try{var g=p.objectStore(t._dbInfo.storeName),y=g.clear();p.oncomplete=function(){i()},p.onabort=p.onerror=function(){var w=y.error?y.error:y.transaction.error;s(w)}}catch(w){s(w)}})}).catch(s)});return v(n,e),n}function pn(e){var t=this,n=new u(function(i,s){t.ready().then(function(){H(t._dbInfo,K,function(a,p){if(a)return s(a);try{var g=p.objectStore(t._dbInfo.storeName),y=g.count();y.onsuccess=function(){i(y.result)},y.onerror=function(){s(y.error)}}catch(w){s(w)}})}).catch(s)});return v(n,e),n}function bn(e,t){var n=this,i=new u(function(s,a){if(e<0){s(null);return}n.ready().then(function(){H(n._dbInfo,K,function(p,g){if(p)return a(p);try{var y=g.objectStore(n._dbInfo.storeName),w=!1,T=y.openKeyCursor();T.onsuccess=function(){var S=T.result;if(!S){s(null);return}e===0||w?s(S.key):(w=!0,S.advance(e))},T.onerror=function(){a(T.error)}}catch(S){a(S)}})}).catch(a)});return v(i,t),i}function gn(e){var t=this,n=new u(function(i,s){t.ready().then(function(){H(t._dbInfo,K,function(a,p){if(a)return s(a);try{var g=p.objectStore(t._dbInfo.storeName),y=g.openKeyCursor(),w=[];y.onsuccess=function(){var T=y.result;if(!T){i(w);return}w.push(T.key),T.continue()},y.onerror=function(){s(y.error)}}catch(T){s(T)}})}).catch(s)});return v(n,e),n}function vn(e,t){t=P.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i=this,s;if(!e.name)s=u.reject("Invalid arguments");else{var a=e.name===n.name&&i._dbInfo.db,p=a?u.resolve(i._dbInfo.db):Q(e).then(function(g){var y=F[e.name],w=y.forages;y.db=g;for(var T=0;T<w.length;T++)w[T]._dbInfo.db=g;return g});e.storeName?s=p.then(function(g){if(g.objectStoreNames.contains(e.storeName)){var y=g.version+1;O(e);var w=F[e.name],T=w.forages;g.close();for(var S=0;S<T.length;S++){var A=T[S];A._dbInfo.db=null,A._dbInfo.version=y}var C=new u(function(L,V){var G=h.open(e.name,y);G.onerror=function(k){var oe=G.result;oe.close(),V(k)},G.onupgradeneeded=function(){var k=G.result;k.deleteObjectStore(e.storeName)},G.onsuccess=function(){var k=G.result;k.close(),L(k)}});return C.then(function(L){w.db=L;for(var V=0;V<T.length;V++){var G=T[V];G._dbInfo.db=L,j(G._dbInfo)}}).catch(function(L){throw(Y(e,L)||u.resolve()).catch(function(){}),L})}}):s=p.then(function(g){O(e);var y=F[e.name],w=y.forages;g.close();for(var T=0;T<w.length;T++){var S=w[T];S._dbInfo.db=null}var A=new u(function(C,L){var V=h.deleteDatabase(e.name);V.onerror=function(){var G=V.result;G&&G.close(),L(V.error)},V.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},V.onsuccess=function(){var G=V.result;G&&G.close(),C(G)}});return A.then(function(C){y.db=C;for(var L=0;L<w.length;L++){var V=w[L];j(V._dbInfo)}}).catch(function(C){throw(Y(e,C)||u.resolve()).catch(function(){}),C})})}return v(s,t),s}var yn={_driver:"asyncStorage",_initStorage:un,_support:_(),iterate:ln,getItem:dn,setItem:mn,removeItem:xn,clear:hn,length:pn,key:bn,keys:gn,dropInstance:vn};function _n(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wn="~~local_forage_type~",Ne=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",he=ue.length,pe="arbf",be="blob",De="si08",Ce="ui08",Le="uic8",Be="si16",Ge="si32",Ve="ur16",ze="ui32",Fe="fl32",Oe="fl64",je=he+pe.length,qe=Object.prototype.toString;function Ye(e){var t=e.length*.75,n=e.length,i,s=0,a,p,g,y;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var w=new ArrayBuffer(t),T=new Uint8Array(w);for(i=0;i<n;i+=4)a=Z.indexOf(e[i]),p=Z.indexOf(e[i+1]),g=Z.indexOf(e[i+2]),y=Z.indexOf(e[i+3]),T[s++]=a<<2|p>>4,T[s++]=(p&15)<<4|g>>2,T[s++]=(g&3)<<6|y&63;return w}function ge(e){var t=new Uint8Array(e),n="",i;for(i=0;i<t.length;i+=3)n+=Z[t[i]>>2],n+=Z[(t[i]&3)<<4|t[i+1]>>4],n+=Z[(t[i+1]&15)<<2|t[i+2]>>6],n+=Z[t[i+2]&63];return t.length%3===2?n=n.substring(0,n.length-1)+"=":t.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function Tn(e,t){var n="";if(e&&(n=qe.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&qe.call(e.buffer)==="[object ArrayBuffer]")){var i,s=ue;e instanceof ArrayBuffer?(i=e,s+=pe):(i=e.buffer,n==="[object Int8Array]"?s+=De:n==="[object Uint8Array]"?s+=Ce:n==="[object Uint8ClampedArray]"?s+=Le:n==="[object Int16Array]"?s+=Be:n==="[object Uint16Array]"?s+=Ve:n==="[object Int32Array]"?s+=Ge:n==="[object Uint32Array]"?s+=ze:n==="[object Float32Array]"?s+=Fe:n==="[object Float64Array]"?s+=Oe:t(new Error("Failed to get type for BinaryArray"))),t(s+ge(i))}else if(n==="[object Blob]"){var a=new FileReader;a.onload=function(){var p=wn+e.type+"~"+ge(this.result);t(ue+be+p)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(p){console.error("Couldn't convert value into a JSON string: ",e),t(null,p)}}function En(e){if(e.substring(0,he)!==ue)return JSON.parse(e);var t=e.substring(je),n=e.substring(he,je),i;if(n===be&&Ne.test(t)){var s=t.match(Ne);i=s[1],t=t.substring(s[0].length)}var a=Ye(t);switch(n){case pe:return a;case be:return M([a],{type:i});case De:return new Int8Array(a);case Ce:return new Uint8Array(a);case Le:return new Uint8ClampedArray(a);case Be:return new Int16Array(a);case Ve:return new Uint16Array(a);case Ge:return new Int32Array(a);case ze:return new Uint32Array(a);case Fe:return new Float32Array(a);case Oe:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}}var ve={serialize:Tn,deserialize:En,stringToBuffer:Ye,bufferToString:ge};function We(e,t,n,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Rn(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=typeof e[i]!="string"?e[i].toString():e[i];var s=new u(function(a,p){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(g){return p(g)}n.db.transaction(function(g){We(g,n,function(){t._dbInfo=n,a()},function(y,w){p(w)})},p)});return n.serializer=ve,s}function J(e,t,n,i,s,a){e.executeSql(n,i,s,function(p,g){g.code===g.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(y,w){w.rows.length?a(y,g):We(y,t,function(){y.executeSql(n,i,s,a)},a)},a):a(p,g)},a)}function Sn(e,t){var n=this;e=I(e);var i=new u(function(s,a){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(g){J(g,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[e],function(y,w){var T=w.rows.length?w.rows.item(0).value:null;T&&(T=p.serializer.deserialize(T)),s(T)},function(y,w){a(w)})})}).catch(a)});return v(i,t),i}function In(e,t){var n=this,i=new u(function(s,a){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(g){J(g,p,"SELECT * FROM "+p.storeName,[],function(y,w){for(var T=w.rows,S=T.length,A=0;A<S;A++){var C=T.item(A),L=C.value;if(L&&(L=p.serializer.deserialize(L)),L=e(L,C.key,A+1),L!==void 0){s(L);return}}s()},function(y,w){a(w)})})}).catch(a)});return v(i,t),i}function ke(e,t,n,i){var s=this;e=I(e);var a=new u(function(p,g){s.ready().then(function(){t===void 0&&(t=null);var y=t,w=s._dbInfo;w.serializer.serialize(t,function(T,S){S?g(S):w.db.transaction(function(A){J(A,w,"INSERT OR REPLACE INTO "+w.storeName+" (key, value) VALUES (?, ?)",[e,T],function(){p(y)},function(C,L){g(L)})},function(A){if(A.code===A.QUOTA_ERR){if(i>0){p(ke.apply(s,[e,y,n,i-1]));return}g(A)}})})}).catch(g)});return v(a,n),a}function Pn(e,t,n){return ke.apply(this,[e,t,n,1])}function Mn(e,t){var n=this;e=I(e);var i=new u(function(s,a){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(g){J(g,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[e],function(){s()},function(y,w){a(w)})})}).catch(a)});return v(i,t),i}function An(e){var t=this,n=new u(function(i,s){t.ready().then(function(){var a=t._dbInfo;a.db.transaction(function(p){J(p,a,"DELETE FROM "+a.storeName,[],function(){i()},function(g,y){s(y)})})}).catch(s)});return v(n,e),n}function Nn(e){var t=this,n=new u(function(i,s){t.ready().then(function(){var a=t._dbInfo;a.db.transaction(function(p){J(p,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(g,y){var w=y.rows.item(0).c;i(w)},function(g,y){s(y)})})}).catch(s)});return v(n,e),n}function Dn(e,t){var n=this,i=new u(function(s,a){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(g){J(g,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[e+1],function(y,w){var T=w.rows.length?w.rows.item(0).key:null;s(T)},function(y,w){a(w)})})}).catch(a)});return v(i,t),i}function Cn(e){var t=this,n=new u(function(i,s){t.ready().then(function(){var a=t._dbInfo;a.db.transaction(function(p){J(p,a,"SELECT key FROM "+a.storeName,[],function(g,y){for(var w=[],T=0;T<y.rows.length;T++)w.push(y.rows.item(T).key);i(w)},function(g,y){s(y)})})}).catch(s)});return v(n,e),n}function Ln(e){return new u(function(t,n){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(s,a){for(var p=[],g=0;g<a.rows.length;g++)p.push(a.rows.item(g).name);t({db:e,storeNames:p})},function(s,a){n(a)})},function(i){n(i)})})}function Bn(e,t){t=P.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i=this,s;return e.name?s=new u(function(a){var p;e.name===n.name?p=i._dbInfo.db:p=openDatabase(e.name,"","",0),e.storeName?a({db:p,storeNames:[e.storeName]}):a(Ln(p))}).then(function(a){return new u(function(p,g){a.db.transaction(function(y){function w(C){return new u(function(L,V){y.executeSql("DROP TABLE IF EXISTS "+C,[],function(){L()},function(G,k){V(k)})})}for(var T=[],S=0,A=a.storeNames.length;S<A;S++)T.push(w(a.storeNames[S]));u.all(T).then(function(){p()}).catch(function(C){g(C)})},function(y){g(y)})})}):s=u.reject("Invalid arguments"),v(s,t),s}var Gn={_driver:"webSQLStorage",_initStorage:Rn,_support:_n(),iterate:In,getItem:Sn,setItem:Pn,removeItem:Mn,clear:An,length:Nn,key:Dn,keys:Cn,dropInstance:Bn};function Vn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Xe(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function zn(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Fn(){return!zn()||localStorage.length>0}function On(e){var t=this,n={};if(e)for(var i in e)n[i]=e[i];return n.keyPrefix=Xe(e,t._defaultConfig),Fn()?(t._dbInfo=n,n.serializer=ve,u.resolve()):u.reject()}function jn(e){var t=this,n=t.ready().then(function(){for(var i=t._dbInfo.keyPrefix,s=localStorage.length-1;s>=0;s--){var a=localStorage.key(s);a.indexOf(i)===0&&localStorage.removeItem(a)}});return v(n,e),n}function qn(e,t){var n=this;e=I(e);var i=n.ready().then(function(){var s=n._dbInfo,a=localStorage.getItem(s.keyPrefix+e);return a&&(a=s.serializer.deserialize(a)),a});return v(i,t),i}function Yn(e,t){var n=this,i=n.ready().then(function(){for(var s=n._dbInfo,a=s.keyPrefix,p=a.length,g=localStorage.length,y=1,w=0;w<g;w++){var T=localStorage.key(w);if(T.indexOf(a)===0){var S=localStorage.getItem(T);if(S&&(S=s.serializer.deserialize(S)),S=e(S,T.substring(p),y++),S!==void 0)return S}}});return v(i,t),i}function Wn(e,t){var n=this,i=n.ready().then(function(){var s=n._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(s.keyPrefix.length)),a});return v(i,t),i}function kn(e){var t=this,n=t.ready().then(function(){for(var i=t._dbInfo,s=localStorage.length,a=[],p=0;p<s;p++){var g=localStorage.key(p);g.indexOf(i.keyPrefix)===0&&a.push(g.substring(i.keyPrefix.length))}return a});return v(n,e),n}function Xn(e){var t=this,n=t.keys().then(function(i){return i.length});return v(n,e),n}function Un(e,t){var n=this;e=I(e);var i=n.ready().then(function(){var s=n._dbInfo;localStorage.removeItem(s.keyPrefix+e)});return v(i,t),i}function Qn(e,t,n){var i=this;e=I(e);var s=i.ready().then(function(){t===void 0&&(t=null);var a=t;return new u(function(p,g){var y=i._dbInfo;y.serializer.serialize(t,function(w,T){if(T)g(T);else try{localStorage.setItem(y.keyPrefix+e,w),p(a)}catch(S){(S.name==="QuotaExceededError"||S.name==="NS_ERROR_DOM_QUOTA_REACHED")&&g(S),g(S)}})})});return v(s,n),s}function Hn(e,t){if(t=P.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var i=this,s;return e.name?s=new u(function(a){e.storeName?a(Xe(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var p=localStorage.length-1;p>=0;p--){var g=localStorage.key(p);g.indexOf(a)===0&&localStorage.removeItem(g)}}):s=u.reject("Invalid arguments"),v(s,t),s}var Zn={_driver:"localStorageWrapper",_initStorage:On,_support:Vn(),iterate:Yn,getItem:qn,setItem:Qn,removeItem:Un,clear:jn,length:Xn,key:Wn,keys:kn,dropInstance:Hn},Jn=function(t,n){return t===n||typeof t=="number"&&typeof n=="number"&&isNaN(t)&&isNaN(n)},$n=function(t,n){for(var i=t.length,s=0;s<i;){if(Jn(t[s],n))return!0;s++}return!1},Ue=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},Qe={},ne={INDEXEDDB:yn,WEBSQL:Gn,LOCALSTORAGE:Zn},Kn=[ne.INDEXEDDB._driver,ne.WEBSQL._driver,ne.LOCALSTORAGE._driver],de=["dropInstance"],ye=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),et={description:"",driver:Kn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function nt(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function _e(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Ue(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var tt=function(){function e(t){c(this,e);for(var n in ne)if(ne.hasOwnProperty(n)){var i=ne[n],s=i._driver;this[n]=s,re[s]||this.defineDriver(i)}this._defaultConfig=_e({},et),this._config=_e({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":m(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in n){if(i==="storeName"&&(n[i]=n[i].replace(/\W/g,"_")),i==="version"&&typeof n[i]!="number")return new Error("Database version must be a number.");this._config[i]=n[i]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,i,s){var a=new u(function(p,g){try{var y=n._driver,w=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){g(w);return}for(var T=ye.concat("_initStorage"),S=0,A=T.length;S<A;S++){var C=T[S],L=!$n(de,C);if((L||n[C])&&typeof n[C]!="function"){g(w);return}}var V=function(){for(var oe=function(at){return function(){var it=new Error("Method "+at+" is not implemented by the current driver"),He=u.reject(it);return v(He,arguments[arguments.length-1]),He}},we=0,ot=de.length;we<ot;we++){var Te=de[we];n[Te]||(n[Te]=oe(Te))}};V();var G=function(oe){re[y]&&console.info("Redefining LocalForage driver: "+y),re[y]=n,Qe[y]=oe,p()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(G,g):G(!!n._support):G(!0)}catch(k){g(k)}});return R(a,i,s),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,i,s){var a=re[n]?u.resolve(re[n]):u.reject(new Error("Driver not found."));return R(a,i,s),a},e.prototype.getSerializer=function(n){var i=u.resolve(ve);return R(i,n),i},e.prototype.ready=function(n){var i=this,s=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return R(s,n,n),s},e.prototype.setDriver=function(n,i,s){var a=this;Ue(n)||(n=[n]);var p=this._getSupportedDrivers(n);function g(){a._config.driver=a.driver()}function y(S){return a._extend(S),g(),a._ready=a._initStorage(a._config),a._ready}function w(S){return function(){var A=0;function C(){for(;A<S.length;){var L=S[A];return A++,a._dbInfo=null,a._ready=null,a.getDriver(L).then(y).catch(C)}g();var V=new Error("No available storage method found.");return a._driverSet=u.reject(V),a._driverSet}return C()}}var T=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=T.then(function(){var S=p[0];return a._dbInfo=null,a._ready=null,a.getDriver(S).then(function(A){a._driver=A._driver,g(),a._wrapLibraryMethodsWithReady(),a._initDriver=w(p)})}).catch(function(){g();var S=new Error("No available storage method found.");return a._driverSet=u.reject(S),a._driverSet}),R(this._driverSet,i,s),this._driverSet},e.prototype.supports=function(n){return!!Qe[n]},e.prototype._extend=function(n){_e(this,n)},e.prototype._getSupportedDrivers=function(n){for(var i=[],s=0,a=n.length;s<a;s++){var p=n[s];this.supports(p)&&i.push(p)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,i=ye.length;n<i;n++)nt(this,ye[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),rt=new tt;l.exports=rt},{3:3}]},{},[4])(4)})});var ie=x=>({vertices:[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}]});function Ee(x,r){for(var o=x.length,f=x[o-1],l=r[0],b=r[1],m=f[0],c=f[1],d,h,_=!1,M=0;M<o;++M)f=x[M],d=f[0],h=f[1],h>b!=c>b&&l<(m-d)*(b-h)/(c-h)+d&&(_=!_),m=d,c=h;return _}var ht=2220446049250313e-31;function le(x,r,o,f){let l={};l.FSWHb=function(c,d){return c-d},l.XRoMn=function(c,d){return c==d},l.HudRR=function(c,d){return c<=d},l.oXQXb=function(c,d){return c*d},l.ZEeRj=function(c,d){return c===d};let b=l,m=Math.abs(b.FSWHb(x,r));return b.XRoMn(o,null)&&(o=ht),b.XRoMn(f,null)&&(f=o),b.HudRR(m,o)||m<=b.oXQXb(f,Math.min(Math.abs(x),Math.abs(r)))?!0:b.ZEeRj(x,r)}var X=class Se{constructor(r,o){this.x=r,this.y=o}static nsqjuna51bde93520141b7b07db8ff6129a2e5(r){return new Se(r.x,r.y)}slorc1a4cc77d1061474a85f73e4f505e32ab(){let r={};return r.x=this.x,r.y=this.y,r}xzbizu9b9cd62f70cd41abaeb4ee1162291f7d(r){let o={OFJIt:function(l,b,m){return l(b,m)}};return o.OFJIt(le,this.x,r.x)&&o.OFJIt(le,this.y,r.y)}xendbpg70f1aef1f2c64d4db7a9e2543ea0b663(){return[this.x,this.y]}rgjyka47f305043bd4086980e82706d57e672(r){let o={};o.nltxZ=function(m,c){return m/c},o.wFhzF=function(m,c){return m+c},o.eqHxw=function(m,c){return m/c};let f=o,l=f.nltxZ(f.wFhzF(this.x,r.x),2),b=f.eqHxw(f.wFhzF(this.y,r.y),2);return new Se(l,b)}csvabpsjyo9128c929e515446a82a4fc95f5585061(r){let o={};o.yzwJz=function(m,c){return m-c},o.WytYi=function(m,c){return m+c},o.RTEXf=function(m,c){return m*c},o.VoYzf=function(m,c){return m*c};let f=o,l=f.yzwJz(r.x,this.x),b=r.y-this.y;return Math.sqrt(f.WytYi(f.RTEXf(l,l),f.VoYzf(b,b)))}};function Re(x,r,o){let f={};f.vaIuN=function(u,v){return u-v},f.ZrYkR=function(u,v){return u*v},f.CCjVR=function(u,v){return u===v},f.QYCNC=function(u,v){return u/v};let l=f,b={};b.x=x.x-r.x,b.y=x.y-r.y;let m=b,c={x:l.vaIuN(o.x,r.x),y:o.y-r.y},d=l.ZrYkR(m.x,c.x)+m.y*c.y,h=Math.hypot(m.x,m.y),_=Math.hypot(c.x,c.y);if(l.CCjVR(h,0)||l.CCjVR(_,0))return 0;let M=Math.min(1,Math.max(-1,l.QYCNC(d,l.ZrYkR(h,_))));return Math.acos(M)}var Je=class{static irnvgvo22ec104523d244e7ae2b21bc85f049f6(x,r,o){let f={};f.kpLqq=function(d,h){return d/h},f.BvErC=function(d,h){return d<=h};let l=f,b=r.rgjyka47f305043bd4086980e82706d57e672(o),m=l.kpLqq(r.csvabpsjyo9128c929e515446a82a4fc95f5585061(o),2),c=b.csvabpsjyo9128c929e515446a82a4fc95f5585061(x);return l.BvErC(c,m)}},pt=class q{constructor(r){this.points=r,!q.uiekxarhcc4156e08ebad4a838bb16e9e229ddeba(r)&&this.points.reverse()}tag="";sectionTag="";materialTag="";static nsqjuna51bde93520141b7b07db8ff6129a2e5(r){return new q(r.points.map(o=>X.nsqjuna51bde93520141b7b07db8ff6129a2e5(o)))}slorc1a4cc77d1061474a85f73e4f505e32ab(){return{points:this.points.map(r=>r.slorc1a4cc77d1061474a85f73e4f505e32ab()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static uiekxarhcc4156e08ebad4a838bb16e9e229ddeba(r){let o={};o.SNUCH=function(d,h){return d-h},o.btBNS=function(d,h){return d*h},o.oBIAA=function(d,h){return d-h},o.BSQci=function(d,h){return d>h};let f=o,[l,b,m]=r,c=f.SNUCH(f.btBNS(b.x-l.x,f.SNUCH(m.y,l.y)),f.btBNS(f.oBIAA(b.y,l.y),f.oBIAA(m.x,l.x)));return f.BSQci(c,0)}czdno20a8a072969c4c30b10632f2f51f9e73(r,o,f){this.tag=r,this.sectionTag=o,this.materialTag=f}qpwjccf6f4a6cab92438dadb80afe611a526a(){let r={};r.hWAmF=function(d,h){return d/h},r.BTbHx=function(d,h){return d+h},r.AcRaT=function(d,h){return d+h},r.TJvSK=function(d,h){return d/h};let o=r,[f,l,b]=this.points,m=o.hWAmF(o.BTbHx(o.AcRaT(f.x,l.x),b.x),3),c=o.TJvSK(o.AcRaT(o.AcRaT(f.y,l.y),b.y),3);return new X(m,c)}gcthlxgec57ab69481541aea4e1ff911abc98cc(r=.1){let o={};o.WgHsX=function(h,_){return h-_},o.hjGGm=function(h,_){return h+_},o.vMuLG=function(h,_){return h*_},o.Ybduh=function(h,_){return h-_},o.QDGuJ=function(h,_){return h/_},o.vmDvg=function(h,_){return h+_},o.ZoNxZ=function(h,_){return h*_},o.tGdEh=function(h,_){return h*_};let f=o,l=this.qpwjccf6f4a6cab92438dadb80afe611a526a(),b=this.points.map(h=>{let _=f.WgHsX(l.x,h.x),M=f.WgHsX(l.y,h.y);return Math.sqrt(f.hjGGm(f.vMuLG(_,_),f.vMuLG(M,M)))}),m=Math.max(...b),c=f.ZoNxZ(m,r);return this.points.map(h=>{let _=f.WgHsX(l.x,h.x),M=f.Ybduh(l.y,h.y),u=Math.sqrt(f.hjGGm(_*_,M*M)),v=f.QDGuJ(c,u);return new X(f.vmDvg(h.x,f.ZoNxZ(_,v)),f.hjGGm(h.y,f.tGdEh(M,v)))})}hkpjbwaa8fc23d9cd6f4c9abaee6bd928cddab0(){let r=this.qpwjccf6f4a6cab92438dadb80afe611a526a();return[new q([this.points[0],this.points[1],r]),new q([this.points[1],this.points[2],r]),new q([this.points[2],this.points[0],r])]}hwthx94f8697242c841d19ec4c2eda39d9968(){let r={};r.vlnNp=function(h,_){return h/_},r.cgWOs=function(h,_){return h+_},r.CMMvQ=function(h,_){return h/_},r.otPgn=function(h,_){return h+_};let o=r,[f,l,b]=this.points,m=new X(o.vlnNp(o.cgWOs(f.x,l.x),2),o.vlnNp(o.cgWOs(f.y,l.y),2)),c=new X(o.CMMvQ(o.otPgn(l.x,b.x),2),o.CMMvQ(o.cgWOs(l.y,b.y),2)),d=new X(o.CMMvQ(b.x+f.x,2),o.vlnNp(o.otPgn(b.y,f.y),2));return[new q([f,m,d]),new q([m,l,c]),new q([d,c,b]),new q([m,c,d])]}mcgowjgazl5acc5a484fbc4cc2824bf300a45f5ae9(){let r={};r.snpWX=function(I,P){return I-P},r.VxwmW=function(I,P){return I*P},r.Knily=function(I,P){return I-P},r.qINFW=function(I,P){return I<P},r.xMzGe=function(I,P){return I/P},r.PtbQV=function(I,P){return I+P},r.ozHdG=function(I,P){return I-P},r.nITqo=function(I,P){return I*P},r.pAESG=function(I,P){return I*P},r.tivJL=function(I,P){return I+P},r.usabx=function(I,P){return I*P},r.gxbyp=function(I,P){return I*P},r.XMrdK=function(I,P){return I-P},r.UQlzG=function(I,P){return I*P},r.MMXXp=function(I,P){return I+P},r.wrYkG=function(I,P){return I*P},r.gfGSR=function(I,P){return I*P};let o=r,[f,l,b]=this.points,m=f.x,c=f.y,d=l.x,h=l.y,_=b.x,M=b.y,u=2*(m*o.snpWX(h,M)+o.VxwmW(d,o.Knily(M,c))+o.VxwmW(_,c-h));if(o.qINFW(Math.abs(u),1e-10))return null;let v=o.xMzGe(o.PtbQV(o.PtbQV(o.VxwmW(o.PtbQV(m*m,o.VxwmW(c,c)),o.ozHdG(h,M)),(o.nITqo(d,d)+h*h)*(M-c)),o.pAESG(o.PtbQV(o.pAESG(_,_),o.nITqo(M,M)),o.Knily(c,h))),u),R=o.tivJL(o.tivJL(o.pAESG(o.usabx(m,m)+o.VxwmW(c,c),o.Knily(_,d)),o.gxbyp(o.tivJL(o.VxwmW(d,d),h*h),o.XMrdK(m,_))),o.UQlzG(o.MMXXp(o.wrYkG(_,_),o.gfGSR(M,M)),d-m))/u;return new X(v,R)}hgnqynnmmqd4d9fd3773d344eebf4730a23e1522f8(){let r=this.mcgowjgazl5acc5a484fbc4cc2824bf300a45f5ae9();return r===null?[]:[new q([this.points[0],this.points[1],r]),new q([this.points[1],this.points[2],r]),new q([this.points[2],this.points[0],r])]}uedicowxc6f10adae114459a9612a6df4a12f8d3(){let r={};r.GTvHE=function(v,R){return v+R},r.ecsvF=function(v,R){return v*R},r.RDOXL=function(v,R){return v-R},r.sbbsv=function(v,R){return v*R},r.ZZEhE=function(v,R){return v*R},r.yfQjE=function(v,R){return v-R};let o=r,[f,l,b]=this.points,m=f.x,c=l.x,d=b.x,h=f.y,_=l.y,M=b.y;return .5*Math.abs(o.GTvHE(o.ecsvF(m,o.RDOXL(_,M))+o.sbbsv(c,o.RDOXL(M,h)),o.ZZEhE(d,o.yfQjE(h,_))))}kfxocoa28770f91ff34f6e9642a7f734486351(){let r={riOJE:function(f,l,b){return f(l,b)}},o=this.uedicowxc6f10adae114459a9612a6df4a12f8d3();return r.riOJE(le,o,0)}ukihg81615658d1954cfe822639fd8b6f1ea7(){let r={PDvGz:function(m,c,d,h){return m(c,d,h)},xSxAx:function(m,c,d,h){return m(c,d,h)}},[o,f,l]=this.points;return[r.PDvGz(Re,f,o,l),r.xSxAx(Re,o,f,l),Re(o,l,f)]}btkpq693015bb2720406a841b71290796bc0f(r=15*Math.PI/180){return!!this.ukihg81615658d1954cfe822639fd8b6f1ea7().some(f=>f<r)}psszfxcqffecf8a3456d7494ba198950fd1f2ca4d(){let r={};r.rEYWa=function(l,b){return l%b};let o=r,f=this.mcgowjgazl5acc5a484fbc4cc2824bf300a45f5ae9();if(!f)return this.lfugxn51d568b48c944a9ab5095097d67858a7();for(let l=0;l<3;l++){let b=this.points[l],m=this.points[o.rEYWa(l+1,3)];if(Je.irnvgvo22ec104523d244e7ae2b21bc85f049f6(f,b,m))return this.lfugxn51d568b48c944a9ab5095097d67858a7()}return f}ghtgxlorszd4aa6e224ba444508572aef09dc0dc23(r){let[o,f,l]=this.points,b={};b.p1=o,b.p2=f;let m={};m.p1=f,m.p2=l;let c={};c.p1=l,c.p2=o;let d=[b,m,c],h=[];for(let _ of d)for(let M of r)if(!this.points.some(u=>u.xzbizu9b9cd62f70cd41abaeb4ee1162291f7d(M))&&Je.irnvgvo22ec104523d244e7ae2b21bc85f049f6(M,_.p1,_.p2))return h.push(_.p1.rgjyka47f305043bd4086980e82706d57e672(_.p2)),h;return h}ahabsv583b59ce37f945b0aef22f404fffc12e(r){let o=this.mcgowjgazl5acc5a484fbc4cc2824bf300a45f5ae9();return o?r.some(f=>f.gnaodck8805900a059e49ff92776779ffe86268(o))?o:this.lfugxn51d568b48c944a9ab5095097d67858a7():this.lfugxn51d568b48c944a9ab5095097d67858a7()}lfugxn51d568b48c944a9ab5095097d67858a7(){let r={};r.Ezmin=function(u,v){return u<v},r.qSHqD=function(u,v){return u>v};let o=r,[f,l,b]=this.points,m={};m.p1=f,m.p2=l;let c={};c.p1=l,c.p2=b;let d={};d.p1=b,d.p2=f;let h=[m,c,d],_=h[0],M=_.p1.csvabpsjyo9128c929e515446a82a4fc95f5585061(_.p2);for(let u=1;o.Ezmin(u,h.length);u++){let v=h[u].p1.csvabpsjyo9128c929e515446a82a4fc95f5585061(h[u].p2);o.qSHqD(v,M)&&(M=v,_=h[u])}return _.p1.rgjyka47f305043bd4086980e82706d57e672(_.p2)}};var bt=class $e{constructor(r,o,f,l){let b={};b.kMSEv="0|2|3|1|4";let m=b,c=m.kMSEv.split("|"),d=0;for(;;){switch(c[d++]){case"0":this.points=r;continue;case"1":this.materialTag=l;continue;case"2":this.tag=o;continue;case"3":this.sectionTag=f;continue;case"4":this.d3Polygon=r.map(h=>[h.x,h.y]);continue}break}}d3Polygon;static nsqjuna51bde93520141b7b07db8ff6129a2e5(r){return new $e(r.points.map(o=>X.nsqjuna51bde93520141b7b07db8ff6129a2e5(o)),r.tag,r.sectionTag,r.materialTag)}gojcrjtf7bbe3d55905c40d28015dd1b37cf3e1f(r){let o={AXfkU:function(f,l){return f-l},GzLvB:function(f,l){return f<l},SiLSt:function(f,l,b,m){return f(l,b,m)}};for(let f=0,l=o.AXfkU(this.points.length,1);o.GzLvB(f,this.points.length);l=f++)if(o.SiLSt(gt,r,this.points[f],this.points[l]))return!0;return!1}gnaodck8805900a059e49ff92776779ffe86268(r){return this.gojcrjtf7bbe3d55905c40d28015dd1b37cf3e1f(r)?!0:Ee(this.d3Polygon,[r.x,r.y])}jpyaeaolv91081c8af1204bfc9c0f0d242e29ffb0(r,o){let f={};f.FhTYP=function(m,c){return m<c},f.eaxUc=function(m,c){return m%c},f.vCUMA=function(m,c){return m+c},f.RlFLM=function(m,c){return m-c},f.Pdexg=function(m,c){return m-c},f.bLKLj=function(m,c){return m+c},f.FoNWM=function(m,c){return m*c},f.bnUNb=function(m,c){return m/c},f.XhMeP=function(m,c){return m*c},f.pGBOc=function(m,c){return m*c},f.PTByx=function(m,c){return m+c};let l=f,b=[];for(let m=0;l.FhTYP(m,r.length);m++){let c=r[m],d=r[l.eaxUc(l.vCUMA(m,1),r.length)],h=l.RlFLM(d.x,c.x),_=l.Pdexg(d.y,c.y),M=Math.sqrt(l.bLKLj(l.FoNWM(h,h),l.FoNWM(_,_))),u=Math.floor(l.bnUNb(M,o));b.push(new X(c.x,c.y));for(let v=1;l.FhTYP(v,u);v++){let R=l.bnUNb(l.XhMeP(v,o),M),I=l.vCUMA(c.x,l.pGBOc(R,h)),P=l.PTByx(c.y,l.XhMeP(R,_));b.push(new X(I,P))}}return b}};function gt(x,r,o){let f={FqEAg:function(c,d){return c*d},ifwXx:function(c,d){return c-d},GQLpG:function(c,d){return c*d},cvCax:function(c,d){return c-d},kWQUq:function(c,d){return c-d},ELyMQ:function(c,d,h){return c(d,h)},llsyu:function(c,d){return c+d},NkIVy:function(c,d){return c-d},VCXRq:function(c,d){return c-d},sLlKV:function(c,d){return c-d},FRFJl:function(c,d){return c<d},mLZGv:function(c,d){return c+d},aAoyM:function(c,d){return c**d},mupVe:function(c,d){return c-d},qpPxQ:function(c,d){return c-d}},l=f.FqEAg(f.ifwXx(x.y,r.y),o.x-r.x)-f.GQLpG(f.cvCax(x.x,r.x),f.kWQUq(o.y,r.y));if(!f.ELyMQ(le,Math.abs(l),0))return!1;let b=f.llsyu(f.GQLpG(f.NkIVy(x.x,r.x),f.VCXRq(o.x,r.x)),f.FqEAg(f.NkIVy(x.y,r.y),f.sLlKV(o.y,r.y)));if(f.FRFJl(b,0))return!1;let m=f.mLZGv(f.aAoyM(f.mupVe(o.x,r.x),2),f.aAoyM(f.qpPxQ(o.y,r.y),2));return!(b>m)}function Ke(x){let r=x.polygons.map(b=>bt.nsqjuna51bde93520141b7b07db8ff6129a2e5(b)),o=x.baseTriangles.map(b=>pt.nsqjuna51bde93520141b7b07db8ff6129a2e5(b)),f=o,l=[];for(let b of f){let m=b.qpwjccf6f4a6cab92438dadb80afe611a526a(),c=r.find(d=>d.gnaodck8805900a059e49ff92776779ffe86268(m));c&&(b.czdno20a8a072969c4c30b10632f2f51f9e73(c.tag,c.sectionTag,c.materialTag),l.push(b))}return{triangles:l.map(b=>b.slorc1a4cc77d1061474a85f73e4f505e32ab())}}var Pe=xt(nn());var tn=(x,r,o="")=>`View3dModel-${x}-${r}${o}`,rn=x=>`Triangles-${x}`;var yt=2220446049250313e-31;function fe(x,r,o,f){let l=Math.abs(x-r);return o==null&&(o=yt),f==null&&(f=o),l<=o||l<=f*Math.min(Math.abs(x),Math.abs(r))?!0:x===r}var $=class extends Error{constructor(r){super(r)}};function on(x){if(x.length<3)throw new $("At least three vertices are required to form a face.");return{vertices:[...x.filter(r=>r)],results:[]}}var se=x=>{let r=(x.points??"").trim().split(/\s+/).map(f=>f.split(",")),o=[];for(let[f,l]of r){let b=parseFloat(f),m=parseFloat(l);if(Number.isFinite(b)&&Number.isFinite(m))o.push({x:b,y:m});else throw new $("Invalid vertex coordinates")}return{vertices:o}};function an(x){let r=0,o=0,f=0,l=x.length;for(let b=0;b<l;b++){let{x:m,y:c}=x[b],{x:d,y:h}=x[(b+1)%l],_=m*h-d*c;r+=_,o+=(m+d)*_,f+=(c+h)*_}return r*=.5,r===0?{x:0,y:0}:(o/=6*r,f/=6*r,{x:o,y:f})}function*fn(x,r){let o=[...new Set(r.rectangles.map(u=>u.name).concat(r.polygons.map(u=>u.name)))],f=[];for(let u of x){let v=u.points.map(P=>Tt(P)),R=on(v);if(o.indexOf(u.name)===-1)throw new $(`Geometry name ${u.name} not found in geometry rectangles or polygons.`);f.push(R)}let l=r.supports.map(u=>Et(u)),b=x.flatMap(u=>u.points).map(u=>u.x).reduce((u,v)=>Math.max(u,v),-1/0),m=x.flatMap(u=>u.points).map(u=>u.x).reduce((u,v)=>Math.min(u,v),1/0),c=x.flatMap(u=>u.points).map(u=>u.y).reduce((u,v)=>Math.max(u,v),-1/0),d=x.flatMap(u=>u.points).map(u=>u.y).reduce((u,v)=>Math.min(u,v),1/0),h=b-m,_=c-d,M=[...r.polygons.map(u=>se(u)),...r.rectangles.map(u=>ie(u))].map(u=>u.vertices.map(v=>({x:v.x,y:v.y}))).map(u=>({points:u}));for(let u of r.loadCases)yield{faces:f,wireframeFaces:[],supports:l,borders:M,loads:wt(u,r),loadCaseTag:u.name,width:h,height:_}}function wt(x,r){let o=[];for(let f of x.pointLoads)fe(f.fx,0)||o.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"point"}),fe(f.fy,0)||o.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of x.distributedLoads){let l=r.polygons.filter(c=>c.name===f.geometryName).map(c=>se(c)),b=r.rectangles.filter(c=>c.name===f.geometryName).map(c=>ie(c)),m=[...l,...b];for(let c of m){let d=an(c.vertices);fe(f.fx,0)||o.push({x:d.x,y:d.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),fe(f.fy,0)||o.push({x:d.x,y:d.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return o}function Tt(x){return{x:x.x,y:x.y,z:0,ux:0,uy:0,uz:0,value:0}}function Et(x){return{x:x.x,y:x.y,z:0,ux:x.fixedX,uy:x.fixedY,uz:!1}}addEventListener("message",({data:x})=>{Rt(x)});var Rt=async x=>{let{geometry:r,uuid:o,baseTriangles:f}=x,l=r.loadCases.flatMap(R=>R.pointLoads).map(R=>({x:R.x,y:R.y})),b=r.supports.map(R=>({x:R.x,y:R.y})),m=r.resultPoints.map(R=>({x:R.x,y:R.y})),c=r.rectangles.map(R=>Mt(R)),d=r.polygons.map(R=>At(R)),h=c.concat(d),_={maxTriangleArea:r.meshingConfiguration.maxMeshArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(R=>St(R))},u=Ke({polygons:h,extraPoints:l.concat(b).concat(m),meshingConfiguration:_,baseTriangles:f.map(R=>Nt(R))}).triangles.map(R=>Pt(R));await Pe.setItem(rn(o),u);for(let R of fn(u,r))await Pe.setItem(tn(o,R.loadCaseTag),R);postMessage({uuid:o})},St=x=>({radius:x.radius,maxTriangleArea:x.maxArea,center:{x:x.x,y:x.y}}),It=x=>({x:x.x,y:x.y}),Pt=x=>({points:x.points.map(o=>It(o)),name:x.tag,sectionTag:x.sectionTag,materialTag:x.materialTag}),Mt=x=>({points:ie(x).vertices.map(o=>({x:o.x,y:o.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),At=x=>({points:se(x).vertices.map(o=>({x:o.x,y:o.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),Nt=x=>({points:x.points.map(o=>({x:o.x,y:o.y}))});
