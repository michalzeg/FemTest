var fn=Object.create;var Ze=Object.defineProperty;var sn=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,dn=Object.prototype.hasOwnProperty;var ae=(h=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(h,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):h)(function(h){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+h+'" is not supported')});var ln=(h,r)=>()=>(r||h((r={exports:{}}).exports,r),r.exports);var mn=(h,r,o,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of cn(r))!dn.call(h,u)&&u!==o&&Ze(h,u,{get:()=>r[u],enumerable:!(s=sn(r,u))||s.enumerable});return h};var hn=(h,r,o)=>(o=h!=null?fn(un(h)):{},mn(r||!h||!h.__esModule?Ze(o,"default",{value:h,enumerable:!0}):o,h));var tt=ln((et,Se)=>{"use strict";(function(h){if(typeof et=="object"&&typeof Se<"u")Se.exports=h();else if(typeof define=="function"&&define.amd)define([],h);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=h()}})(function(){var h,r,o;return function s(u,p,l){function c(g,P){if(!p[g]){if(!u[g]){var d=typeof ae=="function"&&ae;if(!P&&d)return d(g,!0);if(m)return m(g,!0);var T=new Error("Cannot find module '"+g+"'");throw T.code="MODULE_NOT_FOUND",T}var R=p[g]={exports:{}};u[g][0].call(R.exports,function(I){var D=u[g][1][I];return c(D||I)},R,R.exports,s,u,p,l)}return p[g].exports}for(var m=typeof ae=="function"&&ae,x=0;x<l.length;x++)c(l[x]);return c}({1:[function(s,u,p){(function(l){"use strict";var c=l.MutationObserver||l.WebKitMutationObserver,m;if(c){var x=0,g=new c(I),P=l.document.createTextNode("");g.observe(P,{characterData:!0}),m=function(){P.data=x=++x%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var d=new l.MessageChannel;d.port1.onmessage=I,m=function(){d.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?m=function(){var z=l.document.createElement("script");z.onreadystatechange=function(){I(),z.onreadystatechange=null,z.parentNode.removeChild(z),z=null},l.document.documentElement.appendChild(z)}:m=function(){setTimeout(I,0)};var T,R=[];function I(){T=!0;for(var z,X,k=R.length;k;){for(X=R,R=[],z=-1;++z<k;)X[z]();k=R.length}T=!1}u.exports=D;function D(z){R.push(z)===1&&!T&&m()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(s,u,p){"use strict";var l=s(1);function c(){}var m={},x=["REJECTED"],g=["FULFILLED"],P=["PENDING"];u.exports=d;function d(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,E!==c&&D(this,E)}d.prototype.catch=function(E){return this.then(null,E)},d.prototype.then=function(E,C){if(typeof E!="function"&&this.state===g||typeof C!="function"&&this.state===x)return this;var N=new this.constructor(c);if(this.state!==P){var B=this.state===g?E:C;R(N,B,this.outcome)}else this.queue.push(new T(N,E,C));return N};function T(E,C,N){this.promise=E,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}T.prototype.callFulfilled=function(E){m.resolve(this.promise,E)},T.prototype.otherCallFulfilled=function(E){R(this.promise,this.onFulfilled,E)},T.prototype.callRejected=function(E){m.reject(this.promise,E)},T.prototype.otherCallRejected=function(E){R(this.promise,this.onRejected,E)};function R(E,C,N){l(function(){var B;try{B=C(N)}catch(F){return m.reject(E,F)}B===E?m.reject(E,new TypeError("Cannot resolve promise with itself")):m.resolve(E,B)})}m.resolve=function(E,C){var N=z(I,C);if(N.status==="error")return m.reject(E,N.value);var B=N.value;if(B)D(E,B);else{E.state=g,E.outcome=C;for(var F=-1,G=E.queue.length;++F<G;)E.queue[F].callFulfilled(C)}return E},m.reject=function(E,C){E.state=x,E.outcome=C;for(var N=-1,B=E.queue.length;++N<B;)E.queue[N].callRejected(C);return E};function I(E){var C=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof C=="function")return function(){C.apply(E,arguments)}}function D(E,C){var N=!1;function B(q){N||(N=!0,m.reject(E,q))}function F(q){N||(N=!0,m.resolve(E,q))}function G(){C(F,B)}var Y=z(G);Y.status==="error"&&B(Y.value)}function z(E,C){var N={};try{N.value=E(C),N.status="success"}catch(B){N.status="error",N.value=B}return N}d.resolve=X;function X(E){return E instanceof this?E:m.resolve(new this(c),E)}d.reject=k;function k(E){var C=new this(c);return m.reject(C,E)}d.all=me;function me(E){var C=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=E.length,B=!1;if(!N)return this.resolve([]);for(var F=new Array(N),G=0,Y=-1,q=new this(c);++Y<N;)U(E[Y],Y);return q;function U(ne,ce){C.resolve(ne).then(he,function(ee){B||(B=!0,m.reject(q,ee))});function he(ee){F[ce]=ee,++G===N&&!B&&(B=!0,m.resolve(q,F))}}}d.race=Q;function Q(E){var C=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=E.length,B=!1;if(!N)return this.resolve([]);for(var F=-1,G=new this(c);++F<N;)Y(E[F]);return G;function Y(q){C.resolve(q).then(function(U){B||(B=!0,m.resolve(G,U))},function(U){B||(B=!0,m.reject(G,U))})}}},{1:1}],3:[function(s,u,p){(function(l){"use strict";typeof l.Promise!="function"&&(l.Promise=s(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(s,u,p){"use strict";var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function m(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var x=m();function g(){try{if(!x||!x.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function P(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(a){if(a.name!=="TypeError")throw a;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,f=0;f<e.length;f+=1)i.append(e[f]);return i.getBlob(n.type)}}typeof Promise>"u"&&s(3);var d=Promise;function T(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function R(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function I(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function D(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var z="local-forage-detect-blob-support",X=void 0,k={},me=Object.prototype.toString,Q="readonly",E="readwrite";function C(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),f=0;f<n;f++)i[f]=e.charCodeAt(f);return t}function N(e){return new d(function(n){var t=e.transaction(z,E),i=P([""]);t.objectStore(z).put(i,"key"),t.onabort=function(f){f.preventDefault(),f.stopPropagation(),n(!1)},t.oncomplete=function(){var f=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);n(a||!f||parseInt(f[1],10)>=43)}}).catch(function(){return!1})}function B(e){return typeof X=="boolean"?d.resolve(X):N(e).then(function(n){return X=n,X})}function F(e){var n=k[e.name],t={};t.promise=new d(function(i,f){t.resolve=i,t.reject=f}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function G(e){var n=k[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function Y(e,n){var t=k[e.name],i=t.deferredOperations.pop();if(i)return i.reject(n),i.promise}function q(e,n){return new d(function(t,i){if(k[e.name]=k[e.name]||Ae(),e.db)if(n)F(e),e.db.close();else return t(e.db);var f=[e.name];n&&f.push(e.version);var a=x.open.apply(x,f);n&&(a.onupgradeneeded=function(b){var y=a.result;try{y.createObjectStore(e.storeName),b.oldVersion<=1&&y.createObjectStore(z)}catch(v){if(v.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+b.oldVersion+" to version "+b.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw v}}),a.onerror=function(b){b.preventDefault(),i(a.error)},a.onsuccess=function(){var b=a.result;b.onversionchange=function(y){y.target.close()},t(b),G(e)}})}function U(e){return q(e,!1)}function ne(e){return q(e,!0)}function ce(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,f=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),f||t){if(t){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function he(e){return new d(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(f){var a=btoa(f.target.result||"");n({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var n=C(atob(e.data));return P([n],{type:e.type})}function De(e){return e&&e.__local_forage_encoded_blob}function ft(e){var n=this,t=n._initReady().then(function(){var i=k[n._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return R(t,e,e),t}function st(e){F(e);for(var n=k[e.name],t=n.forages,i=0;i<t.length;i++){var f=t[i];f._dbInfo.db&&(f._dbInfo.db.close(),f._dbInfo.db=null)}return e.db=null,U(e).then(function(a){return e.db=a,ce(e)?ne(e):a}).then(function(a){e.db=n.db=a;for(var b=0;b<t.length;b++)t[b]._dbInfo.db=a}).catch(function(a){throw Y(e,a),a})}function H(e,n,t,i){i===void 0&&(i=1);try{var f=e.db.transaction(e.storeName,n);t(null,f)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return d.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return st(e).then(function(){H(e,n,t,i-1)})}).catch(t);t(a)}}function Ae(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ct(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var f=k[t.name];f||(f=Ae(),k[t.name]=f),f.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=ft);var a=[];function b(){return d.resolve()}for(var y=0;y<f.forages.length;y++){var v=f.forages[y];v!==n&&a.push(v._initReady().catch(b))}var _=f.forages.slice(0);return d.all(a).then(function(){return t.db=f.db,U(t)}).then(function(w){return t.db=w,ce(t,n._defaultConfig.version)?ne(t):w}).then(function(w){t.db=f.db=w,n._dbInfo=t;for(var S=0;S<_.length;S++){var A=_[S];A!==n&&(A._dbInfo.db=t.db,A._dbInfo.version=t.version)}})}function ut(e,n){var t=this;e=I(e);var i=new d(function(f,a){t.ready().then(function(){H(t._dbInfo,Q,function(b,y){if(b)return a(b);try{var v=y.objectStore(t._dbInfo.storeName),_=v.get(e);_.onsuccess=function(){var w=_.result;w===void 0&&(w=null),De(w)&&(w=ee(w)),f(w)},_.onerror=function(){a(_.error)}}catch(w){a(w)}})}).catch(a)});return T(i,n),i}function dt(e,n){var t=this,i=new d(function(f,a){t.ready().then(function(){H(t._dbInfo,Q,function(b,y){if(b)return a(b);try{var v=y.objectStore(t._dbInfo.storeName),_=v.openCursor(),w=1;_.onsuccess=function(){var S=_.result;if(S){var A=S.value;De(A)&&(A=ee(A));var M=e(A,S.key,w++);M!==void 0?f(M):S.continue()}else f()},_.onerror=function(){a(_.error)}}catch(S){a(S)}})}).catch(a)});return T(i,n),i}function lt(e,n,t){var i=this;e=I(e);var f=new d(function(a,b){var y;i.ready().then(function(){return y=i._dbInfo,me.call(n)==="[object Blob]"?B(y.db).then(function(v){return v?n:he(n)}):n}).then(function(v){H(i._dbInfo,E,function(_,w){if(_)return b(_);try{var S=w.objectStore(i._dbInfo.storeName);v===null&&(v=void 0);var A=S.put(v,e);w.oncomplete=function(){v===void 0&&(v=null),a(v)},w.onabort=w.onerror=function(){var M=A.error?A.error:A.transaction.error;b(M)}}catch(M){b(M)}})}).catch(b)});return T(f,t),f}function mt(e,n){var t=this;e=I(e);var i=new d(function(f,a){t.ready().then(function(){H(t._dbInfo,E,function(b,y){if(b)return a(b);try{var v=y.objectStore(t._dbInfo.storeName),_=v.delete(e);y.oncomplete=function(){f()},y.onerror=function(){a(_.error)},y.onabort=function(){var w=_.error?_.error:_.transaction.error;a(w)}}catch(w){a(w)}})}).catch(a)});return T(i,n),i}function ht(e){var n=this,t=new d(function(i,f){n.ready().then(function(){H(n._dbInfo,E,function(a,b){if(a)return f(a);try{var y=b.objectStore(n._dbInfo.storeName),v=y.clear();b.oncomplete=function(){i()},b.onabort=b.onerror=function(){var _=v.error?v.error:v.transaction.error;f(_)}}catch(_){f(_)}})}).catch(f)});return T(t,e),t}function pt(e){var n=this,t=new d(function(i,f){n.ready().then(function(){H(n._dbInfo,Q,function(a,b){if(a)return f(a);try{var y=b.objectStore(n._dbInfo.storeName),v=y.count();v.onsuccess=function(){i(v.result)},v.onerror=function(){f(v.error)}}catch(_){f(_)}})}).catch(f)});return T(t,e),t}function xt(e,n){var t=this,i=new d(function(f,a){if(e<0){f(null);return}t.ready().then(function(){H(t._dbInfo,Q,function(b,y){if(b)return a(b);try{var v=y.objectStore(t._dbInfo.storeName),_=!1,w=v.openKeyCursor();w.onsuccess=function(){var S=w.result;if(!S){f(null);return}e===0||_?f(S.key):(_=!0,S.advance(e))},w.onerror=function(){a(w.error)}}catch(S){a(S)}})}).catch(a)});return T(i,n),i}function bt(e){var n=this,t=new d(function(i,f){n.ready().then(function(){H(n._dbInfo,Q,function(a,b){if(a)return f(a);try{var y=b.objectStore(n._dbInfo.storeName),v=y.openKeyCursor(),_=[];v.onsuccess=function(){var w=v.result;if(!w){i(_);return}_.push(w.key),w.continue()},v.onerror=function(){f(v.error)}}catch(w){f(w)}})}).catch(f)});return T(t,e),t}function yt(e,n){n=D.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,f;if(!e.name)f=d.reject("Invalid arguments");else{var a=e.name===t.name&&i._dbInfo.db,b=a?d.resolve(i._dbInfo.db):U(e).then(function(y){var v=k[e.name],_=v.forages;v.db=y;for(var w=0;w<_.length;w++)_[w]._dbInfo.db=y;return y});e.storeName?f=b.then(function(y){if(y.objectStoreNames.contains(e.storeName)){var v=y.version+1;F(e);var _=k[e.name],w=_.forages;y.close();for(var S=0;S<w.length;S++){var A=w[S];A._dbInfo.db=null,A._dbInfo.version=v}var M=new d(function(L,O){var V=x.open(e.name,v);V.onerror=function(K){var oe=V.result;oe.close(),O(K)},V.onupgradeneeded=function(){var K=V.result;K.deleteObjectStore(e.storeName)},V.onsuccess=function(){var K=V.result;K.close(),L(K)}});return M.then(function(L){_.db=L;for(var O=0;O<w.length;O++){var V=w[O];V._dbInfo.db=L,G(V._dbInfo)}}).catch(function(L){throw(Y(e,L)||d.resolve()).catch(function(){}),L})}}):f=b.then(function(y){F(e);var v=k[e.name],_=v.forages;y.close();for(var w=0;w<_.length;w++){var S=_[w];S._dbInfo.db=null}var A=new d(function(M,L){var O=x.deleteDatabase(e.name);O.onerror=function(){var V=O.result;V&&V.close(),L(O.error)},O.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},O.onsuccess=function(){var V=O.result;V&&V.close(),M(V)}});return A.then(function(M){v.db=M;for(var L=0;L<_.length;L++){var O=_[L];G(O._dbInfo)}}).catch(function(M){throw(Y(e,M)||d.resolve()).catch(function(){}),M})})}return T(f,n),f}var gt={_driver:"asyncStorage",_initStorage:ct,_support:g(),iterate:dt,getItem:ut,setItem:lt,removeItem:mt,clear:ht,length:pt,key:xt,keys:bt,dropInstance:yt};function vt(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t="~~local_forage_type~",Ne=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",pe=ue.length,xe="arbf",be="blob",Ce="si08",Me="ui08",Le="uic8",Be="si16",Ve="si32",Oe="ur16",ze="ui32",ke="fl32",Fe="fl64",Ge=pe+xe.length,We=Object.prototype.toString;function Ye(e){var n=e.length*.75,t=e.length,i,f=0,a,b,y,v;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var _=new ArrayBuffer(n),w=new Uint8Array(_);for(i=0;i<t;i+=4)a=Z.indexOf(e[i]),b=Z.indexOf(e[i+1]),y=Z.indexOf(e[i+2]),v=Z.indexOf(e[i+3]),w[f++]=a<<2|b>>4,w[f++]=(b&15)<<4|y>>2,w[f++]=(y&3)<<6|v&63;return _}function ye(e){var n=new Uint8Array(e),t="",i;for(i=0;i<n.length;i+=3)t+=Z[n[i]>>2],t+=Z[(n[i]&3)<<4|n[i+1]>>4],t+=Z[(n[i+1]&15)<<2|n[i+2]>>6],t+=Z[n[i+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function wt(e,n){var t="";if(e&&(t=We.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&We.call(e.buffer)==="[object ArrayBuffer]")){var i,f=ue;e instanceof ArrayBuffer?(i=e,f+=xe):(i=e.buffer,t==="[object Int8Array]"?f+=Ce:t==="[object Uint8Array]"?f+=Me:t==="[object Uint8ClampedArray]"?f+=Le:t==="[object Int16Array]"?f+=Be:t==="[object Uint16Array]"?f+=Oe:t==="[object Int32Array]"?f+=Ve:t==="[object Uint32Array]"?f+=ze:t==="[object Float32Array]"?f+=ke:t==="[object Float64Array]"?f+=Fe:n(new Error("Failed to get type for BinaryArray"))),n(f+ye(i))}else if(t==="[object Blob]"){var a=new FileReader;a.onload=function(){var b=_t+e.type+"~"+ye(this.result);n(ue+be+b)},a.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(b){console.error("Couldn't convert value into a JSON string: ",e),n(null,b)}}function Tt(e){if(e.substring(0,pe)!==ue)return JSON.parse(e);var n=e.substring(Ge),t=e.substring(pe,Ge),i;if(t===be&&Ne.test(n)){var f=n.match(Ne);i=f[1],n=n.substring(f[0].length)}var a=Ye(n);switch(t){case xe:return a;case be:return P([a],{type:i});case Ce:return new Int8Array(a);case Me:return new Uint8Array(a);case Le:return new Uint8ClampedArray(a);case Be:return new Int16Array(a);case Oe:return new Uint16Array(a);case Ve:return new Int32Array(a);case ze:return new Uint32Array(a);case ke:return new Float32Array(a);case Fe:return new Float64Array(a);default:throw new Error("Unkown type: "+t)}}var ge={serialize:wt,deserialize:Tt,stringToBuffer:Ye,bufferToString:ye};function qe(e,n,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function Et(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var f=new d(function(a,b){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(y){return b(y)}t.db.transaction(function(y){qe(y,t,function(){n._dbInfo=t,a()},function(v,_){b(_)})},b)});return t.serializer=ge,f}function J(e,n,t,i,f,a){e.executeSql(t,i,f,function(b,y){y.code===y.SYNTAX_ERR?b.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(v,_){_.rows.length?a(v,y):qe(v,n,function(){v.executeSql(t,i,f,a)},a)},a):a(b,y)},a)}function Rt(e,n){var t=this;e=I(e);var i=new d(function(f,a){t.ready().then(function(){var b=t._dbInfo;b.db.transaction(function(y){J(y,b,"SELECT * FROM "+b.storeName+" WHERE key = ? LIMIT 1",[e],function(v,_){var w=_.rows.length?_.rows.item(0).value:null;w&&(w=b.serializer.deserialize(w)),f(w)},function(v,_){a(_)})})}).catch(a)});return T(i,n),i}function Pt(e,n){var t=this,i=new d(function(f,a){t.ready().then(function(){var b=t._dbInfo;b.db.transaction(function(y){J(y,b,"SELECT * FROM "+b.storeName,[],function(v,_){for(var w=_.rows,S=w.length,A=0;A<S;A++){var M=w.item(A),L=M.value;if(L&&(L=b.serializer.deserialize(L)),L=e(L,M.key,A+1),L!==void 0){f(L);return}}f()},function(v,_){a(_)})})}).catch(a)});return T(i,n),i}function Ke(e,n,t,i){var f=this;e=I(e);var a=new d(function(b,y){f.ready().then(function(){n===void 0&&(n=null);var v=n,_=f._dbInfo;_.serializer.serialize(n,function(w,S){S?y(S):_.db.transaction(function(A){J(A,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){b(v)},function(M,L){y(L)})},function(A){if(A.code===A.QUOTA_ERR){if(i>0){b(Ke.apply(f,[e,v,t,i-1]));return}y(A)}})})}).catch(y)});return T(a,t),a}function St(e,n,t){return Ke.apply(this,[e,n,t,1])}function It(e,n){var t=this;e=I(e);var i=new d(function(f,a){t.ready().then(function(){var b=t._dbInfo;b.db.transaction(function(y){J(y,b,"DELETE FROM "+b.storeName+" WHERE key = ?",[e],function(){f()},function(v,_){a(_)})})}).catch(a)});return T(i,n),i}function Dt(e){var n=this,t=new d(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(b){J(b,a,"DELETE FROM "+a.storeName,[],function(){i()},function(y,v){f(v)})})}).catch(f)});return T(t,e),t}function At(e){var n=this,t=new d(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(b){J(b,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(y,v){var _=v.rows.item(0).c;i(_)},function(y,v){f(v)})})}).catch(f)});return T(t,e),t}function Nt(e,n){var t=this,i=new d(function(f,a){t.ready().then(function(){var b=t._dbInfo;b.db.transaction(function(y){J(y,b,"SELECT key FROM "+b.storeName+" WHERE id = ? LIMIT 1",[e+1],function(v,_){var w=_.rows.length?_.rows.item(0).key:null;f(w)},function(v,_){a(_)})})}).catch(a)});return T(i,n),i}function Ct(e){var n=this,t=new d(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(b){J(b,a,"SELECT key FROM "+a.storeName,[],function(y,v){for(var _=[],w=0;w<v.rows.length;w++)_.push(v.rows.item(w).key);i(_)},function(y,v){f(v)})})}).catch(f)});return T(t,e),t}function Mt(e){return new d(function(n,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(f,a){for(var b=[],y=0;y<a.rows.length;y++)b.push(a.rows.item(y).name);n({db:e,storeNames:b})},function(f,a){t(a)})},function(i){t(i)})})}function Lt(e,n){n=D.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,f;return e.name?f=new d(function(a){var b;e.name===t.name?b=i._dbInfo.db:b=openDatabase(e.name,"","",0),e.storeName?a({db:b,storeNames:[e.storeName]}):a(Mt(b))}).then(function(a){return new d(function(b,y){a.db.transaction(function(v){function _(M){return new d(function(L,O){v.executeSql("DROP TABLE IF EXISTS "+M,[],function(){L()},function(V,K){O(K)})})}for(var w=[],S=0,A=a.storeNames.length;S<A;S++)w.push(_(a.storeNames[S]));d.all(w).then(function(){b()}).catch(function(M){y(M)})},function(v){y(v)})})}):f=d.reject("Invalid arguments"),T(f,n),f}var Bt={_driver:"webSQLStorage",_initStorage:Et,_support:vt(),iterate:Pt,getItem:Rt,setItem:St,removeItem:It,clear:Dt,length:At,key:Nt,keys:Ct,dropInstance:Lt};function Vt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function je(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Ot(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function zt(){return!Ot()||localStorage.length>0}function kt(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=je(e,n._defaultConfig),zt()?(n._dbInfo=t,t.serializer=ge,d.resolve()):d.reject()}function Ft(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo.keyPrefix,f=localStorage.length-1;f>=0;f--){var a=localStorage.key(f);a.indexOf(i)===0&&localStorage.removeItem(a)}});return T(t,e),t}function Gt(e,n){var t=this;e=I(e);var i=t.ready().then(function(){var f=t._dbInfo,a=localStorage.getItem(f.keyPrefix+e);return a&&(a=f.serializer.deserialize(a)),a});return T(i,n),i}function Wt(e,n){var t=this,i=t.ready().then(function(){for(var f=t._dbInfo,a=f.keyPrefix,b=a.length,y=localStorage.length,v=1,_=0;_<y;_++){var w=localStorage.key(_);if(w.indexOf(a)===0){var S=localStorage.getItem(w);if(S&&(S=f.serializer.deserialize(S)),S=e(S,w.substring(b),v++),S!==void 0)return S}}});return T(i,n),i}function Yt(e,n){var t=this,i=t.ready().then(function(){var f=t._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(f.keyPrefix.length)),a});return T(i,n),i}function qt(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo,f=localStorage.length,a=[],b=0;b<f;b++){var y=localStorage.key(b);y.indexOf(i.keyPrefix)===0&&a.push(y.substring(i.keyPrefix.length))}return a});return T(t,e),t}function Kt(e){var n=this,t=n.keys().then(function(i){return i.length});return T(t,e),t}function jt(e,n){var t=this;e=I(e);var i=t.ready().then(function(){var f=t._dbInfo;localStorage.removeItem(f.keyPrefix+e)});return T(i,n),i}function Xt(e,n,t){var i=this;e=I(e);var f=i.ready().then(function(){n===void 0&&(n=null);var a=n;return new d(function(b,y){var v=i._dbInfo;v.serializer.serialize(n,function(_,w){if(w)y(w);else try{localStorage.setItem(v.keyPrefix+e,_),b(a)}catch(S){(S.name==="QuotaExceededError"||S.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(S),y(S)}})})});return T(f,t),f}function Ut(e,n){if(n=D.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,f;return e.name?f=new d(function(a){e.storeName?a(je(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var b=localStorage.length-1;b>=0;b--){var y=localStorage.key(b);y.indexOf(a)===0&&localStorage.removeItem(y)}}):f=d.reject("Invalid arguments"),T(f,n),f}var Ht={_driver:"localStorageWrapper",_initStorage:kt,_support:Vt(),iterate:Wt,getItem:Gt,setItem:Xt,removeItem:jt,clear:Ft,length:Kt,key:Yt,keys:qt,dropInstance:Ut},Zt=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},Jt=function(n,t){for(var i=n.length,f=0;f<i;){if(Zt(n[f],t))return!0;f++}return!1},Xe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},Ue={},te={INDEXEDDB:gt,WEBSQL:Bt,LOCALSTORAGE:Ht},$t=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],de=["dropInstance"],ve=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),Qt={description:"",driver:$t.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function en(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function _e(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Xe(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var tn=function(){function e(n){c(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],f=i._driver;this[t]=f,re[f]||this.defineDriver(i)}this._defaultConfig=_e({},Qt),this._config=_e({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":l(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,f){var a=new d(function(b,y){try{var v=t._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){y(_);return}for(var w=ve.concat("_initStorage"),S=0,A=w.length;S<A;S++){var M=w[S],L=!Jt(de,M);if((L||t[M])&&typeof t[M]!="function"){y(_);return}}var O=function(){for(var oe=function(on){return function(){var an=new Error("Method "+on+" is not implemented by the current driver"),He=d.reject(an);return T(He,arguments[arguments.length-1]),He}},we=0,rn=de.length;we<rn;we++){var Te=de[we];t[Te]||(t[Te]=oe(Te))}};O();var V=function(oe){re[v]&&console.info("Redefining LocalForage driver: "+v),re[v]=t,Ue[v]=oe,b()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(V,y):V(!!t._support):V(!0)}catch(K){y(K)}});return R(a,i,f),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,f){var a=re[t]?d.resolve(re[t]):d.reject(new Error("Driver not found."));return R(a,i,f),a},e.prototype.getSerializer=function(t){var i=d.resolve(ge);return R(i,t),i},e.prototype.ready=function(t){var i=this,f=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return R(f,t,t),f},e.prototype.setDriver=function(t,i,f){var a=this;Xe(t)||(t=[t]);var b=this._getSupportedDrivers(t);function y(){a._config.driver=a.driver()}function v(S){return a._extend(S),y(),a._ready=a._initStorage(a._config),a._ready}function _(S){return function(){var A=0;function M(){for(;A<S.length;){var L=S[A];return A++,a._dbInfo=null,a._ready=null,a.getDriver(L).then(v).catch(M)}y();var O=new Error("No available storage method found.");return a._driverSet=d.reject(O),a._driverSet}return M()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=w.then(function(){var S=b[0];return a._dbInfo=null,a._ready=null,a.getDriver(S).then(function(A){a._driver=A._driver,y(),a._wrapLibraryMethodsWithReady(),a._initDriver=_(b)})}).catch(function(){y();var S=new Error("No available storage method found.");return a._driverSet=d.reject(S),a._driverSet}),R(this._driverSet,i,f),this._driverSet},e.prototype.supports=function(t){return!!Ue[t]},e.prototype._extend=function(t){_e(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],f=0,a=t.length;f<a;f++){var b=t[f];this.supports(b)&&i.push(b)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=ve.length;t<i;t++)en(this,ve[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),nn=new tn;u.exports=nn},{3:3}]},{},[4])(4)})});var ie=h=>({vertices:[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}]});function Ee(h,r){for(var o=h.length,s=h[o-1],u=r[0],p=r[1],l=s[0],c=s[1],m,x,g=!1,P=0;P<o;++P)s=h[P],m=s[0],x=s[1],x>p!=c>p&&u<(l-m)*(p-x)/(c-x)+m&&(g=!g),l=m,c=x;return g}var pn=2220446049250313e-31;function le(h,r,o,s){let u={};u.qLnZj=function(c,m){return c-m},u.HlLxj=function(c,m){return c==m},u.VhLpd=function(c,m){return c<=m},u.lRdKa=function(c,m){return c*m},u.MuIHX=function(c,m){return c===m};let p=u,l=Math.abs(p.qLnZj(h,r));return o==null&&(o=pn),p.HlLxj(s,null)&&(s=o),p.VhLpd(l,o)||l<=p.lRdKa(s,Math.min(Math.abs(h),Math.abs(r)))?!0:p.MuIHX(h,r)}var j=class Pe{constructor(r,o){this.x=r,this.y=o}static pamtllif8798d0643a0345f780890d14a742d511(r){return new Pe(r.x,r.y)}bktkrgiexqe2fdb500cd1b4b2e8b8d4455f980214f(){let r={};return r.x=this.x,r.y=this.y,r}xlfua672389495b9c482b8fa6f94693d3a7b7(r){let o={kfWVG:function(u,p,l){return u(p,l)},cdJjm:function(u,p,l){return u(p,l)}};return o.kfWVG(le,this.x,r.x)&&o.cdJjm(le,this.y,r.y)}uttwpae91b1a3b38d4249a19bae02395cf49d3f(){return[this.x,this.y]}gbkowey2a44742681064e428bebd4991d5ec383(r){let o={};o.YIpKA=function(l,c){return l/c},o.CEVJP=function(l,c){return l/c},o.tnbMI=function(l,c){return l+c};let s=o,u=s.YIpKA(this.x+r.x,2),p=s.CEVJP(s.tnbMI(this.y,r.y),2);return new Pe(u,p)}ipsjhzeewsf45b360ce37f4d2f978bf020957d801f(r){let o={};o.VOFng=function(l,c){return l-c},o.ZkkNG=function(l,c){return l-c},o.nRzrF=function(l,c){return l+c},o.yydEk=function(l,c){return l*c};let s=o,u=s.VOFng(r.x,this.x),p=s.ZkkNG(r.y,this.y);return Math.sqrt(s.nRzrF(s.yydEk(u,u),s.yydEk(p,p)))}};function Re(h,r,o){let s={};s.uRWzx=function(P,d){return P-d},s.wcKVK=function(P,d){return P-d},s.VHYiz=function(P,d){return P+d},s.fLCfc=function(P,d){return P*d},s.KXyBq=function(P,d){return P===d},s.dzUPD=function(P,d){return P/d},s.jVxTt=function(P,d){return P*d};let u=s,p={x:u.uRWzx(h.x,r.x),y:h.y-r.y},l={x:u.wcKVK(o.x,r.x),y:u.uRWzx(o.y,r.y)},c=u.VHYiz(p.x*l.x,u.fLCfc(p.y,l.y)),m=Math.hypot(p.x,p.y),x=Math.hypot(l.x,l.y);if(u.KXyBq(m,0)||u.KXyBq(x,0))return 0;let g=Math.min(1,Math.max(-1,u.dzUPD(c,u.jVxTt(m,x))));return Math.acos(g)}var Je=class{static gzbxbzd93caa194ca5044dd8c120911f71b4d5f(h,r,o){let s={};s.pQOhk=function(m,x){return m<=x};let u=s,p=r.gbkowey2a44742681064e428bebd4991d5ec383(o),l=r.ipsjhzeewsf45b360ce37f4d2f978bf020957d801f(o)/2,c=p.ipsjhzeewsf45b360ce37f4d2f978bf020957d801f(h);return u.pQOhk(c,l)}},xn=class W{constructor(r){this.points=r,!W.goabzudobb03cd85743c14a10aa3c6e2218abec17(r)&&this.points.reverse()}tag="";sectionTag="";materialTag="";static pamtllif8798d0643a0345f780890d14a742d511(r){return new W(r.points.map(o=>j.pamtllif8798d0643a0345f780890d14a742d511(o)))}bktkrgiexqe2fdb500cd1b4b2e8b8d4455f980214f(){return{points:this.points.map(r=>r.bktkrgiexqe2fdb500cd1b4b2e8b8d4455f980214f()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static goabzudobb03cd85743c14a10aa3c6e2218abec17(r){let o={};o.Ysjyc=function(m,x){return m-x},o.aMsNK=function(m,x){return m*x},o.OvXEf=function(m,x){return m>x};let s=o,[u,p,l]=r,c=s.Ysjyc(s.aMsNK(s.Ysjyc(p.x,u.x),l.y-u.y),(p.y-u.y)*s.Ysjyc(l.x,u.x));return s.OvXEf(c,0)}uxtsbllcda4294673f1f4479919db9427d5c6aa6(r,o,s){this.tag=r,this.sectionTag=o,this.materialTag=s}mkvmrxbpi7982a4118de9432ba347a5e78ca9c27f(){let r={};r.rRjnE=function(m,x){return m/x},r.nGMaL=function(m,x){return m+x};let o=r,[s,u,p]=this.points,l=o.rRjnE(s.x+u.x+p.x,3),c=o.rRjnE(o.nGMaL(s.y,u.y)+p.y,3);return new j(l,c)}pubhib104a5a5761041cfa5ac0fc8b594db8b(r=.1){let o={};o.SCkEL=function(x,g){return x-g},o.HXpFq=function(x,g){return x+g},o.TmqkO=function(x,g){return x*g},o.FtiZe=function(x,g){return x-g},o.ATiDb=function(x,g){return x*g},o.aERgn=function(x,g){return x*g},o.EQszf=function(x,g){return x+g},o.qTfNS=function(x,g){return x*g},o.VeZyC=function(x,g){return x*g};let s=o,u=this.mkvmrxbpi7982a4118de9432ba347a5e78ca9c27f(),p=this.points.map(x=>{let g=s.SCkEL(u.x,x.x),P=s.SCkEL(u.y,x.y);return Math.sqrt(s.HXpFq(s.TmqkO(g,g),P*P))}),l=Math.max(...p),c=s.VeZyC(l,r);return this.points.map(x=>{let g=s.SCkEL(u.x,x.x),P=s.FtiZe(u.y,x.y),d=Math.sqrt(s.HXpFq(s.ATiDb(g,g),P*P)),T=c/d;return new j(s.HXpFq(x.x,s.aERgn(g,T)),s.EQszf(x.y,s.qTfNS(P,T)))})}rwqpslzkb25e9639b08a74708967e07e10cf8a933(){let r=this.mkvmrxbpi7982a4118de9432ba347a5e78ca9c27f();return[new W([this.points[0],this.points[1],r]),new W([this.points[1],this.points[2],r]),new W([this.points[2],this.points[0],r])]}phbmzowgd1cec830a0514550be6379c2aeef0e71(){let r={};r.BGYud=function(x,g){return x/g},r.mGXGF=function(x,g){return x+g},r.hhJKZ=function(x,g){return x+g},r.gMRtK=function(x,g){return x/g},r.oWxow=function(x,g){return x/g},r.tEEGw=function(x,g){return x/g},r.NBhyE=function(x,g){return x+g};let o=r,[s,u,p]=this.points,l=new j(o.BGYud(o.mGXGF(s.x,u.x),2),o.hhJKZ(s.y,u.y)/2),c=new j(o.gMRtK(o.mGXGF(u.x,p.x),2),o.BGYud(u.y+p.y,2)),m=new j(o.oWxow(p.x+s.x,2),o.tEEGw(o.NBhyE(p.y,s.y),2));return[new W([s,l,m]),new W([l,u,c]),new W([m,c,p]),new W([l,c,m])]}yaamfozqka886b0c0740e240a19a92f614f8b3b4ad(){let r={};r.nVqWs=function(I,D){return I+D},r.ZwgCc=function(I,D){return I-D},r.bTGcR=function(I,D){return I*D},r.jCsDs=function(I,D){return I*D},r.iMTdd=function(I,D){return I<D},r.AkYRs=function(I,D){return I+D},r.wiYTh=function(I,D){return I*D},r.siKWZ=function(I,D){return I*D},r.ZxnFK=function(I,D){return I+D},r.egXGJ=function(I,D){return I*D},r.ijULJ=function(I,D){return I/D},r.zTgAh=function(I,D){return I+D},r.stOex=function(I,D){return I+D},r.TGQoC=function(I,D){return I-D},r.yECBR=function(I,D){return I*D},r.xhcGo=function(I,D){return I*D},r.AzXNO=function(I,D){return I*D};let o=r,[s,u,p]=this.points,l=s.x,c=s.y,m=u.x,x=u.y,g=p.x,P=p.y,d=2*o.nVqWs(l*o.ZwgCc(x,P)+o.bTGcR(m,o.ZwgCc(P,c)),o.jCsDs(g,c-x));if(o.iMTdd(Math.abs(d),1e-10))return null;let T=o.nVqWs(o.AkYRs((o.wiYTh(l,l)+o.bTGcR(c,c))*o.ZwgCc(x,P),o.siKWZ(o.ZxnFK(o.jCsDs(m,m),x*x),P-c)),o.egXGJ(o.nVqWs(o.siKWZ(g,g),o.jCsDs(P,P)),o.ZwgCc(c,x)))/d,R=o.ijULJ(o.zTgAh(o.stOex(o.egXGJ(l,l),c*c)*o.TGQoC(g,m),o.nVqWs(o.yECBR(m,m),x*x)*(l-g))+o.xhcGo(o.nVqWs(g*g,o.AzXNO(P,P)),o.TGQoC(m,l)),d);return new j(T,R)}rwvbtihk610ced3af1b945c3aecb6c1e542a73df(){let r=this.yaamfozqka886b0c0740e240a19a92f614f8b3b4ad();return r===null?[]:[new W([this.points[0],this.points[1],r]),new W([this.points[1],this.points[2],r]),new W([this.points[2],this.points[0],r])]}dupsivymrl2e36e76e535b4c36b5638583c96e9c4d(){let r={};r.sCsmW=function(T,R){return T*R},r.gaLFD=function(T,R){return T+R},r.uLVUz=function(T,R){return T+R},r.SopJo=function(T,R){return T-R},r.YamJG=function(T,R){return T-R};let o=r,[s,u,p]=this.points,l=s.x,c=u.x,m=p.x,x=s.y,g=u.y,P=p.y;return o.sCsmW(.5,Math.abs(o.gaLFD(o.uLVUz(o.sCsmW(l,g-P),c*o.SopJo(P,x)),o.sCsmW(m,o.YamJG(x,g)))))}iukdvbe43e7b4da554b7791f8a71285ac1748(){let r={ArWhH:function(s,u,p){return s(u,p)}},o=this.dupsivymrl2e36e76e535b4c36b5638583c96e9c4d();return r.ArWhH(le,o,0)}ullmkgulfb05c53890694ed3bb8cef94d527d69f(){let r={XYQOn:function(l,c,m,x){return l(c,m,x)},tPxIm:function(l,c,m,x){return l(c,m,x)}},[o,s,u]=this.points;return[r.XYQOn(Re,s,o,u),r.tPxIm(Re,o,s,u),r.tPxIm(Re,o,u,s)]}qcedbvf7fc14f19db2246a4a251b9c24889d111(r=15*Math.PI/180){return!!this.ullmkgulfb05c53890694ed3bb8cef94d527d69f().some(s=>s<r)}isixghcc5e151e651ba47cd8789435460c9a65e(){let r={};r.EGrxh=function(u,p){return u<p},r.GwcER=function(u,p){return u%p},r.Iixwl=function(u,p){return u+p};let o=r,s=this.yaamfozqka886b0c0740e240a19a92f614f8b3b4ad();if(!s)return this.bndcqk71f69a4cf07a4e37a2ba0de5bf0dc475();for(let u=0;o.EGrxh(u,3);u++){let p=this.points[u],l=this.points[o.GwcER(o.Iixwl(u,1),3)];if(Je.gzbxbzd93caa194ca5044dd8c120911f71b4d5f(s,p,l))return this.bndcqk71f69a4cf07a4e37a2ba0de5bf0dc475()}return s}mdfpe6fcda3f228ca463a929e977b45c74291(r){let[o,s,u]=this.points,p={};p.p1=o,p.p2=s;let l={};l.p1=s,l.p2=u;let c={};c.p1=u,c.p2=o;let m=[p,l,c],x=[];for(let g of m)for(let P of r)if(!this.points.some(d=>d.xlfua672389495b9c482b8fa6f94693d3a7b7(P))&&Je.gzbxbzd93caa194ca5044dd8c120911f71b4d5f(P,g.p1,g.p2))return x.push(g.p1.gbkowey2a44742681064e428bebd4991d5ec383(g.p2)),x;return x}agopqwsgh077acd1f6a534000a34e84e5a9d8a569(r){let o=this.yaamfozqka886b0c0740e240a19a92f614f8b3b4ad();return o?r.some(s=>s.brfygkxuib872b784360ff47e889a1879ecbcc08e5(o))?o:this.bndcqk71f69a4cf07a4e37a2ba0de5bf0dc475():this.bndcqk71f69a4cf07a4e37a2ba0de5bf0dc475()}bndcqk71f69a4cf07a4e37a2ba0de5bf0dc475(){let[r,o,s]=this.points,u={};u.p1=r,u.p2=o;let p={};p.p1=o,p.p2=s;let l={};l.p1=s,l.p2=r;let c=[u,p,l],m=c[0],x=m.p1.ipsjhzeewsf45b360ce37f4d2f978bf020957d801f(m.p2);for(let g=1;g<c.length;g++){let P=c[g].p1.ipsjhzeewsf45b360ce37f4d2f978bf020957d801f(c[g].p2);P>x&&(x=P,m=c[g])}return m.p1.gbkowey2a44742681064e428bebd4991d5ec383(m.p2)}};var bn=class $e{constructor(r,o,s,u){let p={};p.LRTuD="0|3|4|2|1";let l=p,c=l.LRTuD.split("|"),m=0;for(;;){switch(c[m++]){case"0":this.points=r;continue;case"1":this.d3Polygon=r.map(x=>[x.x,x.y]);continue;case"2":this.materialTag=u;continue;case"3":this.tag=o;continue;case"4":this.sectionTag=s;continue}break}}d3Polygon;static pamtllif8798d0643a0345f780890d14a742d511(r){return new $e(r.points.map(o=>j.pamtllif8798d0643a0345f780890d14a742d511(o)),r.tag,r.sectionTag,r.materialTag)}dlngjk475f8f6224234c5dbff701e35a80f0cb(r){let o={};o.SpnMQ=function(u,p){return u-p},o.DIAcT=function(u,p){return u<p};let s=o;for(let u=0,p=s.SpnMQ(this.points.length,1);s.DIAcT(u,this.points.length);p=u++)if(yn(r,this.points[u],this.points[p]))return!0;return!1}brfygkxuib872b784360ff47e889a1879ecbcc08e5(r){let o={gENHV:function(u,p,l){return u(p,l)}};return this.dlngjk475f8f6224234c5dbff701e35a80f0cb(r)?!0:o.gENHV(Ee,this.d3Polygon,[r.x,r.y])}eyzae6bca11e864b944999183153a1f978231(r,o){let s={};s.LRDkm=function(l,c){return l<c},s.nvsnX=function(l,c){return l+c},s.jAaWX=function(l,c){return l-c},s.ljETf=function(l,c){return l+c},s.iHVdI=function(l,c){return l*c},s.LaMyg=function(l,c){return l/c},s.AqaPh=function(l,c){return l<c},s.ICkmx=function(l,c){return l/c},s.FcwjT=function(l,c){return l+c};let u=s,p=[];for(let l=0;u.LRDkm(l,r.length);l++){let c=r[l],m=r[u.nvsnX(l,1)%r.length],x=m.x-c.x,g=u.jAaWX(m.y,c.y),P=Math.sqrt(u.ljETf(x*x,u.iHVdI(g,g))),d=Math.floor(u.LaMyg(P,o));p.push(new j(c.x,c.y));for(let T=1;u.AqaPh(T,d);T++){let R=u.ICkmx(u.iHVdI(T,o),P),I=u.FcwjT(c.x,R*x),D=u.ljETf(c.y,u.iHVdI(R,g));p.push(new j(I,D))}}return p}};function yn(h,r,o){let s={giPKW:function(c,m){return c-m},QFEgn:function(c,m){return c*m},HpTbB:function(c,m){return c-m},WHsUk:function(c,m){return c-m},coaFV:function(c,m,x){return c(m,x)},ceTGJ:function(c,m){return c+m},blUyB:function(c,m){return c-m},OHDJL:function(c,m){return c-m},ZzCjq:function(c,m){return c<m},ouPcS:function(c,m){return c**m},kNZbx:function(c,m){return c-m},ynawF:function(c,m){return c>m}},u=s.giPKW(s.QFEgn(s.HpTbB(h.y,r.y),s.giPKW(o.x,r.x)),s.QFEgn(s.WHsUk(h.x,r.x),o.y-r.y));if(!s.coaFV(le,Math.abs(u),0))return!1;let p=s.ceTGJ(s.blUyB(h.x,r.x)*s.OHDJL(o.x,r.x),s.QFEgn(s.OHDJL(h.y,r.y),o.y-r.y));if(s.ZzCjq(p,0))return!1;let l=s.ouPcS(o.x-r.x,2)+s.ouPcS(s.kNZbx(o.y,r.y),2);return!s.ynawF(p,l)}function Qe(h){let r=h.polygons.map(p=>bn.pamtllif8798d0643a0345f780890d14a742d511(p)),o=h.baseTriangles.map(p=>xn.pamtllif8798d0643a0345f780890d14a742d511(p)),s=o,u=[];for(let p of s){let l=p.mkvmrxbpi7982a4118de9432ba347a5e78ca9c27f(),c=r.find(m=>m.brfygkxuib872b784360ff47e889a1879ecbcc08e5(l));c&&(p.uxtsbllcda4294673f1f4479919db9427d5c6aa6(c.tag,c.sectionTag,c.materialTag),u.push(p))}return{triangles:u.map(p=>p.bktkrgiexqe2fdb500cd1b4b2e8b8d4455f980214f())}}var Ie=hn(tt());var nt=(h,r,o="")=>`View3dModel-${h}-${r}${o}`,rt=h=>`Triangles-${h}`;var vn=2220446049250313e-31;function fe(h,r,o,s){let u=Math.abs(h-r);return o==null&&(o=vn),s==null&&(s=o),u<=o||u<=s*Math.min(Math.abs(h),Math.abs(r))?!0:h===r}var $=class extends Error{constructor(r){super(r)}};function ot(h){if(h.length<3)throw new $("At least three vertices are required to form a face.");return{vertices:[...h.filter(r=>r)],results:[]}}var se=h=>{let r=(h.points??"").trim().split(/\s+/).map(s=>s.split(",")),o=[];for(let[s,u]of r){let p=parseFloat(s),l=parseFloat(u);if(Number.isFinite(p)&&Number.isFinite(l))o.push({x:p,y:l});else throw new $("Invalid vertex coordinates")}return{vertices:o}};function at(h){let r=0,o=0,s=0,u=h.length;for(let p=0;p<u;p++){let{x:l,y:c}=h[p],{x:m,y:x}=h[(p+1)%u],g=l*x-m*c;r+=g,o+=(l+m)*g,s+=(c+x)*g}return r*=.5,r===0?{x:0,y:0}:(o/=6*r,s/=6*r,{x:o,y:s})}function*it(h,r){let o=[...new Set(r.rectangles.map(d=>d.name).concat(r.polygons.map(d=>d.name)))],s=[];for(let d of h){let T=d.points.map(D=>Tn(D)),R=ot(T);if(o.indexOf(d.name)===-1)throw new $(`Geometry name ${d.name} not found in geometry rectangles or polygons.`);s.push(R)}let u=r.supports.map(d=>En(d)),p=h.flatMap(d=>d.points).map(d=>d.x).reduce((d,T)=>Math.max(d,T),-1/0),l=h.flatMap(d=>d.points).map(d=>d.x).reduce((d,T)=>Math.min(d,T),1/0),c=h.flatMap(d=>d.points).map(d=>d.y).reduce((d,T)=>Math.max(d,T),-1/0),m=h.flatMap(d=>d.points).map(d=>d.y).reduce((d,T)=>Math.min(d,T),1/0),x=p-l,g=c-m,P=[...r.polygons.map(d=>se(d)),...r.rectangles.map(d=>ie(d))].map(d=>d.vertices.map(T=>({x:T.x,y:T.y}))).map(d=>({points:d}));for(let d of r.loadCases)yield{faces:s,wireframeFaces:[],supports:u,borders:P,loads:wn(d,r),loadCaseTag:d.name,width:x,height:g}}function wn(h,r){let o=[];for(let s of h.pointLoads)fe(s.fx,0)||o.push({x:s.x,y:s.y,z:0,valueX:s.fx,valueY:0,valueZ:0,type:"point"}),fe(s.fy,0)||o.push({x:s.x,y:s.y,z:0,valueY:s.fy,valueZ:0,valueX:0,type:"point"});for(let s of h.distributedLoads){let u=r.polygons.filter(c=>c.name===s.geometryName).map(c=>se(c)),p=r.rectangles.filter(c=>c.name===s.geometryName).map(c=>ie(c)),l=[...u,...p];for(let c of l){let m=at(c.vertices);fe(s.fx,0)||o.push({x:m.x,y:m.y,z:0,valueX:s.fx,valueY:0,valueZ:0,type:"distributed"}),fe(s.fy,0)||o.push({x:m.x,y:m.y,z:0,valueX:0,valueY:s.fy,valueZ:0,type:"distributed"})}}return o}function Tn(h){return{x:h.x,y:h.y,z:0,ux:0,uy:0,uz:0,value:0}}function En(h){return{x:h.x,y:h.y,z:0,ux:h.fixedX,uy:h.fixedY,uz:!1}}addEventListener("message",({data:h})=>{Rn(h)});var Rn=async h=>{let{geometry:r,uuid:o,baseTriangles:s}=h,u=r.loadCases.flatMap(R=>R.pointLoads).map(R=>({x:R.x,y:R.y})),p=r.supports.map(R=>({x:R.x,y:R.y})),l=r.resultPoints.map(R=>({x:R.x,y:R.y})),c=r.rectangles.map(R=>Dn(R)),m=r.polygons.map(R=>An(R)),x=c.concat(m),g={maxTriangleArea:r.meshingConfiguration.maxMeshArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(R=>Pn(R))},d=Qe({polygons:x,extraPoints:u.concat(p).concat(l),meshingConfiguration:g,baseTriangles:s.map(R=>Nn(R))}).triangles.map(R=>In(R));await Ie.setItem(rt(o),d);for(let R of it(d,r))await Ie.setItem(nt(o,R.loadCaseTag),R);postMessage({uuid:o})},Pn=h=>({radius:h.radius,maxTriangleArea:h.maxArea,center:{x:h.x,y:h.y}}),Sn=h=>({x:h.x,y:h.y}),In=h=>({points:h.points.map(o=>Sn(o)),name:h.tag,sectionTag:h.sectionTag,materialTag:h.materialTag}),Dn=h=>({points:ie(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),An=h=>({points:se(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),Nn=h=>({points:h.points.map(o=>({x:o.x,y:o.y}))});
