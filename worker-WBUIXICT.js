var Gn=Object.create;var Te=Object.defineProperty;var Zn=Object.getOwnPropertyDescriptor;var Wn=Object.getOwnPropertyNames;var $n=Object.getPrototypeOf,Xn=Object.prototype.hasOwnProperty;var wt=(h=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(h,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):h)(function(h){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+h+'" is not supported')});var Xt=(h,t)=>()=>(t||h((t={exports:{}}).exports,t),t.exports);var qn=(h,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wn(t))!Xn.call(h,n)&&n!==e&&Te(h,n,{get:()=>t[n],enumerable:!(r=Zn(t,n))||r.enumerable});return h};var Tt=(h,t,e)=>(e=h!=null?Gn($n(h)):{},qn(t||!h||!h.__esModule?Te(e,"default",{value:h,enumerable:!0}):e,h));var Ct=Xt((Br,Ie)=>{"use strict";var qt=Math.abs,Kn=Math.min;function Nt(h,t,e,r){var n=qt(h-t);return e==null&&(e=Nt.DBL_EPSILON),r==null&&(r=e),n<=e||n<=r*Kn(qt(h),qt(t))?!0:h===t}Nt.FLT_EPSILON=11920929e-14;Nt.DBL_EPSILON=2220446049250313e-31;Ie.exports=Nt});var Fe=Xt((Be,te)=>{"use strict";(function(h){if(typeof Be=="object"&&typeof te<"u")te.exports=h();else if(typeof define=="function"&&define.amd)define([],h);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t=this,t.localforage=h()}})(function(){var h,t,e;return function r(n,s,i){function c(g,_){if(!s[g]){if(!n[g]){var l=typeof wt=="function"&&wt;if(!_&&l)return l(g,!0);if(u)return u(g,!0);var b=new Error("Cannot find module '"+g+"'");throw b.code="MODULE_NOT_FOUND",b}var y=s[g]={exports:{}};n[g][0].call(y.exports,function(T){var L=n[g][1][T];return c(L||T)},y,y.exports,r,n,s,i)}return s[g].exports}for(var u=typeof wt=="function"&&wt,f=0;f<i.length;f++)c(i[f]);return c}({1:[function(r,n,s){(function(i){"use strict";var c=i.MutationObserver||i.WebKitMutationObserver,u;if(c){var f=0,g=new c(T),_=i.document.createTextNode("");g.observe(_,{characterData:!0}),u=function(){_.data=f=++f%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var l=new i.MessageChannel;l.port1.onmessage=T,u=function(){l.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?u=function(){var P=i.document.createElement("script");P.onreadystatechange=function(){T(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},i.document.documentElement.appendChild(P)}:u=function(){setTimeout(T,0)};var b,y=[];function T(){b=!0;for(var P,O,V=y.length;V;){for(O=y,y=[],P=-1;++P<V;)O[P]();V=y.length}b=!1}n.exports=L;function L(P){y.push(P)===1&&!b&&u()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,s){"use strict";var i=r(1);function c(){}var u={},f=["REJECTED"],g=["FULFILLED"],_=["PENDING"];n.exports=l;function l(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,M!==c&&L(this,M)}l.prototype.catch=function(M){return this.then(null,M)},l.prototype.then=function(M,F){if(typeof M!="function"&&this.state===g||typeof F!="function"&&this.state===f)return this;var D=new this.constructor(c);if(this.state!==_){var R=this.state===g?M:F;y(D,R,this.outcome)}else this.queue.push(new b(D,M,F));return D};function b(M,F,D){this.promise=M,typeof F=="function"&&(this.onFulfilled=F,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(M){u.resolve(this.promise,M)},b.prototype.otherCallFulfilled=function(M){y(this.promise,this.onFulfilled,M)},b.prototype.callRejected=function(M){u.reject(this.promise,M)},b.prototype.otherCallRejected=function(M){y(this.promise,this.onRejected,M)};function y(M,F,D){i(function(){var R;try{R=F(D)}catch(C){return u.reject(M,C)}R===M?u.reject(M,new TypeError("Cannot resolve promise with itself")):u.resolve(M,R)})}u.resolve=function(M,F){var D=P(T,F);if(D.status==="error")return u.reject(M,D.value);var R=D.value;if(R)L(M,R);else{M.state=g,M.outcome=F;for(var C=-1,B=M.queue.length;++C<B;)M.queue[C].callFulfilled(F)}return M},u.reject=function(M,F){M.state=f,M.outcome=F;for(var D=-1,R=M.queue.length;++D<R;)M.queue[D].callRejected(F);return M};function T(M){var F=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof F=="function")return function(){F.apply(M,arguments)}}function L(M,F){var D=!1;function R(U){D||(D=!0,u.reject(M,U))}function C(U){D||(D=!0,u.resolve(M,U))}function B(){F(C,R)}var j=P(B);j.status==="error"&&R(j.value)}function P(M,F){var D={};try{D.value=M(F),D.status="success"}catch(R){D.status="error",D.value=R}return D}l.resolve=O;function O(M){return M instanceof this?M:u.resolve(new this(c),M)}l.reject=V;function V(M){var F=new this(c);return u.reject(F,M)}l.all=W;function W(M){var F=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=M.length,R=!1;if(!D)return this.resolve([]);for(var C=new Array(D),B=0,j=-1,U=new this(c);++j<D;)$(M[j],j);return U;function $(J,k){F.resolve(J).then(K,function(Q){R||(R=!0,u.reject(U,Q))});function K(Q){C[k]=Q,++B===D&&!R&&(R=!0,u.resolve(U,C))}}}l.race=Z;function Z(M){var F=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=M.length,R=!1;if(!D)return this.resolve([]);for(var C=-1,B=new this(c);++C<D;)j(M[C]);return B;function j(U){F.resolve(U).then(function($){R||(R=!0,u.resolve(B,$))},function($){R||(R=!0,u.reject(B,$))})}}},{1:1}],3:[function(r,n,s){(function(i){"use strict";typeof i.Promise!="function"&&(i.Promise=r(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,s){"use strict";var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function c(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var f=u();function g(){try{if(!f||!f.open)return!1;var o=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),d=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!o||d)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function _(o,d){o=o||[],d=d||{};try{return new Blob(o,d)}catch(m){if(m.name!=="TypeError")throw m;for(var a=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,p=new a,v=0;v<o.length;v+=1)p.append(o[v]);return p.getBlob(d.type)}}typeof Promise>"u"&&r(3);var l=Promise;function b(o,d){d&&o.then(function(a){d(null,a)},function(a){d(a)})}function y(o,d,a){typeof d=="function"&&o.then(d),typeof a=="function"&&o.catch(a)}function T(o){return typeof o!="string"&&(console.warn(o+" used as a key, but it is not a string."),o=String(o)),o}function L(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var P="local-forage-detect-blob-support",O=void 0,V={},W=Object.prototype.toString,Z="readonly",M="readwrite";function F(o){for(var d=o.length,a=new ArrayBuffer(d),p=new Uint8Array(a),v=0;v<d;v++)p[v]=o.charCodeAt(v);return a}function D(o){return new l(function(d){var a=o.transaction(P,M),p=_([""]);a.objectStore(P).put(p,"key"),a.onabort=function(v){v.preventDefault(),v.stopPropagation(),d(!1)},a.oncomplete=function(){var v=navigator.userAgent.match(/Chrome\/(\d+)/),m=navigator.userAgent.match(/Edge\//);d(m||!v||parseInt(v[1],10)>=43)}}).catch(function(){return!1})}function R(o){return typeof O=="boolean"?l.resolve(O):D(o).then(function(d){return O=d,O})}function C(o){var d=V[o.name],a={};a.promise=new l(function(p,v){a.resolve=p,a.reject=v}),d.deferredOperations.push(a),d.dbReady?d.dbReady=d.dbReady.then(function(){return a.promise}):d.dbReady=a.promise}function B(o){var d=V[o.name],a=d.deferredOperations.pop();if(a)return a.resolve(),a.promise}function j(o,d){var a=V[o.name],p=a.deferredOperations.pop();if(p)return p.reject(d),p.promise}function U(o,d){return new l(function(a,p){if(V[o.name]=V[o.name]||re(),o.db)if(d)C(o),o.db.close();else return a(o.db);var v=[o.name];d&&v.push(o.version);var m=f.open.apply(f,v);d&&(m.onupgradeneeded=function(x){var I=m.result;try{I.createObjectStore(o.storeName),x.oldVersion<=1&&I.createObjectStore(P)}catch(S){if(S.name==="ConstraintError")console.warn('The database "'+o.name+'" has been upgraded from version '+x.oldVersion+" to version "+x.newVersion+', but the storage "'+o.storeName+'" already exists.');else throw S}}),m.onerror=function(x){x.preventDefault(),p(m.error)},m.onsuccess=function(){var x=m.result;x.onversionchange=function(I){I.target.close()},a(x),B(o)}})}function $(o){return U(o,!1)}function J(o){return U(o,!0)}function k(o,d){if(!o.db)return!0;var a=!o.db.objectStoreNames.contains(o.storeName),p=o.version<o.db.version,v=o.version>o.db.version;if(p&&(o.version!==d&&console.warn('The database "'+o.name+`" can't be downgraded from version `+o.db.version+" to version "+o.version+"."),o.version=o.db.version),v||a){if(a){var m=o.db.version+1;m>o.version&&(o.version=m)}return!0}return!1}function K(o){return new l(function(d,a){var p=new FileReader;p.onerror=a,p.onloadend=function(v){var m=btoa(v.target.result||"");d({__local_forage_encoded_blob:!0,data:m,type:o.type})},p.readAsBinaryString(o)})}function Q(o){var d=F(atob(o.data));return _([d],{type:o.type})}function et(o){return o&&o.__local_forage_encoded_blob}function ct(o){var d=this,a=d._initReady().then(function(){var p=V[d._dbInfo.name];if(p&&p.dbReady)return p.dbReady});return y(a,o,o),a}function Ft(o){C(o);for(var d=V[o.name],a=d.forages,p=0;p<a.length;p++){var v=a[p];v._dbInfo.db&&(v._dbInfo.db.close(),v._dbInfo.db=null)}return o.db=null,$(o).then(function(m){return o.db=m,k(o)?J(o):m}).then(function(m){o.db=d.db=m;for(var x=0;x<a.length;x++)a[x]._dbInfo.db=m}).catch(function(m){throw j(o,m),m})}function at(o,d,a,p){p===void 0&&(p=1);try{var v=o.db.transaction(o.storeName,d);a(null,v)}catch(m){if(p>0&&(!o.db||m.name==="InvalidStateError"||m.name==="NotFoundError"))return l.resolve().then(function(){if(!o.db||m.name==="NotFoundError"&&!o.db.objectStoreNames.contains(o.storeName)&&o.version<=o.db.version)return o.db&&(o.version=o.db.version+1),J(o)}).then(function(){return Ft(o).then(function(){at(o,d,a,p-1)})}).catch(a);a(m)}}function re(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function We(o){var d=this,a={db:null};if(o)for(var p in o)a[p]=o[p];var v=V[a.name];v||(v=re(),V[a.name]=v),v.forages.push(d),d._initReady||(d._initReady=d.ready,d.ready=ct);var m=[];function x(){return l.resolve()}for(var I=0;I<v.forages.length;I++){var S=v.forages[I];S!==d&&m.push(S._initReady().catch(x))}var E=v.forages.slice(0);return l.all(m).then(function(){return a.db=v.db,$(a)}).then(function(A){return a.db=A,k(a,d._defaultConfig.version)?J(a):A}).then(function(A){a.db=v.db=A,d._dbInfo=a;for(var N=0;N<E.length;N++){var Y=E[N];Y!==d&&(Y._dbInfo.db=a.db,Y._dbInfo.version=a.version)}})}function $e(o,d){var a=this;o=T(o);var p=new l(function(v,m){a.ready().then(function(){at(a._dbInfo,Z,function(x,I){if(x)return m(x);try{var S=I.objectStore(a._dbInfo.storeName),E=S.get(o);E.onsuccess=function(){var A=E.result;A===void 0&&(A=null),et(A)&&(A=Q(A)),v(A)},E.onerror=function(){m(E.error)}}catch(A){m(A)}})}).catch(m)});return b(p,d),p}function Xe(o,d){var a=this,p=new l(function(v,m){a.ready().then(function(){at(a._dbInfo,Z,function(x,I){if(x)return m(x);try{var S=I.objectStore(a._dbInfo.storeName),E=S.openCursor(),A=1;E.onsuccess=function(){var N=E.result;if(N){var Y=N.value;et(Y)&&(Y=Q(Y));var X=o(Y,N.key,A++);X!==void 0?v(X):N.continue()}else v()},E.onerror=function(){m(E.error)}}catch(N){m(N)}})}).catch(m)});return b(p,d),p}function qe(o,d,a){var p=this;o=T(o);var v=new l(function(m,x){var I;p.ready().then(function(){return I=p._dbInfo,W.call(d)==="[object Blob]"?R(I.db).then(function(S){return S?d:K(d)}):d}).then(function(S){at(p._dbInfo,M,function(E,A){if(E)return x(E);try{var N=A.objectStore(p._dbInfo.storeName);S===null&&(S=void 0);var Y=N.put(S,o);A.oncomplete=function(){S===void 0&&(S=null),m(S)},A.onabort=A.onerror=function(){var X=Y.error?Y.error:Y.transaction.error;x(X)}}catch(X){x(X)}})}).catch(x)});return b(v,a),v}function Ke(o,d){var a=this;o=T(o);var p=new l(function(v,m){a.ready().then(function(){at(a._dbInfo,M,function(x,I){if(x)return m(x);try{var S=I.objectStore(a._dbInfo.storeName),E=S.delete(o);I.oncomplete=function(){v()},I.onerror=function(){m(E.error)},I.onabort=function(){var A=E.error?E.error:E.transaction.error;m(A)}}catch(A){m(A)}})}).catch(m)});return b(p,d),p}function Je(o){var d=this,a=new l(function(p,v){d.ready().then(function(){at(d._dbInfo,M,function(m,x){if(m)return v(m);try{var I=x.objectStore(d._dbInfo.storeName),S=I.clear();x.oncomplete=function(){p()},x.onabort=x.onerror=function(){var E=S.error?S.error:S.transaction.error;v(E)}}catch(E){v(E)}})}).catch(v)});return b(a,o),a}function He(o){var d=this,a=new l(function(p,v){d.ready().then(function(){at(d._dbInfo,Z,function(m,x){if(m)return v(m);try{var I=x.objectStore(d._dbInfo.storeName),S=I.count();S.onsuccess=function(){p(S.result)},S.onerror=function(){v(S.error)}}catch(E){v(E)}})}).catch(v)});return b(a,o),a}function Qe(o,d){var a=this,p=new l(function(v,m){if(o<0){v(null);return}a.ready().then(function(){at(a._dbInfo,Z,function(x,I){if(x)return m(x);try{var S=I.objectStore(a._dbInfo.storeName),E=!1,A=S.openKeyCursor();A.onsuccess=function(){var N=A.result;if(!N){v(null);return}o===0||E?v(N.key):(E=!0,N.advance(o))},A.onerror=function(){m(A.error)}}catch(N){m(N)}})}).catch(m)});return b(p,d),p}function ze(o){var d=this,a=new l(function(p,v){d.ready().then(function(){at(d._dbInfo,Z,function(m,x){if(m)return v(m);try{var I=x.objectStore(d._dbInfo.storeName),S=I.openKeyCursor(),E=[];S.onsuccess=function(){var A=S.result;if(!A){p(E);return}E.push(A.key),A.continue()},S.onerror=function(){v(S.error)}}catch(A){v(A)}})}).catch(v)});return b(a,o),a}function tn(o,d){d=L.apply(this,arguments);var a=this.config();o=typeof o!="function"&&o||{},o.name||(o.name=o.name||a.name,o.storeName=o.storeName||a.storeName);var p=this,v;if(!o.name)v=l.reject("Invalid arguments");else{var m=o.name===a.name&&p._dbInfo.db,x=m?l.resolve(p._dbInfo.db):$(o).then(function(I){var S=V[o.name],E=S.forages;S.db=I;for(var A=0;A<E.length;A++)E[A]._dbInfo.db=I;return I});o.storeName?v=x.then(function(I){if(I.objectStoreNames.contains(o.storeName)){var S=I.version+1;C(o);var E=V[o.name],A=E.forages;I.close();for(var N=0;N<A.length;N++){var Y=A[N];Y._dbInfo.db=null,Y._dbInfo.version=S}var X=new l(function(q,z){var H=f.open(o.name,S);H.onerror=function(ot){var xt=H.result;xt.close(),z(ot)},H.onupgradeneeded=function(){var ot=H.result;ot.deleteObjectStore(o.storeName)},H.onsuccess=function(){var ot=H.result;ot.close(),q(ot)}});return X.then(function(q){E.db=q;for(var z=0;z<A.length;z++){var H=A[z];H._dbInfo.db=q,B(H._dbInfo)}}).catch(function(q){throw(j(o,q)||l.resolve()).catch(function(){}),q})}}):v=x.then(function(I){C(o);var S=V[o.name],E=S.forages;I.close();for(var A=0;A<E.length;A++){var N=E[A];N._dbInfo.db=null}var Y=new l(function(X,q){var z=f.deleteDatabase(o.name);z.onerror=function(){var H=z.result;H&&H.close(),q(z.error)},z.onblocked=function(){console.warn('dropInstance blocked for database "'+o.name+'" until all open connections are closed')},z.onsuccess=function(){var H=z.result;H&&H.close(),X(H)}});return Y.then(function(X){S.db=X;for(var q=0;q<E.length;q++){var z=E[q];B(z._dbInfo)}}).catch(function(X){throw(j(o,X)||l.resolve()).catch(function(){}),X})})}return b(v,d),v}var en={_driver:"asyncStorage",_initStorage:We,_support:g(),iterate:Xe,getItem:$e,setItem:qe,removeItem:Ke,clear:Je,length:He,key:Qe,keys:ze,dropInstance:tn};function nn(){return typeof openDatabase=="function"}var ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rn="~~local_forage_type~",oe=/^~~local_forage_type~([^~]+)~/,Dt="__lfsc__:",Vt=Dt.length,jt="arbf",kt="blob",ie="si08",se="ui08",ae="uic8",ce="si16",fe="si32",ue="ur16",le="ui32",he="fl32",de="fl64",me=Vt+jt.length,pe=Object.prototype.toString;function be(o){var d=o.length*.75,a=o.length,p,v=0,m,x,I,S;o[o.length-1]==="="&&(d--,o[o.length-2]==="="&&d--);var E=new ArrayBuffer(d),A=new Uint8Array(E);for(p=0;p<a;p+=4)m=ft.indexOf(o[p]),x=ft.indexOf(o[p+1]),I=ft.indexOf(o[p+2]),S=ft.indexOf(o[p+3]),A[v++]=m<<2|x>>4,A[v++]=(x&15)<<4|I>>2,A[v++]=(I&3)<<6|S&63;return E}function Ut(o){var d=new Uint8Array(o),a="",p;for(p=0;p<d.length;p+=3)a+=ft[d[p]>>2],a+=ft[(d[p]&3)<<4|d[p+1]>>4],a+=ft[(d[p+1]&15)<<2|d[p+2]>>6],a+=ft[d[p+2]&63];return d.length%3===2?a=a.substring(0,a.length-1)+"=":d.length%3===1&&(a=a.substring(0,a.length-2)+"=="),a}function on(o,d){var a="";if(o&&(a=pe.call(o)),o&&(a==="[object ArrayBuffer]"||o.buffer&&pe.call(o.buffer)==="[object ArrayBuffer]")){var p,v=Dt;o instanceof ArrayBuffer?(p=o,v+=jt):(p=o.buffer,a==="[object Int8Array]"?v+=ie:a==="[object Uint8Array]"?v+=se:a==="[object Uint8ClampedArray]"?v+=ae:a==="[object Int16Array]"?v+=ce:a==="[object Uint16Array]"?v+=ue:a==="[object Int32Array]"?v+=fe:a==="[object Uint32Array]"?v+=le:a==="[object Float32Array]"?v+=he:a==="[object Float64Array]"?v+=de:d(new Error("Failed to get type for BinaryArray"))),d(v+Ut(p))}else if(a==="[object Blob]"){var m=new FileReader;m.onload=function(){var x=rn+o.type+"~"+Ut(this.result);d(Dt+kt+x)},m.readAsArrayBuffer(o)}else try{d(JSON.stringify(o))}catch(x){console.error("Couldn't convert value into a JSON string: ",o),d(null,x)}}function sn(o){if(o.substring(0,Vt)!==Dt)return JSON.parse(o);var d=o.substring(me),a=o.substring(Vt,me),p;if(a===kt&&oe.test(d)){var v=d.match(oe);p=v[1],d=d.substring(v[0].length)}var m=be(d);switch(a){case jt:return m;case kt:return _([m],{type:p});case ie:return new Int8Array(m);case se:return new Uint8Array(m);case ae:return new Uint8ClampedArray(m);case ce:return new Int16Array(m);case ue:return new Uint16Array(m);case fe:return new Int32Array(m);case le:return new Uint32Array(m);case he:return new Float32Array(m);case de:return new Float64Array(m);default:throw new Error("Unkown type: "+a)}}var Yt={serialize:on,deserialize:sn,stringToBuffer:be,bufferToString:Ut};function ge(o,d,a,p){o.executeSql("CREATE TABLE IF NOT EXISTS "+d.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],a,p)}function an(o){var d=this,a={db:null};if(o)for(var p in o)a[p]=typeof o[p]!="string"?o[p].toString():o[p];var v=new l(function(m,x){try{a.db=openDatabase(a.name,String(a.version),a.description,a.size)}catch(I){return x(I)}a.db.transaction(function(I){ge(I,a,function(){d._dbInfo=a,m()},function(S,E){x(E)})},x)});return a.serializer=Yt,v}function ut(o,d,a,p,v,m){o.executeSql(a,p,v,function(x,I){I.code===I.SYNTAX_ERR?x.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[d.storeName],function(S,E){E.rows.length?m(S,I):ge(S,d,function(){S.executeSql(a,p,v,m)},m)},m):m(x,I)},m)}function cn(o,d){var a=this;o=T(o);var p=new l(function(v,m){a.ready().then(function(){var x=a._dbInfo;x.db.transaction(function(I){ut(I,x,"SELECT * FROM "+x.storeName+" WHERE key = ? LIMIT 1",[o],function(S,E){var A=E.rows.length?E.rows.item(0).value:null;A&&(A=x.serializer.deserialize(A)),v(A)},function(S,E){m(E)})})}).catch(m)});return b(p,d),p}function fn(o,d){var a=this,p=new l(function(v,m){a.ready().then(function(){var x=a._dbInfo;x.db.transaction(function(I){ut(I,x,"SELECT * FROM "+x.storeName,[],function(S,E){for(var A=E.rows,N=A.length,Y=0;Y<N;Y++){var X=A.item(Y),q=X.value;if(q&&(q=x.serializer.deserialize(q)),q=o(q,X.key,Y+1),q!==void 0){v(q);return}}v()},function(S,E){m(E)})})}).catch(m)});return b(p,d),p}function _e(o,d,a,p){var v=this;o=T(o);var m=new l(function(x,I){v.ready().then(function(){d===void 0&&(d=null);var S=d,E=v._dbInfo;E.serializer.serialize(d,function(A,N){N?I(N):E.db.transaction(function(Y){ut(Y,E,"INSERT OR REPLACE INTO "+E.storeName+" (key, value) VALUES (?, ?)",[o,A],function(){x(S)},function(X,q){I(q)})},function(Y){if(Y.code===Y.QUOTA_ERR){if(p>0){x(_e.apply(v,[o,S,a,p-1]));return}I(Y)}})})}).catch(I)});return b(m,a),m}function un(o,d,a){return _e.apply(this,[o,d,a,1])}function ln(o,d){var a=this;o=T(o);var p=new l(function(v,m){a.ready().then(function(){var x=a._dbInfo;x.db.transaction(function(I){ut(I,x,"DELETE FROM "+x.storeName+" WHERE key = ?",[o],function(){v()},function(S,E){m(E)})})}).catch(m)});return b(p,d),p}function hn(o){var d=this,a=new l(function(p,v){d.ready().then(function(){var m=d._dbInfo;m.db.transaction(function(x){ut(x,m,"DELETE FROM "+m.storeName,[],function(){p()},function(I,S){v(S)})})}).catch(v)});return b(a,o),a}function dn(o){var d=this,a=new l(function(p,v){d.ready().then(function(){var m=d._dbInfo;m.db.transaction(function(x){ut(x,m,"SELECT COUNT(key) as c FROM "+m.storeName,[],function(I,S){var E=S.rows.item(0).c;p(E)},function(I,S){v(S)})})}).catch(v)});return b(a,o),a}function mn(o,d){var a=this,p=new l(function(v,m){a.ready().then(function(){var x=a._dbInfo;x.db.transaction(function(I){ut(I,x,"SELECT key FROM "+x.storeName+" WHERE id = ? LIMIT 1",[o+1],function(S,E){var A=E.rows.length?E.rows.item(0).key:null;v(A)},function(S,E){m(E)})})}).catch(m)});return b(p,d),p}function pn(o){var d=this,a=new l(function(p,v){d.ready().then(function(){var m=d._dbInfo;m.db.transaction(function(x){ut(x,m,"SELECT key FROM "+m.storeName,[],function(I,S){for(var E=[],A=0;A<S.rows.length;A++)E.push(S.rows.item(A).key);p(E)},function(I,S){v(S)})})}).catch(v)});return b(a,o),a}function bn(o){return new l(function(d,a){o.transaction(function(p){p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(v,m){for(var x=[],I=0;I<m.rows.length;I++)x.push(m.rows.item(I).name);d({db:o,storeNames:x})},function(v,m){a(m)})},function(p){a(p)})})}function gn(o,d){d=L.apply(this,arguments);var a=this.config();o=typeof o!="function"&&o||{},o.name||(o.name=o.name||a.name,o.storeName=o.storeName||a.storeName);var p=this,v;return o.name?v=new l(function(m){var x;o.name===a.name?x=p._dbInfo.db:x=openDatabase(o.name,"","",0),o.storeName?m({db:x,storeNames:[o.storeName]}):m(bn(x))}).then(function(m){return new l(function(x,I){m.db.transaction(function(S){function E(X){return new l(function(q,z){S.executeSql("DROP TABLE IF EXISTS "+X,[],function(){q()},function(H,ot){z(ot)})})}for(var A=[],N=0,Y=m.storeNames.length;N<Y;N++)A.push(E(m.storeNames[N]));l.all(A).then(function(){x()}).catch(function(X){I(X)})},function(S){I(S)})})}):v=l.reject("Invalid arguments"),b(v,d),v}var _n={_driver:"webSQLStorage",_initStorage:an,_support:nn(),iterate:fn,getItem:cn,setItem:un,removeItem:ln,clear:hn,length:dn,key:mn,keys:pn,dropInstance:gn};function vn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ve(o,d){var a=o.name+"/";return o.storeName!==d.storeName&&(a+=o.storeName+"/"),a}function yn(){var o="_localforage_support_test";try{return localStorage.setItem(o,!0),localStorage.removeItem(o),!1}catch{return!0}}function xn(){return!yn()||localStorage.length>0}function wn(o){var d=this,a={};if(o)for(var p in o)a[p]=o[p];return a.keyPrefix=ve(o,d._defaultConfig),xn()?(d._dbInfo=a,a.serializer=Yt,l.resolve()):l.reject()}function Tn(o){var d=this,a=d.ready().then(function(){for(var p=d._dbInfo.keyPrefix,v=localStorage.length-1;v>=0;v--){var m=localStorage.key(v);m.indexOf(p)===0&&localStorage.removeItem(m)}});return b(a,o),a}function In(o,d){var a=this;o=T(o);var p=a.ready().then(function(){var v=a._dbInfo,m=localStorage.getItem(v.keyPrefix+o);return m&&(m=v.serializer.deserialize(m)),m});return b(p,d),p}function Mn(o,d){var a=this,p=a.ready().then(function(){for(var v=a._dbInfo,m=v.keyPrefix,x=m.length,I=localStorage.length,S=1,E=0;E<I;E++){var A=localStorage.key(E);if(A.indexOf(m)===0){var N=localStorage.getItem(A);if(N&&(N=v.serializer.deserialize(N)),N=o(N,A.substring(x),S++),N!==void 0)return N}}});return b(p,d),p}function Sn(o,d){var a=this,p=a.ready().then(function(){var v=a._dbInfo,m;try{m=localStorage.key(o)}catch{m=null}return m&&(m=m.substring(v.keyPrefix.length)),m});return b(p,d),p}function Rn(o){var d=this,a=d.ready().then(function(){for(var p=d._dbInfo,v=localStorage.length,m=[],x=0;x<v;x++){var I=localStorage.key(x);I.indexOf(p.keyPrefix)===0&&m.push(I.substring(p.keyPrefix.length))}return m});return b(a,o),a}function En(o){var d=this,a=d.keys().then(function(p){return p.length});return b(a,o),a}function An(o,d){var a=this;o=T(o);var p=a.ready().then(function(){var v=a._dbInfo;localStorage.removeItem(v.keyPrefix+o)});return b(p,d),p}function Pn(o,d,a){var p=this;o=T(o);var v=p.ready().then(function(){d===void 0&&(d=null);var m=d;return new l(function(x,I){var S=p._dbInfo;S.serializer.serialize(d,function(E,A){if(A)I(A);else try{localStorage.setItem(S.keyPrefix+o,E),x(m)}catch(N){(N.name==="QuotaExceededError"||N.name==="NS_ERROR_DOM_QUOTA_REACHED")&&I(N),I(N)}})})});return b(v,a),v}function Dn(o,d){if(d=L.apply(this,arguments),o=typeof o!="function"&&o||{},!o.name){var a=this.config();o.name=o.name||a.name,o.storeName=o.storeName||a.storeName}var p=this,v;return o.name?v=new l(function(m){o.storeName?m(ve(o,p._defaultConfig)):m(o.name+"/")}).then(function(m){for(var x=localStorage.length-1;x>=0;x--){var I=localStorage.key(x);I.indexOf(m)===0&&localStorage.removeItem(I)}}):v=l.reject("Invalid arguments"),b(v,d),v}var Ln={_driver:"localStorageWrapper",_initStorage:wn,_support:vn(),iterate:Mn,getItem:In,setItem:Pn,removeItem:An,clear:Tn,length:En,key:Sn,keys:Rn,dropInstance:Dn},Nn=function(d,a){return d===a||typeof d=="number"&&typeof a=="number"&&isNaN(d)&&isNaN(a)},Cn=function(d,a){for(var p=d.length,v=0;v<p;){if(Nn(d[v],a))return!0;v++}return!1},ye=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"},yt={},xe={},dt={INDEXEDDB:en,WEBSQL:_n,LOCALSTORAGE:Ln},On=[dt.INDEXEDDB._driver,dt.WEBSQL._driver,dt.LOCALSTORAGE._driver],Lt=["dropInstance"],Gt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Lt),Bn={description:"",driver:On.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Fn(o,d){o[d]=function(){var a=arguments;return o.ready().then(function(){return o[d].apply(o,a)})}}function Zt(){for(var o=1;o<arguments.length;o++){var d=arguments[o];if(d)for(var a in d)d.hasOwnProperty(a)&&(ye(d[a])?arguments[0][a]=d[a].slice():arguments[0][a]=d[a])}return arguments[0]}var Vn=function(){function o(d){c(this,o);for(var a in dt)if(dt.hasOwnProperty(a)){var p=dt[a],v=p._driver;this[a]=v,yt[v]||this.defineDriver(p)}this._defaultConfig=Zt({},Bn),this._config=Zt({},this._defaultConfig,d),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return o.prototype.config=function(a){if((typeof a>"u"?"undefined":i(a))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var p in a){if(p==="storeName"&&(a[p]=a[p].replace(/\W/g,"_")),p==="version"&&typeof a[p]!="number")return new Error("Database version must be a number.");this._config[p]=a[p]}return"driver"in a&&a.driver?this.setDriver(this._config.driver):!0}else return typeof a=="string"?this._config[a]:this._config},o.prototype.defineDriver=function(a,p,v){var m=new l(function(x,I){try{var S=a._driver,E=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!a._driver){I(E);return}for(var A=Gt.concat("_initStorage"),N=0,Y=A.length;N<Y;N++){var X=A[N],q=!Cn(Lt,X);if((q||a[X])&&typeof a[X]!="function"){I(E);return}}var z=function(){for(var xt=function(Un){return function(){var Yn=new Error("Method "+Un+" is not implemented by the current driver"),we=l.reject(Yn);return b(we,arguments[arguments.length-1]),we}},Wt=0,kn=Lt.length;Wt<kn;Wt++){var $t=Lt[Wt];a[$t]||(a[$t]=xt($t))}};z();var H=function(xt){yt[S]&&console.info("Redefining LocalForage driver: "+S),yt[S]=a,xe[S]=xt,x()};"_support"in a?a._support&&typeof a._support=="function"?a._support().then(H,I):H(!!a._support):H(!0)}catch(ot){I(ot)}});return y(m,p,v),m},o.prototype.driver=function(){return this._driver||null},o.prototype.getDriver=function(a,p,v){var m=yt[a]?l.resolve(yt[a]):l.reject(new Error("Driver not found."));return y(m,p,v),m},o.prototype.getSerializer=function(a){var p=l.resolve(Yt);return y(p,a),p},o.prototype.ready=function(a){var p=this,v=p._driverSet.then(function(){return p._ready===null&&(p._ready=p._initDriver()),p._ready});return y(v,a,a),v},o.prototype.setDriver=function(a,p,v){var m=this;ye(a)||(a=[a]);var x=this._getSupportedDrivers(a);function I(){m._config.driver=m.driver()}function S(N){return m._extend(N),I(),m._ready=m._initStorage(m._config),m._ready}function E(N){return function(){var Y=0;function X(){for(;Y<N.length;){var q=N[Y];return Y++,m._dbInfo=null,m._ready=null,m.getDriver(q).then(S).catch(X)}I();var z=new Error("No available storage method found.");return m._driverSet=l.reject(z),m._driverSet}return X()}}var A=this._driverSet!==null?this._driverSet.catch(function(){return l.resolve()}):l.resolve();return this._driverSet=A.then(function(){var N=x[0];return m._dbInfo=null,m._ready=null,m.getDriver(N).then(function(Y){m._driver=Y._driver,I(),m._wrapLibraryMethodsWithReady(),m._initDriver=E(x)})}).catch(function(){I();var N=new Error("No available storage method found.");return m._driverSet=l.reject(N),m._driverSet}),y(this._driverSet,p,v),this._driverSet},o.prototype.supports=function(a){return!!xe[a]},o.prototype._extend=function(a){Zt(this,a)},o.prototype._getSupportedDrivers=function(a){for(var p=[],v=0,m=a.length;v<m;v++){var x=a[v];this.supports(x)&&p.push(x)}return p},o.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0,p=Gt.length;a<p;a++)Fn(this,Gt[a])},o.prototype.createInstance=function(a){return new o(a)},o}(),jn=new Vn;n.exports=jn},{3:3}]},{},[4])(4)})});var Ye=Xt((Ms,Ue)=>{"use strict";var ee=Math.abs,wr=Math.min;function Bt(h,t,e,r){var n=ee(h-t);return e==null&&(e=Bt.DBL_EPSILON),r==null&&(r=e),n<=e||n<=r*wr(ee(h),ee(t))?!0:h===t}Bt.FLT_EPSILON=11920929e-14;Bt.DBL_EPSILON=2220446049250313e-31;Ue.exports=Bt});var It=h=>({vertices:[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}]});var Qt=Tt(Ct(),1),Pe=Tt(Ct(),1);var G=11102230246251565e-32,tt=134217729,Mt=(3+8*G)*G;function ht(h,t,e,r,n){let s,i,c,u,f=t[0],g=r[0],_=0,l=0;g>f==g>-f?(s=f,f=t[++_]):(s=g,g=r[++l]);let b=0;if(_<h&&l<e)for(g>f==g>-f?(i=f+s,c=s-(i-f),f=t[++_]):(i=g+s,c=s-(i-g),g=r[++l]),s=i,c!==0&&(n[b++]=c);_<h&&l<e;)g>f==g>-f?(i=s+f,u=i-s,c=s-(i-u)+(f-u),f=t[++_]):(i=s+g,u=i-s,c=s-(i-u)+(g-u),g=r[++l]),s=i,c!==0&&(n[b++]=c);for(;_<h;)i=s+f,u=i-s,c=s-(i-u)+(f-u),f=t[++_],s=i,c!==0&&(n[b++]=c);for(;l<e;)i=s+g,u=i-s,c=s-(i-u)+(g-u),g=r[++l],s=i,c!==0&&(n[b++]=c);return(s!==0||b===0)&&(n[b++]=s),b}function St(h,t){let e=t[0];for(let r=1;r<h;r++)e+=t[r];return e}function w(h){return new Float64Array(h)}var Jn=(3+16*G)*G,Hn=(2+12*G)*G,Qn=(9+64*G)*G*G,mt=w(4),Me=w(8),Se=w(12),Re=w(16),nt=w(4);function zn(h,t,e,r,n,s,i){let c,u,f,g,_,l,b,y,T,L,P,O,V,W,Z,M,F,D,R=h-n,C=e-n,B=t-s,j=r-s;W=R*j,l=tt*R,b=l-(l-R),y=R-b,l=tt*j,T=l-(l-j),L=j-T,Z=y*L-(W-b*T-y*T-b*L),M=B*C,l=tt*B,b=l-(l-B),y=B-b,l=tt*C,T=l-(l-C),L=C-T,F=y*L-(M-b*T-y*T-b*L),P=Z-F,_=Z-P,mt[0]=Z-(P+_)+(_-F),O=W+P,_=O-W,V=W-(O-_)+(P-_),P=V-M,_=V-P,mt[1]=V-(P+_)+(_-M),D=O+P,_=D-O,mt[2]=O-(D-_)+(P-_),mt[3]=D;let U=St(4,mt),$=Hn*i;if(U>=$||-U>=$||(_=h-R,c=h-(R+_)+(_-n),_=e-C,f=e-(C+_)+(_-n),_=t-B,u=t-(B+_)+(_-s),_=r-j,g=r-(j+_)+(_-s),c===0&&u===0&&f===0&&g===0)||($=Qn*i+Mt*Math.abs(U),U+=R*g+j*c-(B*f+C*u),U>=$||-U>=$))return U;W=c*j,l=tt*c,b=l-(l-c),y=c-b,l=tt*j,T=l-(l-j),L=j-T,Z=y*L-(W-b*T-y*T-b*L),M=u*C,l=tt*u,b=l-(l-u),y=u-b,l=tt*C,T=l-(l-C),L=C-T,F=y*L-(M-b*T-y*T-b*L),P=Z-F,_=Z-P,nt[0]=Z-(P+_)+(_-F),O=W+P,_=O-W,V=W-(O-_)+(P-_),P=V-M,_=V-P,nt[1]=V-(P+_)+(_-M),D=O+P,_=D-O,nt[2]=O-(D-_)+(P-_),nt[3]=D;let J=ht(4,mt,4,nt,Me);W=R*g,l=tt*R,b=l-(l-R),y=R-b,l=tt*g,T=l-(l-g),L=g-T,Z=y*L-(W-b*T-y*T-b*L),M=B*f,l=tt*B,b=l-(l-B),y=B-b,l=tt*f,T=l-(l-f),L=f-T,F=y*L-(M-b*T-y*T-b*L),P=Z-F,_=Z-P,nt[0]=Z-(P+_)+(_-F),O=W+P,_=O-W,V=W-(O-_)+(P-_),P=V-M,_=V-P,nt[1]=V-(P+_)+(_-M),D=O+P,_=D-O,nt[2]=O-(D-_)+(P-_),nt[3]=D;let k=ht(J,Me,4,nt,Se);W=c*g,l=tt*c,b=l-(l-c),y=c-b,l=tt*g,T=l-(l-g),L=g-T,Z=y*L-(W-b*T-y*T-b*L),M=u*f,l=tt*u,b=l-(l-u),y=u-b,l=tt*f,T=l-(l-f),L=f-T,F=y*L-(M-b*T-y*T-b*L),P=Z-F,_=Z-P,nt[0]=Z-(P+_)+(_-F),O=W+P,_=O-W,V=W-(O-_)+(P-_),P=V-M,_=V-P,nt[1]=V-(P+_)+(_-M),D=O+P,_=D-O,nt[2]=O-(D-_)+(P-_),nt[3]=D;let K=ht(k,Se,4,nt,Re);return Re[K-1]}function pt(h,t,e,r,n,s){let i=(t-s)*(e-n),c=(h-n)*(r-s),u=i-c,f=Math.abs(i+c);return Math.abs(u)>=Jn*f?u:-zn(h,t,e,r,n,s,f)}var Ur=(7+56*G)*G,Yr=(3+28*G)*G,Gr=(26+288*G)*G*G,Zr=w(4),Wr=w(4),$r=w(4),Xr=w(4),qr=w(4),Kr=w(4),Jr=w(4),Hr=w(4),Qr=w(4),zr=w(8),to=w(8),eo=w(8),no=w(4),ro=w(8),oo=w(8),io=w(8),so=w(12),ao=w(192),co=w(192);var lo=(10+96*G)*G,ho=(4+48*G)*G,mo=(44+576*G)*G*G,po=w(4),bo=w(4),go=w(4),_o=w(4),vo=w(4),yo=w(4),xo=w(4),wo=w(4),To=w(8),Io=w(8),Mo=w(8),So=w(8),Ro=w(8),Eo=w(8),Ao=w(8),Po=w(8),Do=w(8),Lo=w(4),No=w(4),Co=w(4),Oo=w(8),Bo=w(16),Fo=w(16),Vo=w(16),jo=w(32),ko=w(32),Uo=w(48),Yo=w(64),Go=w(1152),Zo=w(1152);var qo=(16+224*G)*G,Ko=(5+72*G)*G,Jo=(71+1408*G)*G*G,Ho=w(4),Qo=w(4),zo=w(4),ti=w(4),ei=w(4),ni=w(4),ri=w(4),oi=w(4),ii=w(4),si=w(4),ai=w(24),ci=w(24),fi=w(24),ui=w(24),li=w(24),hi=w(24),di=w(24),mi=w(24),pi=w(24),bi=w(24),gi=w(1152),_i=w(1152),vi=w(1152),yi=w(1152),xi=w(1152),wi=w(2304),Ti=w(2304),Ii=w(3456),Mi=w(5760),Si=w(8),Ri=w(8),Ei=w(8),Ai=w(16),Pi=w(24),Di=w(48),Li=w(48),Ni=w(96),Ci=w(192),Oi=w(384),Bi=w(384),Fi=w(384),Vi=w(768);var ji=w(96),ki=w(96),Ui=w(96),Yi=w(1152);var Ae=Math.pow(2,-52),Ot=new Uint32Array(512),gt=class h{static from(t,e=ir,r=sr){let n=t.length,s=new Float64Array(n*2);for(let i=0;i<n;i++){let c=t[i];s[2*i]=e(c),s[2*i+1]=r(c)}return new h(s)}constructor(t){let e=t.length>>1;if(e>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;let r=Math.max(2*e-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){let{coords:t,_hullPrev:e,_hullNext:r,_hullTri:n,_hullHash:s}=this,i=t.length>>1,c=1/0,u=1/0,f=-1/0,g=-1/0;for(let R=0;R<i;R++){let C=t[2*R],B=t[2*R+1];C<c&&(c=C),B<u&&(u=B),C>f&&(f=C),B>g&&(g=B),this._ids[R]=R}let _=(c+f)/2,l=(u+g)/2,b,y,T;for(let R=0,C=1/0;R<i;R++){let B=Kt(_,l,t[2*R],t[2*R+1]);B<C&&(b=R,C=B)}let L=t[2*b],P=t[2*b+1];for(let R=0,C=1/0;R<i;R++){if(R===b)continue;let B=Kt(L,P,t[2*R],t[2*R+1]);B<C&&B>0&&(y=R,C=B)}let O=t[2*y],V=t[2*y+1],W=1/0;for(let R=0;R<i;R++){if(R===b||R===y)continue;let C=rr(L,P,O,V,t[2*R],t[2*R+1]);C<W&&(T=R,W=C)}let Z=t[2*T],M=t[2*T+1];if(W===1/0){for(let B=0;B<i;B++)this._dists[B]=t[2*B]-t[0]||t[2*B+1]-t[1];bt(this._ids,this._dists,0,i-1);let R=new Uint32Array(i),C=0;for(let B=0,j=-1/0;B<i;B++){let U=this._ids[B],$=this._dists[U];$>j&&(R[C++]=U,j=$)}this.hull=R.subarray(0,C),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(pt(L,P,O,V,Z,M)<0){let R=y,C=O,B=V;y=T,O=Z,V=M,T=R,Z=C,M=B}let F=or(L,P,O,V,Z,M);this._cx=F.x,this._cy=F.y;for(let R=0;R<i;R++)this._dists[R]=Kt(t[2*R],t[2*R+1],F.x,F.y);bt(this._ids,this._dists,0,i-1),this._hullStart=b;let D=3;r[b]=e[T]=y,r[y]=e[b]=T,r[T]=e[y]=b,n[b]=0,n[y]=1,n[T]=2,s.fill(-1),s[this._hashKey(L,P)]=b,s[this._hashKey(O,V)]=y,s[this._hashKey(Z,M)]=T,this.trianglesLen=0,this._addTriangle(b,y,T,-1,-1,-1);for(let R=0,C,B;R<this._ids.length;R++){let j=this._ids[R],U=t[2*j],$=t[2*j+1];if(R>0&&Math.abs(U-C)<=Ae&&Math.abs($-B)<=Ae||(C=U,B=$,j===b||j===y||j===T))continue;let J=0;for(let ct=0,Ft=this._hashKey(U,$);ct<this._hashSize&&(J=s[(Ft+ct)%this._hashSize],!(J!==-1&&J!==r[J]));ct++);J=e[J];let k=J,K;for(;K=r[k],pt(U,$,t[2*k],t[2*k+1],t[2*K],t[2*K+1])>=0;)if(k=K,k===J){k=-1;break}if(k===-1)continue;let Q=this._addTriangle(k,j,r[k],-1,-1,n[k]);n[j]=this._legalize(Q+2),n[k]=Q,D++;let et=r[k];for(;K=r[et],pt(U,$,t[2*et],t[2*et+1],t[2*K],t[2*K+1])<0;)Q=this._addTriangle(et,j,K,n[j],-1,n[et]),n[j]=this._legalize(Q+2),r[et]=et,D--,et=K;if(k===J)for(;K=e[k],pt(U,$,t[2*K],t[2*K+1],t[2*k],t[2*k+1])<0;)Q=this._addTriangle(K,j,k,-1,n[k],n[K]),this._legalize(Q+2),n[K]=Q,r[k]=k,D--,k=K;this._hullStart=e[j]=k,r[k]=e[et]=j,r[j]=et,s[this._hashKey(U,$)]=j,s[this._hashKey(t[2*k],t[2*k+1])]=k}this.hull=new Uint32Array(D);for(let R=0,C=this._hullStart;R<D;R++)this.hull[R]=C,C=r[C];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(er(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:e,_halfedges:r,coords:n}=this,s=0,i=0;for(;;){let c=r[t],u=t-t%3;if(i=u+(t+2)%3,c===-1){if(s===0)break;t=Ot[--s];continue}let f=c-c%3,g=u+(t+1)%3,_=f+(c+2)%3,l=e[i],b=e[t],y=e[g],T=e[_];if(nr(n[2*l],n[2*l+1],n[2*b],n[2*b+1],n[2*y],n[2*y+1],n[2*T],n[2*T+1])){e[t]=T,e[c]=l;let P=r[_];if(P===-1){let V=this._hullStart;do{if(this._hullTri[V]===_){this._hullTri[V]=t;break}V=this._hullPrev[V]}while(V!==this._hullStart)}this._link(t,P),this._link(c,r[i]),this._link(i,_);let O=f+(c+1)%3;s<Ot.length&&(Ot[s++]=O)}else{if(s===0)break;t=Ot[--s]}}return i}_link(t,e){this._halfedges[t]=e,e!==-1&&(this._halfedges[e]=t)}_addTriangle(t,e,r,n,s,i){let c=this.trianglesLen;return this._triangles[c]=t,this._triangles[c+1]=e,this._triangles[c+2]=r,this._link(c,n),this._link(c+1,s),this._link(c+2,i),this.trianglesLen+=3,c}};function er(h,t){let e=h/(Math.abs(h)+Math.abs(t));return(t>0?3-e:1+e)/4}function Kt(h,t,e,r){let n=h-e,s=t-r;return n*n+s*s}function nr(h,t,e,r,n,s,i,c){let u=h-i,f=t-c,g=e-i,_=r-c,l=n-i,b=s-c,y=u*u+f*f,T=g*g+_*_,L=l*l+b*b;return u*(_*L-T*b)-f*(g*L-T*l)+y*(g*b-_*l)<0}function rr(h,t,e,r,n,s){let i=e-h,c=r-t,u=n-h,f=s-t,g=i*i+c*c,_=u*u+f*f,l=.5/(i*f-c*u),b=(f*g-c*_)*l,y=(i*_-u*g)*l;return b*b+y*y}function or(h,t,e,r,n,s){let i=e-h,c=r-t,u=n-h,f=s-t,g=i*i+c*c,_=u*u+f*f,l=.5/(i*f-c*u),b=h+(f*g-c*_)*l,y=t+(i*_-u*g)*l;return{x:b,y}}function bt(h,t,e,r){if(r-e<=20)for(let n=e+1;n<=r;n++){let s=h[n],i=t[s],c=n-1;for(;c>=e&&t[h[c]]>i;)h[c+1]=h[c--];h[c+1]=s}else{let n=e+r>>1,s=e+1,i=r;Rt(h,n,s),t[h[e]]>t[h[r]]&&Rt(h,e,r),t[h[s]]>t[h[r]]&&Rt(h,s,r),t[h[e]]>t[h[s]]&&Rt(h,e,s);let c=h[s],u=t[c];for(;;){do s++;while(t[h[s]]<u);do i--;while(t[h[i]]>u);if(i<s)break;Rt(h,s,i)}h[e+1]=h[i],h[i]=c,r-s+1>=i-e?(bt(h,t,s,r),bt(h,t,e,i-1)):(bt(h,t,e,i-1),bt(h,t,s,r))}}function Rt(h,t,e){let r=h[t];h[t]=h[e],h[e]=r}function ir(h){return h[0]}function sr(h){return h[1]}var it=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,r){t=+t,e=+e,r=+r;let n=t+r,s=e;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${n},${s}`:(Math.abs(this._x1-n)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+n+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${e}A${r},${r},0,1,1,${this._x1=n},${this._y1=s}`)}rect(t,e,r,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+r}v${+n}h${-r}Z`}value(){return this._||null}};var lt=class{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}};var Et=class{constructor(t,[e,r,n,s]=[0,0,960,500]){if(!((n=+n)>=(e=+e))||!((s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=n,this.xmin=e,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:t,hull:e,triangles:r},vectors:n}=this,s,i,c=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let T=0,L=0,P=r.length,O,V;T<P;T+=3,L+=2){let W=r[T]*2,Z=r[T+1]*2,M=r[T+2]*2,F=t[W],D=t[W+1],R=t[Z],C=t[Z+1],B=t[M],j=t[M+1],U=R-F,$=C-D,J=B-F,k=j-D,K=(U*k-$*J)*2;if(Math.abs(K)<1e-9){if(s===void 0){s=i=0;for(let et of e)s+=t[et*2],i+=t[et*2+1];s/=e.length,i/=e.length}let Q=1e9*Math.sign((s-F)*k-(i-D)*J);O=(F+B)/2-Q*k,V=(D+j)/2+Q*J}else{let Q=1/K,et=U*U+$*$,ct=J*J+k*k;O=F+(k*et-$*ct)*Q,V=D+(U*ct-J*et)*Q}c[L]=O,c[L+1]=V}let u=e[e.length-1],f,g=u*4,_,l=t[2*u],b,y=t[2*u+1];n.fill(0);for(let T=0;T<e.length;++T)u=e[T],f=g,_=l,b=y,g=u*4,l=t[2*u],y=t[2*u+1],n[f+2]=n[g]=b-y,n[f+3]=n[g+1]=l-_}render(t){let e=t==null?t=new it:void 0,{delaunay:{halfedges:r,inedges:n,hull:s},circumcenters:i,vectors:c}=this;if(s.length<=1)return null;for(let g=0,_=r.length;g<_;++g){let l=r[g];if(l<g)continue;let b=Math.floor(g/3)*2,y=Math.floor(l/3)*2,T=i[b],L=i[b+1],P=i[y],O=i[y+1];this._renderSegment(T,L,P,O,t)}let u,f=s[s.length-1];for(let g=0;g<s.length;++g){u=f,f=s[g];let _=Math.floor(n[f]/3)*2,l=i[_],b=i[_+1],y=u*4,T=this._project(l,b,c[y+2],c[y+3]);T&&this._renderSegment(l,b,T[0],T[1],t)}return e&&e.value()}renderBounds(t){let e=t==null?t=new it:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){let r=e==null?e=new it:void 0,n=this._clip(t);if(n===null||!n.length)return;e.moveTo(n[0],n[1]);let s=n.length;for(;n[0]===n[s-2]&&n[1]===n[s-1]&&s>1;)s-=2;for(let i=2;i<s;i+=2)(n[i]!==n[i-2]||n[i+1]!==n[i-1])&&e.lineTo(n[i],n[i+1]);return e.closePath(),r&&r.value()}*cellPolygons(){let{delaunay:{points:t}}=this;for(let e=0,r=t.length/2;e<r;++e){let n=this.cellPolygon(e);n&&(n.index=e,yield n)}}cellPolygon(t){let e=new lt;return this.renderCell(t,e),e.value()}_renderSegment(t,e,r,n,s){let i,c=this._regioncode(t,e),u=this._regioncode(r,n);c===0&&u===0?(s.moveTo(t,e),s.lineTo(r,n)):(i=this._clipSegment(t,e,r,n,c,u))&&(s.moveTo(i[0],i[1]),s.lineTo(i[2],i[3]))}contains(t,e,r){return e=+e,e!==e||(r=+r,r!==r)?!1:this.delaunay._step(t,e,r)===t}*neighbors(t){let e=this._clip(t);if(e)for(let r of this.delaunay.neighbors(t)){let n=this._clip(r);if(n){t:for(let s=0,i=e.length;s<i;s+=2)for(let c=0,u=n.length;c<u;c+=2)if(e[s]===n[c]&&e[s+1]===n[c+1]&&e[(s+2)%i]===n[(c+u-2)%u]&&e[(s+3)%i]===n[(c+u-1)%u]){yield r;break t}}}}_cell(t){let{circumcenters:e,delaunay:{inedges:r,halfedges:n,triangles:s}}=this,i=r[t];if(i===-1)return null;let c=[],u=i;do{let f=Math.floor(u/3);if(c.push(e[f*2],e[f*2+1]),u=u%3===2?u-2:u+1,s[u]!==t)break;u=n[u]}while(u!==i&&u!==-1);return c}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let e=this._cell(t);if(e===null)return null;let{vectors:r}=this,n=t*4;return this._simplify(r[n]||r[n+1]?this._clipInfinite(t,e,r[n],r[n+1],r[n+2],r[n+3]):this._clipFinite(t,e))}_clipFinite(t,e){let r=e.length,n=null,s,i,c=e[r-2],u=e[r-1],f,g=this._regioncode(c,u),_,l=0;for(let b=0;b<r;b+=2)if(s=c,i=u,c=e[b],u=e[b+1],f=g,g=this._regioncode(c,u),f===0&&g===0)_=l,l=0,n?n.push(c,u):n=[c,u];else{let y,T,L,P,O;if(f===0){if((y=this._clipSegment(s,i,c,u,f,g))===null)continue;[T,L,P,O]=y}else{if((y=this._clipSegment(c,u,s,i,g,f))===null)continue;[P,O,T,L]=y,_=l,l=this._edgecode(T,L),_&&l&&this._edge(t,_,l,n,n.length),n?n.push(T,L):n=[T,L]}_=l,l=this._edgecode(P,O),_&&l&&this._edge(t,_,l,n,n.length),n?n.push(P,O):n=[P,O]}if(n)_=l,l=this._edgecode(n[0],n[1]),_&&l&&this._edge(t,_,l,n,n.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return n}_clipSegment(t,e,r,n,s,i){let c=s<i;for(c&&([t,e,r,n,s,i]=[r,n,t,e,i,s]);;){if(s===0&&i===0)return c?[r,n,t,e]:[t,e,r,n];if(s&i)return null;let u,f,g=s||i;g&8?(u=t+(r-t)*(this.ymax-e)/(n-e),f=this.ymax):g&4?(u=t+(r-t)*(this.ymin-e)/(n-e),f=this.ymin):g&2?(f=e+(n-e)*(this.xmax-t)/(r-t),u=this.xmax):(f=e+(n-e)*(this.xmin-t)/(r-t),u=this.xmin),s?(t=u,e=f,s=this._regioncode(t,e)):(r=u,n=f,i=this._regioncode(r,n))}}_clipInfinite(t,e,r,n,s,i){let c=Array.from(e),u;if((u=this._project(c[0],c[1],r,n))&&c.unshift(u[0],u[1]),(u=this._project(c[c.length-2],c[c.length-1],s,i))&&c.push(u[0],u[1]),c=this._clipFinite(t,c))for(let f=0,g=c.length,_,l=this._edgecode(c[g-2],c[g-1]);f<g;f+=2)_=l,l=this._edgecode(c[f],c[f+1]),_&&l&&(f=this._edge(t,_,l,c,f),g=c.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(c=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return c}_edge(t,e,r,n,s){for(;e!==r;){let i,c;switch(e){case 5:e=4;continue;case 4:e=6,i=this.xmax,c=this.ymin;break;case 6:e=2;continue;case 2:e=10,i=this.xmax,c=this.ymax;break;case 10:e=8;continue;case 8:e=9,i=this.xmin,c=this.ymax;break;case 9:e=1;continue;case 1:e=5,i=this.xmin,c=this.ymin;break}(n[s]!==i||n[s+1]!==c)&&this.contains(t,i,c)&&(n.splice(s,0,i,c),s+=2)}return s}_project(t,e,r,n){let s=1/0,i,c,u;if(n<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/n)<s&&(u=this.ymin,c=t+(s=i)*r)}else if(n>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/n)<s&&(u=this.ymax,c=t+(s=i)*r)}if(r>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/r)<s&&(c=this.xmax,u=e+(s=i)*n)}else if(r<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/r)<s&&(c=this.xmin,u=e+(s=i)*n)}return[c,u]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){let r=(e+2)%t.length,n=(e+4)%t.length;(t[e]===t[r]&&t[r]===t[n]||t[e+1]===t[r+1]&&t[r+1]===t[n+1])&&(t.splice(r,2),e-=2)}t.length||(t=null)}return t}};var ar=2*Math.PI,_t=Math.pow;function cr(h){return h[0]}function fr(h){return h[1]}function ur(h){let{triangles:t,coords:e}=h;for(let r=0;r<t.length;r+=3){let n=2*t[r],s=2*t[r+1],i=2*t[r+2];if((e[i]-e[n])*(e[s+1]-e[n+1])-(e[s]-e[n])*(e[i+1]-e[n+1])>1e-10)return!1}return!0}function lr(h,t,e){return[h+Math.sin(h+t)*e,t+Math.cos(h-t)*e]}var vt=class h{static from(t,e=cr,r=fr,n){return new h("length"in t?hr(t,e,r,n):Float64Array.from(dr(t,e,r,n)))}constructor(t){this._delaunator=new gt(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&ur(t)){this.collinear=Int32Array.from({length:e.length/2},(l,b)=>b).sort((l,b)=>e[2*l]-e[2*b]||e[2*l+1]-e[2*b+1]);let u=this.collinear[0],f=this.collinear[this.collinear.length-1],g=[e[2*u],e[2*u+1],e[2*f],e[2*f+1]],_=1e-8*Math.hypot(g[3]-g[1],g[2]-g[0]);for(let l=0,b=e.length/2;l<b;++l){let y=lr(e[2*l],e[2*l+1],_);e[2*l]=y[0],e[2*l+1]=y[1]}this._delaunator=new gt(e)}else delete this.collinear;let r=this.halfedges=this._delaunator.halfedges,n=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,i=this.inedges.fill(-1),c=this._hullIndex.fill(-1);for(let u=0,f=r.length;u<f;++u){let g=s[u%3===2?u-2:u+1];(r[u]===-1||i[g]===-1)&&(i[g]=u)}for(let u=0,f=n.length;u<f;++u)c[n[u]]=u;n.length<=2&&n.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=n[0],i[n[0]]=1,n.length===2&&(i[n[1]]=0,this.triangles[1]=n[1],this.triangles[2]=n[1]))}voronoi(t){return new Et(this,t)}*neighbors(t){let{inedges:e,hull:r,_hullIndex:n,halfedges:s,triangles:i,collinear:c}=this;if(c){let _=c.indexOf(t);_>0&&(yield c[_-1]),_<c.length-1&&(yield c[_+1]);return}let u=e[t];if(u===-1)return;let f=u,g=-1;do{if(yield g=i[f],f=f%3===2?f-2:f+1,i[f]!==t)return;if(f=s[f],f===-1){let _=r[(n[t]+1)%r.length];_!==g&&(yield _);return}}while(f!==u)}find(t,e,r=0){if(t=+t,t!==t||(e=+e,e!==e))return-1;let n=r,s;for(;(s=this._step(r,t,e))>=0&&s!==r&&s!==n;)r=s;return s}_step(t,e,r){let{inedges:n,hull:s,_hullIndex:i,halfedges:c,triangles:u,points:f}=this;if(n[t]===-1||!f.length)return(t+1)%(f.length>>1);let g=t,_=_t(e-f[t*2],2)+_t(r-f[t*2+1],2),l=n[t],b=l;do{let y=u[b],T=_t(e-f[y*2],2)+_t(r-f[y*2+1],2);if(T<_&&(_=T,g=y),b=b%3===2?b-2:b+1,u[b]!==t)break;if(b=c[b],b===-1){if(b=s[(i[t]+1)%s.length],b!==y&&_t(e-f[b*2],2)+_t(r-f[b*2+1],2)<_)return b;break}}while(b!==l);return g}render(t){let e=t==null?t=new it:void 0,{points:r,halfedges:n,triangles:s}=this;for(let i=0,c=n.length;i<c;++i){let u=n[i];if(u<i)continue;let f=s[i]*2,g=s[u]*2;t.moveTo(r[f],r[f+1]),t.lineTo(r[g],r[g+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){e===void 0&&(!t||typeof t.moveTo!="function")&&(e=t,t=null),e=e==null?2:+e;let r=t==null?t=new it:void 0,{points:n}=this;for(let s=0,i=n.length;s<i;s+=2){let c=n[s],u=n[s+1];t.moveTo(c+e,u),t.arc(c,u,e,0,ar)}return r&&r.value()}renderHull(t){let e=t==null?t=new it:void 0,{hull:r,points:n}=this,s=r[0]*2,i=r.length;t.moveTo(n[s],n[s+1]);for(let c=1;c<i;++c){let u=2*r[c];t.lineTo(n[u],n[u+1])}return t.closePath(),e&&e.value()}hullPolygon(){let t=new lt;return this.renderHull(t),t.value()}renderTriangle(t,e){let r=e==null?e=new it:void 0,{points:n,triangles:s}=this,i=s[t*=3]*2,c=s[t+1]*2,u=s[t+2]*2;return e.moveTo(n[i],n[i+1]),e.lineTo(n[c],n[c+1]),e.lineTo(n[u],n[u+1]),e.closePath(),r&&r.value()}*trianglePolygons(){let{triangles:t}=this;for(let e=0,r=t.length/3;e<r;++e)yield this.trianglePolygon(e)}trianglePolygon(t){let e=new lt;return this.renderTriangle(t,e),e.value()}};function hr(h,t,e,r){let n=h.length,s=new Float64Array(n*2);for(let i=0;i<n;++i){let c=h[i];s[i*2]=t.call(r,c,i,h),s[i*2+1]=e.call(r,c,i,h)}return s}function*dr(h,t,e,r){let n=0;for(let s of h)yield t.call(r,s,n,h),yield e.call(r,s,n,h),++n}function Jt(h,t){for(var e=h.length,r=h[e-1],n=t[0],s=t[1],i=r[0],c=r[1],u,f,g=!1,_=0;_<e;++_)r=h[_],u=r[0],f=r[1],f>s!=c>s&&n<(i-u)*(s-f)/(c-f)+u&&(g=!g),i=u,c=f;return g}var Le=Tt(Ct(),1);var rt=class zt{constructor(t,e){this.x=t,this.y=e}static kwrxwxogf45a46534ffd44a3fbeab0a5297221897(t){return new zt(t.x,t.y)}iiigmo4b216ac134c646dfabed668e1bc57138(){let t={};return t.x=this.x,t.y=this.y,t}siehdz165b9f6bfbeb4bfbb544bf3211b8b086(t){let e={ZEeTj:function(n,s,i){return n(s,i)}};return e.ZEeTj(Qt.default,this.x,t.x)&&e.ZEeTj(Qt.default,this.y,t.y)}rwclehyaa3a216a64e48b4f8dabd11084edcb21f3(){return[this.x,this.y]}coridmvh90055d7b72d34254b77dc200396d2a22(t){let e={};e.sIuje=function(i,c){return i/c},e.kTTrH=function(i,c){return i+c},e.bqzdZ=function(i,c){return i/c};let r=e,n=r.sIuje(r.kTTrH(this.x,t.x),2),s=r.bqzdZ(this.y+t.y,2);return new zt(n,s)}};function Ht(h,t,e){let r={};r.iuXRe=function(_,l){return _-l},r.Krdyy=function(_,l){return _*l},r.vlWTf=function(_,l){return _===l},r.nRfzG=function(_,l){return _===l},r.XgtGr=function(_,l){return _*l};let n=r,s={x:n.iuXRe(h.x,t.x),y:n.iuXRe(h.y,t.y)},i={x:n.iuXRe(e.x,t.x),y:n.iuXRe(e.y,t.y)},c=s.x*i.x+n.Krdyy(s.y,i.y),u=Math.hypot(s.x,s.y),f=Math.hypot(i.x,i.y);if(n.vlWTf(u,0)||n.nRfzG(f,0))return 0;let g=Math.min(1,Math.max(-1,c/n.XgtGr(u,f)));return Math.acos(g)}var De=class st{constructor(t){let e={};e.MRVns="1|4|0|3|2";let r=e,n=r.MRVns.qaeeaiyoca261b703829d540489c55ec4648977995("|"),s=0;for(;;){switch(n[s++]){case"0":this.sectionTag="";continue;case"1":this.points=t;continue;case"2":!st.xwvcd97fa97c40b1146a7bee18b31a6aebb3d(t)&&this.points.reverse();continue;case"3":this.materialTag="";continue;case"4":this.tag="";continue}break}}static FromDto(t){return new st(t.points.map(e=>rt.kwrxwxogf45a46534ffd44a3fbeab0a5297221897(e)))}iiigmo4b216ac134c646dfabed668e1bc57138(){return{points:this.points.map(t=>t.iiigmo4b216ac134c646dfabed668e1bc57138()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static xwvcd97fa97c40b1146a7bee18b31a6aebb3d(t){let e={};e.CJvPL=function(u,f){return u-f},e.otEZF=function(u,f){return u*f},e.Wbhjp=function(u,f){return u-f},e.QrFYJ=function(u,f){return u-f},e.GmaNI=function(u,f){return u-f};let r=e,[n,s,i]=t;return r.CJvPL(r.otEZF(r.Wbhjp(s.x,n.x),r.Wbhjp(i.y,n.y)),r.otEZF(r.QrFYJ(s.y,n.y),r.GmaNI(i.x,n.x)))>0}nqkbscfryg17db80b688db4ce797b5007bd35d1eae(t,e,r){this.tag=t,this.sectionTag=e,this.materialTag=r}hbfhpqb4e7a5111a9b438da62a9e723a531ab4(){let t={};t.aGXeA=function(u,f){return u/f},t.ofrEi=function(u,f){return u+f},t.FkAlD=function(u,f){return u+f};let e=t,[r,n,s]=this.points,i=e.aGXeA(e.ofrEi(e.FkAlD(r.x,n.x),s.x),3),c=e.aGXeA(e.FkAlD(e.FkAlD(r.y,n.y),s.y),3);return new rt(i,c)}dtxufos50798f5633f44b8c946b6e519d701fd0(t=.1){let e={};e.RauqM=function(f,g){return f-g},e.WycMX=function(f,g){return f+g},e.tyoLb=function(f,g){return f*g},e.xzCxS=function(f,g){return f-g},e.uFgmx=function(f,g){return f*g},e.ipLYb=function(f,g){return f/g},e.PbJIb=function(f,g){return f+g},e.vlKNg=function(f,g){return f*g},e.UadJe=function(f,g){return f+g};let r=e,n=this.hbfhpqb4e7a5111a9b438da62a9e723a531ab4(),s=this.points.map(f=>{let g=r.RauqM(n.x,f.x),_=n.y-f.y;return Math.sqrt(r.WycMX(r.tyoLb(g,g),r.tyoLb(_,_)))}),i=Math.max(...s),c=r.vlKNg(i,t);return this.points.map(f=>{let g=r.xzCxS(n.x,f.x),_=r.xzCxS(n.y,f.y),l=Math.sqrt(r.uFgmx(g,g)+r.uFgmx(_,_)),b=r.ipLYb(c,l);return new rt(r.PbJIb(f.x,r.vlKNg(g,b)),r.UadJe(f.y,_*b))})}zsvlqbbojfa52a34589a594d6a8a7e85d451073a0e(){let t=this.hbfhpqb4e7a5111a9b438da62a9e723a531ab4();return[new st([this.points[0],this.points[1],t]),new st([this.points[1],this.points[2],t]),new st([this.points[2],this.points[0],t])]}petut632083f09a164f94817ace8e672f7f33(){let t={};t.ryLdU=function(f,g){return f/g},t.RRlWc=function(f,g){return f+g},t.IMLOP=function(f,g){return f+g},t.khwky=function(f,g){return f+g},t.TGEEu=function(f,g){return f/g};let e=t,[r,n,s]=this.points,i=new rt((r.x+n.x)/2,e.ryLdU(e.RRlWc(r.y,n.y),2)),c=new rt(e.ryLdU(e.IMLOP(n.x,s.x),2),e.ryLdU(e.IMLOP(n.y,s.y),2)),u=new rt(e.ryLdU(e.khwky(s.x,r.x),2),e.TGEEu(e.IMLOP(s.y,r.y),2));return[new st([r,i,u]),new st([i,n,c]),new st([u,c,s]),new st([i,c,u])]}hybiiri923eb675f7474ff987ded85ce377ca18(){let t={};t.QJmIy=function(b,y){return b*y},t.ClmiZ=function(b,y){return b+y},t.ImQgg=function(b,y){return b*y},t.zHZsY=function(b,y){return b-y},t.ADZYm=function(b,y){return b-y};let e=t,[r,n,s]=this.points,i=r.x,c=n.x,u=s.x,f=r.y,g=n.y,_=s.y;return e.QJmIy(.5,Math.abs(e.ClmiZ(e.ClmiZ(e.ImQgg(i,e.zHZsY(g,_)),c*e.ADZYm(_,f)),e.ImQgg(u,e.ADZYm(f,g)))))}rbzxojcutk755e48a69e6d46c0a17e856b2bbe80b9(){let t={Avssl:function(r,n,s,i){return r(n,s,i)}},e=this.hybiiri923eb675f7474ff987ded85ce377ca18();return t.Avssl(Pe.default,e,0,1e-7)}gxutaprbne661001f33474a71879649c83be5f8d9(){let t={yMjMh:function(i,c,u,f){return i(c,u,f)},SGXZO:function(i,c,u,f){return i(c,u,f)}},[e,r,n]=this.points;return[Ht(r,e,n),t.yMjMh(Ht,e,r,n),t.SGXZO(Ht,e,n,r)]}xknrakuwaad3ab6ba24a4eb791d7b2623e5c237b(t=20*Math.PI/180){return!!this.gxutaprbne661001f33474a71879649c83be5f8d9().some(r=>r<t)}};var mr=class Ne{constructor(t,e,r,n){this.points=t,this.tag=e,this.sectionTag=r,this.materialTag=n,this.d3Polygon=t.map(s=>[s.x,s.y])}static FromDto(t){return new Ne(t.points.map(e=>rt.kwrxwxogf45a46534ffd44a3fbeab0a5297221897(e)),t.tag,t.sectionTag,t.materialTag)}chxgpnpxc717ac27ec5b45459f8669d2cf057c64(t){let e={sZpHL:function(n,s){return n-s},ijafs:function(n,s){return n<s},itPWK:function(n,s,i,c){return n(s,i,c)},qWPwn:function(n,s,i){return n(s,i)}};for(let n=0,s=e.sZpHL(this.points.length,1);e.ijafs(n,this.points.length);s=n++)if(e.itPWK(pr,t,this.points[n],this.points[s]))return!0;return e.qWPwn(Jt,this.d3Polygon,[t.x,t.y])}zhcpydm9a279f0f86b8482c9e8c9190ff9cb37d(t,e){let r={};r.GaXgy=function(i,c){return i<c},r.pMYJO=function(i,c){return i-c},r.oiqrW=function(i,c){return i*c},r.lmTcv=function(i,c){return i*c},r.iqZfE=function(i,c){return i/c},r.JrnPZ=function(i,c){return i*c},r.uPGGJ=function(i,c){return i+c},r.LRRin=function(i,c){return i*c},r.Rbjso=function(i,c){return i*c};let n=r,s=[];for(let i=0;n.GaXgy(i,t.length);i++){let c=t[i],u=t[(i+1)%t.length],f=n.pMYJO(u.x,c.x),g=u.y-c.y,_=Math.sqrt(n.oiqrW(f,f)+n.lmTcv(g,g)),l=Math.floor(_/e);s.push(new rt(c.x,c.y));for(let b=1;n.GaXgy(b,l);b++){let y=n.iqZfE(n.JrnPZ(b,e),_),T=n.uPGGJ(c.x,n.LRRin(y,f)),L=c.y+n.Rbjso(y,g);s.push(new rt(T,L))}}return s}};function pr(h,t,e){let r={};r.ZblaM=function(u,f){return u-f},r.AjwOU=function(u,f){return u*f},r.tNaDJ=function(u,f){return u-f},r.OueuV=function(u,f){return u+f},r.ZHmzo=function(u,f){return u-f},r.yKCYQ=function(u,f){return u*f},r.Prlyn=function(u,f){return u<f},r.iAEOu=function(u,f){return u**f},r.XDFSw=function(u,f){return u-f},r.xnUZK=function(u,f){return u>f};let n=r,s=n.ZblaM(n.AjwOU(n.tNaDJ(h.y,t.y),n.ZblaM(e.x,t.x)),n.AjwOU(h.x-t.x,n.ZblaM(e.y,t.y)));if(!(0,Le.default)(Math.abs(s),0))return!1;let i=n.OueuV(n.ZHmzo(h.x,t.x)*n.ZblaM(e.x,t.x),n.yKCYQ(h.y-t.y,n.ZHmzo(e.y,t.y)));if(n.Prlyn(i,0))return!1;let c=n.iAEOu(n.XDFSw(e.x,t.x),2)+n.iAEOu(n.ZHmzo(e.y,t.y),2);return!n.xnUZK(i,c)}var br=class Ce{constructor(t,e,r){this.center=t,this.radius=e,this.maxTriangleArea=r}static FromDto(t){return new Ce(rt.kwrxwxogf45a46534ffd44a3fbeab0a5297221897(t.center),t.radius,t.maxTriangleArea)}xjxflkyec3e95d77e4fb9453c90ffb6ede2db01a8(t){let e={};e.NXEDR=function(u,f){return u>f};let r=e,n=t.hbfhpqb4e7a5111a9b438da62a9e723a531ab4();if(!this.contains(n))return!1;let i=t.hybiiri923eb675f7474ff987ded85ce377ca18();return r.NXEDR(i,this.maxTriangleArea)}contains(t){let e={};e.wILNU=function(i,c){return i-c},e.QrynU=function(i,c){return i-c},e.wuIKU=function(i,c){return i<=c},e.wJvZg=function(i,c){return i*c},e.Pmjlb=function(i,c){return i*c};let r=e,n=r.wILNU(t.x,this.center.x),s=r.QrynU(t.y,this.center.y);return r.wuIKU(n*n+r.wJvZg(s,s),r.Pmjlb(this.radius,this.radius))}};function Oe(h){let t={ngWfe:function(f,g,_){return f(g,_)},lRvsn:function(f,g){return f(g)}},e=h.polygons.map(f=>mr.FromDto(f)),r=h.baseTriangles.map(f=>De.FromDto(f)),n=h.meshingConfiguration.refinementPoints.map(f=>br.FromDto(f)),s=t.ngWfe(gr,n,r),i=[...s.flatMap(f=>f.points),...h.extraPoints.map(f=>rt.kwrxwxogf45a46534ffd44a3fbeab0a5297221897(f))],c=t.ngWfe(vr,t.lRvsn(_r,i),e),u=[];for(let f of c){let g=f.hbfhpqb4e7a5111a9b438da62a9e723a531ab4(),_=e.find(l=>l.chxgpnpxc717ac27ec5b45459f8669d2cf057c64(g));_&&(f.nqkbscfryg17db80b688db4ce797b5007bd35d1eae(_.tag,_.sectionTag,_.materialTag),u.push(f))}return{triangles:u.map(f=>f.iiigmo4b216ac134c646dfabed668e1bc57138())}}function gr(h,t){let e={};e.ncGtL=function(u,f){return u>f},e.isZFi=function(u,f){return u<f};let r=e,n=0,s=r.ncGtL(h.length,0);if(!s)return t;let i=t,c=[];for(;s&&r.isZFi(n,100);){c=[],s=!1;for(let u of i){let f=h.some(g=>g.xjxflkyec3e95d77e4fb9453c90ffb6ede2db01a8(u));f?c.push(...u.petut632083f09a164f94817ace8e672f7f33()):c.push(u),s=s||f}i=c,n++}return c}function _r(h){let t=h.map(n=>n.rwclehyaa3a216a64e48b4f8dabd11084edcb21f3());return[...vt.from(t).trianglePolygons()].map(n=>[new rt(n[2][0],n[2][1]),new rt(n[1][0],n[1][1]),new rt(n[0][0],n[0][1])]).map(n=>new De(n)).filter(n=>!n.rbzxojcutk755e48a69e6d46c0a17e856b2bbe80b9())}function vr(h,t){let e=[];for(let r of h)r.dtxufos50798f5633f44b8c946b6e519d701fd0().every(s=>t.some(i=>i.chxgpnpxc717ac27ec5b45459f8669d2cf057c64(s)))&&e.push(r);return e}var ne=Tt(Fe());var Ve=(h,t,e="")=>`View3dModel-${h}-${t}${e}`,je=h=>`Triangles-${h}`;function ke(h){if(h.length<3)throw new Error("At least three vertices are required to form a face.");return{vertices:[...h.filter(t=>t)],results:[]}}var Pt=Tt(Ye());var At=h=>{let t=(h.points??"").trim().split(/\s+/).map(r=>r.split(",")),e=[];for(let[r,n]of t){let s=parseFloat(r),i=parseFloat(n);if(Number.isFinite(s)&&Number.isFinite(i))e.push({x:s,y:i});else throw new Error("Invalid vertex coordinates")}return{vertices:e}};function Ge(h){let t=0,e=0,r=0,n=h.length;for(let s=0;s<n;s++){let{x:i,y:c}=h[s],{x:u,y:f}=h[(s+1)%n],g=i*f-u*c;t+=g,e+=(i+u)*g,r+=(c+f)*g}return t*=.5,t===0?{x:0,y:0}:(e/=6*t,r/=6*t,{x:e,y:r})}function*Ze(h,t){let e=[...new Set(t.rectangles.map(l=>l.name).concat(t.polygons.map(l=>l.name)))],r=[];for(let l of h){let b=l.points.map(L=>Ir(L)),y=ke(b);if(e.indexOf(l.name)===-1)throw new Error(`Geometry name ${l.name} not found in geometry rectangles or polygons.`);r.push(y)}let n=t.supports.map(l=>Mr(l)),s=h.flatMap(l=>l.points).map(l=>l.x).reduce((l,b)=>Math.max(l,b),-1/0),i=h.flatMap(l=>l.points).map(l=>l.x).reduce((l,b)=>Math.min(l,b),1/0),c=h.flatMap(l=>l.points).map(l=>l.y).reduce((l,b)=>Math.max(l,b),-1/0),u=h.flatMap(l=>l.points).map(l=>l.y).reduce((l,b)=>Math.min(l,b),1/0),f=s-i,g=c-u,_=[...t.polygons.map(l=>At(l)),...t.rectangles.map(l=>It(l))].map(l=>l.vertices.map(b=>({x:b.x,y:b.y}))).map(l=>({points:l}));for(let l of t.loadCases)yield{faces:r,wireframeFaces:[],supports:n,borders:_,loads:Tr(l,t),loadCaseTag:l.name,width:f,height:g,hasResults:!1}}function Tr(h,t){let e=[];for(let r of h.pointLoads)(0,Pt.default)(r.fx,0)||e.push({x:r.x,y:r.y,z:0,valueX:r.fx,valueY:0,valueZ:0}),(0,Pt.default)(r.fy,0)||e.push({x:r.x,y:r.y,z:0,valueY:r.fy,valueZ:0,valueX:0,type:"point"});for(let r of h.distributedLoads){let n=t.polygons.filter(c=>c.name===r.geometryName).map(c=>At(c)),s=t.rectangles.filter(c=>c.name===r.geometryName).map(c=>It(c)),i=[...n,...s];for(let c of i){let u=Ge(c.vertices);(0,Pt.default)(r.fx,0)||e.push({x:u.x,y:u.y,z:0,valueX:r.fx,valueY:0,valueZ:0,type:"distributed"}),(0,Pt.default)(r.fy,0)||e.push({x:u.x,y:u.y,z:0,valueX:0,valueY:r.fy,valueZ:0,type:"distributed"})}}return e}function Ir(h){return{x:h.x,y:h.y,z:0,ux:0,uy:0,uz:0,value:0}}function Mr(h){return{x:h.x,y:h.y,z:0,ux:h.fixedX,uy:h.fixedY,uz:!1}}addEventListener("message",({data:h})=>{Sr(h)});var Sr=async h=>{let{geometry:t,uuid:e,baseTriangles:r}=h,n=t.loadCases.flatMap(y=>y.pointLoads).map(y=>({x:y.x,y:y.y})),s=t.supports.map(y=>({x:y.x,y:y.y})),i=t.resultPoints.map(y=>({x:y.x,y:y.y})),c=t.rectangles.map(y=>Pr(y)),u=t.polygons.map(y=>Dr(y)),f=c.concat(u),g={maxTriangleArea:t.meshingConfiguration.maxTriangleArea,refinementPoints:t.meshingConfiguration.refinementPoints.map(y=>Rr(y))},l=Oe({polygons:f,extraPoints:n.concat(s).concat(i),meshingConfiguration:g,baseTriangles:r.map(y=>Lr(y))}).triangles.map(y=>Ar(y));await ne.setItem(je(e),l);for(let y of Ze(l,t))await ne.setItem(Ve(e,y.loadCaseTag),y);postMessage({uuid:e})},Rr=h=>({radius:h.radius,maxTriangleArea:h.maxArea,center:{x:h.x,y:h.y}}),Er=h=>({x:h.x,y:h.y}),Ar=h=>({points:h.points.map(e=>Er(e)),name:h.tag,sectionTag:h.sectionTag,materialTag:h.materialTag}),Pr=h=>({points:It(h).vertices.map(e=>({x:e.x,y:e.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),Dr=h=>({points:At(h).vertices.map(e=>({x:e.x,y:e.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),Lr=h=>({points:h.points.map(e=>({x:e.x,y:e.y}))});
