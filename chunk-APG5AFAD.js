import{A as Zp,B as Nr,a as mi,b as Ri,c as ki,d as Vp,e as Bt,f as nc,g as dn,h as Gp,i as Wp,j as Up,k as $p,l as Kp,m as Yp,n as ic,o as qp,p as jp,q as Hp,s as ib,t as zp,u as rb,v as Xp,w as Ps,x as Ls,z as Jp}from"./chunk-W2ZHTGW6.js";import{$ as Rs,Aa as Fs,Ba as Bs,Ca as Vs,Da as Gs,Ea as ft,Fa as pt,Ga as mt,Ha as dt,Ia as ht,Ja as gt,La as _t,Ma as Ws,Na as yt,Oa as cm,Pa as wt,Qa as um,Ra as bt,Sa as fm,Ta as Ct,U as Qp,Ua as pm,V as em,Va as vt,W as tm,Wa as St,X as nm,Xa as Us,Y as im,Ya as xt,Z as Je,_ as Ze,aa as In,ba as Nn,ca as Qe,d as kp,da as rm,e as Dp,ea as et,fa as Or,g as Fp,ga as tt,ha as ks,ia as nt,ja as om,ka as it,la as di,m as Bp,ma as rt,na as Ds,oa as ot,ra as st,sa as Pr,ta as at,ua as sm,va as lt,wa as am,xa as lm,ya as ct,za as ut}from"./chunk-XNXQN724.js";import{$a as Tp,Ab as q,B as vp,Ba as fi,Bc as rn,Db as Ip,F as Sp,Fb as Li,Gb as Nt,Hb as Ot,I as Is,Ia as Mp,Ib as Pt,Jb as b,Kb as w,Lb as oe,Pb as Ue,Tb as G,Ub as W,a as Pi,ab as R,ac as Np,b as yp,bc as Op,ca as xp,da as nn,dc as B,e as nb,ea as Fe,ec as Be,f as tc,fc as Ns,g as Se,h as N,hc as X,ib as Ep,ic as J,jc as Z,lc as Os,mc as Pp,n as wp,nb as Xe,oa as Ae,pb as Ap,rb as pi,t as bp,tb as mn,u as Cp,uc as Lp,vc as Rp,wc as Ir,xa as k,ya as D,z as po}from"./chunk-MP4TZIKU.js";var dm=nb((Lr,mo)=>{"use strict";(function(){var r,i="4.17.21",n=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",_=1,T=2,x=4,S=1,I=2,V=1,M=2,L=4,$=8,K=16,j=32,te=64,ee=128,se=256,be=512,H=30,Re="...",xn=800,Qn=16,Oe=1,ko=2,pd=3,vi=1/0,ei=9007199254740991,md=17976931348623157e292,Do=NaN,Mn=4294967295,dd=Mn-1,hd=Mn>>>1,gd=[["ary",ee],["bind",V],["bindKey",M],["curry",$],["curryRight",K],["flip",be],["partial",j],["partialRight",te],["rearg",se]],dr="[object Arguments]",Fo="[object Array]",_d="[object AsyncFunction]",Kr="[object Boolean]",Yr="[object Date]",yd="[object DOMException]",Bo="[object Error]",Vo="[object Function]",Gc="[object GeneratorFunction]",an="[object Map]",qr="[object Number]",wd="[object Null]",Fn="[object Object]",Wc="[object Promise]",bd="[object Proxy]",jr="[object RegExp]",ln="[object Set]",Hr="[object String]",Go="[object Symbol]",Cd="[object Undefined]",zr="[object WeakMap]",vd="[object WeakSet]",Xr="[object ArrayBuffer]",hr="[object DataView]",Ra="[object Float32Array]",ka="[object Float64Array]",Da="[object Int8Array]",Fa="[object Int16Array]",Ba="[object Int32Array]",Va="[object Uint8Array]",Ga="[object Uint8ClampedArray]",Wa="[object Uint16Array]",Ua="[object Uint32Array]",Sd=/\b__p \+= '';/g,xd=/\b(__p \+=) '' \+/g,Md=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Uc=/&(?:amp|lt|gt|quot|#39);/g,$c=/[&<>"']/g,Td=RegExp(Uc.source),Ed=RegExp($c.source),Ad=/<%-([\s\S]+?)%>/g,Id=/<%([\s\S]+?)%>/g,Kc=/<%=([\s\S]+?)%>/g,Nd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Od=/^\w*$/,Pd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$a=/[\\^$.*+?()[\]{}|]/g,Ld=RegExp($a.source),Ka=/^\s+/,Rd=/\s/,kd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dd=/\{\n\/\* \[wrapped with (.+)\] \*/,Fd=/,? & /,Bd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vd=/[()=,{}\[\]\/\s]/,Gd=/\\(\\)?/g,Wd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Yc=/\w*$/,Ud=/^[-+]0x[0-9a-f]+$/i,$d=/^0b[01]+$/i,Kd=/^\[object .+?Constructor\]$/,Yd=/^0o[0-7]+$/i,qd=/^(?:0|[1-9]\d*)$/,jd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wo=/($^)/,Hd=/['\n\r\u2028\u2029\\]/g,Uo="\\ud800-\\udfff",zd="\\u0300-\\u036f",Xd="\\ufe20-\\ufe2f",Jd="\\u20d0-\\u20ff",qc=zd+Xd+Jd,jc="\\u2700-\\u27bf",Hc="a-z\\xdf-\\xf6\\xf8-\\xff",Zd="\\xac\\xb1\\xd7\\xf7",Qd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",eh="\\u2000-\\u206f",th=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zc="A-Z\\xc0-\\xd6\\xd8-\\xde",Xc="\\ufe0e\\ufe0f",Jc=Zd+Qd+eh+th,Ya="['\u2019]",nh="["+Uo+"]",Zc="["+Jc+"]",$o="["+qc+"]",Qc="\\d+",ih="["+jc+"]",eu="["+Hc+"]",tu="[^"+Uo+Jc+Qc+jc+Hc+zc+"]",qa="\\ud83c[\\udffb-\\udfff]",rh="(?:"+$o+"|"+qa+")",nu="[^"+Uo+"]",ja="(?:\\ud83c[\\udde6-\\uddff]){2}",Ha="[\\ud800-\\udbff][\\udc00-\\udfff]",gr="["+zc+"]",iu="\\u200d",ru="(?:"+eu+"|"+tu+")",oh="(?:"+gr+"|"+tu+")",ou="(?:"+Ya+"(?:d|ll|m|re|s|t|ve))?",su="(?:"+Ya+"(?:D|LL|M|RE|S|T|VE))?",au=rh+"?",lu="["+Xc+"]?",sh="(?:"+iu+"(?:"+[nu,ja,Ha].join("|")+")"+lu+au+")*",ah="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cu=lu+au+sh,ch="(?:"+[ih,ja,Ha].join("|")+")"+cu,uh="(?:"+[nu+$o+"?",$o,ja,Ha,nh].join("|")+")",fh=RegExp(Ya,"g"),ph=RegExp($o,"g"),za=RegExp(qa+"(?="+qa+")|"+uh+cu,"g"),mh=RegExp([gr+"?"+eu+"+"+ou+"(?="+[Zc,gr,"$"].join("|")+")",oh+"+"+su+"(?="+[Zc,gr+ru,"$"].join("|")+")",gr+"?"+ru+"+"+ou,gr+"+"+su,lh,ah,Qc,ch].join("|"),"g"),dh=RegExp("["+iu+Uo+qc+Xc+"]"),hh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_h=-1,Ee={};Ee[Ra]=Ee[ka]=Ee[Da]=Ee[Fa]=Ee[Ba]=Ee[Va]=Ee[Ga]=Ee[Wa]=Ee[Ua]=!0,Ee[dr]=Ee[Fo]=Ee[Xr]=Ee[Kr]=Ee[hr]=Ee[Yr]=Ee[Bo]=Ee[Vo]=Ee[an]=Ee[qr]=Ee[Fn]=Ee[jr]=Ee[ln]=Ee[Hr]=Ee[zr]=!1;var Te={};Te[dr]=Te[Fo]=Te[Xr]=Te[hr]=Te[Kr]=Te[Yr]=Te[Ra]=Te[ka]=Te[Da]=Te[Fa]=Te[Ba]=Te[an]=Te[qr]=Te[Fn]=Te[jr]=Te[ln]=Te[Hr]=Te[Go]=Te[Va]=Te[Ga]=Te[Wa]=Te[Ua]=!0,Te[Bo]=Te[Vo]=Te[zr]=!1;var yh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},wh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ch={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vh=parseFloat,Sh=parseInt,uu=typeof global=="object"&&global&&global.Object===Object&&global,xh=typeof self=="object"&&self&&self.Object===Object&&self,Ye=uu||xh||Function("return this")(),Xa=typeof Lr=="object"&&Lr&&!Lr.nodeType&&Lr,Si=Xa&&typeof mo=="object"&&mo&&!mo.nodeType&&mo,fu=Si&&Si.exports===Xa,Ja=fu&&uu.process,Ht=function(){try{var C=Si&&Si.require&&Si.require("util").types;return C||Ja&&Ja.binding&&Ja.binding("util")}catch{}}(),pu=Ht&&Ht.isArrayBuffer,mu=Ht&&Ht.isDate,du=Ht&&Ht.isMap,hu=Ht&&Ht.isRegExp,gu=Ht&&Ht.isSet,_u=Ht&&Ht.isTypedArray;function Wt(C,A,E){switch(E.length){case 0:return C.call(A);case 1:return C.call(A,E[0]);case 2:return C.call(A,E[0],E[1]);case 3:return C.call(A,E[0],E[1],E[2])}return C.apply(A,E)}function Mh(C,A,E,Y){for(var ae=-1,ye=C==null?0:C.length;++ae<ye;){var Ge=C[ae];A(Y,Ge,E(Ge),C)}return Y}function zt(C,A){for(var E=-1,Y=C==null?0:C.length;++E<Y&&A(C[E],E,C)!==!1;);return C}function Th(C,A){for(var E=C==null?0:C.length;E--&&A(C[E],E,C)!==!1;);return C}function yu(C,A){for(var E=-1,Y=C==null?0:C.length;++E<Y;)if(!A(C[E],E,C))return!1;return!0}function ti(C,A){for(var E=-1,Y=C==null?0:C.length,ae=0,ye=[];++E<Y;){var Ge=C[E];A(Ge,E,C)&&(ye[ae++]=Ge)}return ye}function Ko(C,A){var E=C==null?0:C.length;return!!E&&_r(C,A,0)>-1}function Za(C,A,E){for(var Y=-1,ae=C==null?0:C.length;++Y<ae;)if(E(A,C[Y]))return!0;return!1}function Ie(C,A){for(var E=-1,Y=C==null?0:C.length,ae=Array(Y);++E<Y;)ae[E]=A(C[E],E,C);return ae}function ni(C,A){for(var E=-1,Y=A.length,ae=C.length;++E<Y;)C[ae+E]=A[E];return C}function Qa(C,A,E,Y){var ae=-1,ye=C==null?0:C.length;for(Y&&ye&&(E=C[++ae]);++ae<ye;)E=A(E,C[ae],ae,C);return E}function Eh(C,A,E,Y){var ae=C==null?0:C.length;for(Y&&ae&&(E=C[--ae]);ae--;)E=A(E,C[ae],ae,C);return E}function el(C,A){for(var E=-1,Y=C==null?0:C.length;++E<Y;)if(A(C[E],E,C))return!0;return!1}var Ah=tl("length");function Ih(C){return C.split("")}function Nh(C){return C.match(Bd)||[]}function wu(C,A,E){var Y;return E(C,function(ae,ye,Ge){if(A(ae,ye,Ge))return Y=ye,!1}),Y}function Yo(C,A,E,Y){for(var ae=C.length,ye=E+(Y?1:-1);Y?ye--:++ye<ae;)if(A(C[ye],ye,C))return ye;return-1}function _r(C,A,E){return A===A?Uh(C,A,E):Yo(C,bu,E)}function Oh(C,A,E,Y){for(var ae=E-1,ye=C.length;++ae<ye;)if(Y(C[ae],A))return ae;return-1}function bu(C){return C!==C}function Cu(C,A){var E=C==null?0:C.length;return E?il(C,A)/E:Do}function tl(C){return function(A){return A==null?r:A[C]}}function nl(C){return function(A){return C==null?r:C[A]}}function vu(C,A,E,Y,ae){return ae(C,function(ye,Ge,Me){E=Y?(Y=!1,ye):A(E,ye,Ge,Me)}),E}function Ph(C,A){var E=C.length;for(C.sort(A);E--;)C[E]=C[E].value;return C}function il(C,A){for(var E,Y=-1,ae=C.length;++Y<ae;){var ye=A(C[Y]);ye!==r&&(E=E===r?ye:E+ye)}return E}function rl(C,A){for(var E=-1,Y=Array(C);++E<C;)Y[E]=A(E);return Y}function Lh(C,A){return Ie(A,function(E){return[E,C[E]]})}function Su(C){return C&&C.slice(0,Eu(C)+1).replace(Ka,"")}function Ut(C){return function(A){return C(A)}}function ol(C,A){return Ie(A,function(E){return C[E]})}function Jr(C,A){return C.has(A)}function xu(C,A){for(var E=-1,Y=C.length;++E<Y&&_r(A,C[E],0)>-1;);return E}function Mu(C,A){for(var E=C.length;E--&&_r(A,C[E],0)>-1;);return E}function Rh(C,A){for(var E=C.length,Y=0;E--;)C[E]===A&&++Y;return Y}var kh=nl(yh),Dh=nl(wh);function Fh(C){return"\\"+Ch[C]}function Bh(C,A){return C==null?r:C[A]}function yr(C){return dh.test(C)}function Vh(C){return hh.test(C)}function Gh(C){for(var A,E=[];!(A=C.next()).done;)E.push(A.value);return E}function sl(C){var A=-1,E=Array(C.size);return C.forEach(function(Y,ae){E[++A]=[ae,Y]}),E}function Tu(C,A){return function(E){return C(A(E))}}function ii(C,A){for(var E=-1,Y=C.length,ae=0,ye=[];++E<Y;){var Ge=C[E];(Ge===A||Ge===h)&&(C[E]=h,ye[ae++]=E)}return ye}function qo(C){var A=-1,E=Array(C.size);return C.forEach(function(Y){E[++A]=Y}),E}function Wh(C){var A=-1,E=Array(C.size);return C.forEach(function(Y){E[++A]=[Y,Y]}),E}function Uh(C,A,E){for(var Y=E-1,ae=C.length;++Y<ae;)if(C[Y]===A)return Y;return-1}function $h(C,A,E){for(var Y=E+1;Y--;)if(C[Y]===A)return Y;return Y}function wr(C){return yr(C)?Yh(C):Ah(C)}function cn(C){return yr(C)?qh(C):Ih(C)}function Eu(C){for(var A=C.length;A--&&Rd.test(C.charAt(A)););return A}var Kh=nl(bh);function Yh(C){for(var A=za.lastIndex=0;za.test(C);)++A;return A}function qh(C){return C.match(za)||[]}function jh(C){return C.match(mh)||[]}var Hh=function C(A){A=A==null?Ye:ri.defaults(Ye.Object(),A,ri.pick(Ye,gh));var E=A.Array,Y=A.Date,ae=A.Error,ye=A.Function,Ge=A.Math,Me=A.Object,al=A.RegExp,zh=A.String,Xt=A.TypeError,jo=E.prototype,Xh=ye.prototype,br=Me.prototype,Ho=A["__core-js_shared__"],zo=Xh.toString,ve=br.hasOwnProperty,Jh=0,Au=function(){var e=/[^.]+$/.exec(Ho&&Ho.keys&&Ho.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Xo=br.toString,Zh=zo.call(Me),Qh=Ye._,eg=al("^"+zo.call(ve).replace($a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jo=fu?A.Buffer:r,oi=A.Symbol,Zo=A.Uint8Array,Iu=Jo?Jo.allocUnsafe:r,Qo=Tu(Me.getPrototypeOf,Me),Nu=Me.create,Ou=br.propertyIsEnumerable,es=jo.splice,Pu=oi?oi.isConcatSpreadable:r,Zr=oi?oi.iterator:r,xi=oi?oi.toStringTag:r,ts=function(){try{var e=Ii(Me,"defineProperty");return e({},"",{}),e}catch{}}(),tg=A.clearTimeout!==Ye.clearTimeout&&A.clearTimeout,ng=Y&&Y.now!==Ye.Date.now&&Y.now,ig=A.setTimeout!==Ye.setTimeout&&A.setTimeout,ns=Ge.ceil,is=Ge.floor,ll=Me.getOwnPropertySymbols,rg=Jo?Jo.isBuffer:r,Lu=A.isFinite,og=jo.join,sg=Tu(Me.keys,Me),We=Ge.max,He=Ge.min,ag=Y.now,lg=A.parseInt,Ru=Ge.random,cg=jo.reverse,cl=Ii(A,"DataView"),Qr=Ii(A,"Map"),ul=Ii(A,"Promise"),Cr=Ii(A,"Set"),eo=Ii(A,"WeakMap"),to=Ii(Me,"create"),rs=eo&&new eo,vr={},ug=Ni(cl),fg=Ni(Qr),pg=Ni(ul),mg=Ni(Cr),dg=Ni(eo),os=oi?oi.prototype:r,no=os?os.valueOf:r,ku=os?os.toString:r;function p(e){if(Pe(e)&&!le(e)&&!(e instanceof de)){if(e instanceof Jt)return e;if(ve.call(e,"__wrapped__"))return Ff(e)}return new Jt(e)}var Sr=function(){function e(){}return function(t){if(!Ne(t))return{};if(Nu)return Nu(t);e.prototype=t;var a=new e;return e.prototype=r,a}}();function ss(){}function Jt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}p.templateSettings={escape:Ad,evaluate:Id,interpolate:Kc,variable:"",imports:{_:p}},p.prototype=ss.prototype,p.prototype.constructor=p,Jt.prototype=Sr(ss.prototype),Jt.prototype.constructor=Jt;function de(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Mn,this.__views__=[]}function hg(){var e=new de(this.__wrapped__);return e.__actions__=Rt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Rt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Rt(this.__views__),e}function gg(){if(this.__filtered__){var e=new de(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function _g(){var e=this.__wrapped__.value(),t=this.__dir__,a=le(e),c=t<0,f=a?e.length:0,m=I0(0,f,this.__views__),g=m.start,y=m.end,v=y-g,O=c?y:g-1,P=this.__iteratees__,F=P.length,U=0,z=He(v,this.__takeCount__);if(!a||!c&&f==v&&z==v)return sf(e,this.__actions__);var ie=[];e:for(;v--&&U<z;){O+=t;for(var fe=-1,re=e[O];++fe<F;){var me=P[fe],ge=me.iteratee,Yt=me.type,It=ge(re);if(Yt==ko)re=It;else if(!It){if(Yt==Oe)continue e;break e}}ie[U++]=re}return ie}de.prototype=Sr(ss.prototype),de.prototype.constructor=de;function Mi(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function yg(){this.__data__=to?to(null):{},this.size=0}function wg(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function bg(e){var t=this.__data__;if(to){var a=t[e];return a===u?r:a}return ve.call(t,e)?t[e]:r}function Cg(e){var t=this.__data__;return to?t[e]!==r:ve.call(t,e)}function vg(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=to&&t===r?u:t,this}Mi.prototype.clear=yg,Mi.prototype.delete=wg,Mi.prototype.get=bg,Mi.prototype.has=Cg,Mi.prototype.set=vg;function Bn(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function Sg(){this.__data__=[],this.size=0}function xg(e){var t=this.__data__,a=as(t,e);if(a<0)return!1;var c=t.length-1;return a==c?t.pop():es.call(t,a,1),--this.size,!0}function Mg(e){var t=this.__data__,a=as(t,e);return a<0?r:t[a][1]}function Tg(e){return as(this.__data__,e)>-1}function Eg(e,t){var a=this.__data__,c=as(a,e);return c<0?(++this.size,a.push([e,t])):a[c][1]=t,this}Bn.prototype.clear=Sg,Bn.prototype.delete=xg,Bn.prototype.get=Mg,Bn.prototype.has=Tg,Bn.prototype.set=Eg;function Vn(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function Ag(){this.size=0,this.__data__={hash:new Mi,map:new(Qr||Bn),string:new Mi}}function Ig(e){var t=ws(this,e).delete(e);return this.size-=t?1:0,t}function Ng(e){return ws(this,e).get(e)}function Og(e){return ws(this,e).has(e)}function Pg(e,t){var a=ws(this,e),c=a.size;return a.set(e,t),this.size+=a.size==c?0:1,this}Vn.prototype.clear=Ag,Vn.prototype.delete=Ig,Vn.prototype.get=Ng,Vn.prototype.has=Og,Vn.prototype.set=Pg;function Ti(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new Vn;++t<a;)this.add(e[t])}function Lg(e){return this.__data__.set(e,u),this}function Rg(e){return this.__data__.has(e)}Ti.prototype.add=Ti.prototype.push=Lg,Ti.prototype.has=Rg;function un(e){var t=this.__data__=new Bn(e);this.size=t.size}function kg(){this.__data__=new Bn,this.size=0}function Dg(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function Fg(e){return this.__data__.get(e)}function Bg(e){return this.__data__.has(e)}function Vg(e,t){var a=this.__data__;if(a instanceof Bn){var c=a.__data__;if(!Qr||c.length<n-1)return c.push([e,t]),this.size=++a.size,this;a=this.__data__=new Vn(c)}return a.set(e,t),this.size=a.size,this}un.prototype.clear=kg,un.prototype.delete=Dg,un.prototype.get=Fg,un.prototype.has=Bg,un.prototype.set=Vg;function Du(e,t){var a=le(e),c=!a&&Oi(e),f=!a&&!c&&ui(e),m=!a&&!c&&!f&&Er(e),g=a||c||f||m,y=g?rl(e.length,zh):[],v=y.length;for(var O in e)(t||ve.call(e,O))&&!(g&&(O=="length"||f&&(O=="offset"||O=="parent")||m&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||$n(O,v)))&&y.push(O);return y}function Fu(e){var t=e.length;return t?e[Cl(0,t-1)]:r}function Gg(e,t){return bs(Rt(e),Ei(t,0,e.length))}function Wg(e){return bs(Rt(e))}function fl(e,t,a){(a!==r&&!fn(e[t],a)||a===r&&!(t in e))&&Gn(e,t,a)}function io(e,t,a){var c=e[t];(!(ve.call(e,t)&&fn(c,a))||a===r&&!(t in e))&&Gn(e,t,a)}function as(e,t){for(var a=e.length;a--;)if(fn(e[a][0],t))return a;return-1}function Ug(e,t,a,c){return si(e,function(f,m,g){t(c,f,a(f),g)}),c}function Bu(e,t){return e&&En(t,qe(t),e)}function $g(e,t){return e&&En(t,Dt(t),e)}function Gn(e,t,a){t=="__proto__"&&ts?ts(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function pl(e,t){for(var a=-1,c=t.length,f=E(c),m=e==null;++a<c;)f[a]=m?r:ql(e,t[a]);return f}function Ei(e,t,a){return e===e&&(a!==r&&(e=e<=a?e:a),t!==r&&(e=e>=t?e:t)),e}function Zt(e,t,a,c,f,m){var g,y=t&_,v=t&T,O=t&x;if(a&&(g=f?a(e,c,f,m):a(e)),g!==r)return g;if(!Ne(e))return e;var P=le(e);if(P){if(g=O0(e),!y)return Rt(e,g)}else{var F=ze(e),U=F==Vo||F==Gc;if(ui(e))return cf(e,y);if(F==Fn||F==dr||U&&!f){if(g=v||U?{}:Af(e),!y)return v?b0(e,$g(g,e)):w0(e,Bu(g,e))}else{if(!Te[F])return f?e:{};g=P0(e,F,y)}}m||(m=new un);var z=m.get(e);if(z)return z;m.set(e,g),ip(e)?e.forEach(function(re){g.add(Zt(re,t,a,re,e,m))}):tp(e)&&e.forEach(function(re,me){g.set(me,Zt(re,t,a,me,e,m))});var ie=O?v?Pl:Ol:v?Dt:qe,fe=P?r:ie(e);return zt(fe||e,function(re,me){fe&&(me=re,re=e[me]),io(g,me,Zt(re,t,a,me,e,m))}),g}function Kg(e){var t=qe(e);return function(a){return Vu(a,e,t)}}function Vu(e,t,a){var c=a.length;if(e==null)return!c;for(e=Me(e);c--;){var f=a[c],m=t[f],g=e[f];if(g===r&&!(f in e)||!m(g))return!1}return!0}function Gu(e,t,a){if(typeof e!="function")throw new Xt(s);return uo(function(){e.apply(r,a)},t)}function ro(e,t,a,c){var f=-1,m=Ko,g=!0,y=e.length,v=[],O=t.length;if(!y)return v;a&&(t=Ie(t,Ut(a))),c?(m=Za,g=!1):t.length>=n&&(m=Jr,g=!1,t=new Ti(t));e:for(;++f<y;){var P=e[f],F=a==null?P:a(P);if(P=c||P!==0?P:0,g&&F===F){for(var U=O;U--;)if(t[U]===F)continue e;v.push(P)}else m(t,F,c)||v.push(P)}return v}var si=df(Tn),Wu=df(dl,!0);function Yg(e,t){var a=!0;return si(e,function(c,f,m){return a=!!t(c,f,m),a}),a}function ls(e,t,a){for(var c=-1,f=e.length;++c<f;){var m=e[c],g=t(m);if(g!=null&&(y===r?g===g&&!Kt(g):a(g,y)))var y=g,v=m}return v}function qg(e,t,a,c){var f=e.length;for(a=ce(a),a<0&&(a=-a>f?0:f+a),c=c===r||c>f?f:ce(c),c<0&&(c+=f),c=a>c?0:op(c);a<c;)e[a++]=t;return e}function Uu(e,t){var a=[];return si(e,function(c,f,m){t(c,f,m)&&a.push(c)}),a}function je(e,t,a,c,f){var m=-1,g=e.length;for(a||(a=R0),f||(f=[]);++m<g;){var y=e[m];t>0&&a(y)?t>1?je(y,t-1,a,c,f):ni(f,y):c||(f[f.length]=y)}return f}var ml=hf(),$u=hf(!0);function Tn(e,t){return e&&ml(e,t,qe)}function dl(e,t){return e&&$u(e,t,qe)}function cs(e,t){return ti(t,function(a){return Kn(e[a])})}function Ai(e,t){t=li(t,e);for(var a=0,c=t.length;e!=null&&a<c;)e=e[An(t[a++])];return a&&a==c?e:r}function Ku(e,t,a){var c=t(e);return le(e)?c:ni(c,a(e))}function Et(e){return e==null?e===r?Cd:wd:xi&&xi in Me(e)?A0(e):W0(e)}function hl(e,t){return e>t}function jg(e,t){return e!=null&&ve.call(e,t)}function Hg(e,t){return e!=null&&t in Me(e)}function zg(e,t,a){return e>=He(t,a)&&e<We(t,a)}function gl(e,t,a){for(var c=a?Za:Ko,f=e[0].length,m=e.length,g=m,y=E(m),v=1/0,O=[];g--;){var P=e[g];g&&t&&(P=Ie(P,Ut(t))),v=He(P.length,v),y[g]=!a&&(t||f>=120&&P.length>=120)?new Ti(g&&P):r}P=e[0];var F=-1,U=y[0];e:for(;++F<f&&O.length<v;){var z=P[F],ie=t?t(z):z;if(z=a||z!==0?z:0,!(U?Jr(U,ie):c(O,ie,a))){for(g=m;--g;){var fe=y[g];if(!(fe?Jr(fe,ie):c(e[g],ie,a)))continue e}U&&U.push(ie),O.push(z)}}return O}function Xg(e,t,a,c){return Tn(e,function(f,m,g){t(c,a(f),m,g)}),c}function oo(e,t,a){t=li(t,e),e=Pf(e,t);var c=e==null?e:e[An(en(t))];return c==null?r:Wt(c,e,a)}function Yu(e){return Pe(e)&&Et(e)==dr}function Jg(e){return Pe(e)&&Et(e)==Xr}function Zg(e){return Pe(e)&&Et(e)==Yr}function so(e,t,a,c,f){return e===t?!0:e==null||t==null||!Pe(e)&&!Pe(t)?e!==e&&t!==t:Qg(e,t,a,c,so,f)}function Qg(e,t,a,c,f,m){var g=le(e),y=le(t),v=g?Fo:ze(e),O=y?Fo:ze(t);v=v==dr?Fn:v,O=O==dr?Fn:O;var P=v==Fn,F=O==Fn,U=v==O;if(U&&ui(e)){if(!ui(t))return!1;g=!0,P=!1}if(U&&!P)return m||(m=new un),g||Er(e)?Mf(e,t,a,c,f,m):T0(e,t,v,a,c,f,m);if(!(a&S)){var z=P&&ve.call(e,"__wrapped__"),ie=F&&ve.call(t,"__wrapped__");if(z||ie){var fe=z?e.value():e,re=ie?t.value():t;return m||(m=new un),f(fe,re,a,c,m)}}return U?(m||(m=new un),E0(e,t,a,c,f,m)):!1}function e0(e){return Pe(e)&&ze(e)==an}function _l(e,t,a,c){var f=a.length,m=f,g=!c;if(e==null)return!m;for(e=Me(e);f--;){var y=a[f];if(g&&y[2]?y[1]!==e[y[0]]:!(y[0]in e))return!1}for(;++f<m;){y=a[f];var v=y[0],O=e[v],P=y[1];if(g&&y[2]){if(O===r&&!(v in e))return!1}else{var F=new un;if(c)var U=c(O,P,v,e,t,F);if(!(U===r?so(P,O,S|I,c,F):U))return!1}}return!0}function qu(e){if(!Ne(e)||D0(e))return!1;var t=Kn(e)?eg:Kd;return t.test(Ni(e))}function t0(e){return Pe(e)&&Et(e)==jr}function n0(e){return Pe(e)&&ze(e)==ln}function i0(e){return Pe(e)&&Ts(e.length)&&!!Ee[Et(e)]}function ju(e){return typeof e=="function"?e:e==null?Ft:typeof e=="object"?le(e)?Xu(e[0],e[1]):zu(e):gp(e)}function yl(e){if(!co(e))return sg(e);var t=[];for(var a in Me(e))ve.call(e,a)&&a!="constructor"&&t.push(a);return t}function r0(e){if(!Ne(e))return G0(e);var t=co(e),a=[];for(var c in e)c=="constructor"&&(t||!ve.call(e,c))||a.push(c);return a}function wl(e,t){return e<t}function Hu(e,t){var a=-1,c=kt(e)?E(e.length):[];return si(e,function(f,m,g){c[++a]=t(f,m,g)}),c}function zu(e){var t=Rl(e);return t.length==1&&t[0][2]?Nf(t[0][0],t[0][1]):function(a){return a===e||_l(a,e,t)}}function Xu(e,t){return Dl(e)&&If(t)?Nf(An(e),t):function(a){var c=ql(a,e);return c===r&&c===t?jl(a,e):so(t,c,S|I)}}function us(e,t,a,c,f){e!==t&&ml(t,function(m,g){if(f||(f=new un),Ne(m))o0(e,t,g,a,us,c,f);else{var y=c?c(Bl(e,g),m,g+"",e,t,f):r;y===r&&(y=m),fl(e,g,y)}},Dt)}function o0(e,t,a,c,f,m,g){var y=Bl(e,a),v=Bl(t,a),O=g.get(v);if(O){fl(e,a,O);return}var P=m?m(y,v,a+"",e,t,g):r,F=P===r;if(F){var U=le(v),z=!U&&ui(v),ie=!U&&!z&&Er(v);P=v,U||z||ie?le(y)?P=y:ke(y)?P=Rt(y):z?(F=!1,P=cf(v,!0)):ie?(F=!1,P=uf(v,!0)):P=[]:fo(v)||Oi(v)?(P=y,Oi(y)?P=sp(y):(!Ne(y)||Kn(y))&&(P=Af(v))):F=!1}F&&(g.set(v,P),f(P,v,c,m,g),g.delete(v)),fl(e,a,P)}function Ju(e,t){var a=e.length;if(a)return t+=t<0?a:0,$n(t,a)?e[t]:r}function Zu(e,t,a){t.length?t=Ie(t,function(m){return le(m)?function(g){return Ai(g,m.length===1?m[0]:m)}:m}):t=[Ft];var c=-1;t=Ie(t,Ut(ne()));var f=Hu(e,function(m,g,y){var v=Ie(t,function(O){return O(m)});return{criteria:v,index:++c,value:m}});return Ph(f,function(m,g){return y0(m,g,a)})}function s0(e,t){return Qu(e,t,function(a,c){return jl(e,c)})}function Qu(e,t,a){for(var c=-1,f=t.length,m={};++c<f;){var g=t[c],y=Ai(e,g);a(y,g)&&ao(m,li(g,e),y)}return m}function a0(e){return function(t){return Ai(t,e)}}function bl(e,t,a,c){var f=c?Oh:_r,m=-1,g=t.length,y=e;for(e===t&&(t=Rt(t)),a&&(y=Ie(e,Ut(a)));++m<g;)for(var v=0,O=t[m],P=a?a(O):O;(v=f(y,P,v,c))>-1;)y!==e&&es.call(y,v,1),es.call(e,v,1);return e}function ef(e,t){for(var a=e?t.length:0,c=a-1;a--;){var f=t[a];if(a==c||f!==m){var m=f;$n(f)?es.call(e,f,1):xl(e,f)}}return e}function Cl(e,t){return e+is(Ru()*(t-e+1))}function l0(e,t,a,c){for(var f=-1,m=We(ns((t-e)/(a||1)),0),g=E(m);m--;)g[c?m:++f]=e,e+=a;return g}function vl(e,t){var a="";if(!e||t<1||t>ei)return a;do t%2&&(a+=e),t=is(t/2),t&&(e+=e);while(t);return a}function pe(e,t){return Vl(Of(e,t,Ft),e+"")}function c0(e){return Fu(Ar(e))}function u0(e,t){var a=Ar(e);return bs(a,Ei(t,0,a.length))}function ao(e,t,a,c){if(!Ne(e))return e;t=li(t,e);for(var f=-1,m=t.length,g=m-1,y=e;y!=null&&++f<m;){var v=An(t[f]),O=a;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;if(f!=g){var P=y[v];O=c?c(P,v,y):r,O===r&&(O=Ne(P)?P:$n(t[f+1])?[]:{})}io(y,v,O),y=y[v]}return e}var tf=rs?function(e,t){return rs.set(e,t),e}:Ft,f0=ts?function(e,t){return ts(e,"toString",{configurable:!0,enumerable:!1,value:zl(t),writable:!0})}:Ft;function p0(e){return bs(Ar(e))}function Qt(e,t,a){var c=-1,f=e.length;t<0&&(t=-t>f?0:f+t),a=a>f?f:a,a<0&&(a+=f),f=t>a?0:a-t>>>0,t>>>=0;for(var m=E(f);++c<f;)m[c]=e[c+t];return m}function m0(e,t){var a;return si(e,function(c,f,m){return a=t(c,f,m),!a}),!!a}function fs(e,t,a){var c=0,f=e==null?c:e.length;if(typeof t=="number"&&t===t&&f<=hd){for(;c<f;){var m=c+f>>>1,g=e[m];g!==null&&!Kt(g)&&(a?g<=t:g<t)?c=m+1:f=m}return f}return Sl(e,t,Ft,a)}function Sl(e,t,a,c){var f=0,m=e==null?0:e.length;if(m===0)return 0;t=a(t);for(var g=t!==t,y=t===null,v=Kt(t),O=t===r;f<m;){var P=is((f+m)/2),F=a(e[P]),U=F!==r,z=F===null,ie=F===F,fe=Kt(F);if(g)var re=c||ie;else O?re=ie&&(c||U):y?re=ie&&U&&(c||!z):v?re=ie&&U&&!z&&(c||!fe):z||fe?re=!1:re=c?F<=t:F<t;re?f=P+1:m=P}return He(m,dd)}function nf(e,t){for(var a=-1,c=e.length,f=0,m=[];++a<c;){var g=e[a],y=t?t(g):g;if(!a||!fn(y,v)){var v=y;m[f++]=g===0?0:g}}return m}function rf(e){return typeof e=="number"?e:Kt(e)?Do:+e}function $t(e){if(typeof e=="string")return e;if(le(e))return Ie(e,$t)+"";if(Kt(e))return ku?ku.call(e):"";var t=e+"";return t=="0"&&1/e==-vi?"-0":t}function ai(e,t,a){var c=-1,f=Ko,m=e.length,g=!0,y=[],v=y;if(a)g=!1,f=Za;else if(m>=n){var O=t?null:x0(e);if(O)return qo(O);g=!1,f=Jr,v=new Ti}else v=t?[]:y;e:for(;++c<m;){var P=e[c],F=t?t(P):P;if(P=a||P!==0?P:0,g&&F===F){for(var U=v.length;U--;)if(v[U]===F)continue e;t&&v.push(F),y.push(P)}else f(v,F,a)||(v!==y&&v.push(F),y.push(P))}return y}function xl(e,t){return t=li(t,e),e=Pf(e,t),e==null||delete e[An(en(t))]}function of(e,t,a,c){return ao(e,t,a(Ai(e,t)),c)}function ps(e,t,a,c){for(var f=e.length,m=c?f:-1;(c?m--:++m<f)&&t(e[m],m,e););return a?Qt(e,c?0:m,c?m+1:f):Qt(e,c?m+1:0,c?f:m)}function sf(e,t){var a=e;return a instanceof de&&(a=a.value()),Qa(t,function(c,f){return f.func.apply(f.thisArg,ni([c],f.args))},a)}function Ml(e,t,a){var c=e.length;if(c<2)return c?ai(e[0]):[];for(var f=-1,m=E(c);++f<c;)for(var g=e[f],y=-1;++y<c;)y!=f&&(m[f]=ro(m[f]||g,e[y],t,a));return ai(je(m,1),t,a)}function af(e,t,a){for(var c=-1,f=e.length,m=t.length,g={};++c<f;){var y=c<m?t[c]:r;a(g,e[c],y)}return g}function Tl(e){return ke(e)?e:[]}function El(e){return typeof e=="function"?e:Ft}function li(e,t){return le(e)?e:Dl(e,t)?[e]:Df(Ce(e))}var d0=pe;function ci(e,t,a){var c=e.length;return a=a===r?c:a,!t&&a>=c?e:Qt(e,t,a)}var lf=tg||function(e){return Ye.clearTimeout(e)};function cf(e,t){if(t)return e.slice();var a=e.length,c=Iu?Iu(a):new e.constructor(a);return e.copy(c),c}function Al(e){var t=new e.constructor(e.byteLength);return new Zo(t).set(new Zo(e)),t}function h0(e,t){var a=t?Al(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function g0(e){var t=new e.constructor(e.source,Yc.exec(e));return t.lastIndex=e.lastIndex,t}function _0(e){return no?Me(no.call(e)):{}}function uf(e,t){var a=t?Al(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function ff(e,t){if(e!==t){var a=e!==r,c=e===null,f=e===e,m=Kt(e),g=t!==r,y=t===null,v=t===t,O=Kt(t);if(!y&&!O&&!m&&e>t||m&&g&&v&&!y&&!O||c&&g&&v||!a&&v||!f)return 1;if(!c&&!m&&!O&&e<t||O&&a&&f&&!c&&!m||y&&a&&f||!g&&f||!v)return-1}return 0}function y0(e,t,a){for(var c=-1,f=e.criteria,m=t.criteria,g=f.length,y=a.length;++c<g;){var v=ff(f[c],m[c]);if(v){if(c>=y)return v;var O=a[c];return v*(O=="desc"?-1:1)}}return e.index-t.index}function pf(e,t,a,c){for(var f=-1,m=e.length,g=a.length,y=-1,v=t.length,O=We(m-g,0),P=E(v+O),F=!c;++y<v;)P[y]=t[y];for(;++f<g;)(F||f<m)&&(P[a[f]]=e[f]);for(;O--;)P[y++]=e[f++];return P}function mf(e,t,a,c){for(var f=-1,m=e.length,g=-1,y=a.length,v=-1,O=t.length,P=We(m-y,0),F=E(P+O),U=!c;++f<P;)F[f]=e[f];for(var z=f;++v<O;)F[z+v]=t[v];for(;++g<y;)(U||f<m)&&(F[z+a[g]]=e[f++]);return F}function Rt(e,t){var a=-1,c=e.length;for(t||(t=E(c));++a<c;)t[a]=e[a];return t}function En(e,t,a,c){var f=!a;a||(a={});for(var m=-1,g=t.length;++m<g;){var y=t[m],v=c?c(a[y],e[y],y,a,e):r;v===r&&(v=e[y]),f?Gn(a,y,v):io(a,y,v)}return a}function w0(e,t){return En(e,kl(e),t)}function b0(e,t){return En(e,Tf(e),t)}function ms(e,t){return function(a,c){var f=le(a)?Mh:Ug,m=t?t():{};return f(a,e,ne(c,2),m)}}function xr(e){return pe(function(t,a){var c=-1,f=a.length,m=f>1?a[f-1]:r,g=f>2?a[2]:r;for(m=e.length>3&&typeof m=="function"?(f--,m):r,g&&At(a[0],a[1],g)&&(m=f<3?r:m,f=1),t=Me(t);++c<f;){var y=a[c];y&&e(t,y,c,m)}return t})}function df(e,t){return function(a,c){if(a==null)return a;if(!kt(a))return e(a,c);for(var f=a.length,m=t?f:-1,g=Me(a);(t?m--:++m<f)&&c(g[m],m,g)!==!1;);return a}}function hf(e){return function(t,a,c){for(var f=-1,m=Me(t),g=c(t),y=g.length;y--;){var v=g[e?y:++f];if(a(m[v],v,m)===!1)break}return t}}function C0(e,t,a){var c=t&V,f=lo(e);function m(){var g=this&&this!==Ye&&this instanceof m?f:e;return g.apply(c?a:this,arguments)}return m}function gf(e){return function(t){t=Ce(t);var a=yr(t)?cn(t):r,c=a?a[0]:t.charAt(0),f=a?ci(a,1).join(""):t.slice(1);return c[e]()+f}}function Mr(e){return function(t){return Qa(dp(mp(t).replace(fh,"")),e,"")}}function lo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var a=Sr(e.prototype),c=e.apply(a,t);return Ne(c)?c:a}}function v0(e,t,a){var c=lo(e);function f(){for(var m=arguments.length,g=E(m),y=m,v=Tr(f);y--;)g[y]=arguments[y];var O=m<3&&g[0]!==v&&g[m-1]!==v?[]:ii(g,v);if(m-=O.length,m<a)return Cf(e,t,ds,f.placeholder,r,g,O,r,r,a-m);var P=this&&this!==Ye&&this instanceof f?c:e;return Wt(P,this,g)}return f}function _f(e){return function(t,a,c){var f=Me(t);if(!kt(t)){var m=ne(a,3);t=qe(t),a=function(y){return m(f[y],y,f)}}var g=e(t,a,c);return g>-1?f[m?t[g]:g]:r}}function yf(e){return Un(function(t){var a=t.length,c=a,f=Jt.prototype.thru;for(e&&t.reverse();c--;){var m=t[c];if(typeof m!="function")throw new Xt(s);if(f&&!g&&ys(m)=="wrapper")var g=new Jt([],!0)}for(c=g?c:a;++c<a;){m=t[c];var y=ys(m),v=y=="wrapper"?Ll(m):r;v&&Fl(v[0])&&v[1]==(ee|$|j|se)&&!v[4].length&&v[9]==1?g=g[ys(v[0])].apply(g,v[3]):g=m.length==1&&Fl(m)?g[y]():g.thru(m)}return function(){var O=arguments,P=O[0];if(g&&O.length==1&&le(P))return g.plant(P).value();for(var F=0,U=a?t[F].apply(this,O):P;++F<a;)U=t[F].call(this,U);return U}})}function ds(e,t,a,c,f,m,g,y,v,O){var P=t&ee,F=t&V,U=t&M,z=t&($|K),ie=t&be,fe=U?r:lo(e);function re(){for(var me=arguments.length,ge=E(me),Yt=me;Yt--;)ge[Yt]=arguments[Yt];if(z)var It=Tr(re),qt=Rh(ge,It);if(c&&(ge=pf(ge,c,f,z)),m&&(ge=mf(ge,m,g,z)),me-=qt,z&&me<O){var De=ii(ge,It);return Cf(e,t,ds,re.placeholder,a,ge,De,y,v,O-me)}var pn=F?a:this,qn=U?pn[e]:e;return me=ge.length,y?ge=U0(ge,y):ie&&me>1&&ge.reverse(),P&&v<me&&(ge.length=v),this&&this!==Ye&&this instanceof re&&(qn=fe||lo(qn)),qn.apply(pn,ge)}return re}function wf(e,t){return function(a,c){return Xg(a,e,t(c),{})}}function hs(e,t){return function(a,c){var f;if(a===r&&c===r)return t;if(a!==r&&(f=a),c!==r){if(f===r)return c;typeof a=="string"||typeof c=="string"?(a=$t(a),c=$t(c)):(a=rf(a),c=rf(c)),f=e(a,c)}return f}}function Il(e){return Un(function(t){return t=Ie(t,Ut(ne())),pe(function(a){var c=this;return e(t,function(f){return Wt(f,c,a)})})})}function gs(e,t){t=t===r?" ":$t(t);var a=t.length;if(a<2)return a?vl(t,e):t;var c=vl(t,ns(e/wr(t)));return yr(t)?ci(cn(c),0,e).join(""):c.slice(0,e)}function S0(e,t,a,c){var f=t&V,m=lo(e);function g(){for(var y=-1,v=arguments.length,O=-1,P=c.length,F=E(P+v),U=this&&this!==Ye&&this instanceof g?m:e;++O<P;)F[O]=c[O];for(;v--;)F[O++]=arguments[++y];return Wt(U,f?a:this,F)}return g}function bf(e){return function(t,a,c){return c&&typeof c!="number"&&At(t,a,c)&&(a=c=r),t=Yn(t),a===r?(a=t,t=0):a=Yn(a),c=c===r?t<a?1:-1:Yn(c),l0(t,a,c,e)}}function _s(e){return function(t,a){return typeof t=="string"&&typeof a=="string"||(t=tn(t),a=tn(a)),e(t,a)}}function Cf(e,t,a,c,f,m,g,y,v,O){var P=t&$,F=P?g:r,U=P?r:g,z=P?m:r,ie=P?r:m;t|=P?j:te,t&=~(P?te:j),t&L||(t&=~(V|M));var fe=[e,t,f,z,F,ie,U,y,v,O],re=a.apply(r,fe);return Fl(e)&&Lf(re,fe),re.placeholder=c,Rf(re,e,t)}function Nl(e){var t=Ge[e];return function(a,c){if(a=tn(a),c=c==null?0:He(ce(c),292),c&&Lu(a)){var f=(Ce(a)+"e").split("e"),m=t(f[0]+"e"+(+f[1]+c));return f=(Ce(m)+"e").split("e"),+(f[0]+"e"+(+f[1]-c))}return t(a)}}var x0=Cr&&1/qo(new Cr([,-0]))[1]==vi?function(e){return new Cr(e)}:Zl;function vf(e){return function(t){var a=ze(t);return a==an?sl(t):a==ln?Wh(t):Lh(t,e(t))}}function Wn(e,t,a,c,f,m,g,y){var v=t&M;if(!v&&typeof e!="function")throw new Xt(s);var O=c?c.length:0;if(O||(t&=~(j|te),c=f=r),g=g===r?g:We(ce(g),0),y=y===r?y:ce(y),O-=f?f.length:0,t&te){var P=c,F=f;c=f=r}var U=v?r:Ll(e),z=[e,t,a,c,f,P,F,m,g,y];if(U&&V0(z,U),e=z[0],t=z[1],a=z[2],c=z[3],f=z[4],y=z[9]=z[9]===r?v?0:e.length:We(z[9]-O,0),!y&&t&($|K)&&(t&=~($|K)),!t||t==V)var ie=C0(e,t,a);else t==$||t==K?ie=v0(e,t,y):(t==j||t==(V|j))&&!f.length?ie=S0(e,t,a,c):ie=ds.apply(r,z);var fe=U?tf:Lf;return Rf(fe(ie,z),e,t)}function Sf(e,t,a,c){return e===r||fn(e,br[a])&&!ve.call(c,a)?t:e}function xf(e,t,a,c,f,m){return Ne(e)&&Ne(t)&&(m.set(t,e),us(e,t,r,xf,m),m.delete(t)),e}function M0(e){return fo(e)?r:e}function Mf(e,t,a,c,f,m){var g=a&S,y=e.length,v=t.length;if(y!=v&&!(g&&v>y))return!1;var O=m.get(e),P=m.get(t);if(O&&P)return O==t&&P==e;var F=-1,U=!0,z=a&I?new Ti:r;for(m.set(e,t),m.set(t,e);++F<y;){var ie=e[F],fe=t[F];if(c)var re=g?c(fe,ie,F,t,e,m):c(ie,fe,F,e,t,m);if(re!==r){if(re)continue;U=!1;break}if(z){if(!el(t,function(me,ge){if(!Jr(z,ge)&&(ie===me||f(ie,me,a,c,m)))return z.push(ge)})){U=!1;break}}else if(!(ie===fe||f(ie,fe,a,c,m))){U=!1;break}}return m.delete(e),m.delete(t),U}function T0(e,t,a,c,f,m,g){switch(a){case hr:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Xr:return!(e.byteLength!=t.byteLength||!m(new Zo(e),new Zo(t)));case Kr:case Yr:case qr:return fn(+e,+t);case Bo:return e.name==t.name&&e.message==t.message;case jr:case Hr:return e==t+"";case an:var y=sl;case ln:var v=c&S;if(y||(y=qo),e.size!=t.size&&!v)return!1;var O=g.get(e);if(O)return O==t;c|=I,g.set(e,t);var P=Mf(y(e),y(t),c,f,m,g);return g.delete(e),P;case Go:if(no)return no.call(e)==no.call(t)}return!1}function E0(e,t,a,c,f,m){var g=a&S,y=Ol(e),v=y.length,O=Ol(t),P=O.length;if(v!=P&&!g)return!1;for(var F=v;F--;){var U=y[F];if(!(g?U in t:ve.call(t,U)))return!1}var z=m.get(e),ie=m.get(t);if(z&&ie)return z==t&&ie==e;var fe=!0;m.set(e,t),m.set(t,e);for(var re=g;++F<v;){U=y[F];var me=e[U],ge=t[U];if(c)var Yt=g?c(ge,me,U,t,e,m):c(me,ge,U,e,t,m);if(!(Yt===r?me===ge||f(me,ge,a,c,m):Yt)){fe=!1;break}re||(re=U=="constructor")}if(fe&&!re){var It=e.constructor,qt=t.constructor;It!=qt&&"constructor"in e&&"constructor"in t&&!(typeof It=="function"&&It instanceof It&&typeof qt=="function"&&qt instanceof qt)&&(fe=!1)}return m.delete(e),m.delete(t),fe}function Un(e){return Vl(Of(e,r,Gf),e+"")}function Ol(e){return Ku(e,qe,kl)}function Pl(e){return Ku(e,Dt,Tf)}var Ll=rs?function(e){return rs.get(e)}:Zl;function ys(e){for(var t=e.name+"",a=vr[t],c=ve.call(vr,t)?a.length:0;c--;){var f=a[c],m=f.func;if(m==null||m==e)return f.name}return t}function Tr(e){var t=ve.call(p,"placeholder")?p:e;return t.placeholder}function ne(){var e=p.iteratee||Xl;return e=e===Xl?ju:e,arguments.length?e(arguments[0],arguments[1]):e}function ws(e,t){var a=e.__data__;return k0(t)?a[typeof t=="string"?"string":"hash"]:a.map}function Rl(e){for(var t=qe(e),a=t.length;a--;){var c=t[a],f=e[c];t[a]=[c,f,If(f)]}return t}function Ii(e,t){var a=Bh(e,t);return qu(a)?a:r}function A0(e){var t=ve.call(e,xi),a=e[xi];try{e[xi]=r;var c=!0}catch{}var f=Xo.call(e);return c&&(t?e[xi]=a:delete e[xi]),f}var kl=ll?function(e){return e==null?[]:(e=Me(e),ti(ll(e),function(t){return Ou.call(e,t)}))}:Ql,Tf=ll?function(e){for(var t=[];e;)ni(t,kl(e)),e=Qo(e);return t}:Ql,ze=Et;(cl&&ze(new cl(new ArrayBuffer(1)))!=hr||Qr&&ze(new Qr)!=an||ul&&ze(ul.resolve())!=Wc||Cr&&ze(new Cr)!=ln||eo&&ze(new eo)!=zr)&&(ze=function(e){var t=Et(e),a=t==Fn?e.constructor:r,c=a?Ni(a):"";if(c)switch(c){case ug:return hr;case fg:return an;case pg:return Wc;case mg:return ln;case dg:return zr}return t});function I0(e,t,a){for(var c=-1,f=a.length;++c<f;){var m=a[c],g=m.size;switch(m.type){case"drop":e+=g;break;case"dropRight":t-=g;break;case"take":t=He(t,e+g);break;case"takeRight":e=We(e,t-g);break}}return{start:e,end:t}}function N0(e){var t=e.match(Dd);return t?t[1].split(Fd):[]}function Ef(e,t,a){t=li(t,e);for(var c=-1,f=t.length,m=!1;++c<f;){var g=An(t[c]);if(!(m=e!=null&&a(e,g)))break;e=e[g]}return m||++c!=f?m:(f=e==null?0:e.length,!!f&&Ts(f)&&$n(g,f)&&(le(e)||Oi(e)))}function O0(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&ve.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function Af(e){return typeof e.constructor=="function"&&!co(e)?Sr(Qo(e)):{}}function P0(e,t,a){var c=e.constructor;switch(t){case Xr:return Al(e);case Kr:case Yr:return new c(+e);case hr:return h0(e,a);case Ra:case ka:case Da:case Fa:case Ba:case Va:case Ga:case Wa:case Ua:return uf(e,a);case an:return new c;case qr:case Hr:return new c(e);case jr:return g0(e);case ln:return new c;case Go:return _0(e)}}function L0(e,t){var a=t.length;if(!a)return e;var c=a-1;return t[c]=(a>1?"& ":"")+t[c],t=t.join(a>2?", ":" "),e.replace(kd,`{
/* [wrapped with `+t+`] */
`)}function R0(e){return le(e)||Oi(e)||!!(Pu&&e&&e[Pu])}function $n(e,t){var a=typeof e;return t=t??ei,!!t&&(a=="number"||a!="symbol"&&qd.test(e))&&e>-1&&e%1==0&&e<t}function At(e,t,a){if(!Ne(a))return!1;var c=typeof t;return(c=="number"?kt(a)&&$n(t,a.length):c=="string"&&t in a)?fn(a[t],e):!1}function Dl(e,t){if(le(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||Kt(e)?!0:Od.test(e)||!Nd.test(e)||t!=null&&e in Me(t)}function k0(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Fl(e){var t=ys(e),a=p[t];if(typeof a!="function"||!(t in de.prototype))return!1;if(e===a)return!0;var c=Ll(a);return!!c&&e===c[0]}function D0(e){return!!Au&&Au in e}var F0=Ho?Kn:ec;function co(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||br;return e===a}function If(e){return e===e&&!Ne(e)}function Nf(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==r||e in Me(a))}}function B0(e){var t=xs(e,function(c){return a.size===d&&a.clear(),c}),a=t.cache;return t}function V0(e,t){var a=e[1],c=t[1],f=a|c,m=f<(V|M|ee),g=c==ee&&a==$||c==ee&&a==se&&e[7].length<=t[8]||c==(ee|se)&&t[7].length<=t[8]&&a==$;if(!(m||g))return e;c&V&&(e[2]=t[2],f|=a&V?0:L);var y=t[3];if(y){var v=e[3];e[3]=v?pf(v,y,t[4]):y,e[4]=v?ii(e[3],h):t[4]}return y=t[5],y&&(v=e[5],e[5]=v?mf(v,y,t[6]):y,e[6]=v?ii(e[5],h):t[6]),y=t[7],y&&(e[7]=y),c&ee&&(e[8]=e[8]==null?t[8]:He(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=f,e}function G0(e){var t=[];if(e!=null)for(var a in Me(e))t.push(a);return t}function W0(e){return Xo.call(e)}function Of(e,t,a){return t=We(t===r?e.length-1:t,0),function(){for(var c=arguments,f=-1,m=We(c.length-t,0),g=E(m);++f<m;)g[f]=c[t+f];f=-1;for(var y=E(t+1);++f<t;)y[f]=c[f];return y[t]=a(g),Wt(e,this,y)}}function Pf(e,t){return t.length<2?e:Ai(e,Qt(t,0,-1))}function U0(e,t){for(var a=e.length,c=He(t.length,a),f=Rt(e);c--;){var m=t[c];e[c]=$n(m,a)?f[m]:r}return e}function Bl(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Lf=kf(tf),uo=ig||function(e,t){return Ye.setTimeout(e,t)},Vl=kf(f0);function Rf(e,t,a){var c=t+"";return Vl(e,L0(c,$0(N0(c),a)))}function kf(e){var t=0,a=0;return function(){var c=ag(),f=Qn-(c-a);if(a=c,f>0){if(++t>=xn)return arguments[0]}else t=0;return e.apply(r,arguments)}}function bs(e,t){var a=-1,c=e.length,f=c-1;for(t=t===r?c:t;++a<t;){var m=Cl(a,f),g=e[m];e[m]=e[a],e[a]=g}return e.length=t,e}var Df=B0(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Pd,function(a,c,f,m){t.push(f?m.replace(Gd,"$1"):c||a)}),t});function An(e){if(typeof e=="string"||Kt(e))return e;var t=e+"";return t=="0"&&1/e==-vi?"-0":t}function Ni(e){if(e!=null){try{return zo.call(e)}catch{}try{return e+""}catch{}}return""}function $0(e,t){return zt(gd,function(a){var c="_."+a[0];t&a[1]&&!Ko(e,c)&&e.push(c)}),e.sort()}function Ff(e){if(e instanceof de)return e.clone();var t=new Jt(e.__wrapped__,e.__chain__);return t.__actions__=Rt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function K0(e,t,a){(a?At(e,t,a):t===r)?t=1:t=We(ce(t),0);var c=e==null?0:e.length;if(!c||t<1)return[];for(var f=0,m=0,g=E(ns(c/t));f<c;)g[m++]=Qt(e,f,f+=t);return g}function Y0(e){for(var t=-1,a=e==null?0:e.length,c=0,f=[];++t<a;){var m=e[t];m&&(f[c++]=m)}return f}function q0(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),a=arguments[0],c=e;c--;)t[c-1]=arguments[c];return ni(le(a)?Rt(a):[a],je(t,1))}var j0=pe(function(e,t){return ke(e)?ro(e,je(t,1,ke,!0)):[]}),H0=pe(function(e,t){var a=en(t);return ke(a)&&(a=r),ke(e)?ro(e,je(t,1,ke,!0),ne(a,2)):[]}),z0=pe(function(e,t){var a=en(t);return ke(a)&&(a=r),ke(e)?ro(e,je(t,1,ke,!0),r,a):[]});function X0(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:ce(t),Qt(e,t<0?0:t,c)):[]}function J0(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:ce(t),t=c-t,Qt(e,0,t<0?0:t)):[]}function Z0(e,t){return e&&e.length?ps(e,ne(t,3),!0,!0):[]}function Q0(e,t){return e&&e.length?ps(e,ne(t,3),!0):[]}function e_(e,t,a,c){var f=e==null?0:e.length;return f?(a&&typeof a!="number"&&At(e,t,a)&&(a=0,c=f),qg(e,t,a,c)):[]}function Bf(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=a==null?0:ce(a);return f<0&&(f=We(c+f,0)),Yo(e,ne(t,3),f)}function Vf(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=c-1;return a!==r&&(f=ce(a),f=a<0?We(c+f,0):He(f,c-1)),Yo(e,ne(t,3),f,!0)}function Gf(e){var t=e==null?0:e.length;return t?je(e,1):[]}function t_(e){var t=e==null?0:e.length;return t?je(e,vi):[]}function n_(e,t){var a=e==null?0:e.length;return a?(t=t===r?1:ce(t),je(e,t)):[]}function i_(e){for(var t=-1,a=e==null?0:e.length,c={};++t<a;){var f=e[t];c[f[0]]=f[1]}return c}function Wf(e){return e&&e.length?e[0]:r}function r_(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=a==null?0:ce(a);return f<0&&(f=We(c+f,0)),_r(e,t,f)}function o_(e){var t=e==null?0:e.length;return t?Qt(e,0,-1):[]}var s_=pe(function(e){var t=Ie(e,Tl);return t.length&&t[0]===e[0]?gl(t):[]}),a_=pe(function(e){var t=en(e),a=Ie(e,Tl);return t===en(a)?t=r:a.pop(),a.length&&a[0]===e[0]?gl(a,ne(t,2)):[]}),l_=pe(function(e){var t=en(e),a=Ie(e,Tl);return t=typeof t=="function"?t:r,t&&a.pop(),a.length&&a[0]===e[0]?gl(a,r,t):[]});function c_(e,t){return e==null?"":og.call(e,t)}function en(e){var t=e==null?0:e.length;return t?e[t-1]:r}function u_(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=c;return a!==r&&(f=ce(a),f=f<0?We(c+f,0):He(f,c-1)),t===t?$h(e,t,f):Yo(e,bu,f,!0)}function f_(e,t){return e&&e.length?Ju(e,ce(t)):r}var p_=pe(Uf);function Uf(e,t){return e&&e.length&&t&&t.length?bl(e,t):e}function m_(e,t,a){return e&&e.length&&t&&t.length?bl(e,t,ne(a,2)):e}function d_(e,t,a){return e&&e.length&&t&&t.length?bl(e,t,r,a):e}var h_=Un(function(e,t){var a=e==null?0:e.length,c=pl(e,t);return ef(e,Ie(t,function(f){return $n(f,a)?+f:f}).sort(ff)),c});function g_(e,t){var a=[];if(!(e&&e.length))return a;var c=-1,f=[],m=e.length;for(t=ne(t,3);++c<m;){var g=e[c];t(g,c,e)&&(a.push(g),f.push(c))}return ef(e,f),a}function Gl(e){return e==null?e:cg.call(e)}function __(e,t,a){var c=e==null?0:e.length;return c?(a&&typeof a!="number"&&At(e,t,a)?(t=0,a=c):(t=t==null?0:ce(t),a=a===r?c:ce(a)),Qt(e,t,a)):[]}function y_(e,t){return fs(e,t)}function w_(e,t,a){return Sl(e,t,ne(a,2))}function b_(e,t){var a=e==null?0:e.length;if(a){var c=fs(e,t);if(c<a&&fn(e[c],t))return c}return-1}function C_(e,t){return fs(e,t,!0)}function v_(e,t,a){return Sl(e,t,ne(a,2),!0)}function S_(e,t){var a=e==null?0:e.length;if(a){var c=fs(e,t,!0)-1;if(fn(e[c],t))return c}return-1}function x_(e){return e&&e.length?nf(e):[]}function M_(e,t){return e&&e.length?nf(e,ne(t,2)):[]}function T_(e){var t=e==null?0:e.length;return t?Qt(e,1,t):[]}function E_(e,t,a){return e&&e.length?(t=a||t===r?1:ce(t),Qt(e,0,t<0?0:t)):[]}function A_(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:ce(t),t=c-t,Qt(e,t<0?0:t,c)):[]}function I_(e,t){return e&&e.length?ps(e,ne(t,3),!1,!0):[]}function N_(e,t){return e&&e.length?ps(e,ne(t,3)):[]}var O_=pe(function(e){return ai(je(e,1,ke,!0))}),P_=pe(function(e){var t=en(e);return ke(t)&&(t=r),ai(je(e,1,ke,!0),ne(t,2))}),L_=pe(function(e){var t=en(e);return t=typeof t=="function"?t:r,ai(je(e,1,ke,!0),r,t)});function R_(e){return e&&e.length?ai(e):[]}function k_(e,t){return e&&e.length?ai(e,ne(t,2)):[]}function D_(e,t){return t=typeof t=="function"?t:r,e&&e.length?ai(e,r,t):[]}function Wl(e){if(!(e&&e.length))return[];var t=0;return e=ti(e,function(a){if(ke(a))return t=We(a.length,t),!0}),rl(t,function(a){return Ie(e,tl(a))})}function $f(e,t){if(!(e&&e.length))return[];var a=Wl(e);return t==null?a:Ie(a,function(c){return Wt(t,r,c)})}var F_=pe(function(e,t){return ke(e)?ro(e,t):[]}),B_=pe(function(e){return Ml(ti(e,ke))}),V_=pe(function(e){var t=en(e);return ke(t)&&(t=r),Ml(ti(e,ke),ne(t,2))}),G_=pe(function(e){var t=en(e);return t=typeof t=="function"?t:r,Ml(ti(e,ke),r,t)}),W_=pe(Wl);function U_(e,t){return af(e||[],t||[],io)}function $_(e,t){return af(e||[],t||[],ao)}var K_=pe(function(e){var t=e.length,a=t>1?e[t-1]:r;return a=typeof a=="function"?(e.pop(),a):r,$f(e,a)});function Kf(e){var t=p(e);return t.__chain__=!0,t}function Y_(e,t){return t(e),e}function Cs(e,t){return t(e)}var q_=Un(function(e){var t=e.length,a=t?e[0]:0,c=this.__wrapped__,f=function(m){return pl(m,e)};return t>1||this.__actions__.length||!(c instanceof de)||!$n(a)?this.thru(f):(c=c.slice(a,+a+(t?1:0)),c.__actions__.push({func:Cs,args:[f],thisArg:r}),new Jt(c,this.__chain__).thru(function(m){return t&&!m.length&&m.push(r),m}))});function j_(){return Kf(this)}function H_(){return new Jt(this.value(),this.__chain__)}function z_(){this.__values__===r&&(this.__values__=rp(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function X_(){return this}function J_(e){for(var t,a=this;a instanceof ss;){var c=Ff(a);c.__index__=0,c.__values__=r,t?f.__wrapped__=c:t=c;var f=c;a=a.__wrapped__}return f.__wrapped__=e,t}function Z_(){var e=this.__wrapped__;if(e instanceof de){var t=e;return this.__actions__.length&&(t=new de(this)),t=t.reverse(),t.__actions__.push({func:Cs,args:[Gl],thisArg:r}),new Jt(t,this.__chain__)}return this.thru(Gl)}function Q_(){return sf(this.__wrapped__,this.__actions__)}var ey=ms(function(e,t,a){ve.call(e,a)?++e[a]:Gn(e,a,1)});function ty(e,t,a){var c=le(e)?yu:Yg;return a&&At(e,t,a)&&(t=r),c(e,ne(t,3))}function ny(e,t){var a=le(e)?ti:Uu;return a(e,ne(t,3))}var iy=_f(Bf),ry=_f(Vf);function oy(e,t){return je(vs(e,t),1)}function sy(e,t){return je(vs(e,t),vi)}function ay(e,t,a){return a=a===r?1:ce(a),je(vs(e,t),a)}function Yf(e,t){var a=le(e)?zt:si;return a(e,ne(t,3))}function qf(e,t){var a=le(e)?Th:Wu;return a(e,ne(t,3))}var ly=ms(function(e,t,a){ve.call(e,a)?e[a].push(t):Gn(e,a,[t])});function cy(e,t,a,c){e=kt(e)?e:Ar(e),a=a&&!c?ce(a):0;var f=e.length;return a<0&&(a=We(f+a,0)),Es(e)?a<=f&&e.indexOf(t,a)>-1:!!f&&_r(e,t,a)>-1}var uy=pe(function(e,t,a){var c=-1,f=typeof t=="function",m=kt(e)?E(e.length):[];return si(e,function(g){m[++c]=f?Wt(t,g,a):oo(g,t,a)}),m}),fy=ms(function(e,t,a){Gn(e,a,t)});function vs(e,t){var a=le(e)?Ie:Hu;return a(e,ne(t,3))}function py(e,t,a,c){return e==null?[]:(le(t)||(t=t==null?[]:[t]),a=c?r:a,le(a)||(a=a==null?[]:[a]),Zu(e,t,a))}var my=ms(function(e,t,a){e[a?0:1].push(t)},function(){return[[],[]]});function dy(e,t,a){var c=le(e)?Qa:vu,f=arguments.length<3;return c(e,ne(t,4),a,f,si)}function hy(e,t,a){var c=le(e)?Eh:vu,f=arguments.length<3;return c(e,ne(t,4),a,f,Wu)}function gy(e,t){var a=le(e)?ti:Uu;return a(e,Ms(ne(t,3)))}function _y(e){var t=le(e)?Fu:c0;return t(e)}function yy(e,t,a){(a?At(e,t,a):t===r)?t=1:t=ce(t);var c=le(e)?Gg:u0;return c(e,t)}function wy(e){var t=le(e)?Wg:p0;return t(e)}function by(e){if(e==null)return 0;if(kt(e))return Es(e)?wr(e):e.length;var t=ze(e);return t==an||t==ln?e.size:yl(e).length}function Cy(e,t,a){var c=le(e)?el:m0;return a&&At(e,t,a)&&(t=r),c(e,ne(t,3))}var vy=pe(function(e,t){if(e==null)return[];var a=t.length;return a>1&&At(e,t[0],t[1])?t=[]:a>2&&At(t[0],t[1],t[2])&&(t=[t[0]]),Zu(e,je(t,1),[])}),Ss=ng||function(){return Ye.Date.now()};function Sy(e,t){if(typeof t!="function")throw new Xt(s);return e=ce(e),function(){if(--e<1)return t.apply(this,arguments)}}function jf(e,t,a){return t=a?r:t,t=e&&t==null?e.length:t,Wn(e,ee,r,r,r,r,t)}function Hf(e,t){var a;if(typeof t!="function")throw new Xt(s);return e=ce(e),function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=r),a}}var Ul=pe(function(e,t,a){var c=V;if(a.length){var f=ii(a,Tr(Ul));c|=j}return Wn(e,c,t,a,f)}),zf=pe(function(e,t,a){var c=V|M;if(a.length){var f=ii(a,Tr(zf));c|=j}return Wn(t,c,e,a,f)});function Xf(e,t,a){t=a?r:t;var c=Wn(e,$,r,r,r,r,r,t);return c.placeholder=Xf.placeholder,c}function Jf(e,t,a){t=a?r:t;var c=Wn(e,K,r,r,r,r,r,t);return c.placeholder=Jf.placeholder,c}function Zf(e,t,a){var c,f,m,g,y,v,O=0,P=!1,F=!1,U=!0;if(typeof e!="function")throw new Xt(s);t=tn(t)||0,Ne(a)&&(P=!!a.leading,F="maxWait"in a,m=F?We(tn(a.maxWait)||0,t):m,U="trailing"in a?!!a.trailing:U);function z(De){var pn=c,qn=f;return c=f=r,O=De,g=e.apply(qn,pn),g}function ie(De){return O=De,y=uo(me,t),P?z(De):g}function fe(De){var pn=De-v,qn=De-O,_p=t-pn;return F?He(_p,m-qn):_p}function re(De){var pn=De-v,qn=De-O;return v===r||pn>=t||pn<0||F&&qn>=m}function me(){var De=Ss();if(re(De))return ge(De);y=uo(me,fe(De))}function ge(De){return y=r,U&&c?z(De):(c=f=r,g)}function Yt(){y!==r&&lf(y),O=0,c=v=f=y=r}function It(){return y===r?g:ge(Ss())}function qt(){var De=Ss(),pn=re(De);if(c=arguments,f=this,v=De,pn){if(y===r)return ie(v);if(F)return lf(y),y=uo(me,t),z(v)}return y===r&&(y=uo(me,t)),g}return qt.cancel=Yt,qt.flush=It,qt}var xy=pe(function(e,t){return Gu(e,1,t)}),My=pe(function(e,t,a){return Gu(e,tn(t)||0,a)});function Ty(e){return Wn(e,be)}function xs(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Xt(s);var a=function(){var c=arguments,f=t?t.apply(this,c):c[0],m=a.cache;if(m.has(f))return m.get(f);var g=e.apply(this,c);return a.cache=m.set(f,g)||m,g};return a.cache=new(xs.Cache||Vn),a}xs.Cache=Vn;function Ms(e){if(typeof e!="function")throw new Xt(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ey(e){return Hf(2,e)}var Ay=d0(function(e,t){t=t.length==1&&le(t[0])?Ie(t[0],Ut(ne())):Ie(je(t,1),Ut(ne()));var a=t.length;return pe(function(c){for(var f=-1,m=He(c.length,a);++f<m;)c[f]=t[f].call(this,c[f]);return Wt(e,this,c)})}),$l=pe(function(e,t){var a=ii(t,Tr($l));return Wn(e,j,r,t,a)}),Qf=pe(function(e,t){var a=ii(t,Tr(Qf));return Wn(e,te,r,t,a)}),Iy=Un(function(e,t){return Wn(e,se,r,r,r,t)});function Ny(e,t){if(typeof e!="function")throw new Xt(s);return t=t===r?t:ce(t),pe(e,t)}function Oy(e,t){if(typeof e!="function")throw new Xt(s);return t=t==null?0:We(ce(t),0),pe(function(a){var c=a[t],f=ci(a,0,t);return c&&ni(f,c),Wt(e,this,f)})}function Py(e,t,a){var c=!0,f=!0;if(typeof e!="function")throw new Xt(s);return Ne(a)&&(c="leading"in a?!!a.leading:c,f="trailing"in a?!!a.trailing:f),Zf(e,t,{leading:c,maxWait:t,trailing:f})}function Ly(e){return jf(e,1)}function Ry(e,t){return $l(El(t),e)}function ky(){if(!arguments.length)return[];var e=arguments[0];return le(e)?e:[e]}function Dy(e){return Zt(e,x)}function Fy(e,t){return t=typeof t=="function"?t:r,Zt(e,x,t)}function By(e){return Zt(e,_|x)}function Vy(e,t){return t=typeof t=="function"?t:r,Zt(e,_|x,t)}function Gy(e,t){return t==null||Vu(e,t,qe(t))}function fn(e,t){return e===t||e!==e&&t!==t}var Wy=_s(hl),Uy=_s(function(e,t){return e>=t}),Oi=Yu(function(){return arguments}())?Yu:function(e){return Pe(e)&&ve.call(e,"callee")&&!Ou.call(e,"callee")},le=E.isArray,$y=pu?Ut(pu):Jg;function kt(e){return e!=null&&Ts(e.length)&&!Kn(e)}function ke(e){return Pe(e)&&kt(e)}function Ky(e){return e===!0||e===!1||Pe(e)&&Et(e)==Kr}var ui=rg||ec,Yy=mu?Ut(mu):Zg;function qy(e){return Pe(e)&&e.nodeType===1&&!fo(e)}function jy(e){if(e==null)return!0;if(kt(e)&&(le(e)||typeof e=="string"||typeof e.splice=="function"||ui(e)||Er(e)||Oi(e)))return!e.length;var t=ze(e);if(t==an||t==ln)return!e.size;if(co(e))return!yl(e).length;for(var a in e)if(ve.call(e,a))return!1;return!0}function Hy(e,t){return so(e,t)}function zy(e,t,a){a=typeof a=="function"?a:r;var c=a?a(e,t):r;return c===r?so(e,t,r,a):!!c}function Kl(e){if(!Pe(e))return!1;var t=Et(e);return t==Bo||t==yd||typeof e.message=="string"&&typeof e.name=="string"&&!fo(e)}function Xy(e){return typeof e=="number"&&Lu(e)}function Kn(e){if(!Ne(e))return!1;var t=Et(e);return t==Vo||t==Gc||t==_d||t==bd}function ep(e){return typeof e=="number"&&e==ce(e)}function Ts(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ei}function Ne(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Pe(e){return e!=null&&typeof e=="object"}var tp=du?Ut(du):e0;function Jy(e,t){return e===t||_l(e,t,Rl(t))}function Zy(e,t,a){return a=typeof a=="function"?a:r,_l(e,t,Rl(t),a)}function Qy(e){return np(e)&&e!=+e}function e1(e){if(F0(e))throw new ae(o);return qu(e)}function t1(e){return e===null}function n1(e){return e==null}function np(e){return typeof e=="number"||Pe(e)&&Et(e)==qr}function fo(e){if(!Pe(e)||Et(e)!=Fn)return!1;var t=Qo(e);if(t===null)return!0;var a=ve.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&zo.call(a)==Zh}var Yl=hu?Ut(hu):t0;function i1(e){return ep(e)&&e>=-ei&&e<=ei}var ip=gu?Ut(gu):n0;function Es(e){return typeof e=="string"||!le(e)&&Pe(e)&&Et(e)==Hr}function Kt(e){return typeof e=="symbol"||Pe(e)&&Et(e)==Go}var Er=_u?Ut(_u):i0;function r1(e){return e===r}function o1(e){return Pe(e)&&ze(e)==zr}function s1(e){return Pe(e)&&Et(e)==vd}var a1=_s(wl),l1=_s(function(e,t){return e<=t});function rp(e){if(!e)return[];if(kt(e))return Es(e)?cn(e):Rt(e);if(Zr&&e[Zr])return Gh(e[Zr]());var t=ze(e),a=t==an?sl:t==ln?qo:Ar;return a(e)}function Yn(e){if(!e)return e===0?e:0;if(e=tn(e),e===vi||e===-vi){var t=e<0?-1:1;return t*md}return e===e?e:0}function ce(e){var t=Yn(e),a=t%1;return t===t?a?t-a:t:0}function op(e){return e?Ei(ce(e),0,Mn):0}function tn(e){if(typeof e=="number")return e;if(Kt(e))return Do;if(Ne(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ne(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Su(e);var a=$d.test(e);return a||Yd.test(e)?Sh(e.slice(2),a?2:8):Ud.test(e)?Do:+e}function sp(e){return En(e,Dt(e))}function c1(e){return e?Ei(ce(e),-ei,ei):e===0?e:0}function Ce(e){return e==null?"":$t(e)}var u1=xr(function(e,t){if(co(t)||kt(t)){En(t,qe(t),e);return}for(var a in t)ve.call(t,a)&&io(e,a,t[a])}),ap=xr(function(e,t){En(t,Dt(t),e)}),As=xr(function(e,t,a,c){En(t,Dt(t),e,c)}),f1=xr(function(e,t,a,c){En(t,qe(t),e,c)}),p1=Un(pl);function m1(e,t){var a=Sr(e);return t==null?a:Bu(a,t)}var d1=pe(function(e,t){e=Me(e);var a=-1,c=t.length,f=c>2?t[2]:r;for(f&&At(t[0],t[1],f)&&(c=1);++a<c;)for(var m=t[a],g=Dt(m),y=-1,v=g.length;++y<v;){var O=g[y],P=e[O];(P===r||fn(P,br[O])&&!ve.call(e,O))&&(e[O]=m[O])}return e}),h1=pe(function(e){return e.push(r,xf),Wt(lp,r,e)});function g1(e,t){return wu(e,ne(t,3),Tn)}function _1(e,t){return wu(e,ne(t,3),dl)}function y1(e,t){return e==null?e:ml(e,ne(t,3),Dt)}function w1(e,t){return e==null?e:$u(e,ne(t,3),Dt)}function b1(e,t){return e&&Tn(e,ne(t,3))}function C1(e,t){return e&&dl(e,ne(t,3))}function v1(e){return e==null?[]:cs(e,qe(e))}function S1(e){return e==null?[]:cs(e,Dt(e))}function ql(e,t,a){var c=e==null?r:Ai(e,t);return c===r?a:c}function x1(e,t){return e!=null&&Ef(e,t,jg)}function jl(e,t){return e!=null&&Ef(e,t,Hg)}var M1=wf(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=Xo.call(t)),e[t]=a},zl(Ft)),T1=wf(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=Xo.call(t)),ve.call(e,t)?e[t].push(a):e[t]=[a]},ne),E1=pe(oo);function qe(e){return kt(e)?Du(e):yl(e)}function Dt(e){return kt(e)?Du(e,!0):r0(e)}function A1(e,t){var a={};return t=ne(t,3),Tn(e,function(c,f,m){Gn(a,t(c,f,m),c)}),a}function I1(e,t){var a={};return t=ne(t,3),Tn(e,function(c,f,m){Gn(a,f,t(c,f,m))}),a}var N1=xr(function(e,t,a){us(e,t,a)}),lp=xr(function(e,t,a,c){us(e,t,a,c)}),O1=Un(function(e,t){var a={};if(e==null)return a;var c=!1;t=Ie(t,function(m){return m=li(m,e),c||(c=m.length>1),m}),En(e,Pl(e),a),c&&(a=Zt(a,_|T|x,M0));for(var f=t.length;f--;)xl(a,t[f]);return a});function P1(e,t){return cp(e,Ms(ne(t)))}var L1=Un(function(e,t){return e==null?{}:s0(e,t)});function cp(e,t){if(e==null)return{};var a=Ie(Pl(e),function(c){return[c]});return t=ne(t),Qu(e,a,function(c,f){return t(c,f[0])})}function R1(e,t,a){t=li(t,e);var c=-1,f=t.length;for(f||(f=1,e=r);++c<f;){var m=e==null?r:e[An(t[c])];m===r&&(c=f,m=a),e=Kn(m)?m.call(e):m}return e}function k1(e,t,a){return e==null?e:ao(e,t,a)}function D1(e,t,a,c){return c=typeof c=="function"?c:r,e==null?e:ao(e,t,a,c)}var up=vf(qe),fp=vf(Dt);function F1(e,t,a){var c=le(e),f=c||ui(e)||Er(e);if(t=ne(t,4),a==null){var m=e&&e.constructor;f?a=c?new m:[]:Ne(e)?a=Kn(m)?Sr(Qo(e)):{}:a={}}return(f?zt:Tn)(e,function(g,y,v){return t(a,g,y,v)}),a}function B1(e,t){return e==null?!0:xl(e,t)}function V1(e,t,a){return e==null?e:of(e,t,El(a))}function G1(e,t,a,c){return c=typeof c=="function"?c:r,e==null?e:of(e,t,El(a),c)}function Ar(e){return e==null?[]:ol(e,qe(e))}function W1(e){return e==null?[]:ol(e,Dt(e))}function U1(e,t,a){return a===r&&(a=t,t=r),a!==r&&(a=tn(a),a=a===a?a:0),t!==r&&(t=tn(t),t=t===t?t:0),Ei(tn(e),t,a)}function $1(e,t,a){return t=Yn(t),a===r?(a=t,t=0):a=Yn(a),e=tn(e),zg(e,t,a)}function K1(e,t,a){if(a&&typeof a!="boolean"&&At(e,t,a)&&(t=a=r),a===r&&(typeof t=="boolean"?(a=t,t=r):typeof e=="boolean"&&(a=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Yn(e),t===r?(t=e,e=0):t=Yn(t)),e>t){var c=e;e=t,t=c}if(a||e%1||t%1){var f=Ru();return He(e+f*(t-e+vh("1e-"+((f+"").length-1))),t)}return Cl(e,t)}var Y1=Mr(function(e,t,a){return t=t.toLowerCase(),e+(a?pp(t):t)});function pp(e){return Hl(Ce(e).toLowerCase())}function mp(e){return e=Ce(e),e&&e.replace(jd,kh).replace(ph,"")}function q1(e,t,a){e=Ce(e),t=$t(t);var c=e.length;a=a===r?c:Ei(ce(a),0,c);var f=a;return a-=t.length,a>=0&&e.slice(a,f)==t}function j1(e){return e=Ce(e),e&&Ed.test(e)?e.replace($c,Dh):e}function H1(e){return e=Ce(e),e&&Ld.test(e)?e.replace($a,"\\$&"):e}var z1=Mr(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}),X1=Mr(function(e,t,a){return e+(a?" ":"")+t.toLowerCase()}),J1=gf("toLowerCase");function Z1(e,t,a){e=Ce(e),t=ce(t);var c=t?wr(e):0;if(!t||c>=t)return e;var f=(t-c)/2;return gs(is(f),a)+e+gs(ns(f),a)}function Q1(e,t,a){e=Ce(e),t=ce(t);var c=t?wr(e):0;return t&&c<t?e+gs(t-c,a):e}function ew(e,t,a){e=Ce(e),t=ce(t);var c=t?wr(e):0;return t&&c<t?gs(t-c,a)+e:e}function tw(e,t,a){return a||t==null?t=0:t&&(t=+t),lg(Ce(e).replace(Ka,""),t||0)}function nw(e,t,a){return(a?At(e,t,a):t===r)?t=1:t=ce(t),vl(Ce(e),t)}function iw(){var e=arguments,t=Ce(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var rw=Mr(function(e,t,a){return e+(a?"_":"")+t.toLowerCase()});function ow(e,t,a){return a&&typeof a!="number"&&At(e,t,a)&&(t=a=r),a=a===r?Mn:a>>>0,a?(e=Ce(e),e&&(typeof t=="string"||t!=null&&!Yl(t))&&(t=$t(t),!t&&yr(e))?ci(cn(e),0,a):e.split(t,a)):[]}var sw=Mr(function(e,t,a){return e+(a?" ":"")+Hl(t)});function aw(e,t,a){return e=Ce(e),a=a==null?0:Ei(ce(a),0,e.length),t=$t(t),e.slice(a,a+t.length)==t}function lw(e,t,a){var c=p.templateSettings;a&&At(e,t,a)&&(t=r),e=Ce(e),t=As({},t,c,Sf);var f=As({},t.imports,c.imports,Sf),m=qe(f),g=ol(f,m),y,v,O=0,P=t.interpolate||Wo,F="__p += '",U=al((t.escape||Wo).source+"|"+P.source+"|"+(P===Kc?Wd:Wo).source+"|"+(t.evaluate||Wo).source+"|$","g"),z="//# sourceURL="+(ve.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_h+"]")+`
`;e.replace(U,function(re,me,ge,Yt,It,qt){return ge||(ge=Yt),F+=e.slice(O,qt).replace(Hd,Fh),me&&(y=!0,F+=`' +
__e(`+me+`) +
'`),It&&(v=!0,F+=`';
`+It+`;
__p += '`),ge&&(F+=`' +
((__t = (`+ge+`)) == null ? '' : __t) +
'`),O=qt+re.length,re}),F+=`';
`;var ie=ve.call(t,"variable")&&t.variable;if(!ie)F=`with (obj) {
`+F+`
}
`;else if(Vd.test(ie))throw new ae(l);F=(v?F.replace(Sd,""):F).replace(xd,"$1").replace(Md,"$1;"),F="function("+(ie||"obj")+`) {
`+(ie?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(y?", __e = _.escape":"")+(v?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+F+`return __p
}`;var fe=hp(function(){return ye(m,z+"return "+F).apply(r,g)});if(fe.source=F,Kl(fe))throw fe;return fe}function cw(e){return Ce(e).toLowerCase()}function uw(e){return Ce(e).toUpperCase()}function fw(e,t,a){if(e=Ce(e),e&&(a||t===r))return Su(e);if(!e||!(t=$t(t)))return e;var c=cn(e),f=cn(t),m=xu(c,f),g=Mu(c,f)+1;return ci(c,m,g).join("")}function pw(e,t,a){if(e=Ce(e),e&&(a||t===r))return e.slice(0,Eu(e)+1);if(!e||!(t=$t(t)))return e;var c=cn(e),f=Mu(c,cn(t))+1;return ci(c,0,f).join("")}function mw(e,t,a){if(e=Ce(e),e&&(a||t===r))return e.replace(Ka,"");if(!e||!(t=$t(t)))return e;var c=cn(e),f=xu(c,cn(t));return ci(c,f).join("")}function dw(e,t){var a=H,c=Re;if(Ne(t)){var f="separator"in t?t.separator:f;a="length"in t?ce(t.length):a,c="omission"in t?$t(t.omission):c}e=Ce(e);var m=e.length;if(yr(e)){var g=cn(e);m=g.length}if(a>=m)return e;var y=a-wr(c);if(y<1)return c;var v=g?ci(g,0,y).join(""):e.slice(0,y);if(f===r)return v+c;if(g&&(y+=v.length-y),Yl(f)){if(e.slice(y).search(f)){var O,P=v;for(f.global||(f=al(f.source,Ce(Yc.exec(f))+"g")),f.lastIndex=0;O=f.exec(P);)var F=O.index;v=v.slice(0,F===r?y:F)}}else if(e.indexOf($t(f),y)!=y){var U=v.lastIndexOf(f);U>-1&&(v=v.slice(0,U))}return v+c}function hw(e){return e=Ce(e),e&&Td.test(e)?e.replace(Uc,Kh):e}var gw=Mr(function(e,t,a){return e+(a?" ":"")+t.toUpperCase()}),Hl=gf("toUpperCase");function dp(e,t,a){return e=Ce(e),t=a?r:t,t===r?Vh(e)?jh(e):Nh(e):e.match(t)||[]}var hp=pe(function(e,t){try{return Wt(e,r,t)}catch(a){return Kl(a)?a:new ae(a)}}),_w=Un(function(e,t){return zt(t,function(a){a=An(a),Gn(e,a,Ul(e[a],e))}),e});function yw(e){var t=e==null?0:e.length,a=ne();return e=t?Ie(e,function(c){if(typeof c[1]!="function")throw new Xt(s);return[a(c[0]),c[1]]}):[],pe(function(c){for(var f=-1;++f<t;){var m=e[f];if(Wt(m[0],this,c))return Wt(m[1],this,c)}})}function ww(e){return Kg(Zt(e,_))}function zl(e){return function(){return e}}function bw(e,t){return e==null||e!==e?t:e}var Cw=yf(),vw=yf(!0);function Ft(e){return e}function Xl(e){return ju(typeof e=="function"?e:Zt(e,_))}function Sw(e){return zu(Zt(e,_))}function xw(e,t){return Xu(e,Zt(t,_))}var Mw=pe(function(e,t){return function(a){return oo(a,e,t)}}),Tw=pe(function(e,t){return function(a){return oo(e,a,t)}});function Jl(e,t,a){var c=qe(t),f=cs(t,c);a==null&&!(Ne(t)&&(f.length||!c.length))&&(a=t,t=e,e=this,f=cs(t,qe(t)));var m=!(Ne(a)&&"chain"in a)||!!a.chain,g=Kn(e);return zt(f,function(y){var v=t[y];e[y]=v,g&&(e.prototype[y]=function(){var O=this.__chain__;if(m||O){var P=e(this.__wrapped__),F=P.__actions__=Rt(this.__actions__);return F.push({func:v,args:arguments,thisArg:e}),P.__chain__=O,P}return v.apply(e,ni([this.value()],arguments))})}),e}function Ew(){return Ye._===this&&(Ye._=Qh),this}function Zl(){}function Aw(e){return e=ce(e),pe(function(t){return Ju(t,e)})}var Iw=Il(Ie),Nw=Il(yu),Ow=Il(el);function gp(e){return Dl(e)?tl(An(e)):a0(e)}function Pw(e){return function(t){return e==null?r:Ai(e,t)}}var Lw=bf(),Rw=bf(!0);function Ql(){return[]}function ec(){return!1}function kw(){return{}}function Dw(){return""}function Fw(){return!0}function Bw(e,t){if(e=ce(e),e<1||e>ei)return[];var a=Mn,c=He(e,Mn);t=ne(t),e-=Mn;for(var f=rl(c,t);++a<e;)t(a);return f}function Vw(e){return le(e)?Ie(e,An):Kt(e)?[e]:Rt(Df(Ce(e)))}function Gw(e){var t=++Jh;return Ce(e)+t}var Ww=hs(function(e,t){return e+t},0),Uw=Nl("ceil"),$w=hs(function(e,t){return e/t},1),Kw=Nl("floor");function Yw(e){return e&&e.length?ls(e,Ft,hl):r}function qw(e,t){return e&&e.length?ls(e,ne(t,2),hl):r}function jw(e){return Cu(e,Ft)}function Hw(e,t){return Cu(e,ne(t,2))}function zw(e){return e&&e.length?ls(e,Ft,wl):r}function Xw(e,t){return e&&e.length?ls(e,ne(t,2),wl):r}var Jw=hs(function(e,t){return e*t},1),Zw=Nl("round"),Qw=hs(function(e,t){return e-t},0);function eb(e){return e&&e.length?il(e,Ft):0}function tb(e,t){return e&&e.length?il(e,ne(t,2)):0}return p.after=Sy,p.ary=jf,p.assign=u1,p.assignIn=ap,p.assignInWith=As,p.assignWith=f1,p.at=p1,p.before=Hf,p.bind=Ul,p.bindAll=_w,p.bindKey=zf,p.castArray=ky,p.chain=Kf,p.chunk=K0,p.compact=Y0,p.concat=q0,p.cond=yw,p.conforms=ww,p.constant=zl,p.countBy=ey,p.create=m1,p.curry=Xf,p.curryRight=Jf,p.debounce=Zf,p.defaults=d1,p.defaultsDeep=h1,p.defer=xy,p.delay=My,p.difference=j0,p.differenceBy=H0,p.differenceWith=z0,p.drop=X0,p.dropRight=J0,p.dropRightWhile=Z0,p.dropWhile=Q0,p.fill=e_,p.filter=ny,p.flatMap=oy,p.flatMapDeep=sy,p.flatMapDepth=ay,p.flatten=Gf,p.flattenDeep=t_,p.flattenDepth=n_,p.flip=Ty,p.flow=Cw,p.flowRight=vw,p.fromPairs=i_,p.functions=v1,p.functionsIn=S1,p.groupBy=ly,p.initial=o_,p.intersection=s_,p.intersectionBy=a_,p.intersectionWith=l_,p.invert=M1,p.invertBy=T1,p.invokeMap=uy,p.iteratee=Xl,p.keyBy=fy,p.keys=qe,p.keysIn=Dt,p.map=vs,p.mapKeys=A1,p.mapValues=I1,p.matches=Sw,p.matchesProperty=xw,p.memoize=xs,p.merge=N1,p.mergeWith=lp,p.method=Mw,p.methodOf=Tw,p.mixin=Jl,p.negate=Ms,p.nthArg=Aw,p.omit=O1,p.omitBy=P1,p.once=Ey,p.orderBy=py,p.over=Iw,p.overArgs=Ay,p.overEvery=Nw,p.overSome=Ow,p.partial=$l,p.partialRight=Qf,p.partition=my,p.pick=L1,p.pickBy=cp,p.property=gp,p.propertyOf=Pw,p.pull=p_,p.pullAll=Uf,p.pullAllBy=m_,p.pullAllWith=d_,p.pullAt=h_,p.range=Lw,p.rangeRight=Rw,p.rearg=Iy,p.reject=gy,p.remove=g_,p.rest=Ny,p.reverse=Gl,p.sampleSize=yy,p.set=k1,p.setWith=D1,p.shuffle=wy,p.slice=__,p.sortBy=vy,p.sortedUniq=x_,p.sortedUniqBy=M_,p.split=ow,p.spread=Oy,p.tail=T_,p.take=E_,p.takeRight=A_,p.takeRightWhile=I_,p.takeWhile=N_,p.tap=Y_,p.throttle=Py,p.thru=Cs,p.toArray=rp,p.toPairs=up,p.toPairsIn=fp,p.toPath=Vw,p.toPlainObject=sp,p.transform=F1,p.unary=Ly,p.union=O_,p.unionBy=P_,p.unionWith=L_,p.uniq=R_,p.uniqBy=k_,p.uniqWith=D_,p.unset=B1,p.unzip=Wl,p.unzipWith=$f,p.update=V1,p.updateWith=G1,p.values=Ar,p.valuesIn=W1,p.without=F_,p.words=dp,p.wrap=Ry,p.xor=B_,p.xorBy=V_,p.xorWith=G_,p.zip=W_,p.zipObject=U_,p.zipObjectDeep=$_,p.zipWith=K_,p.entries=up,p.entriesIn=fp,p.extend=ap,p.extendWith=As,Jl(p,p),p.add=Ww,p.attempt=hp,p.camelCase=Y1,p.capitalize=pp,p.ceil=Uw,p.clamp=U1,p.clone=Dy,p.cloneDeep=By,p.cloneDeepWith=Vy,p.cloneWith=Fy,p.conformsTo=Gy,p.deburr=mp,p.defaultTo=bw,p.divide=$w,p.endsWith=q1,p.eq=fn,p.escape=j1,p.escapeRegExp=H1,p.every=ty,p.find=iy,p.findIndex=Bf,p.findKey=g1,p.findLast=ry,p.findLastIndex=Vf,p.findLastKey=_1,p.floor=Kw,p.forEach=Yf,p.forEachRight=qf,p.forIn=y1,p.forInRight=w1,p.forOwn=b1,p.forOwnRight=C1,p.get=ql,p.gt=Wy,p.gte=Uy,p.has=x1,p.hasIn=jl,p.head=Wf,p.identity=Ft,p.includes=cy,p.indexOf=r_,p.inRange=$1,p.invoke=E1,p.isArguments=Oi,p.isArray=le,p.isArrayBuffer=$y,p.isArrayLike=kt,p.isArrayLikeObject=ke,p.isBoolean=Ky,p.isBuffer=ui,p.isDate=Yy,p.isElement=qy,p.isEmpty=jy,p.isEqual=Hy,p.isEqualWith=zy,p.isError=Kl,p.isFinite=Xy,p.isFunction=Kn,p.isInteger=ep,p.isLength=Ts,p.isMap=tp,p.isMatch=Jy,p.isMatchWith=Zy,p.isNaN=Qy,p.isNative=e1,p.isNil=n1,p.isNull=t1,p.isNumber=np,p.isObject=Ne,p.isObjectLike=Pe,p.isPlainObject=fo,p.isRegExp=Yl,p.isSafeInteger=i1,p.isSet=ip,p.isString=Es,p.isSymbol=Kt,p.isTypedArray=Er,p.isUndefined=r1,p.isWeakMap=o1,p.isWeakSet=s1,p.join=c_,p.kebabCase=z1,p.last=en,p.lastIndexOf=u_,p.lowerCase=X1,p.lowerFirst=J1,p.lt=a1,p.lte=l1,p.max=Yw,p.maxBy=qw,p.mean=jw,p.meanBy=Hw,p.min=zw,p.minBy=Xw,p.stubArray=Ql,p.stubFalse=ec,p.stubObject=kw,p.stubString=Dw,p.stubTrue=Fw,p.multiply=Jw,p.nth=f_,p.noConflict=Ew,p.noop=Zl,p.now=Ss,p.pad=Z1,p.padEnd=Q1,p.padStart=ew,p.parseInt=tw,p.random=K1,p.reduce=dy,p.reduceRight=hy,p.repeat=nw,p.replace=iw,p.result=R1,p.round=Zw,p.runInContext=C,p.sample=_y,p.size=by,p.snakeCase=rw,p.some=Cy,p.sortedIndex=y_,p.sortedIndexBy=w_,p.sortedIndexOf=b_,p.sortedLastIndex=C_,p.sortedLastIndexBy=v_,p.sortedLastIndexOf=S_,p.startCase=sw,p.startsWith=aw,p.subtract=Qw,p.sum=eb,p.sumBy=tb,p.template=lw,p.times=Bw,p.toFinite=Yn,p.toInteger=ce,p.toLength=op,p.toLower=cw,p.toNumber=tn,p.toSafeInteger=c1,p.toString=Ce,p.toUpper=uw,p.trim=fw,p.trimEnd=pw,p.trimStart=mw,p.truncate=dw,p.unescape=hw,p.uniqueId=Gw,p.upperCase=gw,p.upperFirst=Hl,p.each=Yf,p.eachRight=qf,p.first=Wf,Jl(p,function(){var e={};return Tn(p,function(t,a){ve.call(p.prototype,a)||(e[a]=t)}),e}(),{chain:!1}),p.VERSION=i,zt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),zt(["drop","take"],function(e,t){de.prototype[e]=function(a){a=a===r?1:We(ce(a),0);var c=this.__filtered__&&!t?new de(this):this.clone();return c.__filtered__?c.__takeCount__=He(a,c.__takeCount__):c.__views__.push({size:He(a,Mn),type:e+(c.__dir__<0?"Right":"")}),c},de.prototype[e+"Right"]=function(a){return this.reverse()[e](a).reverse()}}),zt(["filter","map","takeWhile"],function(e,t){var a=t+1,c=a==Oe||a==pd;de.prototype[e]=function(f){var m=this.clone();return m.__iteratees__.push({iteratee:ne(f,3),type:a}),m.__filtered__=m.__filtered__||c,m}}),zt(["head","last"],function(e,t){var a="take"+(t?"Right":"");de.prototype[e]=function(){return this[a](1).value()[0]}}),zt(["initial","tail"],function(e,t){var a="drop"+(t?"":"Right");de.prototype[e]=function(){return this.__filtered__?new de(this):this[a](1)}}),de.prototype.compact=function(){return this.filter(Ft)},de.prototype.find=function(e){return this.filter(e).head()},de.prototype.findLast=function(e){return this.reverse().find(e)},de.prototype.invokeMap=pe(function(e,t){return typeof e=="function"?new de(this):this.map(function(a){return oo(a,e,t)})}),de.prototype.reject=function(e){return this.filter(Ms(ne(e)))},de.prototype.slice=function(e,t){e=ce(e);var a=this;return a.__filtered__&&(e>0||t<0)?new de(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),t!==r&&(t=ce(t),a=t<0?a.dropRight(-t):a.take(t-e)),a)},de.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},de.prototype.toArray=function(){return this.take(Mn)},Tn(de.prototype,function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),c=/^(?:head|last)$/.test(t),f=p[c?"take"+(t=="last"?"Right":""):t],m=c||/^find/.test(t);f&&(p.prototype[t]=function(){var g=this.__wrapped__,y=c?[1]:arguments,v=g instanceof de,O=y[0],P=v||le(g),F=function(me){var ge=f.apply(p,ni([me],y));return c&&U?ge[0]:ge};P&&a&&typeof O=="function"&&O.length!=1&&(v=P=!1);var U=this.__chain__,z=!!this.__actions__.length,ie=m&&!U,fe=v&&!z;if(!m&&P){g=fe?g:new de(this);var re=e.apply(g,y);return re.__actions__.push({func:Cs,args:[F],thisArg:r}),new Jt(re,U)}return ie&&fe?e.apply(this,y):(re=this.thru(F),ie?c?re.value()[0]:re.value():re)})}),zt(["pop","push","shift","sort","splice","unshift"],function(e){var t=jo[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",c=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var f=arguments;if(c&&!this.__chain__){var m=this.value();return t.apply(le(m)?m:[],f)}return this[a](function(g){return t.apply(le(g)?g:[],f)})}}),Tn(de.prototype,function(e,t){var a=p[t];if(a){var c=a.name+"";ve.call(vr,c)||(vr[c]=[]),vr[c].push({name:t,func:a})}}),vr[ds(r,M).name]=[{name:"wrapper",func:r}],de.prototype.clone=hg,de.prototype.reverse=gg,de.prototype.value=_g,p.prototype.at=q_,p.prototype.chain=j_,p.prototype.commit=H_,p.prototype.next=z_,p.prototype.plant=J_,p.prototype.reverse=Z_,p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=Q_,p.prototype.first=p.prototype.head,Zr&&(p.prototype[Zr]=X_),p},ri=Hh();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ye._=ri,define(function(){return ri})):Si?((Si.exports=ri)._=ri,Xa._=ri):Ye._=ri}).call(Lr)});var $s={name:"default-section",thickness:1};var mm={name:"default-material",modulusOfElasticity:21e10,poissonsRatio:.3,weight:78.5};var hm=tc(dm());var On=class r{destroyed$=new wp;ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static \u0275fac=function(n){return new(n||r)};static \u0275dir=Ap({type:r})};var jn=class r{static stringify(i,n=""){return r._stringifyInternal(i,n,!0)}static stringifyRaw(i,n=""){return r._stringifyInternal(i,n,!1)}static parse(i){return r._parseInternal(i,!0)}static parseRaw(i){return r._parseInternal(i,!1)}static _stringifyInternal(i,n,o){let s=[];for(let l of Object.keys(i)){let u=i[l],d=n?`${n}[${l}]`:l;if(Array.isArray(u))u.forEach((h,_)=>{let T=`${d}[${_}]`;if(h!==null&&typeof h=="object")s.push(r._stringifyInternal(h,T,o));else{let x=o?encodeURIComponent(T):T,S=o?encodeURIComponent(String(h)):String(h);s.push(`${x}=${S}`)}});else if(u!==null&&typeof u=="object")s.push(r._stringifyInternal(u,d,o));else{let h=o?encodeURIComponent(d):d,_=o?encodeURIComponent(String(u)):String(u);s.push(`${h}=${_}`)}}return s.join(`&
`)}static _parseInternal(i,n){let o={};if(!i)return o;let l=i.replace(/(\r\n|\n|\r)/gm,"").split("&").map(u=>u.trim()).filter(u=>u);for(let u of l){let[d,h]=u.split("=");if(!d)continue;let _=n?decodeURIComponent(d):d,T=n?decodeURIComponent(h||""):h||"";r.assignNested(o,_,T)}return o}static assignNested(i,n,o){let s=n.split(/\[|\]/).filter(u=>u!==""),l=i;for(let u=0;u<s.length;u++){let d=s[u],h=u===s.length-1,_=isNaN(Number(d))?d:Number(d);h?l[_]=r.parseValue(o):(_ in l||(l[_]=typeof s[u+1]=="number"||!isNaN(Number(s[u+1]))?[]:{}),l=l[_])}}static parseValue(i){return i==="true"?!0:i==="false"?!1:!isNaN(Number(i))&&i.trim()!==""?Number(i):i}};var ob=()=>["0","1","2","3","4","5","6","7","8"];function sb(r,i){if(r&1){let n=Ue();oe(0,"div",14),b(1,"div",3)(2,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.x,s)||(l.x=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(3,"div",3)(4,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.y,s)||(l.y=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(5,"div",3)(6,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.radius,s)||(l.radius=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(7,"div",3)(8,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.maxArea,s)||(l.maxArea=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),oe(9,"div",3),b(10,"div",14)(11,"p-button",28),G("onClick",function(){let s=k(n).$index,l=W();return D(l.removeRefinementPoint(s))}),w()()}if(r&2){let n=i.$implicit;R(2),X("ngModel",n.x),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.y),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.radius),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.maxArea),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(3),q("outlined",!0)}}function ab(r,i){if(r&1){let n=Ue();b(0,"div",14)(1,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.x,s)||(l.x=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(2,"div",14)(3,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.y,s)||(l.y=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(4,"div",3)(5,"input",29),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.name,s)||(l.name=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),oe(6,"div",22),b(7,"div",14)(8,"p-button",28),G("onClick",function(){let s=k(n).$index,l=W();return D(l.removeResultPoint(s))}),w()()}if(r&2){let n=i.$implicit;R(),X("ngModel",n.x),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.y),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.name),R(3),q("outlined",!0)}}function lb(r,i){if(r&1){let n=Ue();b(0,"div",3)(1,"input",29),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.name,s)||(l.name=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(2,"div",15)(3,"p-inputnumber",30),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.modulusOfElasticity,s)||(l.modulusOfElasticity=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(4,"div",3)(5,"p-inputnumber",30),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.weight,s)||(l.weight=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(6,"div",3)(7,"p-inputnumber",31),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.poissonsRatio,s)||(l.poissonsRatio=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),oe(8,"div",3),b(9,"div",14)(10,"p-button",32),G("onClick",function(){let s=k(n).$index,l=W();return D(l.removeMaterialAndThickeness(s))}),w()()}if(r&2){let n=i.$implicit,o=W();R(),X("ngModel",n.name),R(2),X("ngModel",n.modulusOfElasticity),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1)("min",1e-5),R(2),X("ngModel",n.weight),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1)("min",1e-5),R(2),X("ngModel",n.poissonsRatio),q("showButtons",!1)("min",1e-5)("minFractionDigits",1)("max",1)("step",.1),R(3),q("outlined",!0)("disabled",o.model.materials.length<=1)}}function cb(r,i){if(r&1){let n=Ue();b(0,"div",3)(1,"p-inputnumber",30),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.thickness,s)||(l.thickness=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(2,"div",3)(3,"input",29),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.name,s)||(l.name=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),oe(4,"div",22),b(5,"div",14)(6,"p-button",32),G("onClick",function(){let s=k(n).$index,l=W();return D(l.removeMaterialAndThickeness(s))}),w()()}if(r&2){let n=i.$implicit,o=W();R(),X("ngModel",n.thickness),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1)("min",1e-5),R(2),X("ngModel",n.name),R(3),q("outlined",!0)("disabled",o.model.sectionProperties.length<=1)}}function ub(r,i){if(r&1){let n=Ue();b(0,"div",14)(1,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.x,s)||(l.x=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(2,"div",14)(3,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.y,s)||(l.y=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(4,"div",14)(5,"p-inputnumber",30),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.width,s)||(l.width=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(6,"div",14)(7,"p-inputnumber",33),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.height,s)||(l.height=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(8,"div",3)(9,"p-select",34),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.sectionName,s)||(l.sectionName=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(10,"div",3)(11,"p-select",34),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.materialName,s)||(l.materialName=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(12,"div",3)(13,"input",29),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.name,s)||(l.name=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),oe(14,"div",14),b(15,"div",14)(16,"p-button",28),G("onClick",function(){let s=k(n).$index,l=W();return D(l.removeRectangleGeometry(s))}),w()()}if(r&2){let n=i.$implicit,o=W();R(),X("ngModel",n.x),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.y),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.width),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1)("min",1e-5),R(2),X("ngModel",n.height),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1)("min",1e-5),R(2),q("options",o.model.sectionProperties),X("ngModel",n.sectionName),R(2),q("options",o.model.materials),X("ngModel",n.materialName),R(2),X("ngModel",n.name),R(3),q("outlined",!0)}}function fb(r,i){if(r&1){let n=Ue();b(0,"div",5)(1,"input",29),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.points,s)||(l.points=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(2,"div",3)(3,"p-select",34),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.sectionName,s)||(l.sectionName=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(4,"div",3)(5,"p-select",34),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.materialName,s)||(l.materialName=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(6,"div",3)(7,"input",29),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.name,s)||(l.name=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),oe(8,"div",14),b(9,"div",14)(10,"p-button",28),G("onClick",function(){let s=k(n).$index,l=W();return D(l.removePolygonGeometry(s))}),w()()}if(r&2){let n=i.$implicit,o=W();R(),X("ngModel",n.points),R(2),q("options",o.model.sectionProperties),X("ngModel",n.sectionName),R(2),q("options",o.model.materials),X("ngModel",n.materialName),R(2),X("ngModel",n.name),R(3),q("outlined",!0)}}function pb(r,i){if(r&1){let n=Ue();b(0,"div",3)(1,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.x,s)||(l.x=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(2,"div",3)(3,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.y,s)||(l.y=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(4,"div",14)(5,"p-checkbox",35),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.fixedX,s)||(l.fixedX=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),b(6,"div",14)(7,"p-checkbox",35),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.fixedY,s)||(l.fixedY=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),oe(8,"div",25),b(9,"div",14)(10,"p-button",32),G("onClick",function(){let s=k(n).$index,l=W();return D(l.removeRestraint(s))}),w()()}if(r&2){let n=i.$implicit,o=W();R(),X("ngModel",n.x),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.y),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.fixedX),q("binary",!0),R(2),X("ngModel",n.fixedY),q("binary",!0),R(3),q("outlined",!0)("disabled",o.model.supports.length<=1)}}function mb(r,i){if(r&1){let n=Ue();b(0,"div",41)(1,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.x,s)||(l.x=s),D(s)}),G("ngModelChange",function(){k(n);let s=W(2);return D(s.onChange())}),w()(),b(2,"div",3)(3,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.y,s)||(l.y=s),D(s)}),G("ngModelChange",function(){k(n);let s=W(2);return D(s.onChange())}),w()(),b(4,"div",3)(5,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.fx,s)||(l.fx=s),D(s)}),G("ngModelChange",function(){k(n);let s=W(2);return D(s.onChange())}),w()(),b(6,"div",3)(7,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.fy,s)||(l.fy=s),D(s)}),G("ngModelChange",function(){k(n);let s=W(2);return D(s.onChange())}),w()(),oe(8,"div",3),b(9,"div",14)(10,"p-button",28),G("onClick",function(){let s=k(n).$index,l=W().$index,u=W();return D(u.removePointLoad(l,s))}),w()()}if(r&2){let n=i.$implicit;R(),X("ngModel",n.x),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.y),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.fx),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.fy),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(3),q("outlined",!0)}}function db(r,i){if(r&1){let n=Ue();b(0,"div",42)(1,"p-select",45),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.geometryName,s)||(l.geometryName=s),D(s)}),G("ngModelChange",function(){k(n);let s=W(2);return D(s.onChange())}),w()(),b(2,"div",3)(3,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.fx,s)||(l.fx=s),D(s)}),G("ngModelChange",function(){k(n);let s=W(2);return D(s.onChange())}),w()(),b(4,"div",3)(5,"p-inputnumber",27),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.fy,s)||(l.fy=s),D(s)}),G("ngModelChange",function(){k(n);let s=W(2);return D(s.onChange())}),w()(),oe(6,"div",15),b(7,"div",14)(8,"p-button",28),G("onClick",function(){let s=k(n).$index,l=W().$index,u=W();return D(u.removeDistributedLoad(l,s))}),w()()}if(r&2){let n=i.$implicit,o=W(2);R(),q("options",o.geometries),X("ngModel",n.geometryName),R(2),X("ngModel",n.fx),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),X("ngModel",n.fy),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(3),q("outlined",!0)}}function hb(r,i){if(r&1){let n=Ue();b(0,"div",15)(1,"input",29),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.name,s)||(l.name=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),oe(2,"div",12),b(3,"div",14)(4,"p-button",32),G("onClick",function(){let s=k(n).$index,l=W();return D(l.removeLoadCase(s))}),w()(),b(5,"div",36)(6,"div",37)(7,"p",4),B(8,"Dead Load"),w()(),b(9,"div",14)(10,"p-toggleswitch",38),Z("ngModelChange",function(s){let l=k(n).$implicit;return J(l.includeDeadLoad,s)||(l.includeDeadLoad=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w()(),oe(11,"div",12),b(12,"div",39)(13,"p",4),B(14,"Point loads"),w()(),oe(15,"div",40),b(16,"div",41)(17,"p",4),B(18,"X"),w()(),b(19,"div",3)(20,"p",4),B(21,"Y"),w()(),b(22,"div",3)(23,"p",4),B(24,"FX"),w()(),b(25,"div",3)(26,"p",4),B(27,"FY"),w()(),oe(28,"div",5),Ot(29,mb,11,17,null,null,Nt),b(31,"div",42)(32,"p-button",43),G("onClick",function(){let s=k(n).$index,l=W();return D(l.addPointLoad(s))}),w()()(),b(33,"div",36)(34,"div",39)(35,"p",4),B(36,"Distributed loads"),w()(),oe(37,"div",40),b(38,"div",42)(39,"p",4),B(40,"Geometry name"),w()(),b(41,"div",3)(42,"p",4),B(43,"FX"),w()(),b(44,"div",3)(45,"p",4),B(46,"FY"),w()(),oe(47,"div",15),Ot(48,db,9,11,null,null,Nt),b(50,"div",42)(51,"p-button",44),G("onClick",function(){let s=k(n).$index,l=W();return D(l.addDistributedLoad(s))}),w()()()}if(r&2){let n=i.$implicit,o=W();R(),X("ngModel",n.name),R(3),q("outlined",!0)("disabled",o.model.loadCases.length<=1),R(6),X("ngModel",n.includeDeadLoad),R(19),Pt(n.pointLoads),R(19),Pt(n.distributedLoads)}}var Ks=class r extends On{membraneMessageService=Ae(mi);membraneService=Ae(Nr);detector=Ae(rn);route=Ae(Bp);ngOnInit(){this.membraneMessageService.updateGeometry(this.model),this.membraneMessageService.geometryChanged.pipe(nn(this.destroyed$)).subscribe(i=>{this.model=i,this.detector.detectChanges()}),this.route.queryParamMap.subscribe(i=>{if(i.keys.length===0)return;let n=i.keys.map(s=>`${s}=${i.get(s)}`).join("&"),o=jn.parseRaw(n||"");this.membraneService.updateGeometry(o)})}rectangles=["0,0,300,100,rec1","300,300,100,100,rec2"];model={solverConfiguration:{solverType:"lusolve"},meshingConfiguration:{maxTriangleArea:.05,refinementPoints:[{x:0,y:0,radius:.4,maxArea:.01},{x:1.5,y:0,radius:.4,maxArea:.01},{x:2,y:1,radius:.4,maxArea:.005}]},resultPoints:[{x:1,y:.5,name:"p1"}],sectionProperties:[Pi({},$s),yp(Pi({},$s),{name:"thickness-2",thickness:.5})],materials:[Pi({},mm)],rectangles:[{name:"geo1",x:0,y:0,width:2,height:1,sectionName:"default-section",materialName:"default-material"},{name:"geo2",x:3,y:1,width:2,height:2,sectionName:"default-section",materialName:"default-material"},{name:"geo3",x:6,y:0,width:2,height:1,sectionName:"default-section",materialName:"default-material"},{name:"geo4",x:3.45,y:3,width:1,height:.28,sectionName:"default-section",materialName:"default-material"}],polygons:[{name:"pol1",points:"2,0 3,1 3,3 2,1",sectionName:"default-section",materialName:"default-material"},{name:"pol2",points:"5,1 6,0 6,1 5,3",sectionName:"default-section",materialName:"default-material"}],supports:[{x:2,y:0,fixedX:!0,fixedY:!0},{x:6,y:0,fixedX:!1,fixedY:!0}],loadCases:[{name:"loadCase1",includeDeadLoad:!1,pointLoads:[{x:1,y:.48,fx:0,fy:0},{x:2,y:0,fx:0,fy:-1}],distributedLoads:[{geometryName:"geo1",fx:0,fy:-.5}]},{name:"loadCase2",includeDeadLoad:!1,pointLoads:[{x:.72,y:.5,fx:0,fy:0},{x:.5,y:.54,fx:0,fy:0}],distributedLoads:[{geometryName:"geo2",fx:0,fy:-1},{geometryName:"geo2",fx:0,fy:-1}]}]};get geometries(){let i=this.model.rectangles.map(o=>o.name),n=this.model.polygons?.map(o=>o.name)??[];return hm.uniq([...i,...n])}removeMaterialAndThickeness(i){return Se(this,null,function*(){this.model.sectionProperties.splice(i,1),yield this.onChange()})}addMaterialAndThickeness(){return Se(this,null,function*(){this.model.sectionProperties.push(Pi({},$s)),yield this.onChange()})}addResultPoint(){return Se(this,null,function*(){this.model.resultPoints.push({x:0,y:0,name:`p${this.model.resultPoints.length+1}`}),yield this.onChange()})}removeRectangleGeometry(i){return Se(this,null,function*(){this.model.rectangles.splice(i,1),yield this.onChange()})}removePolygonGeometry(i){return Se(this,null,function*(){this.model.polygons.splice(i,1),yield this.onChange()})}removeResultPoint(i){return Se(this,null,function*(){this.model.resultPoints.splice(i,1),yield this.onChange()})}addRectangleGeometry(){return Se(this,null,function*(){this.model.rectangles.push(Pi({},Zp)),yield this.onChange()})}addPolygonGeometry(){return Se(this,null,function*(){this.model.polygons.push(Pi({},Jp)),yield this.onChange()})}removeRestraint(i){return Se(this,null,function*(){this.model.supports.splice(i,1),yield this.onChange()})}removeRefinementPoint(i){return Se(this,null,function*(){this.model.meshingConfiguration.refinementPoints.splice(i,1),yield this.onChange()})}addRefinementPoint(){return Se(this,null,function*(){this.model.meshingConfiguration.refinementPoints.push({x:0,y:0,radius:.1,maxArea:.001}),yield this.onChange()})}addRestraint(){return Se(this,null,function*(){this.model.supports.push({x:0,y:0,fixedX:!0,fixedY:!0}),yield this.onChange()})}addLoadCase(){return Se(this,null,function*(){this.model.loadCases.push({name:`loadCase${this.model.loadCases.length+1}`,pointLoads:[],distributedLoads:[],includeDeadLoad:!1}),yield this.onChange()})}removeLoadCase(i){return Se(this,null,function*(){this.model.loadCases.splice(i,1),yield this.onChange()})}addPointLoad(i){return Se(this,null,function*(){this.model.loadCases[i].pointLoads.push({x:0,y:0,fx:0,fy:0}),yield this.onChange()})}removePointLoad(i,n){return Se(this,null,function*(){this.model.loadCases[i].pointLoads.splice(n,1),yield this.onChange()})}addDistributedLoad(i){return Se(this,null,function*(){this.model.loadCases[i].distributedLoads.push({geometryName:"",fx:0,fy:0}),yield this.onChange()})}removeDistributedLoad(i,n){return Se(this,null,function*(){this.model.loadCases[i].distributedLoads.splice(n,1),yield this.onChange()})}onChange(){return Se(this,null,function*(){yield Promise.resolve(),this.membraneService.updateGeometry(this.model),this.detector.detectChanges()})}static \u0275fac=(()=>{let i;return function(o){return(i||(i=fi(r)))(o||r)}})();static \u0275cmp=Xe({type:r,selectors:[["app-geometry"]],features:[pi],decls:210,vars:8,consts:[[3,"value","multiple"],["value","0"],[1,"grid","grid-cols-12","gap-2","auto-rows-max","mt-1","mb-1"],[1,"col-span-2"],[1,"font-semibold"],[1,"col-span-4"],["name","lusolve1","value","lusolve","inputId","lusolve1",3,"ngModelChange","ngModel"],["for","lusolve1",1,"ml-2"],["name","iterative1","value","iterative","inputId","iterative",3,"ngModelChange","ngModel"],["for","iterative1",1,"ml-2"],["value","1"],["mode","decimal",3,"ngModelChange","ngModel","maxFractionDigits","showButtons"],[1,"col-span-8"],[1,"col-span-12"],[1,"col-span-1"],[1,"col-span-3"],[1,"col-span-1","col-start-2"],["severity","secondary","size","small","icon","pi pi-plus","label","Add",3,"onClick"],["value","5"],[1,"mt-2"],["value","3"],["value","4"],[1,"col-span-7"],["value","6"],["value","7"],[1,"col-span-5"],["value","8"],["mode","decimal",3,"ngModelChange","ngModel","minFractionDigits","maxFractionDigits","showButtons"],["severity","secondary","icon","pi pi-times","severity","danger",3,"onClick","outlined"],["type","text","pInputText","",3,"ngModelChange","ngModel"],["mode","decimal",3,"ngModelChange","ngModel","minFractionDigits","maxFractionDigits","showButtons","min"],["mode","decimal",3,"ngModelChange","ngModel","showButtons","min","minFractionDigits","max","step"],["severity","secondary","icon","pi pi-times","severity","danger",3,"onClick","outlined","disabled"],[3,"ngModelChange","ngModel","minFractionDigits","maxFractionDigits","showButtons","min"],["optionLabel","name","placeholder","Select material and thickness","optionValue","name",3,"ngModelChange","options","ngModel"],[3,"ngModelChange","ngModel","binary"],[1,"col-span-12","grid","grid-cols-subgrid","gap-2"],[1,"col-start-2","col-span-2"],[3,"ngModelChange","ngModel"],[1,"col-span-4","col-start-2"],[1,"col-span-6"],[1,"col-span-2","col-start-2"],[1,"col-span-3","col-start-2"],["severity","secondary","icon","pi pi-plus","size","small","label","Add point load",3,"onClick"],["severity","secondary","size","small","icon","pi pi-plus","label","Add distributed load",3,"onClick"],["placeholder","Select geometry",3,"ngModelChange","options","ngModel"]],template:function(n,o){n&1&&(b(0,"p-accordion",0)(1,"p-accordion-panel",1)(2,"p-accordion-header"),B(3,"Solver Configuration"),w(),b(4,"p-accordion-content")(5,"p-fluid")(6,"div",2)(7,"div",3)(8,"p",4),B(9,"Solver type"),w()(),b(10,"div",5)(11,"p-radiobutton",6),Z("ngModelChange",function(l){return J(o.model.solverConfiguration.solverType,l)||(o.model.solverConfiguration.solverType=l),l}),G("ngModelChange",function(){return o.onChange()}),w(),b(12,"label",7),B(13,"Lu Solve"),w()(),b(14,"div",5)(15,"p-radiobutton",8),Z("ngModelChange",function(l){return J(o.model.solverConfiguration.solverType,l)||(o.model.solverConfiguration.solverType=l),l}),G("ngModelChange",function(){return o.onChange()}),w(),b(16,"label",9),B(17,"Iterative"),w()(),oe(18,"div",3),w()()()(),b(19,"p-accordion-panel",10)(20,"p-accordion-header"),B(21,"Meshing Configuration"),w(),b(22,"p-accordion-content")(23,"p-fluid")(24,"div",2)(25,"div",3)(26,"p",4),B(27,"Max mesh size"),w()(),b(28,"div",3)(29,"p-inputnumber",11),Z("ngModelChange",function(l){return J(o.model.meshingConfiguration.maxTriangleArea,l)||(o.model.meshingConfiguration.maxTriangleArea=l),l}),G("ngModelChange",function(){return o.onChange()}),w()(),oe(30,"div",12),b(31,"div",13)(32,"p",4),B(33,"Refinement Points"),w()(),oe(34,"div",14),b(35,"div",3)(36,"p",4),B(37,"X"),w()(),b(38,"div",3)(39,"p",4),B(40,"Y"),w()(),b(41,"div",3)(42,"p",4),B(43,"Radious"),w()(),b(44,"div",3)(45,"p",4),B(46,"Max mesh size"),w()(),oe(47,"div",15),Ot(48,sb,12,17,null,null,Nt),b(50,"div",16)(51,"p-button",17),G("onClick",function(){return o.addRefinementPoint()}),w()()()()()(),b(52,"p-accordion-panel",18)(53,"p-accordion-header"),B(54,"Result points"),w(),b(55,"p-accordion-content")(56,"p-fluid")(57,"div",2)(58,"div",14)(59,"p",4),B(60,"x"),w()(),b(61,"div",14)(62,"p",4),B(63,"y"),w()(),b(64,"div",3)(65,"p",4),B(66,"Name"),w()(),oe(67,"div",12),Ot(68,ab,9,10,null,null,Nt),w()(),b(70,"div",19)(71,"p-button",17),G("onClick",function(){return o.addResultPoint()}),w()()()(),b(72,"p-accordion-panel",20)(73,"p-accordion-header"),B(74,"Material"),w(),b(75,"p-accordion-content")(76,"p-fluid")(77,"div",2)(78,"div",3)(79,"p",4),B(80,"Name"),w()(),b(81,"div",15)(82,"p",4),B(83,"Modulus of elasticity"),w()(),b(84,"div",3)(85,"p",4),B(86,"Weight"),w()(),b(87,"div",3)(88,"p",4),B(89,"Poison's ratio"),w()(),oe(90,"div",3)(91,"div",14),Ot(92,lb,11,19,null,null,Nt),w()(),b(94,"div",19)(95,"p-button",17),G("onClick",function(){return o.addMaterialAndThickeness()}),w()()()(),b(96,"p-accordion-panel",21)(97,"p-accordion-header"),B(98,"Section"),w(),b(99,"p-accordion-content")(100,"p-fluid")(101,"div",2)(102,"div",3)(103,"p",4),B(104,"Thickness"),w()(),b(105,"div",3)(106,"p",4),B(107,"Name"),w()(),oe(108,"div",22)(109,"div",14),Ot(110,cb,7,8,null,null,Nt),w()(),b(112,"div",19)(113,"p-button",17),G("onClick",function(){return o.addMaterialAndThickeness()}),w()()()(),b(114,"p-accordion-panel",18)(115,"p-accordion-header"),B(116,"Rectangle geometry"),w(),b(117,"p-accordion-content")(118,"p-fluid")(119,"div",2)(120,"div",14)(121,"p",4),B(122,"x0"),w()(),b(123,"div",14)(124,"p",4),B(125,"y0"),w()(),b(126,"div",14)(127,"p",4),B(128,"Width"),w()(),b(129,"div",14)(130,"p",4),B(131,"Height"),w()(),b(132,"div",3)(133,"p",4),B(134,"Section"),w()(),b(135,"div",3)(136,"p",4),B(137,"Material"),w()(),b(138,"div",3)(139,"p",4),B(140,"Name"),w()(),oe(141,"div",14)(142,"div",14),Ot(143,ub,17,24,null,null,Nt),w()(),b(145,"div",19)(146,"p-button",17),G("onClick",function(){return o.addRectangleGeometry()}),w()()()(),b(147,"p-accordion-panel",23)(148,"p-accordion-header"),B(149,"Polygon geometry"),w(),b(150,"p-accordion-content")(151,"p-fluid")(152,"div",2)(153,"div",5)(154,"p",4),B(155,"Coordinates (x1,y1 x2,y2 ..)"),w()(),b(156,"div",3)(157,"p",4),B(158,"Section"),w()(),b(159,"div",3)(160,"p",4),B(161,"Material"),w()(),b(162,"div",3)(163,"p",4),B(164,"Name"),w()(),oe(165,"div",14)(166,"div",14),Ot(167,fb,11,7,null,null,Nt),w()(),b(169,"div",19)(170,"p-button",17),G("onClick",function(){return o.addPolygonGeometry()}),w()()()(),b(171,"p-accordion-panel",24)(172,"p-accordion-header"),B(173,"Supports"),w(),b(174,"p-accordion-content")(175,"p-fluid")(176,"div",2)(177,"div",3)(178,"p",4),B(179,"X"),w()(),b(180,"div",3)(181,"p",4),B(182,"Y"),w()(),b(183,"div",14)(184,"p",4),B(185,"Fixed X"),w()(),b(186,"div",14)(187,"p",4),B(188,"Fixed Y"),w()(),oe(189,"div",25)(190,"div",14),Ot(191,pb,11,14,null,null,Nt),w()(),b(193,"div",19)(194,"p-button",17),G("onClick",function(){return o.addRestraint()}),w()()()(),b(195,"p-accordion-panel",26)(196,"p-accordion-header"),B(197,"Load cases"),w(),b(198,"p-accordion-content")(199,"p-fluid")(200,"div",2)(201,"div",15)(202,"p",4),B(203,"Name"),w()(),oe(204,"div",12)(205,"div",14),Ot(206,hb,52,4,null,null,Nt),w()(),b(208,"div",19)(209,"p-button",17),G("onClick",function(){return o.addLoadCase()}),w()()()()()),n&2&&(q("value",Os(7,ob))("multiple",!0),R(11),X("ngModel",o.model.solverConfiguration.solverType),R(4),X("ngModel",o.model.solverConfiguration.solverType),R(14),X("ngModel",o.model.meshingConfiguration.maxTriangleArea),q("maxFractionDigits",5)("showButtons",!1),R(19),Pt(o.model.meshingConfiguration.refinementPoints),R(20),Pt(o.model.resultPoints),R(24),Pt(o.model.materials),R(18),Pt(o.model.sectionProperties),R(33),Pt(o.model.rectangles),R(24),Pt(o.model.polygons),R(24),Pt(o.model.supports),R(15),Pt(o.model.loadCases))},dependencies:[Je,Ze,tt,Or,ks,ct,et,rm,ot,Ds,ut,Qe,Rs,In,Nn,ft,Gs,Fs,Bs,Vs,st,pt,mt,at,Pr,rt,di,dt,ht,gt,_t,yt,Ws,wt,lt,sm,nt,bt,Ct,vt,it,St,xt],encapsulation:2,changeDetection:0})};var ym=tc(rb());var gb=["LoadCase","GeometryName","ElementIndex","NodeIndex","ResultPoint","NodeX","NodeY","uX","uY","ReactionX","ReactionY","Sxx","Syy","Sxy"];function gm(r){if(!r||r.length===0)return"";let i=r.flatMap(n=>n.details.map(o=>[n.loadCase,o.geometryName??"",o.elementIndex,o.nodeIndex,o.resultPointName,o.nodeX,o.nodeY,o.uX,o.uY,o.reactionX===0?"":o.reactionX,o.reactionY===0?"":o.reactionY,o.sxx,o.syy,o.sxy]));return[gb.join(","),...i.map(n=>n.join(","))].join(`
`)}var rc=tc(ib()),_b=(r,i)=>(0,rc.default)(r.x,i.x)&&(0,rc.default)(r.y,i.y);var _m=(r,i)=>r.some(n=>_b(n,i));var yb=()=>({width:"100%"});function wb(r,i){r&1&&(b(0,"tr"),oe(1,"th",10),b(2,"th"),B(3,"Geometry Name"),w(),b(4,"th"),B(5,"Node index"),w(),b(6,"th"),B(7,"Result Point Name"),w(),b(8,"th"),B(9,"NodeX"),w(),b(10,"th"),B(11,"NodeY"),w()())}function bb(r,i){if(r&1&&(b(0,"tr")(1,"td"),oe(2,"p-button",11),w(),b(3,"td"),B(4),w(),b(5,"td"),B(6),w(),b(7,"td"),B(8),w(),b(9,"td"),B(10),w(),b(11,"td"),B(12),w()()),r&2){let n=i.$implicit,o=i.expanded;R(2),q("pRowToggler",n)("text",!0)("rounded",!0)("icon",o?"pi pi-chevron-down":"pi pi-chevron-right"),R(2),Be(n.geometryName),R(2),Be(n.nodeIndex),R(2),Be(n.resultPointName),R(2),Be(n.nodeX),R(2),Be(n.nodeY)}}function Cb(r,i){if(r&1&&(b(0,"tr")(1,"th"),B(2,"uX"),w(),b(3,"td"),B(4),w()(),b(5,"tr")(6,"th"),B(7,"uY"),w(),b(8,"td"),B(9),w()(),b(10,"tr")(11,"th"),B(12,"Rx"),w(),b(13,"td"),B(14),w()(),b(15,"tr")(16,"th"),B(17,"Ry"),w(),b(18,"td"),B(19),w()(),b(20,"tr")(21,"th"),B(22,"Sxx"),w(),b(23,"td"),B(24),w()(),b(25,"tr")(26,"th"),B(27,"Syy"),w(),b(28,"td"),B(29),w()(),b(30,"tr")(31,"th"),B(32,"Sxy"),w(),b(33,"td"),B(34),w()(),oe(35,"tr")),r&2){let n=i.$implicit;R(4),Be(n.uX),R(5),Be(n.uY),R(5),Be(n.reactionX),R(5),Be(n.reactionY),R(5),Be(n.sxx),R(5),Be(n.syy),R(5),Be(n.sxy)}}function vb(r,i){if(r&1&&(b(0,"p-accordion-panel",8)(1,"p-accordion-header"),B(2),w(),b(3,"p-accordion-content")(4,"p-table",9),mn(5,wb,12,0,"ng-template",null,0,Ir)(7,bb,13,9,"ng-template",null,1,Ir)(9,Cb,36,7,"ng-template",null,2,Ir),w()()()),r&2){let n=i.$implicit,o=i.$index,s=W(3);q("value",o),R(2),Be(n.loadCase),R(2),q("value",n.details)("expandedRowKeys",s.expandedRows)("tableStyle",Os(7,yb))("size","small")("scrollable",!0)}}function Sb(r,i){if(r&1&&(b(0,"p-accordion",8),Ot(1,vb,11,8,"p-accordion-panel",8,Nt),w()),r&2){let n=W(2);q("value",0),R(),Pt(n.resultPointsResults)}}function xb(r,i){if(r&1){let n=Ue();b(0,"p-multiselect",3),Z("ngModelChange",function(s){k(n);let l=W();return J(l.selectedGeometries,s)||(l.selectedGeometries=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w(),b(1,"p-multiselect",4),Z("ngModelChange",function(s){k(n);let l=W();return J(l.selectedLoadCases,s)||(l.selectedLoadCases=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w(),b(2,"label",5),B(3,"Result Points only"),w(),b(4,"p-toggleswitch",6),Z("ngModelChange",function(s){k(n);let l=W();return J(l.resultPointsSelected,s)||(l.resultPointsSelected=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onChange())}),w(),b(5,"p"),B(6),w(),b(7,"p-button",7),G("onClick",function(){k(n);let s=W();return D(s.exportCsv())}),w(),mn(8,Sb,3,1,"p-accordion",8)}if(r&2){let n=W();q("options",n.geometries),X("ngModel",n.selectedGeometries),R(),q("options",n.loadCases),X("ngModel",n.selectedLoadCases),R(3),X("ngModel",n.resultPointsSelected),R(2),Be(n.uuid),R(2),Li(n.resultPointsSelected?8:-1)}}var Ys=class r extends On{messageService=Ae(mi);changeDetector=Ae(rn);expandedRows={};visible=!1;loadCases=[];selectedLoadCases=[];geometries=[];selectedGeometries=[];geometry;resultPointsSelected=!1;uuid;results=[];resultPointsResults=[];ngOnInit(){this.messageService.resultsChanged.pipe(nn(this.destroyed$),Fe(i=>this.uuid=i)).subscribe(()=>this.changeDetector.detectChanges()),this.messageService.geometryChanged.pipe(nn(this.destroyed$),Fe(i=>this.loadCases=this.selectedLoadCases=i.loadCases.map(n=>n.name)),Fe(i=>this.geometries=this.selectedGeometries=i.rectangles.map(n=>n.name)),Fe(i=>this.geometry=i)).subscribe(()=>this.changeDetector.detectChanges()),this.messageService.resultsChanged.pipe(nn(this.destroyed$),po(i=>i!==""),Fe(i=>this.visible=i)).subscribe(()=>this.changeDetector.detectChanges()),this.messageService.resultsChanged.pipe(nn(this.destroyed$),Is(i=>i!==""),xp(i=>Cp({uuid:i,loadcases:[...this.loadCases]}).pipe(vp(n=>Sp([...n.loadcases.map(o=>bp(ym.getItem(Xp(n.uuid,o))))])),po(n=>n.filter(o=>o).map(o=>o)))),Fe(i=>this.results=i??[])).subscribe(()=>this.changeDetector.detectChanges())}onChange(){this.resultPointsSelected&&(this.resultPointsResults=this.filterResults()),this.changeDetector.detectChanges()}exportCsv(){let i=this.resultPointsSelected?this.filterResults():this.results,n=gm(i),o=`results_${new Date().toLocaleTimeString()}_${this.uuid}.csv`,s=new Blob([n],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),u=document.createElement("a");u.href=l,u.setAttribute("download",o),document.body.appendChild(u),u.click(),document.body.removeChild(u)}filterResults(){return this.results.filter(n=>this.selectedLoadCases.includes(n.loadCase)).filter(n=>n.details.some(o=>this.selectedGeometries.includes(o.geometryName))).map(n=>({details:n.details.filter(s=>this.geometry?.resultPoints?.length===0||_m(this.geometry.resultPoints,{x:s.nodeX,y:s.nodeY})),loadCase:n.loadCase}))}static \u0275fac=(()=>{let i;return function(o){return(i||(i=fi(r)))(o||r)}})();static \u0275cmp=Xe({type:r,selectors:[["app-results"]],features:[pi],decls:1,vars:1,consts:[["header",""],["body",""],["expandedrow",""],["placeholder","Select geometry",1,"w-full","md:w-80",3,"ngModelChange","options","ngModel"],["placeholder","Select load cases",1,"w-full","md:w-80",3,"ngModelChange","options","ngModel"],["for","resultPointsToggle",1,"p-mr-2"],["id","resultPointsToggle",3,"ngModelChange","ngModel"],["label","Export to csv",3,"onClick"],[3,"value"],["dataKey","resultIdentity","scrollHeight","400px",3,"value","expandedRowKeys","tableStyle","size","scrollable"],[2,"width","5rem"],["type","button","pRipple","","severity","secondary",3,"pRowToggler","text","rounded","icon"]],template:function(n,o){n&1&&mn(0,xb,9,7),n&2&&Li(o.visible?0:-1)},dependencies:[Je,Ze,tt,ct,am,lm,et,ot,ut,Qe,In,Nn,ft,Gs,Fs,Bs,Vs,st,pt,mt,at,rt,di,dt,ht,gt,_t,yt,Ws,wt,lt,nt,bt,um,Ct,vt,it,St,xt],styles:["canvas[_ngcontent-%COMP%]{width:800px;height:600px;border:1px solid black}"],changeDetection:0})};var wm={type:"change"},sc={type:"start"},Cm={type:"end"},qs=new Gp,bm=new Kp,Mb=Math.cos(70*Vp.DEG2RAD),$e=new dn,Vt=2*Math.PI,xe={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},oc=1e-6,js=class extends jp{constructor(i,n=null){super(i,n),this.state=xe.NONE,this.target=new dn,this.cursor=new dn,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Ri.ROTATE,MIDDLE:Ri.DOLLY,RIGHT:Ri.PAN},this.touches={ONE:ki.ROTATE,TWO:ki.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new dn,this._lastQuaternion=new nc,this._lastTargetPosition=new dn,this._quat=new nc().setFromUnitVectors(i.up,new dn(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new ic,this._sphericalDelta=new ic,this._scale=1,this._panOffset=new dn,this._rotateStart=new Bt,this._rotateEnd=new Bt,this._rotateDelta=new Bt,this._panStart=new Bt,this._panEnd=new Bt,this._panDelta=new Bt,this._dollyStart=new Bt,this._dollyEnd=new Bt,this._dollyDelta=new Bt,this._dollyDirection=new dn,this._mouse=new Bt,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Eb.bind(this),this._onPointerDown=Tb.bind(this),this._onPointerUp=Ab.bind(this),this._onContextMenu=kb.bind(this),this._onMouseWheel=Ob.bind(this),this._onKeyDown=Pb.bind(this),this._onTouchStart=Lb.bind(this),this._onTouchMove=Rb.bind(this),this._onMouseDown=Ib.bind(this),this._onMouseMove=Nb.bind(this),this._interceptControlDown=Db.bind(this),this._interceptControlUp=Fb.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(i){super.connect(i),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(i){i.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=i}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(wm),this.update(),this.state=xe.NONE}update(i=null){let n=this.object.position;$e.copy(n).sub(this.target),$e.applyQuaternion(this._quat),this._spherical.setFromVector3($e),this.autoRotate&&this.state===xe.NONE&&this._rotateLeft(this._getAutoRotationAngle(i)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let o=this.minAzimuthAngle,s=this.maxAzimuthAngle;isFinite(o)&&isFinite(s)&&(o<-Math.PI?o+=Vt:o>Math.PI&&(o-=Vt),s<-Math.PI?s+=Vt:s>Math.PI&&(s-=Vt),o<=s?this._spherical.theta=Math.max(o,Math.min(s,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(o+s)/2?Math.max(o,this._spherical.theta):Math.min(s,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let l=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{let u=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),l=u!=this._spherical.radius}if($e.setFromSpherical(this._spherical),$e.applyQuaternion(this._quatInverse),n.copy(this.target).add($e),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let u=null;if(this.object.isPerspectiveCamera){let d=$e.length();u=this._clampDistance(d*this._scale);let h=d-u;this.object.position.addScaledVector(this._dollyDirection,h),this.object.updateMatrixWorld(),l=!!h}else if(this.object.isOrthographicCamera){let d=new dn(this._mouse.x,this._mouse.y,0);d.unproject(this.object);let h=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),l=h!==this.object.zoom;let _=new dn(this._mouse.x,this._mouse.y,0);_.unproject(this.object),this.object.position.sub(_).add(d),this.object.updateMatrixWorld(),u=$e.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;u!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(u).add(this.object.position):(qs.origin.copy(this.object.position),qs.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(qs.direction))<Mb?this.object.lookAt(this.target):(bm.setFromNormalAndCoplanarPoint(this.object.up,this.target),qs.intersectPlane(bm,this.target))))}else if(this.object.isOrthographicCamera){let u=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),u!==this.object.zoom&&(this.object.updateProjectionMatrix(),l=!0)}return this._scale=1,this._performCursorZoom=!1,l||this._lastPosition.distanceToSquared(this.object.position)>oc||8*(1-this._lastQuaternion.dot(this.object.quaternion))>oc||this._lastTargetPosition.distanceToSquared(this.target)>oc?(this.dispatchEvent(wm),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(i){return i!==null?Vt/60*this.autoRotateSpeed*i:Vt/60/60*this.autoRotateSpeed}_getZoomScale(i){let n=Math.abs(i*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(i){this._sphericalDelta.theta-=i}_rotateUp(i){this._sphericalDelta.phi-=i}_panLeft(i,n){$e.setFromMatrixColumn(n,0),$e.multiplyScalar(-i),this._panOffset.add($e)}_panUp(i,n){this.screenSpacePanning===!0?$e.setFromMatrixColumn(n,1):($e.setFromMatrixColumn(n,0),$e.crossVectors(this.object.up,$e)),$e.multiplyScalar(i),this._panOffset.add($e)}_pan(i,n){let o=this.domElement;if(this.object.isPerspectiveCamera){let s=this.object.position;$e.copy(s).sub(this.target);let l=$e.length();l*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*i*l/o.clientHeight,this.object.matrix),this._panUp(2*n*l/o.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(i*(this.object.right-this.object.left)/this.object.zoom/o.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/o.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(i){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=i:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(i){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=i:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(i,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;let o=this.domElement.getBoundingClientRect(),s=i-o.left,l=n-o.top,u=o.width,d=o.height;this._mouse.x=s/u*2-1,this._mouse.y=-(l/d)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(i){return Math.max(this.minDistance,Math.min(this.maxDistance,i))}_handleMouseDownRotate(i){this._rotateStart.set(i.clientX,i.clientY)}_handleMouseDownDolly(i){this._updateZoomParameters(i.clientX,i.clientX),this._dollyStart.set(i.clientX,i.clientY)}_handleMouseDownPan(i){this._panStart.set(i.clientX,i.clientY)}_handleMouseMoveRotate(i){this._rotateEnd.set(i.clientX,i.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let n=this.domElement;this._rotateLeft(Vt*this._rotateDelta.x/n.clientHeight),this._rotateUp(Vt*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(i){this._dollyEnd.set(i.clientX,i.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(i){this._panEnd.set(i.clientX,i.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(i){this._updateZoomParameters(i.clientX,i.clientY),i.deltaY<0?this._dollyIn(this._getZoomScale(i.deltaY)):i.deltaY>0&&this._dollyOut(this._getZoomScale(i.deltaY)),this.update()}_handleKeyDown(i){let n=!1;switch(i.code){case this.keys.UP:i.ctrlKey||i.metaKey||i.shiftKey?this.enableRotate&&this._rotateUp(Vt*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:i.ctrlKey||i.metaKey||i.shiftKey?this.enableRotate&&this._rotateUp(-Vt*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:i.ctrlKey||i.metaKey||i.shiftKey?this.enableRotate&&this._rotateLeft(Vt*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:i.ctrlKey||i.metaKey||i.shiftKey?this.enableRotate&&this._rotateLeft(-Vt*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(i.preventDefault(),this.update())}_handleTouchStartRotate(i){if(this._pointers.length===1)this._rotateStart.set(i.pageX,i.pageY);else{let n=this._getSecondPointerPosition(i),o=.5*(i.pageX+n.x),s=.5*(i.pageY+n.y);this._rotateStart.set(o,s)}}_handleTouchStartPan(i){if(this._pointers.length===1)this._panStart.set(i.pageX,i.pageY);else{let n=this._getSecondPointerPosition(i),o=.5*(i.pageX+n.x),s=.5*(i.pageY+n.y);this._panStart.set(o,s)}}_handleTouchStartDolly(i){let n=this._getSecondPointerPosition(i),o=i.pageX-n.x,s=i.pageY-n.y,l=Math.sqrt(o*o+s*s);this._dollyStart.set(0,l)}_handleTouchStartDollyPan(i){this.enableZoom&&this._handleTouchStartDolly(i),this.enablePan&&this._handleTouchStartPan(i)}_handleTouchStartDollyRotate(i){this.enableZoom&&this._handleTouchStartDolly(i),this.enableRotate&&this._handleTouchStartRotate(i)}_handleTouchMoveRotate(i){if(this._pointers.length==1)this._rotateEnd.set(i.pageX,i.pageY);else{let o=this._getSecondPointerPosition(i),s=.5*(i.pageX+o.x),l=.5*(i.pageY+o.y);this._rotateEnd.set(s,l)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let n=this.domElement;this._rotateLeft(Vt*this._rotateDelta.x/n.clientHeight),this._rotateUp(Vt*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(i){if(this._pointers.length===1)this._panEnd.set(i.pageX,i.pageY);else{let n=this._getSecondPointerPosition(i),o=.5*(i.pageX+n.x),s=.5*(i.pageY+n.y);this._panEnd.set(o,s)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(i){let n=this._getSecondPointerPosition(i),o=i.pageX-n.x,s=i.pageY-n.y,l=Math.sqrt(o*o+s*s);this._dollyEnd.set(0,l),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);let u=(i.pageX+n.x)*.5,d=(i.pageY+n.y)*.5;this._updateZoomParameters(u,d)}_handleTouchMoveDollyPan(i){this.enableZoom&&this._handleTouchMoveDolly(i),this.enablePan&&this._handleTouchMovePan(i)}_handleTouchMoveDollyRotate(i){this.enableZoom&&this._handleTouchMoveDolly(i),this.enableRotate&&this._handleTouchMoveRotate(i)}_addPointer(i){this._pointers.push(i.pointerId)}_removePointer(i){delete this._pointerPositions[i.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==i.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(i){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==i.pointerId)return!0;return!1}_trackPointer(i){let n=this._pointerPositions[i.pointerId];n===void 0&&(n=new Bt,this._pointerPositions[i.pointerId]=n),n.set(i.pageX,i.pageY)}_getSecondPointerPosition(i){let n=i.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(i){let n=i.deltaMode,o={clientX:i.clientX,clientY:i.clientY,deltaY:i.deltaY};switch(n){case 1:o.deltaY*=16;break;case 2:o.deltaY*=100;break}return i.ctrlKey&&!this._controlActive&&(o.deltaY*=10),o}};function Tb(r){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(r.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(r)&&(this._addPointer(r),r.pointerType==="touch"?this._onTouchStart(r):this._onMouseDown(r)))}function Eb(r){this.enabled!==!1&&(r.pointerType==="touch"?this._onTouchMove(r):this._onMouseMove(r))}function Ab(r){switch(this._removePointer(r),this._pointers.length){case 0:this.domElement.releasePointerCapture(r.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Cm),this.state=xe.NONE;break;case 1:let i=this._pointers[0],n=this._pointerPositions[i];this._onTouchStart({pointerId:i,pageX:n.x,pageY:n.y});break}}function Ib(r){let i;switch(r.button){case 0:i=this.mouseButtons.LEFT;break;case 1:i=this.mouseButtons.MIDDLE;break;case 2:i=this.mouseButtons.RIGHT;break;default:i=-1}switch(i){case Ri.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(r),this.state=xe.DOLLY;break;case Ri.ROTATE:if(r.ctrlKey||r.metaKey||r.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(r),this.state=xe.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(r),this.state=xe.ROTATE}break;case Ri.PAN:if(r.ctrlKey||r.metaKey||r.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(r),this.state=xe.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(r),this.state=xe.PAN}break;default:this.state=xe.NONE}this.state!==xe.NONE&&this.dispatchEvent(sc)}function Nb(r){switch(this.state){case xe.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(r);break;case xe.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(r);break;case xe.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(r);break}}function Ob(r){this.enabled===!1||this.enableZoom===!1||this.state!==xe.NONE||(r.preventDefault(),this.dispatchEvent(sc),this._handleMouseWheel(this._customWheelEvent(r)),this.dispatchEvent(Cm))}function Pb(r){this.enabled!==!1&&this._handleKeyDown(r)}function Lb(r){switch(this._trackPointer(r),this._pointers.length){case 1:switch(this.touches.ONE){case ki.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(r),this.state=xe.TOUCH_ROTATE;break;case ki.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(r),this.state=xe.TOUCH_PAN;break;default:this.state=xe.NONE}break;case 2:switch(this.touches.TWO){case ki.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(r),this.state=xe.TOUCH_DOLLY_PAN;break;case ki.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(r),this.state=xe.TOUCH_DOLLY_ROTATE;break;default:this.state=xe.NONE}break;default:this.state=xe.NONE}this.state!==xe.NONE&&this.dispatchEvent(sc)}function Rb(r){switch(this._trackPointer(r),this.state){case xe.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(r),this.update();break;case xe.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(r),this.update();break;case xe.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(r),this.update();break;case xe.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(r),this.update();break;default:this.state=xe.NONE}}function kb(r){this.enabled!==!1&&r.preventDefault()}function Db(r){r.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Fb(r){r.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}var Bb=r=>({background:r});function Vb(r,i){if(r&1){let n=Ue();b(0,"div",1)(1,"div")(2,"p"),B(3),w()(),b(4,"div",2),oe(5,"div",3),b(6,"div",4)(7,"div")(8,"p-inputnumber",5),Z("ngModelChange",function(s){k(n);let l=W();return J(l.max,s)||(l.max=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onExtermeValuesChanged())}),w()(),b(9,"div"),B(10),Lp(11,"number"),w(),b(12,"div")(13,"p-inputnumber",6),Z("ngModelChange",function(s){k(n);let l=W();return J(l.min,s)||(l.min=s),D(s)}),G("ngModelChange",function(){k(n);let s=W();return D(s.onExtermeValuesChanged())}),w()()()()()}if(r&2){let n=W();R(3),Ns("Max disp: ",n.maxDisp,""),R(2),q("ngStyle",Pp(10,Bb,n.gradient)),R(3),X("ngModel",n.max),q("useGrouping",!1),R(2),Be(Rp(11,7,n.middle,"1.2-2")),R(3),X("ngModel",n.min),q("useGrouping",!1)}}var Hs=class r{subscription;legendService=Ae(zp);detector=Ae(rn);gradient="";min=0;middle=0;max=0;maxDisp=0;visible=!1;constructor(){}ngOnDestroy(){this.subscription?.unsubscribe()}ngOnInit(){this.subscription=this.legendService.extremeValuesChanged.pipe(Fe(i=>this.visible=!(i.maxStress===0&&i.minStress==0)),Fe(()=>this.detector.detectChanges()),Is(i=>i.maxStress!==0&&i.minStress!==0),Fe(i=>this.max=i.maxStress),Fe(i=>this.min=i.minStress),Fe(i=>this.middle=(i.maxStress+i.minStress)/2),Fe(i=>this.maxDisp=i.maxDisp),po(()=>this.legendService.getColorRange()),Fe(i=>this.buildGradient(i)),Fe(()=>this.detector.detectChanges())).subscribe(),this.detector.detectChanges()}onExtermeValuesChanged(){Number.isFinite(this.min)&&Number.isFinite(this.max)&&this.min<this.max&&(this.middle=(this.max+this.min)/2,this.legendService.setLegendChanged(this.min,this.max))}buildGradient(i){let n=i.reverse().join(", ");this.gradient=`linear-gradient(to bottom, ${n})`}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Xe({type:r,selectors:[["app-legend"]],decls:1,vars:1,consts:[["class","legend",4,"ngIf"],[1,"legend"],[1,"flex"],[1,"gradient-map",3,"ngStyle"],[1,"flex","justify-between","flex-col","mx-1"],["mode","decimal","inputId","legend_max",3,"ngModelChange","ngModel","useGrouping"],["mode","decimal","inputId","legend_min",3,"ngModelChange","ngModel","useGrouping"]],template:function(n,o){n&1&&mn(0,Vb,14,12,"div",0),n&2&&q("ngIf",o.visible)},dependencies:[Je,Ze,tt,Or,ct,et,ot,ut,Qe,In,Nn,ft,st,pt,mt,at,rt,dt,ht,gt,_t,yt,wt,lt,nt,bt,Ct,vt,it,St,xt,Fp,Dp,kp],styles:[".legend[_ngcontent-%COMP%]{position:relative}.legend[_ngcontent-%COMP%]   .gradient-map[_ngcontent-%COMP%]{height:300px;width:50px}"],changeDetection:0})};var zs=class r{detector=Ae(rn);view3dService=Ae(Ls);sub;config;model={selectedLoadCase:this.config?.loadCases?this.config.loadCases[0]:"",selectedResultType:this.config?.resultTypes?this.config.resultTypes[0]:null,displacementScaleFactor:1,smoothingFactor:0};ngOnInit(){return Se(this,null,function*(){this.sub=this.view3dService.menuConfigurationChanged.subscribe(i=>{this.config=i,this.model.selectedLoadCase=this.config.loadCases[0],this.model.selectedResultType=this.config.resultTypes?this.config.resultTypes[0]:null,this.detector.detectChanges()}),yield this.onChange()})}ngOnDestroy(){this.sub?.unsubscribe()}onChange(){return Se(this,null,function*(){yield this.view3dService.setConfiguration(this.model)})}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Xe({type:r,selectors:[["app-view3d-menu"]],decls:21,vars:13,consts:[[1,"grid","grid-cols-12","gap-2","auto-rows-max","mt-1","mb-1"],[1,"col-span-3"],["for","in_result_type",1,"font-semibold"],["id","in_result_type","placeholder","Select result",3,"ngModelChange","options","ngModel"],["for","in_load_case",1,"font-semibold"],["id","in_load_case","placeholder","Select load case",3,"ngModelChange","options","ngModel"],[1,"font-semibold"],["id","Displacement_scale","mode","decimal","inputId","minmax-buttons",3,"ngModelChange","ngModel","showButtons","min","max"],["for","Smoothing",1,"font-semibold"],["id","Smoothing","mode","decimal","inputId","minmax-buttons",3,"ngModelChange","ngModel","showButtons","min","max","step"]],template:function(n,o){n&1&&(b(0,"div",0)(1,"div",1)(2,"p-fluid")(3,"p",2),B(4,"Result type"),w(),b(5,"p-select",3),Z("ngModelChange",function(l){return J(o.model.selectedResultType,l)||(o.model.selectedResultType=l),l}),G("ngModelChange",function(){return o.onChange()}),w()()(),b(6,"div",1)(7,"p-fluid")(8,"p",4),B(9,"Load Case"),w(),b(10,"p-select",5),Z("ngModelChange",function(l){return J(o.model.selectedLoadCase,l)||(o.model.selectedLoadCase=l),l}),G("ngModelChange",function(){return o.onChange()}),w()()(),b(11,"div",1)(12,"p-fluid")(13,"p",6),B(14,"Displacement scale"),w(),b(15,"p-inputnumber",7),Z("ngModelChange",function(l){return J(o.model.displacementScaleFactor,l)||(o.model.displacementScaleFactor=l),l}),G("ngModelChange",function(){return o.onChange()}),w()()(),b(16,"div",1)(17,"p-fluid")(18,"p",8),B(19,"Smoothing"),w(),b(20,"p-inputnumber",9),Z("ngModelChange",function(l){return J(o.model.smoothingFactor,l)||(o.model.smoothingFactor=l),l}),G("ngModelChange",function(){return o.onChange()}),w()()()()),n&2&&(R(5),q("options",o.config==null?null:o.config.resultTypes),X("ngModel",o.model.selectedResultType),R(5),q("options",o.config==null?null:o.config.loadCases),X("ngModel",o.model.selectedLoadCase),R(5),X("ngModel",o.model.displacementScaleFactor),q("showButtons",!0)("min",0)("max",100),R(5),X("ngModel",o.model.smoothingFactor),q("showButtons",!0)("min",0)("max",100)("step",.25))},dependencies:[Je,Ze,tt,Or,ks,ct,et,ot,ut,Qe,In,Nn,ft,st,pt,mt,at,Pr,rt,dt,ht,gt,_t,yt,wt,lt,nt,bt,Ct,vt,it,St,xt],encapsulation:2,changeDetection:0})};var Gb=["canvasView3d"],Wb="white",Xs=class r{canvasContainer=Ep("canvasView3d");tooltip;view3DService=Ae(Ls);zone=Ae(Mp);frameId;scene;camera;renderer;orbitControls;raycaster=new Yp;ngAfterViewInit(){this.initThreeJs(),this.animate()}ngOnInit(){}ngOnDestroy(){cancelAnimationFrame(this.frameId),this.renderer?.dispose()}onResize(){let i=this.canvasContainer();if(!i){console.error("Canvas element not found");return}let n=i.nativeElement.clientWidth,o=i.nativeElement.clientHeight;this.camera.aspect=n/o,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,o)}onMouseMove(i){let n=this.view3DService.getMeshForRaycasting();if(!n)return;let o=this.renderer.domElement.getBoundingClientRect(),s=new Bt;s.x=(i.clientX-o.left)/o.width*2-1,s.y=-((i.clientY-o.top)/o.height)*2+1,this.raycaster.setFromCamera(s,this.camera);let l=this.raycaster.intersectObject(n);if(l.length>0){let u=l[0],d=Math.floor(u.faceIndex/1),_=this.view3DService.getResults(d).map(T=>`<b>${T.nodeIndex}: ${T.value}</b><br/> `).reduce((T,x)=>`${T}${x}`,"");this.tooltip.style.display="block",this.tooltip.style.left=`${i.clientX+8}px`,this.tooltip.style.top=`${i.clientY+8}px`,this.tooltip.innerHTML=_}else this.tooltip.style.display="none"}initThreeJs(){this.scene=new $p;let i=this.canvasContainer();if(!i){console.error("Canvas element not found");return}let n=i.nativeElement,o=1,s=n.clientWidth-1,l=o*n.clientWidth;this.camera=new Up(75,s/l,.01,1e6),this.camera.position.z=10,this.camera.position.x=0,this.camera.position.y=0,this.renderer=new Hp,this.scene.background=new Wp(Wb),this.renderer.setSize(s,l),i.nativeElement.appendChild(this.renderer.domElement);let u=new qp(500);this.scene.add(u),this.orbitControls=new js(this.camera,this.renderer.domElement),this.view3DService.injectScene(this.scene),this.tooltip=document.createElement("div"),this.tooltip.style.position="absolute",this.tooltip.style.background="rgba(0,0,0,0.8)",this.tooltip.style.color="#fff",this.tooltip.style.padding="4px 8px",this.tooltip.style.borderRadius="4px",this.tooltip.style.pointerEvents="none",this.tooltip.style.display="none",this.tooltip.style.fontFamily="monospace",document.body.appendChild(this.tooltip)}animate=()=>{this.frameId=this.zone.runOutsideAngular(()=>requestAnimationFrame(this.animate)),this.orbitControls.update(),this.renderer.render(this.scene,this.camera)};static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Xe({type:r,selectors:[["app-view3d"]],viewQuery:function(n,o){n&1&&Np(o.canvasContainer,Gb,5),n&2&&Op()},hostBindings:function(n,o){n&1&&G("resize",function(){return o.onResize()},!1,Tp)},decls:6,vars:0,consts:[["canvasView3d",""],[1,"container",2,"width","100%","height","90vh","display","flex",3,"mousemove"],[1,"legend"]],template:function(n,o){if(n&1){let s=Ue();b(0,"div"),oe(1,"app-view3d-menu"),w(),b(2,"div",1,0),G("mousemove",function(u){return k(s),D(o.onMouseMove(u))}),b(4,"div",2),oe(5,"app-legend"),w()()}},dependencies:[Hs,zs,Je,Ze,tt,ct,et,ot,ut,Qe,ft,st,pt,mt,at,rt,dt,ht,gt,_t,yt,wt,lt,nt,bt,Ct,vt,it,St,xt],styles:[".container[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{position:absolute;top:0;left:0}"]})};var Js=Symbol.for("yaml.alias"),Zs=Symbol.for("yaml.document"),hn=Symbol.for("yaml.map"),ac=Symbol.for("yaml.pair"),jt=Symbol.for("yaml.scalar"),Hn=Symbol.for("yaml.seq"),Lt=Symbol.for("yaml.node.type"),on=r=>!!r&&typeof r=="object"&&r[Lt]===Js,gn=r=>!!r&&typeof r=="object"&&r[Lt]===Zs,_n=r=>!!r&&typeof r=="object"&&r[Lt]===hn,he=r=>!!r&&typeof r=="object"&&r[Lt]===ac,ue=r=>!!r&&typeof r=="object"&&r[Lt]===jt,yn=r=>!!r&&typeof r=="object"&&r[Lt]===Hn;function we(r){if(r&&typeof r=="object")switch(r[Lt]){case hn:case Hn:return!0}return!1}function _e(r){if(r&&typeof r=="object")switch(r[Lt]){case Js:case hn:case jt:case Hn:return!0}return!1}var Qs=r=>(ue(r)||we(r))&&!!r.anchor;var Gt=Symbol("break visit"),vm=Symbol("skip children"),Pn=Symbol("remove node");function Ln(r,i){let n=Sm(i);gn(r)?Rr(null,r.contents,n,Object.freeze([r]))===Pn&&(r.contents=null):Rr(null,r,n,Object.freeze([]))}Ln.BREAK=Gt;Ln.SKIP=vm;Ln.REMOVE=Pn;function Rr(r,i,n,o){let s=xm(r,i,n,o);if(_e(s)||he(s))return Mm(r,o,s),Rr(r,s,n,o);if(typeof s!="symbol"){if(we(i)){o=Object.freeze(o.concat(i));for(let l=0;l<i.items.length;++l){let u=Rr(l,i.items[l],n,o);if(typeof u=="number")l=u-1;else{if(u===Gt)return Gt;u===Pn&&(i.items.splice(l,1),l-=1)}}}else if(he(i)){o=Object.freeze(o.concat(i));let l=Rr("key",i.key,n,o);if(l===Gt)return Gt;l===Pn&&(i.key=null);let u=Rr("value",i.value,n,o);if(u===Gt)return Gt;u===Pn&&(i.value=null)}}return s}function ea(r,i){return Se(this,null,function*(){let n=Sm(i);gn(r)?(yield kr(null,r.contents,n,Object.freeze([r])))===Pn&&(r.contents=null):yield kr(null,r,n,Object.freeze([]))})}ea.BREAK=Gt;ea.SKIP=vm;ea.REMOVE=Pn;function kr(r,i,n,o){return Se(this,null,function*(){let s=yield xm(r,i,n,o);if(_e(s)||he(s))return Mm(r,o,s),kr(r,s,n,o);if(typeof s!="symbol"){if(we(i)){o=Object.freeze(o.concat(i));for(let l=0;l<i.items.length;++l){let u=yield kr(l,i.items[l],n,o);if(typeof u=="number")l=u-1;else{if(u===Gt)return Gt;u===Pn&&(i.items.splice(l,1),l-=1)}}}else if(he(i)){o=Object.freeze(o.concat(i));let l=yield kr("key",i.key,n,o);if(l===Gt)return Gt;l===Pn&&(i.key=null);let u=yield kr("value",i.value,n,o);if(u===Gt)return Gt;u===Pn&&(i.value=null)}}return s})}function Sm(r){return typeof r=="object"&&(r.Collection||r.Node||r.Value)?Object.assign({Alias:r.Node,Map:r.Node,Scalar:r.Node,Seq:r.Node},r.Value&&{Map:r.Value,Scalar:r.Value,Seq:r.Value},r.Collection&&{Map:r.Collection,Seq:r.Collection},r):r}function xm(r,i,n,o){if(typeof n=="function")return n(r,i,o);if(_n(i))return n.Map?.(r,i,o);if(yn(i))return n.Seq?.(r,i,o);if(he(i))return n.Pair?.(r,i,o);if(ue(i))return n.Scalar?.(r,i,o);if(on(i))return n.Alias?.(r,i,o)}function Mm(r,i,n){let o=i[i.length-1];if(we(o))o.items[r]=n;else if(he(o))r==="key"?o.key=n:o.value=n;else if(gn(o))o.contents=n;else{let s=on(o)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}var Ub={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},$b=r=>r.replace(/[!,[\]{}]/g,i=>Ub[i]),Dr=(()=>{class r{constructor(n,o){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},r.defaultYaml,n),this.tags=Object.assign({},r.defaultTags,o)}clone(){let n=new r(this.yaml,this.tags);return n.docStart=this.docStart,n}atDocument(){let n=new r(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:r.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},r.defaultTags);break}return n}add(n,o){this.atNextDocument&&(this.yaml={explicit:r.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},r.defaultTags),this.atNextDocument=!1);let s=n.trim().split(/[ \t]+/),l=s.shift();switch(l){case"%TAG":{if(s.length!==2&&(o(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;let[u,d]=s;return this.tags[u]=d,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return o(0,"%YAML directive should contain exactly one part"),!1;let[u]=s;if(u==="1.1"||u==="1.2")return this.yaml.version=u,!0;{let d=/^\d+\.\d+$/.test(u);return o(6,`Unsupported YAML version ${u}`,d),!1}}default:return o(0,`Unknown directive ${l}`,!0),!1}}tagName(n,o){if(n==="!")return"!";if(n[0]!=="!")return o(`Not a valid tag: ${n}`),null;if(n[1]==="<"){let d=n.slice(2,-1);return d==="!"||d==="!!"?(o(`Verbatim tags aren't resolved, so ${n} is invalid.`),null):(n[n.length-1]!==">"&&o("Verbatim tags must end with a >"),d)}let[,s,l]=n.match(/^(.*!)([^!]*)$/s);l||o(`The ${n} tag has no suffix`);let u=this.tags[s];if(u)try{return u+decodeURIComponent(l)}catch(d){return o(String(d)),null}return s==="!"?n:(o(`Could not resolve tag: ${n}`),null)}tagString(n){for(let[o,s]of Object.entries(this.tags))if(n.startsWith(s))return o+$b(n.substring(s.length));return n[0]==="!"?n:`!<${n}>`}toString(n){let o=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags),l;if(n&&s.length>0&&_e(n.contents)){let u={};Ln(n.contents,(d,h)=>{_e(h)&&h.tag&&(u[h.tag]=!0)}),l=Object.keys(u)}else l=[];for(let[u,d]of s)u==="!!"&&d==="tag:yaml.org,2002:"||(!n||l.some(h=>h.startsWith(d)))&&o.push(`%TAG ${u} ${d}`);return o.join(`
`)}}return r.defaultYaml={explicit:!1,version:"1.2"},r.defaultTags={"!!":"tag:yaml.org,2002:"},r})();function ta(r){if(/[\x00-\x19\s,[\]{}]/.test(r)){let n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(r)}`;throw new Error(n)}return!0}function lc(r){let i=new Set;return Ln(r,{Value(n,o){o.anchor&&i.add(o.anchor)}}),i}function cc(r,i){for(let n=1;;++n){let o=`${r}${n}`;if(!i.has(o))return o}}function Tm(r,i){let n=[],o=new Map,s=null;return{onAnchor:l=>{n.push(l),s??(s=lc(r));let u=cc(i,s);return s.add(u),u},setAnchors:()=>{for(let l of n){let u=o.get(l);if(typeof u=="object"&&u.anchor&&(ue(u.node)||we(u.node)))u.node.anchor=u.anchor;else{let d=new Error("Failed to resolve repeated object (this should not happen)");throw d.source=l,d}}},sourceObjects:o}}function gi(r,i,n,o){if(o&&typeof o=="object")if(Array.isArray(o))for(let s=0,l=o.length;s<l;++s){let u=o[s],d=gi(r,o,String(s),u);d===void 0?delete o[s]:d!==u&&(o[s]=d)}else if(o instanceof Map)for(let s of Array.from(o.keys())){let l=o.get(s),u=gi(r,o,s,l);u===void 0?o.delete(s):u!==l&&o.set(s,u)}else if(o instanceof Set)for(let s of Array.from(o)){let l=gi(r,o,s,s);l===void 0?o.delete(s):l!==s&&(o.delete(s),o.add(l))}else for(let[s,l]of Object.entries(o)){let u=gi(r,o,s,l);u===void 0?delete o[s]:u!==l&&(o[s]=u)}return r.call(i,n,o)}function Ke(r,i,n){if(Array.isArray(r))return r.map((o,s)=>Ke(o,String(s),n));if(r&&typeof r.toJSON=="function"){if(!n||!Qs(r))return r.toJSON(i,n);let o={aliasCount:0,count:1,res:void 0};n.anchors.set(r,o),n.onCreate=l=>{o.res=l,delete n.onCreate};let s=r.toJSON(i,n);return n.onCreate&&n.onCreate(s),s}return typeof r=="bigint"&&!n?.keep?Number(r):r}var _i=class{constructor(i){Object.defineProperty(this,Lt,{value:i})}clone(){let i=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(i.range=this.range.slice()),i}toJS(i,{mapAsMap:n,maxAliasCount:o,onAnchor:s,reviver:l}={}){if(!gn(i))throw new TypeError("A document argument is required");let u={anchors:new Map,doc:i,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof o=="number"?o:100},d=Ke(this,"",u);if(typeof s=="function")for(let{count:h,res:_}of u.anchors.values())s(_,h);return typeof l=="function"?gi(l,{"":d},"",d):d}};var zn=class extends _i{constructor(i){super(Js),this.source=i,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(i,n){let o;n?.aliasResolveCache?o=n.aliasResolveCache:(o=[],Ln(i,{Node:(l,u)=>{(on(u)||Qs(u))&&o.push(u)}}),n&&(n.aliasResolveCache=o));let s;for(let l of o){if(l===this)break;l.anchor===this.source&&(s=l)}return s}toJSON(i,n){if(!n)return{source:this.source};let{anchors:o,doc:s,maxAliasCount:l}=n,u=this.resolve(s,n);if(!u){let h=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(h)}let d=o.get(u);if(d||(Ke(u,null,n),d=o.get(u)),!d||d.res===void 0){let h="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(h)}if(l>=0&&(d.count+=1,d.aliasCount===0&&(d.aliasCount=na(s,u,o)),d.count*d.aliasCount>l)){let h="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(h)}return d.res}toString(i,n,o){let s=`*${this.source}`;if(i){if(ta(this.source),i.options.verifyAliasOrder&&!i.anchors.has(this.source)){let l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(l)}if(i.implicitKey)return`${s} `}return s}};function na(r,i,n){if(on(i)){let o=i.resolve(r),s=n&&o&&n.get(o);return s?s.count*s.aliasCount:0}else if(we(i)){let o=0;for(let s of i.items){let l=na(r,s,n);l>o&&(o=l)}return o}else if(he(i)){let o=na(r,i.key,n),s=na(r,i.value,n);return Math.max(o,s)}return 1}var ia=r=>!r||typeof r!="function"&&typeof r!="object",Q=(()=>{class r extends _i{constructor(n){super(jt),this.value=n}toJSON(n,o){return o?.keep?this.value:Ke(this.value,n,o)}toString(){return String(this.value)}}return r.BLOCK_FOLDED="BLOCK_FOLDED",r.BLOCK_LITERAL="BLOCK_LITERAL",r.PLAIN="PLAIN",r.QUOTE_DOUBLE="QUOTE_DOUBLE",r.QUOTE_SINGLE="QUOTE_SINGLE",r})();var Kb="tag:yaml.org,2002:";function Yb(r,i,n){if(i){let o=n.filter(l=>l.tag===i),s=o.find(l=>!l.format)??o[0];if(!s)throw new Error(`Tag ${i} not found`);return s}return n.find(o=>o.identify?.(r)&&!o.format)}function Xn(r,i,n){if(gn(r)&&(r=r.contents),_e(r))return r;if(he(r)){let x=n.schema[hn].createNode?.(n.schema,null,n);return x.items.push(r),x}(r instanceof String||r instanceof Number||r instanceof Boolean||typeof BigInt<"u"&&r instanceof BigInt)&&(r=r.valueOf());let{aliasDuplicateObjects:o,onAnchor:s,onTagObj:l,schema:u,sourceObjects:d}=n,h;if(o&&r&&typeof r=="object"){if(h=d.get(r),h)return h.anchor??(h.anchor=s(r)),new zn(h.anchor);h={anchor:null,node:null},d.set(r,h)}i?.startsWith("!!")&&(i=Kb+i.slice(2));let _=Yb(r,i,u.tags);if(!_){if(r&&typeof r.toJSON=="function"&&(r=r.toJSON()),!r||typeof r!="object"){let x=new Q(r);return h&&(h.node=x),x}_=r instanceof Map?u[hn]:Symbol.iterator in Object(r)?u[Hn]:u[hn]}l&&(l(_),delete n.onTagObj);let T=_?.createNode?_.createNode(n.schema,r,n):typeof _?.nodeClass?.from=="function"?_.nodeClass.from(n.schema,r,n):new Q(r);return i?T.tag=i:_.default||(T.tag=_.tag),h&&(h.node=T),T}function ho(r,i,n){let o=n;for(let s=i.length-1;s>=0;--s){let l=i[s];if(typeof l=="number"&&Number.isInteger(l)&&l>=0){let u=[];u[l]=o,o=u}else o=new Map([[l,o]])}return Xn(o,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:r,sourceObjects:new Map})}var Br=r=>r==null||typeof r=="object"&&!!r[Symbol.iterator]().next().done,Fr=class extends _i{constructor(i,n){super(i),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(i){let n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return i&&(n.schema=i),n.items=n.items.map(o=>_e(o)||he(o)?o.clone(i):o),this.range&&(n.range=this.range.slice()),n}addIn(i,n){if(Br(i))this.add(n);else{let[o,...s]=i,l=this.get(o,!0);if(we(l))l.addIn(s,n);else if(l===void 0&&this.schema)this.set(o,ho(this.schema,s,n));else throw new Error(`Expected YAML collection at ${o}. Remaining path: ${s}`)}}deleteIn(i){let[n,...o]=i;if(o.length===0)return this.delete(n);let s=this.get(n,!0);if(we(s))return s.deleteIn(o);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${o}`)}getIn(i,n){let[o,...s]=i,l=this.get(o,!0);return s.length===0?!n&&ue(l)?l.value:l:we(l)?l.getIn(s,n):void 0}hasAllNullValues(i){return this.items.every(n=>{if(!he(n))return!1;let o=n.value;return o==null||i&&ue(o)&&o.value==null&&!o.commentBefore&&!o.comment&&!o.tag})}hasIn(i){let[n,...o]=i;if(o.length===0)return this.has(n);let s=this.get(n,!0);return we(s)?s.hasIn(o):!1}setIn(i,n){let[o,...s]=i;if(s.length===0)this.set(o,n);else{let l=this.get(o,!0);if(we(l))l.setIn(s,n);else if(l===void 0&&this.schema)this.set(o,ho(this.schema,s,n));else throw new Error(`Expected YAML collection at ${o}. Remaining path: ${s}`)}}};var Em=r=>r.replace(/^(?!$)(?: $)?/gm,"#");function sn(r,i){return/^\n+$/.test(r)?r.substring(1):i?r.replace(/^(?! *$)/gm,i):r}var Rn=(r,i,n)=>r.endsWith(`
`)?sn(n,i):n.includes(`
`)?`
`+sn(n,i):(r.endsWith(" ")?"":" ")+n;var uc="flow",ra="block",go="quoted";function _o(r,i,n="flow",{indentAtStart:o,lineWidth:s=80,minContentWidth:l=20,onFold:u,onOverflow:d}={}){if(!s||s<0)return r;s<l&&(l=0);let h=Math.max(1+l,1+s-i.length);if(r.length<=h)return r;let _=[],T={},x=s-i.length;typeof o=="number"&&(o>s-Math.max(2,l)?_.push(0):x=s-o);let S,I,V=!1,M=-1,L=-1,$=-1;n===ra&&(M=Am(r,M,i.length),M!==-1&&(x=M+h));for(let j;j=r[M+=1];){if(n===go&&j==="\\"){switch(L=M,r[M+1]){case"x":M+=3;break;case"u":M+=5;break;case"U":M+=9;break;default:M+=1}$=M}if(j===`
`)n===ra&&(M=Am(r,M,i.length)),x=M+i.length+h,S=void 0;else{if(j===" "&&I&&I!==" "&&I!==`
`&&I!=="	"){let te=r[M+1];te&&te!==" "&&te!==`
`&&te!=="	"&&(S=M)}if(M>=x)if(S)_.push(S),x=S+h,S=void 0;else if(n===go){for(;I===" "||I==="	";)I=j,j=r[M+=1],V=!0;let te=M>$+1?M-2:L-1;if(T[te])return r;_.push(te),T[te]=!0,x=te+h,S=void 0}else V=!0}I=j}if(V&&d&&d(),_.length===0)return r;u&&u();let K=r.slice(0,_[0]);for(let j=0;j<_.length;++j){let te=_[j],ee=_[j+1]||r.length;te===0?K=`
${i}${r.slice(0,ee)}`:(n===go&&T[te]&&(K+=`${r[te]}\\`),K+=`
${i}${r.slice(te+1,ee)}`)}return K}function Am(r,i,n){let o=i,s=i+1,l=r[s];for(;l===" "||l==="	";)if(i<s+n)l=r[++i];else{do l=r[++i];while(l&&l!==`
`);o=i,s=i+1,l=r[s]}return o}var sa=(r,i)=>({indentAtStart:i?r.indent.length:r.indentAtStart,lineWidth:r.options.lineWidth,minContentWidth:r.options.minContentWidth}),aa=r=>/^(%|---|\.\.\.)/m.test(r);function qb(r,i,n){if(!i||i<0)return!1;let o=i-n,s=r.length;if(s<=o)return!1;for(let l=0,u=0;l<s;++l)if(r[l]===`
`){if(l-u>o)return!0;if(u=l+1,s-u<=o)return!1}return!0}function yo(r,i){let n=JSON.stringify(r);if(i.options.doubleQuotedAsJSON)return n;let{implicitKey:o}=i,s=i.options.doubleQuotedMinMultiLineLength,l=i.indent||(aa(r)?"  ":""),u="",d=0;for(let h=0,_=n[h];_;_=n[++h])if(_===" "&&n[h+1]==="\\"&&n[h+2]==="n"&&(u+=n.slice(d,h)+"\\ ",h+=1,d=h,_="\\"),_==="\\")switch(n[h+1]){case"u":{u+=n.slice(d,h);let T=n.substr(h+2,4);switch(T){case"0000":u+="\\0";break;case"0007":u+="\\a";break;case"000b":u+="\\v";break;case"001b":u+="\\e";break;case"0085":u+="\\N";break;case"00a0":u+="\\_";break;case"2028":u+="\\L";break;case"2029":u+="\\P";break;default:T.substr(0,2)==="00"?u+="\\x"+T.substr(2):u+=n.substr(h,6)}h+=5,d=h+1}break;case"n":if(o||n[h+2]==='"'||n.length<s)h+=1;else{for(u+=n.slice(d,h)+`

`;n[h+2]==="\\"&&n[h+3]==="n"&&n[h+4]!=='"';)u+=`
`,h+=2;u+=l,n[h+2]===" "&&(u+="\\"),h+=1,d=h+1}break;default:h+=1}return u=d?u+n.slice(d):n,o?u:_o(u,l,go,sa(i,!1))}function fc(r,i){if(i.options.singleQuote===!1||i.implicitKey&&r.includes(`
`)||/[ \t]\n|\n[ \t]/.test(r))return yo(r,i);let n=i.indent||(aa(r)?"  ":""),o="'"+r.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return i.implicitKey?o:_o(o,n,uc,sa(i,!1))}function Vr(r,i){let{singleQuote:n}=i.options,o;if(n===!1)o=yo;else{let s=r.includes('"'),l=r.includes("'");s&&!l?o=fc:l&&!s?o=yo:o=n?fc:yo}return o(r,i)}var pc;try{pc=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{pc=/\n+(?!\n|$)/g}function oa({comment:r,type:i,value:n},o,s,l){let{blockQuote:u,commentString:d,lineWidth:h}=o.options;if(!u||/\n[\t ]+$/.test(n))return Vr(n,o);let _=o.indent||(o.forceBlockIndent||aa(n)?"  ":""),T=u==="literal"?!0:u==="folded"||i===Q.BLOCK_FOLDED?!1:i===Q.BLOCK_LITERAL?!0:!qb(n,h,_.length);if(!n)return T?`|
`:`>
`;let x,S;for(S=n.length;S>0;--S){let ee=n[S-1];if(ee!==`
`&&ee!=="	"&&ee!==" ")break}let I=n.substring(S),V=I.indexOf(`
`);V===-1?x="-":n===I||V!==I.length-1?(x="+",l&&l()):x="",I&&(n=n.slice(0,-I.length),I[I.length-1]===`
`&&(I=I.slice(0,-1)),I=I.replace(pc,`$&${_}`));let M=!1,L,$=-1;for(L=0;L<n.length;++L){let ee=n[L];if(ee===" ")M=!0;else if(ee===`
`)$=L;else break}let K=n.substring(0,$<L?$+1:L);K&&(n=n.substring(K.length),K=K.replace(/\n+/g,`$&${_}`));let te=(M?_?"2":"1":"")+x;if(r&&(te+=" "+d(r.replace(/ ?[\r\n]+/g," ")),s&&s()),!T){let ee=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${_}`),se=!1,be=sa(o,!0);u!=="folded"&&i!==Q.BLOCK_FOLDED&&(be.onOverflow=()=>{se=!0});let H=_o(`${K}${ee}${I}`,_,ra,be);if(!se)return`>${te}
${_}${H}`}return n=n.replace(/\n+/g,`$&${_}`),`|${te}
${_}${K}${n}${I}`}function jb(r,i,n,o){let{type:s,value:l}=r,{actualString:u,implicitKey:d,indent:h,indentStep:_,inFlow:T}=i;if(d&&l.includes(`
`)||T&&/[[\]{},]/.test(l))return Vr(l,i);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(l))return d||T||!l.includes(`
`)?Vr(l,i):oa(r,i,n,o);if(!d&&!T&&s!==Q.PLAIN&&l.includes(`
`))return oa(r,i,n,o);if(aa(l)){if(h==="")return i.forceBlockIndent=!0,oa(r,i,n,o);if(d&&h===_)return Vr(l,i)}let x=l.replace(/\n+/g,`$&
${h}`);if(u){let S=M=>M.default&&M.tag!=="tag:yaml.org,2002:str"&&M.test?.test(x),{compat:I,tags:V}=i.doc.schema;if(V.some(S)||I?.some(S))return Vr(l,i)}return d?x:_o(x,h,uc,sa(i,!1))}function fr(r,i,n,o){let{implicitKey:s,inFlow:l}=i,u=typeof r.value=="string"?r:Object.assign({},r,{value:String(r.value)}),{type:d}=r;d!==Q.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(u.value)&&(d=Q.QUOTE_DOUBLE);let h=T=>{switch(T){case Q.BLOCK_FOLDED:case Q.BLOCK_LITERAL:return s||l?Vr(u.value,i):oa(u,i,n,o);case Q.QUOTE_DOUBLE:return yo(u.value,i);case Q.QUOTE_SINGLE:return fc(u.value,i);case Q.PLAIN:return jb(u,i,n,o);default:return null}},_=h(d);if(_===null){let{defaultKeyType:T,defaultStringType:x}=i.options,S=s&&T||x;if(_=h(S),_===null)throw new Error(`Unsupported default string type ${S}`)}return _}function la(r,i){let n=Object.assign({blockQuote:!0,commentString:Em,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},r.schema.toStringOptions,i),o;switch(n.collectionStyle){case"block":o=!1;break;case"flow":o=!0;break;default:o=null}return{anchors:new Set,doc:r,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:o,options:n}}function Hb(r,i){if(i.tag){let s=r.filter(l=>l.tag===i.tag);if(s.length>0)return s.find(l=>l.format===i.format)??s[0]}let n,o;if(ue(i)){o=i.value;let s=r.filter(l=>l.identify?.(o));if(s.length>1){let l=s.filter(u=>u.test);l.length>0&&(s=l)}n=s.find(l=>l.format===i.format)??s.find(l=>!l.format)}else o=i,n=r.find(s=>s.nodeClass&&o instanceof s.nodeClass);if(!n){let s=o?.constructor?.name??(o===null?"null":typeof o);throw new Error(`Tag not resolved for ${s} value`)}return n}function zb(r,i,{anchors:n,doc:o}){if(!o.directives)return"";let s=[],l=(ue(r)||we(r))&&r.anchor;l&&ta(l)&&(n.add(l),s.push(`&${l}`));let u=r.tag??(i.default?null:i.tag);return u&&s.push(o.directives.tagString(u)),s.join(" ")}function Jn(r,i,n,o){if(he(r))return r.toString(i,n,o);if(on(r)){if(i.doc.directives)return r.toString(i);if(i.resolvedAliases?.has(r))throw new TypeError("Cannot stringify circular structure without alias nodes");i.resolvedAliases?i.resolvedAliases.add(r):i.resolvedAliases=new Set([r]),r=r.resolve(i.doc)}let s,l=_e(r)?r:i.doc.createNode(r,{onTagObj:h=>s=h});s??(s=Hb(i.doc.schema.tags,l));let u=zb(l,s,i);u.length>0&&(i.indentAtStart=(i.indentAtStart??0)+u.length+1);let d=typeof s.stringify=="function"?s.stringify(l,i,n,o):ue(l)?fr(l,i,n,o):l.toString(i,n,o);return u?ue(l)||d[0]==="{"||d[0]==="["?`${u} ${d}`:`${u}
${i.indent}${d}`:d}function Im({key:r,value:i},n,o,s){let{allNullValues:l,doc:u,indent:d,indentStep:h,options:{commentString:_,indentSeq:T,simpleKeys:x}}=n,S=_e(r)&&r.comment||null;if(x){if(S)throw new Error("With simple keys, key nodes cannot have comments");if(we(r)||!_e(r)&&typeof r=="object"){let be="With simple keys, collection cannot be used as a key value";throw new Error(be)}}let I=!x&&(!r||S&&i==null&&!n.inFlow||we(r)||(ue(r)?r.type===Q.BLOCK_FOLDED||r.type===Q.BLOCK_LITERAL:typeof r=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!I&&(x||!l),indent:d+h});let V=!1,M=!1,L=Jn(r,n,()=>V=!0,()=>M=!0);if(!I&&!n.inFlow&&L.length>1024){if(x)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");I=!0}if(n.inFlow){if(l||i==null)return V&&o&&o(),L===""?"?":I?`? ${L}`:L}else if(l&&!x||i==null&&I)return L=`? ${L}`,S&&!V?L+=Rn(L,n.indent,_(S)):M&&s&&s(),L;V&&(S=null),I?(S&&(L+=Rn(L,n.indent,_(S))),L=`? ${L}
${d}:`):(L=`${L}:`,S&&(L+=Rn(L,n.indent,_(S))));let $,K,j;_e(i)?($=!!i.spaceBefore,K=i.commentBefore,j=i.comment):($=!1,K=null,j=null,i&&typeof i=="object"&&(i=u.createNode(i))),n.implicitKey=!1,!I&&!S&&ue(i)&&(n.indentAtStart=L.length+1),M=!1,!T&&h.length>=2&&!n.inFlow&&!I&&yn(i)&&!i.flow&&!i.tag&&!i.anchor&&(n.indent=n.indent.substring(2));let te=!1,ee=Jn(i,n,()=>te=!0,()=>M=!0),se=" ";if(S||$||K){if(se=$?`
`:"",K){let be=_(K);se+=`
${sn(be,n.indent)}`}ee===""&&!n.inFlow?se===`
`&&(se=`

`):se+=`
${n.indent}`}else if(!I&&we(i)){let be=ee[0],H=ee.indexOf(`
`),Re=H!==-1,xn=n.inFlow??i.flow??i.items.length===0;if(Re||!xn){let Qn=!1;if(Re&&(be==="&"||be==="!")){let Oe=ee.indexOf(" ");be==="&"&&Oe!==-1&&Oe<H&&ee[Oe+1]==="!"&&(Oe=ee.indexOf(" ",Oe+1)),(Oe===-1||H<Oe)&&(Qn=!0)}Qn||(se=`
${n.indent}`)}}else(ee===""||ee[0]===`
`)&&(se="");return L+=se+ee,n.inFlow?te&&o&&o():j&&!te?L+=Rn(L,n.indent,_(j)):M&&s&&s(),L}function ca(r,i){(r==="debug"||r==="warn")&&console.warn(i)}var ua="<<",wn={identify:r=>r===ua||typeof r=="symbol"&&r.description===ua,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Q(Symbol(ua)),{addToJSMap:dc}),stringify:()=>ua},Nm=(r,i)=>(wn.identify(i)||ue(i)&&(!i.type||i.type===Q.PLAIN)&&wn.identify(i.value))&&r?.doc.schema.tags.some(n=>n.tag===wn.tag&&n.default);function dc(r,i,n){if(n=r&&on(n)?n.resolve(r.doc):n,yn(n))for(let o of n.items)mc(r,i,o);else if(Array.isArray(n))for(let o of n)mc(r,i,o);else mc(r,i,n)}function mc(r,i,n){let o=r&&on(n)?n.resolve(r.doc):n;if(!_n(o))throw new Error("Merge sources must be maps or map aliases");let s=o.toJSON(null,r,Map);for(let[l,u]of s)i instanceof Map?i.has(l)||i.set(l,u):i instanceof Set?i.add(l):Object.prototype.hasOwnProperty.call(i,l)||Object.defineProperty(i,l,{value:u,writable:!0,enumerable:!0,configurable:!0});return i}function fa(r,i,{key:n,value:o}){if(_e(n)&&n.addToJSMap)n.addToJSMap(r,i,o);else if(Nm(r,n))dc(r,i,o);else{let s=Ke(n,"",r);if(i instanceof Map)i.set(s,Ke(o,s,r));else if(i instanceof Set)i.add(s);else{let l=Xb(n,s,r),u=Ke(o,l,r);l in i?Object.defineProperty(i,l,{value:u,writable:!0,enumerable:!0,configurable:!0}):i[l]=u}}return i}function Xb(r,i,n){if(i===null)return"";if(typeof i!="object")return String(i);if(_e(r)&&n?.doc){let o=la(n.doc,{});o.anchors=new Set;for(let l of n.anchors.keys())o.anchors.add(l.anchor);o.inFlow=!0,o.inStringifyKey=!0;let s=r.toString(o);if(!n.mapKeyWarned){let l=JSON.stringify(s);l.length>40&&(l=l.substring(0,36)+'..."'),ca(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${l}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(i)}function Gr(r,i,n){let o=Xn(r,void 0,n),s=Xn(i,void 0,n);return new Le(o,s)}var Le=class r{constructor(i,n=null){Object.defineProperty(this,Lt,{value:ac}),this.key=i,this.value=n}clone(i){let{key:n,value:o}=this;return _e(n)&&(n=n.clone(i)),_e(o)&&(o=o.clone(i)),new r(n,o)}toJSON(i,n){let o=n?.mapAsMap?new Map:{};return fa(n,o,this)}toString(i,n,o){return i?.doc?Im(this,i,n,o):JSON.stringify(this)}};function ma(r,i,n){return(i.inFlow??r.flow?Zb:Jb)(r,i,n)}function Jb({comment:r,items:i},n,{blockItemPrefix:o,flowChars:s,itemIndent:l,onChompKeep:u,onComment:d}){let{indent:h,options:{commentString:_}}=n,T=Object.assign({},n,{indent:l,type:null}),x=!1,S=[];for(let V=0;V<i.length;++V){let M=i[V],L=null;if(_e(M))!x&&M.spaceBefore&&S.push(""),pa(n,S,M.commentBefore,x),M.comment&&(L=M.comment);else if(he(M)){let K=_e(M.key)?M.key:null;K&&(!x&&K.spaceBefore&&S.push(""),pa(n,S,K.commentBefore,x))}x=!1;let $=Jn(M,T,()=>L=null,()=>x=!0);L&&($+=Rn($,l,_(L))),x&&L&&(x=!1),S.push(o+$)}let I;if(S.length===0)I=s.start+s.end;else{I=S[0];for(let V=1;V<S.length;++V){let M=S[V];I+=M?`
${h}${M}`:`
`}}return r?(I+=`
`+sn(_(r),h),d&&d()):x&&u&&u(),I}function Zb({items:r},i,{flowChars:n,itemIndent:o}){let{indent:s,indentStep:l,flowCollectionPadding:u,options:{commentString:d}}=i;o+=l;let h=Object.assign({},i,{indent:o,inFlow:!0,type:null}),_=!1,T=0,x=[];for(let V=0;V<r.length;++V){let M=r[V],L=null;if(_e(M))M.spaceBefore&&x.push(""),pa(i,x,M.commentBefore,!1),M.comment&&(L=M.comment);else if(he(M)){let K=_e(M.key)?M.key:null;K&&(K.spaceBefore&&x.push(""),pa(i,x,K.commentBefore,!1),K.comment&&(_=!0));let j=_e(M.value)?M.value:null;j?(j.comment&&(L=j.comment),j.commentBefore&&(_=!0)):M.value==null&&K?.comment&&(L=K.comment)}L&&(_=!0);let $=Jn(M,h,()=>L=null);V<r.length-1&&($+=","),L&&($+=Rn($,o,d(L))),!_&&(x.length>T||$.includes(`
`))&&(_=!0),x.push($),T=x.length}let{start:S,end:I}=n;if(x.length===0)return S+I;if(!_){let V=x.reduce((M,L)=>M+L.length+2,2);_=i.options.lineWidth>0&&V>i.options.lineWidth}if(_){let V=S;for(let M of x)V+=M?`
${l}${s}${M}`:`
`;return`${V}
${s}${I}`}else return`${S}${u}${x.join(" ")}${u}${I}`}function pa({indent:r,options:{commentString:i}},n,o,s){if(o&&s&&(o=o.replace(/^\n+/,"")),o){let l=sn(i(o),r);n.push(l.trimStart())}}function yi(r,i){let n=ue(i)?i.value:i;for(let o of r)if(he(o)&&(o.key===i||o.key===n||ue(o.key)&&o.key.value===n))return o}var Ve=class extends Fr{static get tagName(){return"tag:yaml.org,2002:map"}constructor(i){super(hn,i),this.items=[]}static from(i,n,o){let{keepUndefined:s,replacer:l}=o,u=new this(i),d=(h,_)=>{if(typeof l=="function")_=l.call(n,h,_);else if(Array.isArray(l)&&!l.includes(h))return;(_!==void 0||s)&&u.items.push(Gr(h,_,o))};if(n instanceof Map)for(let[h,_]of n)d(h,_);else if(n&&typeof n=="object")for(let h of Object.keys(n))d(h,n[h]);return typeof i.sortMapEntries=="function"&&u.items.sort(i.sortMapEntries),u}add(i,n){let o;he(i)?o=i:!i||typeof i!="object"||!("key"in i)?o=new Le(i,i?.value):o=new Le(i.key,i.value);let s=yi(this.items,o.key),l=this.schema?.sortMapEntries;if(s){if(!n)throw new Error(`Key ${o.key} already set`);ue(s.value)&&ia(o.value)?s.value.value=o.value:s.value=o.value}else if(l){let u=this.items.findIndex(d=>l(o,d)<0);u===-1?this.items.push(o):this.items.splice(u,0,o)}else this.items.push(o)}delete(i){let n=yi(this.items,i);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(i,n){let s=yi(this.items,i)?.value;return(!n&&ue(s)?s.value:s)??void 0}has(i){return!!yi(this.items,i)}set(i,n){this.add(new Le(i,n),!0)}toJSON(i,n,o){let s=o?new o:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(s);for(let l of this.items)fa(n,s,l);return s}toString(i,n,o){if(!i)return JSON.stringify(this);for(let s of this.items)if(!he(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!i.allNullValues&&this.hasAllNullValues(!1)&&(i=Object.assign({},i,{allNullValues:!0})),ma(this,i,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:i.indent||"",onChompKeep:o,onComment:n})}};var bn={collection:"map",default:!0,nodeClass:Ve,tag:"tag:yaml.org,2002:map",resolve(r,i){return _n(r)||i("Expected a mapping for this tag"),r},createNode:(r,i,n)=>Ve.from(r,i,n)};var Mt=class extends Fr{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(i){super(Hn,i),this.items=[]}add(i){this.items.push(i)}delete(i){let n=da(i);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(i,n){let o=da(i);if(typeof o!="number")return;let s=this.items[o];return!n&&ue(s)?s.value:s}has(i){let n=da(i);return typeof n=="number"&&n<this.items.length}set(i,n){let o=da(i);if(typeof o!="number")throw new Error(`Expected a valid index, not ${i}.`);let s=this.items[o];ue(s)&&ia(n)?s.value=n:this.items[o]=n}toJSON(i,n){let o=[];n?.onCreate&&n.onCreate(o);let s=0;for(let l of this.items)o.push(Ke(l,String(s++),n));return o}toString(i,n,o){return i?ma(this,i,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(i.indent||"")+"  ",onChompKeep:o,onComment:n}):JSON.stringify(this)}static from(i,n,o){let{replacer:s}=o,l=new this(i);if(n&&Symbol.iterator in Object(n)){let u=0;for(let d of n){if(typeof s=="function"){let h=n instanceof Set?d:String(u++);d=s.call(n,h,d)}l.items.push(Xn(d,void 0,o))}}return l}};function da(r){let i=ue(r)?r.value:r;return i&&typeof i=="string"&&(i=Number(i)),typeof i=="number"&&Number.isInteger(i)&&i>=0?i:null}var Cn={collection:"seq",default:!0,nodeClass:Mt,tag:"tag:yaml.org,2002:seq",resolve(r,i){return yn(r)||i("Expected a sequence for this tag"),r},createNode:(r,i,n)=>Mt.from(r,i,n)};var wi={identify:r=>typeof r=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:r=>r,stringify(r,i,n,o){return i=Object.assign({actualString:!0},i),fr(r,i,n,o)}};var pr={identify:r=>r==null,createNode:()=>new Q(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Q(null),stringify:({source:r},i)=>typeof r=="string"&&pr.test.test(r)?r:i.options.nullStr};var wo={identify:r=>typeof r=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:r=>new Q(r[0]==="t"||r[0]==="T"),stringify({source:r,value:i},n){if(r&&wo.test.test(r)){let o=r[0]==="t"||r[0]==="T";if(i===o)return r}return i?n.options.trueStr:n.options.falseStr}};function Tt({format:r,minFractionDigits:i,tag:n,value:o}){if(typeof o=="bigint")return String(o);let s=typeof o=="number"?o:Number(o);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let l=JSON.stringify(o);if(!r&&i&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(l)){let u=l.indexOf(".");u<0&&(u=l.length,l+=".");let d=i-(l.length-u-1);for(;d-- >0;)l+="0"}return l}var ha={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:r=>r.slice(-3).toLowerCase()==="nan"?NaN:r[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Tt},ga={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:r=>parseFloat(r),stringify(r){let i=Number(r.value);return isFinite(i)?i.toExponential():Tt(r)}},_a={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(r){let i=new Q(parseFloat(r)),n=r.indexOf(".");return n!==-1&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length-n-1),i},stringify:Tt};var ya=r=>typeof r=="bigint"||Number.isInteger(r),hc=(r,i,n,{intAsBigInt:o})=>o?BigInt(r):parseInt(r.substring(i),n);function Om(r,i,n){let{value:o}=r;return ya(o)&&o>=0?n+o.toString(i):Tt(r)}var wa={identify:r=>ya(r)&&r>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(r,i,n)=>hc(r,2,8,n),stringify:r=>Om(r,8,"0o")},ba={identify:ya,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(r,i,n)=>hc(r,0,10,n),stringify:Tt},Ca={identify:r=>ya(r)&&r>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(r,i,n)=>hc(r,2,16,n),stringify:r=>Om(r,16,"0x")};var Pm=[bn,Cn,wi,pr,wo,wa,ba,Ca,ha,ga,_a];function Lm(r){return typeof r=="bigint"||Number.isInteger(r)}var va=({value:r})=>JSON.stringify(r),Qb=[{identify:r=>typeof r=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:r=>r,stringify:va},{identify:r=>r==null,createNode:()=>new Q(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:va},{identify:r=>typeof r=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:r=>r==="true",stringify:va},{identify:Lm,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(r,i,{intAsBigInt:n})=>n?BigInt(r):parseInt(r,10),stringify:({value:r})=>Lm(r)?r.toString():JSON.stringify(r)},{identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:r=>parseFloat(r),stringify:va}],eC={default:!0,tag:"",test:/^/,resolve(r,i){return i(`Unresolved plain scalar ${JSON.stringify(r)}`),r}},Rm=[bn,Cn].concat(Qb,eC);var bo={identify:r=>r instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(r,i){if(typeof atob=="function"){let n=atob(r.replace(/[\n\r]/g,"")),o=new Uint8Array(n.length);for(let s=0;s<n.length;++s)o[s]=n.charCodeAt(s);return o}else return i("This environment does not support reading binary tags; either Buffer or atob is required"),r},stringify({comment:r,type:i,value:n},o,s,l){if(!n)return"";let u=n,d;if(typeof btoa=="function"){let h="";for(let _=0;_<u.length;++_)h+=String.fromCharCode(u[_]);d=btoa(h)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(i??(i=Q.BLOCK_LITERAL),i!==Q.QUOTE_DOUBLE){let h=Math.max(o.options.lineWidth-o.indent.length,o.options.minContentWidth),_=Math.ceil(d.length/h),T=new Array(_);for(let x=0,S=0;x<_;++x,S+=h)T[x]=d.substr(S,h);d=T.join(i===Q.BLOCK_LITERAL?`
`:" ")}return fr({comment:r,type:i,value:d},o,s,l)}};function gc(r,i){if(yn(r))for(let n=0;n<r.items.length;++n){let o=r.items[n];if(!he(o)){if(_n(o)){o.items.length>1&&i("Each pair must have its own sequence indicator");let s=o.items[0]||new Le(new Q(null));if(o.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${o.commentBefore}
${s.key.commentBefore}`:o.commentBefore),o.comment){let l=s.value??s.key;l.comment=l.comment?`${o.comment}
${l.comment}`:o.comment}o=s}r.items[n]=he(o)?o:new Le(o)}}else i("Expected a sequence for this tag");return r}function _c(r,i,n){let{replacer:o}=n,s=new Mt(r);s.tag="tag:yaml.org,2002:pairs";let l=0;if(i&&Symbol.iterator in Object(i))for(let u of i){typeof o=="function"&&(u=o.call(i,String(l++),u));let d,h;if(Array.isArray(u))if(u.length===2)d=u[0],h=u[1];else throw new TypeError(`Expected [key, value] tuple: ${u}`);else if(u&&u instanceof Object){let _=Object.keys(u);if(_.length===1)d=_[0],h=u[d];else throw new TypeError(`Expected tuple with one key, not ${_.length} keys`)}else d=u;s.items.push(Gr(d,h,n))}return s}var Co={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:gc,createNode:_c};var yc=(()=>{class r extends Mt{constructor(){super(),this.add=Ve.prototype.add.bind(this),this.delete=Ve.prototype.delete.bind(this),this.get=Ve.prototype.get.bind(this),this.has=Ve.prototype.has.bind(this),this.set=Ve.prototype.set.bind(this),this.tag=r.tag}toJSON(n,o){if(!o)return super.toJSON(n);let s=new Map;o?.onCreate&&o.onCreate(s);for(let l of this.items){let u,d;if(he(l)?(u=Ke(l.key,"",o),d=Ke(l.value,u,o)):u=Ke(l,"",o),s.has(u))throw new Error("Ordered maps must not include duplicate keys");s.set(u,d)}return s}static from(n,o,s){let l=_c(n,o,s),u=new this;return u.items=l.items,u}}return r.tag="tag:yaml.org,2002:omap",r})(),vo={collection:"seq",identify:r=>r instanceof Map,nodeClass:yc,default:!1,tag:"tag:yaml.org,2002:omap",resolve(r,i){let n=gc(r,i),o=[];for(let{key:s}of n.items)ue(s)&&(o.includes(s.value)?i(`Ordered maps must not include duplicate keys: ${s.value}`):o.push(s.value));return Object.assign(new yc,n)},createNode:(r,i,n)=>yc.from(r,i,n)};function km({value:r,source:i},n){return i&&(r?wc:bc).test.test(i)?i:r?n.options.trueStr:n.options.falseStr}var wc={identify:r=>r===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Q(!0),stringify:km},bc={identify:r=>r===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Q(!1),stringify:km};var Dm={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:r=>r.slice(-3).toLowerCase()==="nan"?NaN:r[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Tt},Fm={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:r=>parseFloat(r.replace(/_/g,"")),stringify(r){let i=Number(r.value);return isFinite(i)?i.toExponential():Tt(r)}},Bm={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(r){let i=new Q(parseFloat(r.replace(/_/g,""))),n=r.indexOf(".");if(n!==-1){let o=r.substring(n+1).replace(/_/g,"");o[o.length-1]==="0"&&(i.minFractionDigits=o.length)}return i},stringify:Tt};var So=r=>typeof r=="bigint"||Number.isInteger(r);function Sa(r,i,n,{intAsBigInt:o}){let s=r[0];if((s==="-"||s==="+")&&(i+=1),r=r.substring(i).replace(/_/g,""),o){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let u=BigInt(r);return s==="-"?BigInt(-1)*u:u}let l=parseInt(r,n);return s==="-"?-1*l:l}function Cc(r,i,n){let{value:o}=r;if(So(o)){let s=o.toString(i);return o<0?"-"+n+s.substr(1):n+s}return Tt(r)}var Vm={identify:So,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(r,i,n)=>Sa(r,2,2,n),stringify:r=>Cc(r,2,"0b")},Gm={identify:So,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(r,i,n)=>Sa(r,1,8,n),stringify:r=>Cc(r,8,"0")},Wm={identify:So,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(r,i,n)=>Sa(r,0,10,n),stringify:Tt},Um={identify:So,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(r,i,n)=>Sa(r,2,16,n),stringify:r=>Cc(r,16,"0x")};var vc=(()=>{class r extends Ve{constructor(n){super(n),this.tag=r.tag}add(n){let o;he(n)?o=n:n&&typeof n=="object"&&"key"in n&&"value"in n&&n.value===null?o=new Le(n.key,null):o=new Le(n,null),yi(this.items,o.key)||this.items.push(o)}get(n,o){let s=yi(this.items,n);return!o&&he(s)?ue(s.key)?s.key.value:s.key:s}set(n,o){if(typeof o!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof o}`);let s=yi(this.items,n);s&&!o?this.items.splice(this.items.indexOf(s),1):!s&&o&&this.items.push(new Le(n))}toJSON(n,o){return super.toJSON(n,o,Set)}toString(n,o,s){if(!n)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},n,{allNullValues:!0}),o,s);throw new Error("Set items must all have null values")}static from(n,o,s){let{replacer:l}=s,u=new this(n);if(o&&Symbol.iterator in Object(o))for(let d of o)typeof l=="function"&&(d=l.call(o,d,d)),u.items.push(Gr(d,null,s));return u}}return r.tag="tag:yaml.org,2002:set",r})(),xo={collection:"map",identify:r=>r instanceof Set,nodeClass:vc,default:!1,tag:"tag:yaml.org,2002:set",createNode:(r,i,n)=>vc.from(r,i,n),resolve(r,i){if(_n(r)){if(r.hasAllNullValues(!0))return Object.assign(new vc,r);i("Set items must all have null values")}else i("Expected a mapping for this tag");return r}};function Sc(r,i){let n=r[0],o=n==="-"||n==="+"?r.substring(1):r,s=u=>i?BigInt(u):Number(u),l=o.replace(/_/g,"").split(":").reduce((u,d)=>u*s(60)+s(d),s(0));return n==="-"?s(-1)*l:l}function $m(r){let{value:i}=r,n=u=>u;if(typeof i=="bigint")n=u=>BigInt(u);else if(isNaN(i)||!isFinite(i))return Tt(r);let o="";i<0&&(o="-",i*=n(-1));let s=n(60),l=[i%s];return i<60?l.unshift(0):(i=(i-l[0])/s,l.unshift(i%s),i>=60&&(i=(i-l[0])/s,l.unshift(i))),o+l.map(u=>String(u).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var xa={identify:r=>typeof r=="bigint"||Number.isInteger(r),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(r,i,{intAsBigInt:n})=>Sc(r,n),stringify:$m},Ma={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:r=>Sc(r,!1),stringify:$m},Wr={identify:r=>r instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(r){let i=r.match(Wr.test);if(!i)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,o,s,l,u,d]=i.map(Number),h=i[7]?Number((i[7]+"00").substr(1,3)):0,_=Date.UTC(n,o-1,s,l||0,u||0,d||0,h),T=i[8];if(T&&T!=="Z"){let x=Sc(T,!1);Math.abs(x)<30&&(x*=60),_-=6e4*x}return new Date(_)},stringify:({value:r})=>r?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};var xc=[bn,Cn,wi,pr,wc,bc,Vm,Gm,Wm,Um,Dm,Fm,Bm,bo,wn,vo,Co,xo,xa,Ma,Wr];var Km=new Map([["core",Pm],["failsafe",[bn,Cn,wi]],["json",Rm],["yaml11",xc],["yaml-1.1",xc]]),Ym={binary:bo,bool:wo,float:_a,floatExp:ga,floatNaN:ha,floatTime:Ma,int:ba,intHex:Ca,intOct:wa,intTime:xa,map:bn,merge:wn,null:pr,omap:vo,pairs:Co,seq:Cn,set:xo,timestamp:Wr},qm={"tag:yaml.org,2002:binary":bo,"tag:yaml.org,2002:merge":wn,"tag:yaml.org,2002:omap":vo,"tag:yaml.org,2002:pairs":Co,"tag:yaml.org,2002:set":xo,"tag:yaml.org,2002:timestamp":Wr};function Ta(r,i,n){let o=Km.get(i);if(o&&!r)return n&&!o.includes(wn)?o.concat(wn):o.slice();let s=o;if(!s)if(Array.isArray(r))s=[];else{let l=Array.from(Km.keys()).filter(u=>u!=="yaml11").map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown schema "${i}"; use one of ${l} or define customTags array`)}if(Array.isArray(r))for(let l of r)s=s.concat(l);else typeof r=="function"&&(s=r(s.slice()));return n&&(s=s.concat(wn)),s.reduce((l,u)=>{let d=typeof u=="string"?Ym[u]:u;if(!d){let h=JSON.stringify(u),_=Object.keys(Ym).map(T=>JSON.stringify(T)).join(", ");throw new Error(`Unknown custom tag ${h}; use one of ${_}`)}return l.includes(d)||l.push(d),l},[])}var tC=(r,i)=>r.key<i.key?-1:r.key>i.key?1:0,Mo=class r{constructor({compat:i,customTags:n,merge:o,resolveKnownTags:s,schema:l,sortMapEntries:u,toStringDefaults:d}){this.compat=Array.isArray(i)?Ta(i,"compat"):i?Ta(null,i):null,this.name=typeof l=="string"&&l||"core",this.knownTags=s?qm:{},this.tags=Ta(n,this.name,o),this.toStringOptions=d??null,Object.defineProperty(this,hn,{value:bn}),Object.defineProperty(this,jt,{value:wi}),Object.defineProperty(this,Hn,{value:Cn}),this.sortMapEntries=typeof u=="function"?u:u===!0?tC:null}clone(){let i=Object.create(r.prototype,Object.getOwnPropertyDescriptors(this));return i.tags=this.tags.slice(),i}};function jm(r,i){let n=[],o=i.directives===!0;if(i.directives!==!1&&r.directives){let h=r.directives.toString(r);h?(n.push(h),o=!0):r.directives.docStart&&(o=!0)}o&&n.push("---");let s=la(r,i),{commentString:l}=s.options;if(r.commentBefore){n.length!==1&&n.unshift("");let h=l(r.commentBefore);n.unshift(sn(h,""))}let u=!1,d=null;if(r.contents){if(_e(r.contents)){if(r.contents.spaceBefore&&o&&n.push(""),r.contents.commentBefore){let T=l(r.contents.commentBefore);n.push(sn(T,""))}s.forceBlockIndent=!!r.comment,d=r.contents.comment}let h=d?void 0:()=>u=!0,_=Jn(r.contents,s,()=>d=null,h);d&&(_+=Rn(_,"",l(d))),(_[0]==="|"||_[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${_}`:n.push(_)}else n.push(Jn(r.contents,s));if(r.directives?.docEnd)if(r.comment){let h=l(r.comment);h.includes(`
`)?(n.push("..."),n.push(sn(h,""))):n.push(`... ${h}`)}else n.push("...");else{let h=r.comment;h&&u&&(h=h.replace(/^\n+/,"")),h&&((!u||d)&&n[n.length-1]!==""&&n.push(""),n.push(sn(l(h),"")))}return n.join(`
`)+`
`}var Zn=class r{constructor(i,n,o){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Lt,{value:Zs});let s=null;typeof n=="function"||Array.isArray(n)?s=n:o===void 0&&n&&(o=n,n=void 0);let l=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},o);this.options=l;let{version:u}=l;o?._directives?(this.directives=o._directives.atDocument(),this.directives.yaml.explicit&&(u=this.directives.yaml.version)):this.directives=new Dr({version:u}),this.setSchema(u,o),this.contents=i===void 0?null:this.createNode(i,s,o)}clone(){let i=Object.create(r.prototype,{[Lt]:{value:Zs}});return i.commentBefore=this.commentBefore,i.comment=this.comment,i.errors=this.errors.slice(),i.warnings=this.warnings.slice(),i.options=Object.assign({},this.options),this.directives&&(i.directives=this.directives.clone()),i.schema=this.schema.clone(),i.contents=_e(this.contents)?this.contents.clone(i.schema):this.contents,this.range&&(i.range=this.range.slice()),i}add(i){Ur(this.contents)&&this.contents.add(i)}addIn(i,n){Ur(this.contents)&&this.contents.addIn(i,n)}createAlias(i,n){if(!i.anchor){let o=lc(this);i.anchor=!n||o.has(n)?cc(n||"a",o):n}return new zn(i.anchor)}createNode(i,n,o){let s;if(typeof n=="function")i=n.call({"":i},"",i),s=n;else if(Array.isArray(n)){let L=K=>typeof K=="number"||K instanceof String||K instanceof Number,$=n.filter(L).map(String);$.length>0&&(n=n.concat($)),s=n}else o===void 0&&n&&(o=n,n=void 0);let{aliasDuplicateObjects:l,anchorPrefix:u,flow:d,keepUndefined:h,onTagObj:_,tag:T}=o??{},{onAnchor:x,setAnchors:S,sourceObjects:I}=Tm(this,u||"a"),V={aliasDuplicateObjects:l??!0,keepUndefined:h??!1,onAnchor:x,onTagObj:_,replacer:s,schema:this.schema,sourceObjects:I},M=Xn(i,T,V);return d&&we(M)&&(M.flow=!0),S(),M}createPair(i,n,o={}){let s=this.createNode(i,null,o),l=this.createNode(n,null,o);return new Le(s,l)}delete(i){return Ur(this.contents)?this.contents.delete(i):!1}deleteIn(i){return Br(i)?this.contents==null?!1:(this.contents=null,!0):Ur(this.contents)?this.contents.deleteIn(i):!1}get(i,n){return we(this.contents)?this.contents.get(i,n):void 0}getIn(i,n){return Br(i)?!n&&ue(this.contents)?this.contents.value:this.contents:we(this.contents)?this.contents.getIn(i,n):void 0}has(i){return we(this.contents)?this.contents.has(i):!1}hasIn(i){return Br(i)?this.contents!==void 0:we(this.contents)?this.contents.hasIn(i):!1}set(i,n){this.contents==null?this.contents=ho(this.schema,[i],n):Ur(this.contents)&&this.contents.set(i,n)}setIn(i,n){Br(i)?this.contents=n:this.contents==null?this.contents=ho(this.schema,Array.from(i),n):Ur(this.contents)&&this.contents.setIn(i,n)}setSchema(i,n={}){typeof i=="number"&&(i=String(i));let o;switch(i){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Dr({version:"1.1"}),o={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=i:this.directives=new Dr({version:i}),o={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,o=null;break;default:{let s=JSON.stringify(i);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(o)this.schema=new Mo(Object.assign(o,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:i,jsonArg:n,mapAsMap:o,maxAliasCount:s,onAnchor:l,reviver:u}={}){let d={anchors:new Map,doc:this,keep:!i,mapAsMap:o===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},h=Ke(this.contents,n??"",d);if(typeof l=="function")for(let{count:_,res:T}of d.anchors.values())l(T,_);return typeof u=="function"?gi(u,{"":h},"",h):h}toJSON(i,n){return this.toJS({json:!0,jsonArg:i,mapAsMap:!1,onAnchor:n})}toString(i={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in i&&(!Number.isInteger(i.indent)||Number(i.indent)<=0)){let n=JSON.stringify(i.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return jm(this,i)}};function Ur(r){if(we(r))return!0;throw new Error("Expected a YAML collection as document contents")}var To=class extends Error{constructor(i,n,o,s){super(),this.name=i,this.code=o,this.message=s,this.pos=n}},vn=class extends To{constructor(i,n,o){super("YAMLParseError",i,n,o)}},Eo=class extends To{constructor(i,n,o){super("YAMLWarning",i,n,o)}},Mc=(r,i)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(d=>i.linePos(d));let{line:o,col:s}=n.linePos[0];n.message+=` at line ${o}, column ${s}`;let l=s-1,u=r.substring(i.lineStarts[o-1],i.lineStarts[o]).replace(/[\n\r]+$/,"");if(l>=60&&u.length>80){let d=Math.min(l-39,u.length-79);u="\u2026"+u.substring(d),l-=d-1}if(u.length>80&&(u=u.substring(0,79)+"\u2026"),o>1&&/^ *$/.test(u.substring(0,l))){let d=r.substring(i.lineStarts[o-2],i.lineStarts[o-1]);d.length>80&&(d=d.substring(0,79)+`\u2026
`),u=d+u}if(/[^ ]/.test(u)){let d=1,h=n.linePos[1];h&&h.line===o&&h.col>s&&(d=Math.max(1,Math.min(h.col-s,80-l)));let _=" ".repeat(l)+"^".repeat(d);n.message+=`:

${u}
${_}
`}};function kn(r,{flow:i,indicator:n,next:o,offset:s,onError:l,parentIndent:u,startOnNewline:d}){let h=!1,_=d,T=d,x="",S="",I=!1,V=!1,M=null,L=null,$=null,K=null,j=null,te=null,ee=null;for(let H of r)switch(V&&(H.type!=="space"&&H.type!=="newline"&&H.type!=="comma"&&l(H.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),V=!1),M&&(_&&H.type!=="comment"&&H.type!=="newline"&&l(M,"TAB_AS_INDENT","Tabs are not allowed as indentation"),M=null),H.type){case"space":!i&&(n!=="doc-start"||o?.type!=="flow-collection")&&H.source.includes("	")&&(M=H),T=!0;break;case"comment":{T||l(H,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let Re=H.source.substring(1)||" ";x?x+=S+Re:x=Re,S="",_=!1;break}case"newline":_?x?x+=H.source:(!te||n!=="seq-item-ind")&&(h=!0):S+=H.source,_=!0,I=!0,(L||$)&&(K=H),T=!0;break;case"anchor":L&&l(H,"MULTIPLE_ANCHORS","A node can have at most one anchor"),H.source.endsWith(":")&&l(H.offset+H.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),L=H,ee??(ee=H.offset),_=!1,T=!1,V=!0;break;case"tag":{$&&l(H,"MULTIPLE_TAGS","A node can have at most one tag"),$=H,ee??(ee=H.offset),_=!1,T=!1,V=!0;break}case n:(L||$)&&l(H,"BAD_PROP_ORDER",`Anchors and tags must be after the ${H.source} indicator`),te&&l(H,"UNEXPECTED_TOKEN",`Unexpected ${H.source} in ${i??"collection"}`),te=H,_=n==="seq-item-ind"||n==="explicit-key-ind",T=!1;break;case"comma":if(i){j&&l(H,"UNEXPECTED_TOKEN",`Unexpected , in ${i}`),j=H,_=!1,T=!1;break}default:l(H,"UNEXPECTED_TOKEN",`Unexpected ${H.type} token`),_=!1,T=!1}let se=r[r.length-1],be=se?se.offset+se.source.length:s;return V&&o&&o.type!=="space"&&o.type!=="newline"&&o.type!=="comma"&&(o.type!=="scalar"||o.source!=="")&&l(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),M&&(_&&M.indent<=u||o?.type==="block-map"||o?.type==="block-seq")&&l(M,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:j,found:te,spaceBefore:h,comment:x,hasNewline:I,anchor:L,tag:$,newlineAfterProp:K,end:be,start:ee??be}}function bi(r){if(!r)return null;switch(r.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(r.source.includes(`
`))return!0;if(r.end){for(let i of r.end)if(i.type==="newline")return!0}return!1;case"flow-collection":for(let i of r.items){for(let n of i.start)if(n.type==="newline")return!0;if(i.sep){for(let n of i.sep)if(n.type==="newline")return!0}if(bi(i.key)||bi(i.value))return!0}return!1;default:return!0}}function Ao(r,i,n){if(i?.type==="flow-collection"){let o=i.end[0];o.indent===r&&(o.source==="]"||o.source==="}")&&bi(i)&&n(o,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Ea(r,i,n){let{uniqueKeys:o}=r.options;if(o===!1)return!1;let s=typeof o=="function"?o:(l,u)=>l===u||ue(l)&&ue(u)&&l.value===u.value;return i.some(l=>s(l.key,n))}var Hm="All mapping items must start at the same column";function zm({composeNode:r,composeEmptyNode:i},n,o,s,l){let u=l?.nodeClass??Ve,d=new u(n.schema);n.atRoot&&(n.atRoot=!1);let h=o.offset,_=null;for(let T of o.items){let{start:x,key:S,sep:I,value:V}=T,M=kn(x,{indicator:"explicit-key-ind",next:S??I?.[0],offset:h,onError:s,parentIndent:o.indent,startOnNewline:!0}),L=!M.found;if(L){if(S&&(S.type==="block-seq"?s(h,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in S&&S.indent!==o.indent&&s(h,"BAD_INDENT",Hm)),!M.anchor&&!M.tag&&!I){_=M.end,M.comment&&(d.comment?d.comment+=`
`+M.comment:d.comment=M.comment);continue}(M.newlineAfterProp||bi(S))&&s(S??x[x.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else M.found?.indent!==o.indent&&s(h,"BAD_INDENT",Hm);n.atKey=!0;let $=M.end,K=S?r(n,S,M,s):i(n,$,x,null,M,s);n.schema.compat&&Ao(o.indent,S,s),n.atKey=!1,Ea(n,d.items,K)&&s($,"DUPLICATE_KEY","Map keys must be unique");let j=kn(I??[],{indicator:"map-value-ind",next:V,offset:K.range[2],onError:s,parentIndent:o.indent,startOnNewline:!S||S.type==="block-scalar"});if(h=j.end,j.found){L&&(V?.type==="block-map"&&!j.hasNewline&&s(h,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&M.start<j.found.offset-1024&&s(K.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let te=V?r(n,V,j,s):i(n,h,I,null,j,s);n.schema.compat&&Ao(o.indent,V,s),h=te.range[2];let ee=new Le(K,te);n.options.keepSourceTokens&&(ee.srcToken=T),d.items.push(ee)}else{L&&s(K.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),j.comment&&(K.comment?K.comment+=`
`+j.comment:K.comment=j.comment);let te=new Le(K);n.options.keepSourceTokens&&(te.srcToken=T),d.items.push(te)}}return _&&_<h&&s(_,"IMPOSSIBLE","Map comment with trailing content"),d.range=[o.offset,h,_??h],d}function Xm({composeNode:r,composeEmptyNode:i},n,o,s,l){let u=l?.nodeClass??Mt,d=new u(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let h=o.offset,_=null;for(let{start:T,value:x}of o.items){let S=kn(T,{indicator:"seq-item-ind",next:x,offset:h,onError:s,parentIndent:o.indent,startOnNewline:!0});if(!S.found)if(S.anchor||S.tag||x)x&&x.type==="block-seq"?s(S.end,"BAD_INDENT","All sequence items must start at the same column"):s(h,"MISSING_CHAR","Sequence item without - indicator");else{_=S.end,S.comment&&(d.comment=S.comment);continue}let I=x?r(n,x,S,s):i(n,S.end,T,null,S,s);n.schema.compat&&Ao(o.indent,x,s),h=I.range[2],d.items.push(I)}return d.range=[o.offset,h,_??h],d}function Dn(r,i,n,o){let s="";if(r){let l=!1,u="";for(let d of r){let{source:h,type:_}=d;switch(_){case"space":l=!0;break;case"comment":{n&&!l&&o(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let T=h.substring(1)||" ";s?s+=u+T:s=T,u="";break}case"newline":s&&(u+=h),l=!0;break;default:o(d,"UNEXPECTED_TOKEN",`Unexpected ${_} at node end`)}i+=h.length}}return{comment:s,offset:i}}var Tc="Block collections are not allowed within flow collections",Ec=r=>r&&(r.type==="block-map"||r.type==="block-seq");function Jm({composeNode:r,composeEmptyNode:i},n,o,s,l){let u=o.start.source==="{",d=u?"flow map":"flow sequence",h=l?.nodeClass??(u?Ve:Mt),_=new h(n.schema);_.flow=!0;let T=n.atRoot;T&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let x=o.offset+o.start.source.length;for(let L=0;L<o.items.length;++L){let $=o.items[L],{start:K,key:j,sep:te,value:ee}=$,se=kn(K,{flow:d,indicator:"explicit-key-ind",next:j??te?.[0],offset:x,onError:s,parentIndent:o.indent,startOnNewline:!1});if(!se.found){if(!se.anchor&&!se.tag&&!te&&!ee){L===0&&se.comma?s(se.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${d}`):L<o.items.length-1&&s(se.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${d}`),se.comment&&(_.comment?_.comment+=`
`+se.comment:_.comment=se.comment),x=se.end;continue}!u&&n.options.strict&&bi(j)&&s(j,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(L===0)se.comma&&s(se.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${d}`);else if(se.comma||s(se.start,"MISSING_CHAR",`Missing , between ${d} items`),se.comment){let be="";e:for(let H of K)switch(H.type){case"comma":case"space":break;case"comment":be=H.source.substring(1);break e;default:break e}if(be){let H=_.items[_.items.length-1];he(H)&&(H=H.value??H.key),H.comment?H.comment+=`
`+be:H.comment=be,se.comment=se.comment.substring(be.length+1)}}if(!u&&!te&&!se.found){let be=ee?r(n,ee,se,s):i(n,se.end,te,null,se,s);_.items.push(be),x=be.range[2],Ec(ee)&&s(be.range,"BLOCK_IN_FLOW",Tc)}else{n.atKey=!0;let be=se.end,H=j?r(n,j,se,s):i(n,be,K,null,se,s);Ec(j)&&s(H.range,"BLOCK_IN_FLOW",Tc),n.atKey=!1;let Re=kn(te??[],{flow:d,indicator:"map-value-ind",next:ee,offset:H.range[2],onError:s,parentIndent:o.indent,startOnNewline:!1});if(Re.found){if(!u&&!se.found&&n.options.strict){if(te)for(let Oe of te){if(Oe===Re.found)break;if(Oe.type==="newline"){s(Oe,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}se.start<Re.found.offset-1024&&s(Re.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else ee&&("source"in ee&&ee.source&&ee.source[0]===":"?s(ee,"MISSING_CHAR",`Missing space after : in ${d}`):s(Re.start,"MISSING_CHAR",`Missing , or : between ${d} items`));let xn=ee?r(n,ee,Re,s):Re.found?i(n,Re.end,te,null,Re,s):null;xn?Ec(ee)&&s(xn.range,"BLOCK_IN_FLOW",Tc):Re.comment&&(H.comment?H.comment+=`
`+Re.comment:H.comment=Re.comment);let Qn=new Le(H,xn);if(n.options.keepSourceTokens&&(Qn.srcToken=$),u){let Oe=_;Ea(n,Oe.items,H)&&s(be,"DUPLICATE_KEY","Map keys must be unique"),Oe.items.push(Qn)}else{let Oe=new Ve(n.schema);Oe.flow=!0,Oe.items.push(Qn);let ko=(xn??H).range;Oe.range=[H.range[0],ko[1],ko[2]],_.items.push(Oe)}x=xn?xn.range[2]:Re.end}}let S=u?"}":"]",[I,...V]=o.end,M=x;if(I&&I.source===S)M=I.offset+I.source.length;else{let L=d[0].toUpperCase()+d.substring(1),$=T?`${L} must end with a ${S}`:`${L} in block collection must be sufficiently indented and end with a ${S}`;s(x,T?"MISSING_CHAR":"BAD_INDENT",$),I&&I.source.length!==1&&V.unshift(I)}if(V.length>0){let L=Dn(V,M,n.options.strict,s);L.comment&&(_.comment?_.comment+=`
`+L.comment:_.comment=L.comment),_.range=[o.offset,M,L.offset]}else _.range=[o.offset,M,M];return _}function Ac(r,i,n,o,s,l){let u=n.type==="block-map"?zm(r,i,n,o,l):n.type==="block-seq"?Xm(r,i,n,o,l):Jm(r,i,n,o,l),d=u.constructor;return s==="!"||s===d.tagName?(u.tag=d.tagName,u):(s&&(u.tag=s),u)}function Zm(r,i,n,o,s){let l=o.tag,u=l?i.directives.tagName(l.source,S=>s(l,"TAG_RESOLVE_FAILED",S)):null;if(n.type==="block-seq"){let{anchor:S,newlineAfterProp:I}=o,V=S&&l?S.offset>l.offset?S:l:S??l;V&&(!I||I.offset<V.offset)&&s(V,"MISSING_CHAR","Missing newline after block sequence props")}let d=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!l||!u||u==="!"||u===Ve.tagName&&d==="map"||u===Mt.tagName&&d==="seq")return Ac(r,i,n,s,u);let h=i.schema.tags.find(S=>S.tag===u&&S.collection===d);if(!h){let S=i.schema.knownTags[u];if(S&&S.collection===d)i.schema.tags.push(Object.assign({},S,{default:!1})),h=S;else return S?s(l,"BAD_COLLECTION_TYPE",`${S.tag} used for ${d} collection, but expects ${S.collection??"scalar"}`,!0):s(l,"TAG_RESOLVE_FAILED",`Unresolved tag: ${u}`,!0),Ac(r,i,n,s,u)}let _=Ac(r,i,n,s,u,h),T=h.resolve?.(_,S=>s(l,"TAG_RESOLVE_FAILED",S),i.options)??_,x=_e(T)?T:new Q(T);return x.range=_.range,x.tag=u,h?.format&&(x.format=h.format),x}function Ic(r,i,n){let o=i.offset,s=nC(i,r.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[o,o,o]};let l=s.mode===">"?Q.BLOCK_FOLDED:Q.BLOCK_LITERAL,u=i.source?iC(i.source):[],d=u.length;for(let M=u.length-1;M>=0;--M){let L=u[M][1];if(L===""||L==="\r")d=M;else break}if(d===0){let M=s.chomp==="+"&&u.length>0?`
`.repeat(Math.max(1,u.length-1)):"",L=o+s.length;return i.source&&(L+=i.source.length),{value:M,type:l,comment:s.comment,range:[o,L,L]}}let h=i.indent+s.indent,_=i.offset+s.length,T=0;for(let M=0;M<d;++M){let[L,$]=u[M];if($===""||$==="\r")s.indent===0&&L.length>h&&(h=L.length);else{L.length<h&&n(_+L.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(h=L.length),T=M,h===0&&!r.atRoot&&n(_,"BAD_INDENT","Block scalar values in collections must be indented");break}_+=L.length+$.length+1}for(let M=u.length-1;M>=d;--M)u[M][0].length>h&&(d=M+1);let x="",S="",I=!1;for(let M=0;M<T;++M)x+=u[M][0].slice(h)+`
`;for(let M=T;M<d;++M){let[L,$]=u[M];_+=L.length+$.length+1;let K=$[$.length-1]==="\r";if(K&&($=$.slice(0,-1)),$&&L.length<h){let te=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(_-$.length-(K?2:1),"BAD_INDENT",te),L=""}l===Q.BLOCK_LITERAL?(x+=S+L.slice(h)+$,S=`
`):L.length>h||$[0]==="	"?(S===" "?S=`
`:!I&&S===`
`&&(S=`

`),x+=S+L.slice(h)+$,S=`
`,I=!0):$===""?S===`
`?x+=`
`:S=`
`:(x+=S+$,S=" ",I=!1)}switch(s.chomp){case"-":break;case"+":for(let M=d;M<u.length;++M)x+=`
`+u[M][0].slice(h);x[x.length-1]!==`
`&&(x+=`
`);break;default:x+=`
`}let V=o+s.length+i.source.length;return{value:x,type:l,comment:s.comment,range:[o,V,V]}}function nC({offset:r,props:i},n,o){if(i[0].type!=="block-scalar-header")return o(i[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:s}=i[0],l=s[0],u=0,d="",h=-1;for(let S=1;S<s.length;++S){let I=s[S];if(!d&&(I==="-"||I==="+"))d=I;else{let V=Number(I);!u&&V?u=V:h===-1&&(h=r+S)}}h!==-1&&o(h,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let _=!1,T="",x=s.length;for(let S=1;S<i.length;++S){let I=i[S];switch(I.type){case"space":_=!0;case"newline":x+=I.source.length;break;case"comment":n&&!_&&o(I,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),x+=I.source.length,T=I.source.substring(1);break;case"error":o(I,"UNEXPECTED_TOKEN",I.message),x+=I.source.length;break;default:{let V=`Unexpected token in block scalar header: ${I.type}`;o(I,"UNEXPECTED_TOKEN",V);let M=I.source;M&&typeof M=="string"&&(x+=M.length)}}}return{mode:l,indent:u,chomp:d,comment:T,length:x}}function iC(r){let i=r.split(/\n( *)/),n=i[0],o=n.match(/^( *)/),l=[o?.[1]?[o[1],n.slice(o[1].length)]:["",n]];for(let u=1;u<i.length;u+=2)l.push([i[u],i[u+1]]);return l}function Nc(r,i,n){let{offset:o,type:s,source:l,end:u}=r,d,h,_=(S,I,V)=>n(o+S,I,V);switch(s){case"scalar":d=Q.PLAIN,h=rC(l,_);break;case"single-quoted-scalar":d=Q.QUOTE_SINGLE,h=oC(l,_);break;case"double-quoted-scalar":d=Q.QUOTE_DOUBLE,h=sC(l,_);break;default:return n(r,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[o,o+l.length,o+l.length]}}let T=o+l.length,x=Dn(u,T,i,n);return{value:h,type:d,comment:x.comment,range:[o,T,x.offset]}}function rC(r,i){let n="";switch(r[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${r[0]}`;break}case"@":case"`":{n=`reserved character ${r[0]}`;break}}return n&&i(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Qm(r)}function oC(r,i){return(r[r.length-1]!=="'"||r.length===1)&&i(r.length,"MISSING_CHAR","Missing closing 'quote"),Qm(r.slice(1,-1)).replace(/''/g,"'")}function Qm(r){let i,n;try{i=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{i=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let o=i.exec(r);if(!o)return r;let s=o[1],l=" ",u=i.lastIndex;for(n.lastIndex=u;o=n.exec(r);)o[1]===""?l===`
`?s+=l:l=`
`:(s+=l+o[1],l=" "),u=n.lastIndex;let d=/[ \t]*(.*)/sy;return d.lastIndex=u,o=d.exec(r),s+l+(o?.[1]??"")}function sC(r,i){let n="";for(let o=1;o<r.length-1;++o){let s=r[o];if(!(s==="\r"&&r[o+1]===`
`))if(s===`
`){let{fold:l,offset:u}=aC(r,o);n+=l,o=u}else if(s==="\\"){let l=r[++o],u=lC[l];if(u)n+=u;else if(l===`
`)for(l=r[o+1];l===" "||l==="	";)l=r[++o+1];else if(l==="\r"&&r[o+1]===`
`)for(l=r[++o+1];l===" "||l==="	";)l=r[++o+1];else if(l==="x"||l==="u"||l==="U"){let d={x:2,u:4,U:8}[l];n+=cC(r,o+1,d,i),o+=d}else{let d=r.substr(o-1,2);i(o-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${d}`),n+=d}}else if(s===" "||s==="	"){let l=o,u=r[o+1];for(;u===" "||u==="	";)u=r[++o+1];u!==`
`&&!(u==="\r"&&r[o+2]===`
`)&&(n+=o>l?r.slice(l,o+1):s)}else n+=s}return(r[r.length-1]!=='"'||r.length===1)&&i(r.length,"MISSING_CHAR",'Missing closing "quote'),n}function aC(r,i){let n="",o=r[i+1];for(;(o===" "||o==="	"||o===`
`||o==="\r")&&!(o==="\r"&&r[i+2]!==`
`);)o===`
`&&(n+=`
`),i+=1,o=r[i+1];return n||(n=" "),{fold:n,offset:i}}var lC={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function cC(r,i,n,o){let s=r.substr(i,n),u=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(u)){let d=r.substr(i-2,n+2);return o(i-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${d}`),d}return String.fromCodePoint(u)}function Oc(r,i,n,o){let{value:s,type:l,comment:u,range:d}=i.type==="block-scalar"?Ic(r,i,o):Nc(i,r.options.strict,o),h=n?r.directives.tagName(n.source,x=>o(n,"TAG_RESOLVE_FAILED",x)):null,_;r.options.stringKeys&&r.atKey?_=r.schema[jt]:h?_=uC(r.schema,s,h,n,o):i.type==="scalar"?_=fC(r,s,i,o):_=r.schema[jt];let T;try{let x=_.resolve(s,S=>o(n??i,"TAG_RESOLVE_FAILED",S),r.options);T=ue(x)?x:new Q(x)}catch(x){let S=x instanceof Error?x.message:String(x);o(n??i,"TAG_RESOLVE_FAILED",S),T=new Q(s)}return T.range=d,T.source=s,l&&(T.type=l),h&&(T.tag=h),_.format&&(T.format=_.format),u&&(T.comment=u),T}function uC(r,i,n,o,s){if(n==="!")return r[jt];let l=[];for(let d of r.tags)if(!d.collection&&d.tag===n)if(d.default&&d.test)l.push(d);else return d;for(let d of l)if(d.test?.test(i))return d;let u=r.knownTags[n];return u&&!u.collection?(r.tags.push(Object.assign({},u,{default:!1,test:void 0})),u):(s(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),r[jt])}function fC({atKey:r,directives:i,schema:n},o,s,l){let u=n.tags.find(d=>(d.default===!0||r&&d.default==="key")&&d.test?.test(o))||n[jt];if(n.compat){let d=n.compat.find(h=>h.default&&h.test?.test(o))??n[jt];if(u.tag!==d.tag){let h=i.tagString(u.tag),_=i.tagString(d.tag),T=`Value may be parsed as either ${h} or ${_}`;l(s,"TAG_RESOLVE_FAILED",T,!0)}}return u}function ed(r,i,n){if(i){n??(n=i.length);for(let o=n-1;o>=0;--o){let s=i[o];switch(s.type){case"space":case"comment":case"newline":r-=s.source.length;continue}for(s=i[++o];s?.type==="space";)r+=s.source.length,s=i[++o];break}}return r}var pC={composeNode:Pc,composeEmptyNode:Aa};function Pc(r,i,n,o){let s=r.atKey,{spaceBefore:l,comment:u,anchor:d,tag:h}=n,_,T=!0;switch(i.type){case"alias":_=mC(r,i,o),(d||h)&&o(i,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":_=Oc(r,i,h,o),d&&(_.anchor=d.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":_=Zm(pC,r,i,n,o),d&&(_.anchor=d.source.substring(1));break;default:{let x=i.type==="error"?i.message:`Unsupported token (type: ${i.type})`;o(i,"UNEXPECTED_TOKEN",x),_=Aa(r,i.offset,void 0,null,n,o),T=!1}}return d&&_.anchor===""&&o(d,"BAD_ALIAS","Anchor cannot be an empty string"),s&&r.options.stringKeys&&(!ue(_)||typeof _.value!="string"||_.tag&&_.tag!=="tag:yaml.org,2002:str")&&o(h??i,"NON_STRING_KEY","With stringKeys, all keys must be strings"),l&&(_.spaceBefore=!0),u&&(i.type==="scalar"&&i.source===""?_.comment=u:_.commentBefore=u),r.options.keepSourceTokens&&T&&(_.srcToken=i),_}function Aa(r,i,n,o,{spaceBefore:s,comment:l,anchor:u,tag:d,end:h},_){let T={type:"scalar",offset:ed(i,n,o),indent:-1,source:""},x=Oc(r,T,d,_);return u&&(x.anchor=u.source.substring(1),x.anchor===""&&_(u,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(x.spaceBefore=!0),l&&(x.comment=l,x.range[2]=h),x}function mC({options:r},{offset:i,source:n,end:o},s){let l=new zn(n.substring(1));l.source===""&&s(i,"BAD_ALIAS","Alias cannot be an empty string"),l.source.endsWith(":")&&s(i+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let u=i+n.length,d=Dn(o,u,r.strict,s);return l.range=[i,u,d.offset],d.comment&&(l.comment=d.comment),l}function td(r,i,{offset:n,start:o,value:s,end:l},u){let d=Object.assign({_directives:i},r),h=new Zn(void 0,d),_={atKey:!1,atRoot:!0,directives:h.directives,options:h.options,schema:h.schema},T=kn(o,{indicator:"doc-start",next:s??l?.[0],offset:n,onError:u,parentIndent:0,startOnNewline:!0});T.found&&(h.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!T.hasNewline&&u(T.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),h.contents=s?Pc(_,s,T,u):Aa(_,T.end,o,null,T,u);let x=h.contents.range[2],S=Dn(l,x,!1,u);return S.comment&&(h.comment=S.comment),h.range=[n,x,S.offset],h}function Io(r){if(typeof r=="number")return[r,r+1];if(Array.isArray(r))return r.length===2?r:[r[0],r[1]];let{offset:i,source:n}=r;return[i,i+(typeof n=="string"?n.length:1)]}function nd(r){let i="",n=!1,o=!1;for(let s=0;s<r.length;++s){let l=r[s];switch(l[0]){case"#":i+=(i===""?"":o?`

`:`
`)+(l.substring(1)||" "),n=!0,o=!1;break;case"%":r[s+1]?.[0]!=="#"&&(s+=1),n=!1;break;default:n||(o=!0),n=!1}}return{comment:i,afterEmptyLine:o}}var No=class{constructor(i={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,o,s,l)=>{let u=Io(n);l?this.warnings.push(new Eo(u,o,s)):this.errors.push(new vn(u,o,s))},this.directives=new Dr({version:i.version||"1.2"}),this.options=i}decorate(i,n){let{comment:o,afterEmptyLine:s}=nd(this.prelude);if(o){let l=i.contents;if(n)i.comment=i.comment?`${i.comment}
${o}`:o;else if(s||i.directives.docStart||!l)i.commentBefore=o;else if(we(l)&&!l.flow&&l.items.length>0){let u=l.items[0];he(u)&&(u=u.key);let d=u.commentBefore;u.commentBefore=d?`${o}
${d}`:o}else{let u=l.commentBefore;l.commentBefore=u?`${o}
${u}`:o}}n?(Array.prototype.push.apply(i.errors,this.errors),Array.prototype.push.apply(i.warnings,this.warnings)):(i.errors=this.errors,i.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:nd(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(i,n=!1,o=-1){for(let s of i)yield*N(this.next(s));yield*N(this.end(n,o))}*next(i){switch(i.type){case"directive":this.directives.add(i.source,(n,o,s)=>{let l=Io(i);l[0]+=n,this.onError(l,"BAD_DIRECTIVE",o,s)}),this.prelude.push(i.source),this.atDirectives=!0;break;case"document":{let n=td(this.options,this.directives,i,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(i,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(i.source);break;case"error":{let n=i.source?`${i.message}: ${JSON.stringify(i.source)}`:i.message,o=new vn(Io(i),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(o):this.doc.errors.push(o);break}case"doc-end":{if(!this.doc){let o="Unexpected doc-end without preceding document";this.errors.push(new vn(Io(i),"UNEXPECTED_TOKEN",o));break}this.doc.directives.docEnd=!0;let n=Dn(i.end,i.offset+i.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){let o=this.doc.comment;this.doc.comment=o?`${o}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new vn(Io(i),"UNEXPECTED_TOKEN",`Unsupported token ${i.type}`))}}*end(i=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(i){let o=Object.assign({_directives:this.directives},this.options),s=new Zn(void 0,o);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}};var Lc=Symbol("break visit"),dC=Symbol("skip children"),id=Symbol("remove item");function mr(r,i){"type"in r&&r.type==="document"&&(r={start:r.start,value:r.value}),rd(Object.freeze([]),r,i)}mr.BREAK=Lc;mr.SKIP=dC;mr.REMOVE=id;mr.itemAtPath=(r,i)=>{let n=r;for(let[o,s]of i){let l=n?.[o];if(l&&"items"in l)n=l.items[s];else return}return n};mr.parentCollection=(r,i)=>{let n=mr.itemAtPath(r,i.slice(0,-1)),o=i[i.length-1][0],s=n?.[o];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function rd(r,i,n){let o=n(i,r);if(typeof o=="symbol")return o;for(let s of["key","value"]){let l=i[s];if(l&&"items"in l){for(let u=0;u<l.items.length;++u){let d=rd(Object.freeze(r.concat([[s,u]])),l.items[u],n);if(typeof d=="number")u=d-1;else{if(d===Lc)return Lc;d===id&&(l.items.splice(u,1),u-=1)}}typeof o=="function"&&s==="key"&&(o=o(i,r))}}return typeof o=="function"?o(i,r):o}var Rc="\uFEFF",kc="",Dc="",Ia="";function od(r){switch(r){case Rc:return"byte-order-mark";case kc:return"doc-mode";case Dc:return"flow-error-end";case Ia:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(r[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Sn(r){switch(r){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var sd=new Set("0123456789ABCDEFabcdef"),gC=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Na=new Set(",[]{}"),_C=new Set(` ,[]{}
\r	`),Fc=r=>!r||_C.has(r),Oo=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(i,n=!1){if(i){if(typeof i!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+i:i,this.lineEndPos=null}this.atEnd=!n;let o=this.next??"stream";for(;o&&(n||this.hasChars(1));)o=yield*N(this.parseNext(o))}atLineEnd(){let i=this.pos,n=this.buffer[i];for(;n===" "||n==="	";)n=this.buffer[++i];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[i+1]===`
`:!1}charAt(i){return this.buffer[this.pos+i]}continueScalar(i){let n=this.buffer[i];if(this.indentNext>0){let o=0;for(;n===" ";)n=this.buffer[++o+i];if(n==="\r"){let s=this.buffer[o+i+1];if(s===`
`||!s&&!this.atEnd)return i+o+1}return n===`
`||o>=this.indentNext||!n&&!this.atEnd?i+o:-1}if(n==="-"||n==="."){let o=this.buffer.substr(i,3);if((o==="---"||o==="...")&&Sn(this.buffer[i+3]))return-1}return i}getLine(){let i=this.lineEndPos;return(typeof i!="number"||i!==-1&&i<this.pos)&&(i=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=i),i===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[i-1]==="\r"&&(i-=1),this.buffer.substring(this.pos,i))}hasChars(i){return this.pos+i<=this.buffer.length}setNext(i){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=i,null}peek(i){return this.buffer.substr(this.pos,i)}*parseNext(i){switch(i){case"stream":return yield*N(this.parseStream());case"line-start":return yield*N(this.parseLineStart());case"block-start":return yield*N(this.parseBlockStart());case"doc":return yield*N(this.parseDocument());case"flow":return yield*N(this.parseFlowCollection());case"quoted-scalar":return yield*N(this.parseQuotedScalar());case"block-scalar":return yield*N(this.parseBlockScalar());case"plain-scalar":return yield*N(this.parsePlainScalar())}}*parseStream(){let i=this.getLine();if(i===null)return this.setNext("stream");if(i[0]===Rc&&(yield*N(this.pushCount(1)),i=i.substring(1)),i[0]==="%"){let n=i.length,o=i.indexOf("#");for(;o!==-1;){let l=i[o-1];if(l===" "||l==="	"){n=o-1;break}else o=i.indexOf("#",o+1)}for(;;){let l=i[n-1];if(l===" "||l==="	")n-=1;else break}let s=(yield*N(this.pushCount(n)))+(yield*N(this.pushSpaces(!0)));return yield*N(this.pushCount(i.length-s)),this.pushNewline(),"stream"}if(this.atLineEnd()){let n=yield*N(this.pushSpaces(!0));return yield*N(this.pushCount(i.length-n)),yield*N(this.pushNewline()),"stream"}return yield kc,yield*N(this.parseLineStart())}*parseLineStart(){let i=this.charAt(0);if(!i&&!this.atEnd)return this.setNext("line-start");if(i==="-"||i==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let n=this.peek(3);if((n==="---"||n==="...")&&Sn(this.charAt(3)))return yield*N(this.pushCount(3)),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*N(this.pushSpaces(!1)),this.indentNext>this.indentValue&&!Sn(this.charAt(1))&&(this.indentNext=this.indentValue),yield*N(this.parseBlockStart())}*parseBlockStart(){let[i,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((i==="-"||i==="?"||i===":")&&Sn(n)){let o=(yield*N(this.pushCount(1)))+(yield*N(this.pushSpaces(!0)));return this.indentNext=this.indentValue+1,this.indentValue+=o,yield*N(this.parseBlockStart())}return"doc"}*parseDocument(){yield*N(this.pushSpaces(!0));let i=this.getLine();if(i===null)return this.setNext("doc");let n=yield*N(this.pushIndicators());switch(i[n]){case"#":yield*N(this.pushCount(i.length-n));case void 0:return yield*N(this.pushNewline()),yield*N(this.parseLineStart());case"{":case"[":return yield*N(this.pushCount(1)),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*N(this.pushCount(1)),"doc";case"*":return yield*N(this.pushUntil(Fc)),"doc";case'"':case"'":return yield*N(this.parseQuotedScalar());case"|":case">":return n+=yield*N(this.parseBlockScalarHeader()),n+=yield*N(this.pushSpaces(!0)),yield*N(this.pushCount(i.length-n)),yield*N(this.pushNewline()),yield*N(this.parseBlockScalar());default:return yield*N(this.parsePlainScalar())}}*parseFlowCollection(){let i,n,o=-1;do i=yield*N(this.pushNewline()),i>0?(n=yield*N(this.pushSpaces(!1)),this.indentValue=o=n):n=0,n+=yield*N(this.pushSpaces(!0));while(i+n>0);let s=this.getLine();if(s===null)return this.setNext("flow");if((o!==-1&&o<this.indentNext&&s[0]!=="#"||o===0&&(s.startsWith("---")||s.startsWith("..."))&&Sn(s[3]))&&!(o===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield Dc,yield*N(this.parseLineStart());let l=0;for(;s[l]===",";)l+=yield*N(this.pushCount(1)),l+=yield*N(this.pushSpaces(!0)),this.flowKey=!1;switch(l+=yield*N(this.pushIndicators()),s[l]){case void 0:return"flow";case"#":return yield*N(this.pushCount(s.length-l)),"flow";case"{":case"[":return yield*N(this.pushCount(1)),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*N(this.pushCount(1)),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*N(this.pushUntil(Fc)),"flow";case'"':case"'":return this.flowKey=!0,yield*N(this.parseQuotedScalar());case":":{let u=this.charAt(1);if(this.flowKey||Sn(u)||u===",")return this.flowKey=!1,yield*N(this.pushCount(1)),yield*N(this.pushSpaces(!0)),"flow"}default:return this.flowKey=!1,yield*N(this.parsePlainScalar())}}*parseQuotedScalar(){let i=this.charAt(0),n=this.buffer.indexOf(i,this.pos+1);if(i==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let l=0;for(;this.buffer[n-1-l]==="\\";)l+=1;if(l%2===0)break;n=this.buffer.indexOf('"',n+1)}let o=this.buffer.substring(0,n),s=o.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){let l=this.continueScalar(s+1);if(l===-1)break;s=o.indexOf(`
`,l)}s!==-1&&(n=s-(o[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*N(this.pushToIndex(n+1,!1)),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let i=this.pos;for(;;){let n=this.buffer[++i];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*N(this.pushUntil(n=>Sn(n)||n==="#"))}*parseBlockScalar(){let i=this.pos-1,n=0,o;e:for(let l=this.pos;o=this.buffer[l];++l)switch(o){case" ":n+=1;break;case`
`:i=l,n=0;break;case"\r":{let u=this.buffer[l+1];if(!u&&!this.atEnd)return this.setNext("block-scalar");if(u===`
`)break}default:break e}if(!o&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let l=this.continueScalar(i+1);if(l===-1)break;i=this.buffer.indexOf(`
`,l)}while(i!==-1);if(i===-1){if(!this.atEnd)return this.setNext("block-scalar");i=this.buffer.length}}let s=i+1;for(o=this.buffer[s];o===" ";)o=this.buffer[++s];if(o==="	"){for(;o==="	"||o===" "||o==="\r"||o===`
`;)o=this.buffer[++s];i=s-1}else if(!this.blockScalarKeep)do{let l=i-1,u=this.buffer[l];u==="\r"&&(u=this.buffer[--l]);let d=l;for(;u===" ";)u=this.buffer[--l];if(u===`
`&&l>=this.pos&&l+1+n>d)i=l;else break}while(!0);return yield Ia,yield*N(this.pushToIndex(i+1,!0)),yield*N(this.parseLineStart())}*parsePlainScalar(){let i=this.flowLevel>0,n=this.pos-1,o=this.pos-1,s;for(;s=this.buffer[++o];)if(s===":"){let l=this.buffer[o+1];if(Sn(l)||i&&Na.has(l))break;n=o}else if(Sn(s)){let l=this.buffer[o+1];if(s==="\r"&&(l===`
`?(o+=1,s=`
`,l=this.buffer[o+1]):n=o),l==="#"||i&&Na.has(l))break;if(s===`
`){let u=this.continueScalar(o+1);if(u===-1)break;o=Math.max(o,u-2)}}else{if(i&&Na.has(s))break;n=o}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield Ia,yield*N(this.pushToIndex(n+1,!0)),i?"flow":"doc")}*pushCount(i){return i>0?(yield this.buffer.substr(this.pos,i),this.pos+=i,i):0}*pushToIndex(i,n){let o=this.buffer.slice(this.pos,i);return o?(yield o,this.pos+=o.length,o.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*N(this.pushTag()))+(yield*N(this.pushSpaces(!0)))+(yield*N(this.pushIndicators()));case"&":return(yield*N(this.pushUntil(Fc)))+(yield*N(this.pushSpaces(!0)))+(yield*N(this.pushIndicators()));case"-":case"?":case":":{let i=this.flowLevel>0,n=this.charAt(1);if(Sn(n)||i&&Na.has(n))return i?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*N(this.pushCount(1)))+(yield*N(this.pushSpaces(!0)))+(yield*N(this.pushIndicators()))}}return 0}*pushTag(){if(this.charAt(1)==="<"){let i=this.pos+2,n=this.buffer[i];for(;!Sn(n)&&n!==">";)n=this.buffer[++i];return yield*N(this.pushToIndex(n===">"?i+1:i,!1))}else{let i=this.pos+1,n=this.buffer[i];for(;n;)if(gC.has(n))n=this.buffer[++i];else if(n==="%"&&sd.has(this.buffer[i+1])&&sd.has(this.buffer[i+2]))n=this.buffer[i+=3];else break;return yield*N(this.pushToIndex(i,!1))}}*pushNewline(){let i=this.buffer[this.pos];return i===`
`?yield*N(this.pushCount(1)):i==="\r"&&this.charAt(1)===`
`?yield*N(this.pushCount(2)):0}*pushSpaces(i){let n=this.pos-1,o;do o=this.buffer[++n];while(o===" "||i&&o==="	");let s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(i){let n=this.pos,o=this.buffer[n];for(;!i(o);)o=this.buffer[++n];return yield*N(this.pushToIndex(n,!1))}};var Po=class{constructor(){this.lineStarts=[],this.addNewLine=i=>this.lineStarts.push(i),this.linePos=i=>{let n=0,o=this.lineStarts.length;for(;n<o;){let l=n+o>>1;this.lineStarts[l]<i?n=l+1:o=l}if(this.lineStarts[n]===i)return{line:n+1,col:1};if(n===0)return{line:0,col:i};let s=this.lineStarts[n-1];return{line:n,col:i-s+1}}}};function Ci(r,i){for(let n=0;n<r.length;++n)if(r[n].type===i)return!0;return!1}function ad(r){for(let i=0;i<r.length;++i)switch(r[i].type){case"space":case"comment":case"newline":break;default:return i}return-1}function cd(r){switch(r?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Oa(r){switch(r.type){case"document":return r.start;case"block-map":{let i=r.items[r.items.length-1];return i.sep??i.start}case"block-seq":return r.items[r.items.length-1].start;default:return[]}}function $r(r){if(r.length===0)return[];let i=r.length;e:for(;--i>=0;)switch(r[i].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;r[++i]?.type==="space";);return r.splice(i,r.length)}function ld(r){if(r.start.type==="flow-seq-start")for(let i of r.items)i.sep&&!i.value&&!Ci(i.start,"explicit-key-ind")&&!Ci(i.sep,"map-value-ind")&&(i.key&&(i.value=i.key),delete i.key,cd(i.value)?i.value.end?Array.prototype.push.apply(i.value.end,i.sep):i.value.end=i.sep:Array.prototype.push.apply(i.start,i.sep),delete i.sep)}var Lo=class{constructor(i){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Oo,this.onNewLine=i}*parse(i,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let o of this.lexer.lex(i,n))yield*N(this.next(o));n||(yield*N(this.end()))}*next(i){if(this.source=i,this.atScalar){this.atScalar=!1,yield*N(this.step()),this.offset+=i.length;return}let n=od(i);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*N(this.step()),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+i.length);break;case"space":this.atNewLine&&i[0]===" "&&(this.indent+=i.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=i.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=i.length}else{let o=`Not a YAML token: ${i}`;yield*N(this.pop({type:"error",offset:this.offset,message:o,source:i})),this.offset+=i.length}}*end(){for(;this.stack.length>0;)yield*N(this.pop())}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let i=this.peek(1);if(this.type==="doc-end"&&(!i||i.type!=="doc-end")){for(;this.stack.length>0;)yield*N(this.pop());this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!i)return yield*N(this.stream());switch(i.type){case"document":return yield*N(this.document(i));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*N(this.scalar(i));case"block-scalar":return yield*N(this.blockScalar(i));case"block-map":return yield*N(this.blockMap(i));case"block-seq":return yield*N(this.blockSequence(i));case"flow-collection":return yield*N(this.flowCollection(i));case"doc-end":return yield*N(this.documentEnd(i))}yield*N(this.pop())}peek(i){return this.stack[this.stack.length-i]}*pop(i){let n=i??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{let o=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in o?o.indent:0:n.type==="flow-collection"&&o.type==="document"&&(n.indent=0),n.type==="flow-collection"&&ld(n),o.type){case"document":o.value=n;break;case"block-scalar":o.props.push(n);break;case"block-map":{let s=o.items[o.items.length-1];if(s.value){o.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{let s=o.items[o.items.length-1];s.value?o.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{let s=o.items[o.items.length-1];!s||s.value?o.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*N(this.pop()),yield*N(this.pop(n))}if((o.type==="document"||o.type==="block-map"||o.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){let s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&ad(s.start)===-1&&(n.indent===0||s.start.every(l=>l.type!=="comment"||l.indent<n.indent))&&(o.type==="document"?o.end=s.start:o.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let i={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&i.start.push(this.sourceToken),this.stack.push(i);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(i){if(i.value)return yield*N(this.lineEnd(i));switch(this.type){case"doc-start":{ad(i.start)!==-1?(yield*N(this.pop()),yield*N(this.step())):i.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":i.start.push(this.sourceToken);return}let n=this.startBlockValue(i);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(i){if(this.type==="map-value-ind"){let n=Oa(this.peek(2)),o=$r(n),s;i.end?(s=i.end,s.push(this.sourceToken),delete i.end):s=[this.sourceToken];let l={type:"block-map",offset:i.offset,indent:i.indent,items:[{start:o,key:i,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=l}else yield*N(this.lineEnd(i))}*blockScalar(i){switch(this.type){case"space":case"comment":case"newline":i.props.push(this.sourceToken);return;case"scalar":if(i.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*N(this.pop());break;default:yield*N(this.pop()),yield*N(this.step())}}*blockMap(i){let n=i.items[i.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let o="end"in n.value?n.value.end:void 0;(Array.isArray(o)?o[o.length-1]:void 0)?.type==="comment"?o?.push(this.sourceToken):i.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)i.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,i.indent)){let s=i.items[i.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),i.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=i.indent){let o=!this.onKeyLine&&this.indent===i.indent,s=o&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind",l=[];if(s&&n.sep&&!n.value){let u=[];for(let d=0;d<n.sep.length;++d){let h=n.sep[d];switch(h.type){case"newline":u.push(d);break;case"space":break;case"comment":h.indent>i.indent&&(u.length=0);break;default:u.length=0}}u.length>=2&&(l=n.sep.splice(u[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(l.push(this.sourceToken),i.items.push({start:l}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):s||n.value?(l.push(this.sourceToken),i.items.push({start:l,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)i.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ci(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:null,sep:[this.sourceToken]}]});else if(cd(n.key)&&!Ci(n.sep,"newline")){let u=$r(n.start),d=n.key,h=n.sep;h.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:d,sep:h}]})}else l.length>0?n.sep=n.sep.concat(l,this.sourceToken):n.sep.push(this.sourceToken);else if(Ci(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{let u=$r(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?i.items.push({start:l,key:null,sep:[this.sourceToken]}):Ci(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let u=this.flowScalar(this.type);s||n.value?(i.items.push({start:l,key:u,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(u):(Object.assign(n,{key:u,sep:[]}),this.onKeyLine=!0);return}default:{let u=this.startBlockValue(i);if(u){if(u.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Ci(n.sep,"newline")){yield*N(this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source}));return}}else o&&i.items.push({start:l});this.stack.push(u);return}}}}yield*N(this.pop()),yield*N(this.step())}*blockSequence(i){let n=i.items[i.items.length-1];switch(this.type){case"newline":if(n.value){let o="end"in n.value?n.value.end:void 0;(Array.isArray(o)?o[o.length-1]:void 0)?.type==="comment"?o?.push(this.sourceToken):i.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)i.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,i.indent)){let s=i.items[i.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),i.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=i.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==i.indent)break;n.value||Ci(n.start,"seq-item-ind")?i.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>i.indent){let o=this.startBlockValue(i);if(o){this.stack.push(o);return}}yield*N(this.pop()),yield*N(this.step())}*flowCollection(i){let n=i.items[i.items.length-1];if(this.type==="flow-error-end"){let o;do yield*N(this.pop()),o=this.peek(1);while(o&&o.type==="flow-collection")}else if(i.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?i.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?i.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?i.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let s=this.flowScalar(this.type);!n||n.value?i.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":i.end.push(this.sourceToken);return}let o=this.startBlockValue(i);o?this.stack.push(o):(yield*N(this.pop()),yield*N(this.step()))}else{let o=this.peek(2);if(o.type==="block-map"&&(this.type==="map-value-ind"&&o.indent===i.indent||this.type==="newline"&&!o.items[o.items.length-1].sep))yield*N(this.pop()),yield*N(this.step());else if(this.type==="map-value-ind"&&o.type!=="flow-collection"){let s=Oa(o),l=$r(s);ld(i);let u=i.end.splice(1,i.end.length);u.push(this.sourceToken);let d={type:"block-map",offset:i.offset,indent:i.indent,items:[{start:l,key:i,sep:u}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=d}else yield*N(this.lineEnd(i))}}flowScalar(i){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:i,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(i){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let n=Oa(i),o=$r(n);return o.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let n=Oa(i),o=$r(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(i,n){return this.type!=="comment"||this.indent<=n?!1:i.every(o=>o.type==="newline"||o.type==="space")}*documentEnd(i){this.type!=="doc-mode"&&(i.end?i.end.push(this.sourceToken):i.end=[this.sourceToken],this.type==="newline"&&(yield*N(this.pop())))}*lineEnd(i){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*N(this.pop()),yield*N(this.step());break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:i.end?i.end.push(this.sourceToken):i.end=[this.sourceToken],this.type==="newline"&&(yield*N(this.pop()))}}};function yC(r){let i=r.prettyErrors!==!1;return{lineCounter:r.lineCounter||i&&new Po||null,prettyErrors:i}}function ud(r,i={}){let{lineCounter:n,prettyErrors:o}=yC(i),s=new Lo(n?.addNewLine),l=new No(i),u=null;for(let d of l.compose(s.parse(r),!0,r.length))if(!u)u=d;else if(u.options.logLevel!=="silent"){u.errors.push(new vn(d.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return o&&n&&(u.errors.forEach(Mc(r,n)),u.warnings.forEach(Mc(r,n))),u}function Bc(r,i,n){let o;typeof i=="function"?o=i:n===void 0&&i&&typeof i=="object"&&(n=i);let s=ud(r,n);if(!s)return null;if(s.warnings.forEach(l=>ca(s.options.logLevel,l)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:o},n))}function Vc(r,i,n){let o=null;if(typeof i=="function"||Array.isArray(i)?o=i:n===void 0&&i&&(n=i),typeof n=="string"&&(n=n.length),typeof n=="number"){let s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(r===void 0){let{keepUndefined:s}=n??i??{};if(!s)return}return gn(r)&&!o?r.toString(n):new Zn(r,o,n).toString(n)}var Ro=class r{static geometryToCsv(i){if(!i)return"";let n=s=>{if(s==null)return"";let l=String(s),u=/[",\n]/.test(l),d=l.replace(/"/g,'""');return u?`"${d}"`:d},o=[];o.push("SOLVER_CONFIGURATION"),o.push(["SolverType"].join(",")),o.push([n(i.solverConfiguration?.solverType)].join(",")),o.push(""),o.push("MESHING_CONFIGURATION"),o.push(["MaxTriangleArea"].join(",")),o.push([n(i.meshingConfiguration?.maxTriangleArea)].join(",")),o.push(""),o.push("REFINEMENT_POINTS"),o.push(["X","Y","Radius","MaxArea"].join(","));for(let s of i.meshingConfiguration?.refinementPoints??[])o.push([n(s.x),n(s.y),n(s.radius),n(s.maxArea)].join(","));o.push(""),o.push("RESULT_POINTS"),o.push(["Name","X","Y"].join(","));for(let s of i.resultPoints??[])o.push([n(s.name),n(s.x),n(s.y)].join(","));o.push(""),o.push("MATERIALS"),o.push(["Name","ModulusOfElasticity","PoissonsRatio","Weight"].join(","));for(let s of i.materials??[])o.push([n(s.name),n(s.modulusOfElasticity),n(s.poissonsRatio),n(s.weight)].join(","));o.push(""),o.push("SECTION_PROPERTIES"),o.push(["Name","Thickness"].join(","));for(let s of i.sectionProperties??[])o.push([n(s.name),n(s.thickness)].join(","));o.push(""),o.push("RECTANGLE_GEOMETRY"),o.push(["Name","X","Y","Width","Height","SectionName","MaterialName"].join(","));for(let s of i.rectangles??[])o.push([n(s.name),n(s.x),n(s.y),n(s.width),n(s.height),n(s.sectionName),n(s.materialName)].join(","));o.push(""),o.push("POLYGONS"),o.push(["Name","Points","SectionName","MaterialName"].join(","));for(let s of i.polygons??[])o.push([n(s.name),n(s.points),n(s.sectionName),n(s.materialName)].join(","));o.push(""),o.push("SUPPORTS"),o.push(["X","Y","FixedX","FixedY"].join(","));for(let s of i.supports??[])o.push([n(s.x),n(s.y),n(s.fixedX),n(s.fixedY)].join(","));o.push(""),o.push("LOAD_CASES"),o.push(["LoadCase","Type","GeometryOrPointName","X","Y","FX","FY"].join(","));for(let s of i.loadCases??[]){for(let l of s.pointLoads??[])o.push([n(s.name),"Point","",n(l.x),n(l.y),n(l.fx),n(l.fy)].join(","));for(let l of s.distributedLoads??[])o.push([n(s.name),"Distributed",n(l.geometryName),"","",n(l.fx),n(l.fy)].join(","))}return o.push(""),o.join(`
`)}static parseCsvRow(i){let n=[],o="",s=!1;for(let l=0;l<i.length;l++){let u=i[l];s?u==='"'?l+1<i.length&&i[l+1]==='"'?(o+='"',l++):s=!1:o+=u:u==='"'?s=!0:u===","?(n.push(o),o=""):o+=u}return n.push(o),n.map(l=>l.trim())}static parseGeometryFromCsv(i){let o=(i??"").replace(/^\uFEFF/,"").split(/\r?\n/).map(T=>T.trim()),s=new Set(["SOLVER_CONFIGURATION","MESHING_CONFIGURATION","REFINEMENT_POINTS","RESULT_POINTS","MATERIALS","SECTION_PROPERTIES","RECTANGLE_GEOMETRY","POLYGONS","SUPPORTS","LOAD_CASES"]),l=0,u=()=>{for(;l<o.length&&o[l].length===0;)l++;return l<o.length?o[l]:null},d=T=>{if(u()!==T)throw new Ps(`Expected section ${T}`);l++},h=()=>{l<o.length&&o[l].length>0&&l++;let T=[];for(;l<o.length&&o[l].length>0&&!s.has(o[l]);)T.push(o[l++]);for(;l<o.length&&o[l].length===0;)l++;return T},_={sectionProperties:[],materials:[],rectangles:[],polygons:[],supports:[],loadCases:[],meshingConfiguration:{maxTriangleArea:NaN,refinementPoints:[]},solverConfiguration:{solverType:"lusolve"},resultPoints:[]};if(u()==="SOLVER_CONFIGURATION"){if(d("SOLVER_CONFIGURATION"),l<o.length&&o[l].length>0&&l++,l<o.length&&o[l].length>0){let T=r.parseCsvRow(o[l++]);_.solverConfiguration={solverType:T[0]??"lusolve"}}for(;l<o.length&&o[l].length===0;)l++}if(u()==="MESHING_CONFIGURATION"){if(d("MESHING_CONFIGURATION"),l<o.length&&o[l].length>0&&l++,l<o.length&&o[l].length>0){let T=r.parseCsvRow(o[l++]);_.meshingConfiguration.maxTriangleArea=parseFloat(T[0]??"0")}for(;l<o.length&&o[l].length===0;)l++}if(u()==="REFINEMENT_POINTS"){d("REFINEMENT_POINTS"),l<o.length&&o[l].length>0&&l++;let T=[];for(;l<o.length&&o[l].length>0&&!s.has(o[l]);){let x=r.parseCsvRow(o[l++]),S=parseFloat(x[0]??"0"),I=parseFloat(x[1]??"0"),V=parseFloat(x[2]??"0"),M=parseFloat(x[3]??"0");T.push({x:S,y:I,radius:V,maxArea:M})}for(_.meshingConfiguration.refinementPoints=T;l<o.length&&o[l].length===0;)l++}if(u()==="RESULT_POINTS"){for(d("RESULT_POINTS"),l<o.length&&o[l].length>0&&l++;l<o.length&&o[l].length>0&&!s.has(o[l]);){let T=r.parseCsvRow(o[l++]),x=T[0]??"",S=parseFloat(T[1]??"0"),I=parseFloat(T[2]??"0");_.resultPoints.push({name:x,x:S,y:I})}for(;l<o.length&&o[l].length===0;)l++}if(u()==="MATERIALS"){d("MATERIALS");let T=h();for(let x of T){let S=r.parseCsvRow(x),I=S[0]??"",V=parseFloat(S[1]??"0"),M=parseFloat(S[2]??"0"),L=parseFloat(S[3]??"0");_.materials.push({name:I,modulusOfElasticity:V,poissonsRatio:M,weight:L})}}if(u()==="SECTION_PROPERTIES"){d("SECTION_PROPERTIES");let T=h();for(let x of T){let S=r.parseCsvRow(x),I=S[0]??"",V=parseFloat(S[1]??"0");_.sectionProperties.push({name:I,thickness:V})}}if(u()==="RECTANGLE_GEOMETRY"){d("RECTANGLE_GEOMETRY");let T=h();for(let x of T){let S=r.parseCsvRow(x),I=S[0]??"",V=parseFloat(S[1]??"0"),M=parseFloat(S[2]??"0"),L=parseFloat(S[3]??"0"),$=parseFloat(S[4]??"0"),K=S[5]??"",j=S[6]??"";_.rectangles.push({name:I,x:V,y:M,width:L,height:$,sectionName:K,materialName:j})}}if(u()==="POLYGONS"){d("POLYGONS");let T=h();for(let x of T){let S=r.parseCsvRow(x),I=S[0]??"",V=S[1]??"",M=S[2]??"",L=S[3]??"";_.polygons.push({name:I,points:V,sectionName:M,materialName:L})}}if(u()==="SUPPORTS"){d("SUPPORTS");let T=h();for(let x of T){let S=r.parseCsvRow(x),I=parseFloat(S[0]??"0"),V=parseFloat(S[1]??"0"),M=(S[2]??"false").toLowerCase()==="true",L=(S[3]??"false").toLowerCase()==="true";_.supports.push({x:I,y:V,fixedX:M,fixedY:L})}}if(u()==="LOAD_CASES"){d("LOAD_CASES");let T=h(),x=new Map;for(let S of T){let I=r.parseCsvRow(S),V=I[0]??"",M=(I[1]??"").toLowerCase();x.has(V)||x.set(V,{name:V,pointLoads:[],distributedLoads:[],includeDeadLoad:!1});let L=x.get(V);if(M==="point"){let $=parseFloat(I[3]??"0"),K=parseFloat(I[4]??"0"),j=parseFloat(I[5]??"0"),te=parseFloat(I[6]??"0");L.pointLoads.push({x:$,y:K,fx:j,fy:te})}else if(M==="distributed"){let $=I[2]??"",K=parseFloat(I[5]??"0"),j=parseFloat(I[6]??"0");L.distributedLoads.push({geometryName:$,fx:K,fy:j})}}_.loadCases=Array.from(x.values())}return{sectionProperties:_.sectionProperties??[],materials:_.materials??[],rectangles:_.rectangles??[],polygons:_.polygons??[],supports:_.supports??[],loadCases:_.loadCases??[],meshingConfiguration:_.meshingConfiguration??{maxTriangleArea:NaN,refinementPoints:[]},solverConfiguration:_.solverConfiguration??{solverType:"lusolve"},resultPoints:_.resultPoints??[]}}};function bC(r,i){if(r&1){let n=Ue();b(0,"div",1)(1,"p-checkbox",4),Z("ngModelChange",function(s){k(n);let l=W();return J(l.encode,s)||(l.encode=s),D(s)}),G("onChange",function(){k(n);let s=W();return D(s.changeSerializationType())}),w(),b(2,"label",5),B(3," Encode "),w()()}if(r&2){let n=W();R(),X("ngModel",n.encode),q("binary",!0)}}var Pa=class r extends On{membraneMessageService=Ae(mi);membraneService=Ae(Nr);detector=Ae(rn);serializationTypes=["yaml","json","csv","url"];selectedSerializationType="yaml";geometry;encode=!1;ngOnInit(){this.membraneMessageService.geometryChanged.pipe(nn(this.destroyed$)).subscribe(i=>{this.geometry=i,this.changeSerializationType()})}value="";rows=10;changeSerializationType(){this.value=this.serializeGeometry(this.geometry),this.rows=this.value.split(`
`).length,this.detector.detectChanges()}parse(){let i=this.parseGeometry();this.membraneService.updateGeometry(i)}copy(){let i=this.value;this.selectedSerializationType==="url"&&(i=window.location.origin+window.location.pathname+window.location.hash+"?"+this.value.split(`
`).join("")),navigator.clipboard.writeText(i)}parseGeometry(){try{switch(this.selectedSerializationType){case"yaml":return Bc(this.value);case"json":return JSON.parse(this.value);case"url":return this.encode?jn.parse(this.value):jn.parseRaw(this.value);case"csv":return Ro.parseGeometryFromCsv(this.value);default:throw new Error("Unsupported serialization type")}}catch(i){throw this.membraneMessageService.showErrorMessage("Failed to parse geometry: "+i.message),new Ps("Failed to parse geometry: "+i.message)}}serializeGeometry(i){switch(this.selectedSerializationType){case"yaml":return Vc(i);case"json":return JSON.stringify(i,null,2);case"url":return this.encode?jn.stringify(i):jn.stringifyRaw(i);case"csv":return Ro.geometryToCsv(i);default:throw new Error("Unsupported serialization type")}}static \u0275fac=(()=>{let i;return function(o){return(i||(i=fi(r)))(o||r)}})();static \u0275cmp=Xe({type:r,selectors:[["app-raw-geometry"]],features:[pi],decls:5,vars:7,consts:[["placeholder","Select serialization",1,"w-full","md:w-56",3,"ngModelChange","options","ngModel"],[1,"flex","items-center"],["icon","pi pi-copy","label","Copy",1,"ml-2",3,"onClick","disabled"],["pTextarea","","id","description",2,"resize","vertical","width","100%","height","100%",3,"ngModelChange","ngModel","rows","spellcheck"],["inputId","encode",3,"ngModelChange","onChange","ngModel","binary"],["for","encode",1,"ml-2"]],template:function(n,o){n&1&&(b(0,"p-select",0),Z("ngModelChange",function(l){return J(o.selectedSerializationType,l)||(o.selectedSerializationType=l),l}),G("ngModelChange",function(){return o.changeSerializationType()}),w(),mn(1,bC,4,2,"div",1),b(2,"p-button",2),G("onClick",function(){return o.copy()}),w(),oe(3,"p-divider"),b(4,"textarea",3),Z("ngModelChange",function(l){return J(o.value,l)||(o.value=l),l}),G("ngModelChange",function(){return o.parse()}),w()),n&2&&(q("options",o.serializationTypes),X("ngModel",o.selectedSerializationType),R(),Li(o.selectedSerializationType==="url"?1:-1),R(),q("disabled",!o.value),R(2),X("ngModel",o.value),q("rows",o.rows)("spellcheck",!1))},dependencies:[Je,Ze,tt,ct,et,ot,Ds,ut,Qe,Rs,In,Nn,ft,st,pt,mt,at,Pr,rt,di,dt,ht,gt,_t,yt,wt,cm,lt,nt,bt,Ct,vt,it,St,xt,Us],encapsulation:2,changeDetection:0})};function CC(r,i){r&1&&(b(0,"div",4),oe(1,"p-tag",5),w())}function vC(r,i){if(r&1&&(b(0,"div",3),oe(1,"p-badge",6),b(2,"p",7),B(3),w()()),r&2){let n=i.$implicit;R(),q("value","!")("badgeSize","small"),R(2),Ns(" ",n," ")}}function SC(r,i){if(r&1&&(b(0,"p-fieldset"),mn(1,CC,2,0,"ng-template",null,0,Ir),Ot(3,vC,4,3,"div",3,Nt),w()),r&2){let n=W();R(3),Pt(n.errors)}}var La=class r extends On{membraneService=Ae(Nr);membraneMessageService=Ae(mi);changeDetector=Ae(rn);progress="";subProgress="";iterationProgress="";errors=[];solve(){return Se(this,null,function*(){this.errors=[],yield this.membraneService.solve()})}ngOnInit(){return Se(this,null,function*(){this.membraneMessageService.progressChanged.pipe(nn(this.destroyed$),Fe(i=>{i.message&&(this.progress=i.message)}),Fe(i=>{i.subMessage&&(this.subProgress=i.subMessage)}),Fe(i=>{i.iterationMessage&&(this.iterationProgress=i.iterationMessage)})).subscribe(()=>this.changeDetector.detectChanges()),this.membraneMessageService.errorMessageChanged.pipe(nn(this.destroyed$),Fe(i=>this.errors=[...i])).subscribe(()=>this.changeDetector.detectChanges())})}static \u0275fac=(()=>{let i;return function(o){return(i||(i=fi(r)))(o||r)}})();static \u0275cmp=Xe({type:r,selectors:[["app-control-panel"]],features:[pi],decls:10,vars:4,consts:[["header",""],[1,"mt-2"],["label","Solve",3,"onClick"],[1,"flex","items-center"],[1,"flex","items-center","gap-2","px-2"],["severity","danger","value","Errors"],["severity","danger",3,"value","badgeSize"],[1,"pl-1"]],template:function(n,o){n&1&&(b(0,"div",1)(1,"p-button",2),G("onClick",function(){return o.solve()}),w(),b(2,"p"),B(3),w(),b(4,"p"),B(5),w(),b(6,"p"),B(7),w()(),oe(8,"p-divider"),mn(9,SC,5,0,"p-fieldset")),n&2&&(R(3),Be(o.progress),R(2),Be(o.subProgress),R(2),Be(o.iterationProgress),R(2),Li(o.errors.length>0?9:-1))},dependencies:[Je,Ze,tt,ct,et,ot,ut,Qe,ft,st,pt,mt,at,rt,di,dt,ht,gt,_t,yt,wt,lt,nt,bt,Ct,fm,vt,pm,it,om,St,xt,Us],styles:[".error-container[_ngcontent-%COMP%]{background-color:var(--p-red-400)}"],changeDetection:0})};var fd=class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Xe({type:r,selectors:[["app-membrane"]],decls:21,vars:2,consts:[[1,"grid","grid-cols-2","gap-2","ml-2"],["value","0"],["value","1"],["value","2"],[1,"sticky","top-0"]],template:function(n,o){n&1&&(b(0,"div",0)(1,"div"),oe(2,"app-control-panel"),b(3,"p-tabs",1)(4,"p-tablist")(5,"p-tab",1),B(6,"Geometry"),w(),b(7,"p-tab",2),B(8,"Raw Geometry"),w(),b(9,"p-tab",3),B(10,"Results"),w()(),b(11,"p-tabpanels")(12,"p-tabpanel",1),oe(13,"app-geometry"),w(),b(14,"p-tabpanel",2),oe(15,"app-raw-geometry"),w(),b(16,"p-tabpanel",3),oe(17,"app-results"),w()()()(),b(18,"div")(19,"div",4),oe(20,"app-view3d"),w()()()),n&2&&(R(3),Ip("flex-grow:1"))},dependencies:[Xs,Ks,La,Ys,Je,im,nm,tm,Qp,em,Ze,tt,ct,et,ot,ut,Qe,ft,st,pt,mt,at,rt,dt,ht,gt,_t,yt,wt,lt,nt,bt,Ct,vt,it,St,xt,Pa],styles:["[_nghost-%COMP%]     p-panel div.p-panel{margin-bottom:calc(var(--spacing) * 4)}"],changeDetection:0})};export{fd as MembraneComponent};
