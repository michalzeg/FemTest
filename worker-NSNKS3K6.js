var df=Object.create;var hi=Object.defineProperty;var hf=Object.getOwnPropertyDescriptor;var mf=Object.getOwnPropertyNames;var vf=Object.getPrototypeOf,xf=Object.prototype.hasOwnProperty;var Lt=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var $t=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var gf=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of mf(r))!xf.call(e,n)&&n!==t&&hi(e,n,{get:()=>r[n],enumerable:!(a=hf(r,n))||a.enumerable});return e};var jt=(e,r,t)=>(t=e!=null?df(vf(e)):{},gf(r||!e||!e.__esModule?hi(t,"default",{value:e,enumerable:!0}):t,e));var Gi=$t((Ea,Aa)=>{"use strict";(function(e,r){typeof Ea=="object"&&typeof Aa<"u"?Aa.exports=r():typeof define=="function"&&define.amd?define(r):(e=typeof globalThis<"u"?globalThis:e||self,e.typed=r())})(Ea,function(){"use strict";function e(){return!0}function r(){return!1}function t(){}let a="Argument is not a typed-function.";function n(){function i(M){return typeof M=="object"&&M!==null&&M.constructor===Object}let s=[{name:"number",test:function(M){return typeof M=="number"}},{name:"string",test:function(M){return typeof M=="string"}},{name:"boolean",test:function(M){return typeof M=="boolean"}},{name:"Function",test:function(M){return typeof M=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(M){return M instanceof Date}},{name:"RegExp",test:function(M){return M instanceof RegExp}},{name:"Object",test:i},{name:"null",test:function(M){return M===null}},{name:"undefined",test:function(M){return M===void 0}}],l={name:"any",test:e,isAny:!0},d,u,p=0,c={createCount:0};function h(M){let R=d.get(M);if(R)return R;let V='Unknown type "'+M+'"',G=M.toLowerCase(),X;for(X of u)if(X.toLowerCase()===G){V+='. Did you mean "'+X+'" ?';break}throw new TypeError(V)}function g(M){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",V=R?h(R).index:u.length,G=[];for(let W=0;W<M.length;++W){if(!M[W]||typeof M[W].name!="string"||typeof M[W].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let ne=M[W].name;if(d.has(ne))throw new TypeError('Duplicate type name "'+ne+'"');G.push(ne),d.set(ne,{name:ne,test:M[W].test,isAny:M[W].isAny,index:V+W,conversionsTo:[]})}let X=u.slice(V);u=u.slice(0,V).concat(G).concat(X);for(let W=V+G.length;W<u.length;++W)d.get(u[W]).index=W}function f(){d=new Map,u=[],p=0,g([l],!1)}f(),g(s);function m(){let M;for(M of u)d.get(M).conversionsTo=[];p=0}function v(M){let R=u.filter(V=>{let G=d.get(V);return!G.isAny&&G.test(M)});return R.length?R:["any"]}function y(M){return M&&typeof M=="function"&&"_typedFunctionData"in M}function D(M,R,V){if(!y(M))throw new TypeError(a);let G=V&&V.exact,X=Array.isArray(R)?R.join(","):R,W=F(X),ne=x(W);if(!G||ne in M.signatures){let he=M._typedFunctionData.signatureMap.get(ne);if(he)return he}let j=W.length,ue;if(G){ue=[];let he;for(he in M.signatures)ue.push(M._typedFunctionData.signatureMap.get(he))}else ue=M._typedFunctionData.signatures;for(let he=0;he<j;++he){let Te=W[he],Ue=[],ar;for(ar of ue){let je=Z(ar.params,he);if(!(!je||Te.restParam&&!je.restParam)){if(!je.hasAny){let sr=w(je);if(Te.types.some(cr=>!sr.has(cr.name)))continue}Ue.push(ar)}}if(ue=Ue,ue.length===0)break}let Q;for(Q of ue)if(Q.params.length<=j)return Q;throw new TypeError("Signature not found (signature: "+(M.name||"unnamed")+"("+x(W,", ")+"))")}function _(M,R,V){return D(M,R,V).implementation}function b(M,R){let V=h(R);if(V.test(M))return M;let G=V.conversionsTo;if(G.length===0)throw new Error("There are no conversions to "+R+" defined.");for(let X=0;X<G.length;X++)if(h(G[X].from).test(M))return G[X].convert(M);throw new Error("Cannot convert "+M+" to "+R)}function x(M){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return M.map(V=>V.name).join(R)}function A(M){let R=M.indexOf("...")===0,G=(R?M.length>3?M.slice(3):"any":M).split("|").map(j=>h(j.trim())),X=!1,W=R?"...":"";return{types:G.map(function(j){return X=j.isAny||X,W+=j.name+"|",{name:j.name,typeIndex:j.index,test:j.test,isAny:j.isAny,conversion:null,conversionIndex:-1}}),name:W.slice(0,-1),hasAny:X,hasConversion:!1,restParam:R}}function C(M){let R=M.types.map(ne=>ne.name),V=le(R),G=M.hasAny,X=M.name,W=V.map(function(ne){let j=h(ne.from);return G=j.isAny||G,X+="|"+ne.from,{name:ne.from,typeIndex:j.index,test:j.test,isAny:j.isAny,conversion:ne,conversionIndex:ne.index}});return{types:M.types.concat(W),name:X,hasAny:G,hasConversion:W.length>0,restParam:M.restParam}}function w(M){return M.typeSet||(M.typeSet=new Set,M.types.forEach(R=>M.typeSet.add(R.name))),M.typeSet}function F(M){let R=[];if(typeof M!="string")throw new TypeError("Signatures must be strings");let V=M.trim();if(V==="")return R;let G=V.split(",");for(let X=0;X<G.length;++X){let W=A(G[X].trim());if(W.restParam&&X!==G.length-1)throw new SyntaxError('Unexpected rest parameter "'+G[X]+'": only allowed for the last parameter');if(W.types.length===0)return null;R.push(W)}return R}function N(M){let R=ke(M);return R?R.restParam:!1}function T(M){if(!M||M.types.length===0)return e;if(M.types.length===1)return h(M.types[0].name).test;if(M.types.length===2){let R=h(M.types[0].name).test,V=h(M.types[1].name).test;return function(X){return R(X)||V(X)}}else{let R=M.types.map(function(V){return h(V.name).test});return function(G){for(let X=0;X<R.length;X++)if(R[X](G))return!0;return!1}}}function k(M){let R,V,G;if(N(M)){R=Me(M).map(T);let X=R.length,W=T(ke(M)),ne=function(j){for(let ue=X;ue<j.length;ue++)if(!W(j[ue]))return!1;return!0};return function(ue){for(let Q=0;Q<R.length;Q++)if(!R[Q](ue[Q]))return!1;return ne(ue)&&ue.length>=X+1}}else return M.length===0?function(W){return W.length===0}:M.length===1?(V=T(M[0]),function(W){return V(W[0])&&W.length===1}):M.length===2?(V=T(M[0]),G=T(M[1]),function(W){return V(W[0])&&G(W[1])&&W.length===2}):(R=M.map(T),function(W){for(let ne=0;ne<R.length;ne++)if(!R[ne](W[ne]))return!1;return W.length===R.length})}function Z(M,R){return R<M.length?M[R]:N(M)?ke(M):null}function Y(M,R){let V=Z(M,R);return V?w(V):new Set}function O(M){return M.conversion===null||M.conversion===void 0}function oe(M,R){let V=new Set;return M.forEach(G=>{let X=Y(G.params,R),W;for(W of X)V.add(W)}),V.has("any")?["any"]:Array.from(V)}function $(M,R,V){let G,X,W=M||"unnamed",ne=V,j;for(j=0;j<R.length;j++){let Te=[];if(ne.forEach(Ue=>{let ar=Z(Ue.params,j),je=T(ar);(j<Ue.params.length||N(Ue.params))&&je(R[j])&&Te.push(Ue)}),Te.length===0){if(X=oe(ne,j),X.length>0){let Ue=v(R[j]);return G=new TypeError("Unexpected type of argument in function "+W+" (expected: "+X.join(" or ")+", actual: "+Ue.join(" | ")+", index: "+j+")"),G.data={category:"wrongType",fn:W,index:j,actual:Ue,expected:X},G}}else ne=Te}let ue=ne.map(function(Te){return N(Te.params)?1/0:Te.params.length});if(R.length<Math.min.apply(null,ue))return X=oe(ne,j),G=new TypeError("Too few arguments in function "+W+" (expected: "+X.join(" or ")+", index: "+R.length+")"),G.data={category:"tooFewArgs",fn:W,index:R.length,expected:X},G;let Q=Math.max.apply(null,ue);if(R.length>Q)return G=new TypeError("Too many arguments in function "+W+" (expected: "+Q+", actual: "+R.length+")"),G.data={category:"tooManyArgs",fn:W,index:R.length,expectedLength:Q},G;let he=[];for(let Te=0;Te<R.length;++Te)he.push(v(R[Te]).join("|"));return G=new TypeError('Arguments of type "'+he.join(", ")+'" do not match any of the defined signatures of function '+W+"."),G.data={category:"mismatch",actual:he},G}function L(M){let R=u.length+1;for(let V=0;V<M.types.length;V++)R=Math.min(R,M.types[V].typeIndex);return R}function ee(M){let R=p+1;for(let V=0;V<M.types.length;V++)O(M.types[V])||(R=Math.min(R,M.types[V].conversionIndex));return R}function ie(M,R){if(M.hasAny){if(!R.hasAny)return .1}else if(R.hasAny)return-.1;if(M.restParam){if(!R.restParam)return .01}else if(R.restParam)return-.01;let V=L(M)-L(R);if(V<0)return-.001;if(V>0)return .001;let G=ee(M),X=ee(R);if(M.hasConversion){if(!R.hasConversion)return(1+G)*1e-6}else if(R.hasConversion)return-(1+X)*1e-6;let W=G-X;return W<0?-1e-7:W>0?1e-7:0}function pe(M,R){let V=M.params,G=R.params,X=ke(V),W=ke(G),ne=N(V),j=N(G);if(ne&&X.hasAny){if(!j||!W.hasAny)return 1e7}else if(j&&W.hasAny)return-1e7;let ue=0,Q=0,he;for(he of V)he.hasAny&&++ue,he.hasConversion&&++Q;let Te=0,Ue=0;for(he of G)he.hasAny&&++Te,he.hasConversion&&++Ue;if(ue!==Te)return(ue-Te)*1e6;if(ne&&X.hasConversion){if(!j||!W.hasConversion)return 1e5}else if(j&&W.hasConversion)return-1e5;if(Q!==Ue)return(Q-Ue)*1e4;if(ne){if(!j)return 1e3}else if(j)return-1e3;let ar=(V.length-G.length)*(ne?-100:100);if(ar!==0)return ar;let je=[],sr=0;for(let Yr=0;Yr<V.length;++Yr){let ht=ie(V[Yr],G[Yr]);je.push(ht),sr+=ht}if(sr!==0)return(sr<0?-10:10)+sr;let cr,Zr=9,Pt=Zr/(je.length+1);for(cr of je){if(cr!==0)return(cr<0?-Zr:Zr)+cr;Zr-=Pt}return 0}function le(M){if(M.length===0)return[];let R=M.map(h);if(M.length===1)return R[0].conversionsTo;let V=new Set(M),G=new Set;for(let W=0;W<R.length;++W)for(let ne of R[W].conversionsTo)V.has(ne.from)||G.add(ne.from);let X=[];for(let W of G){let ne=p+1,j=null;for(let ue=0;ue<R.length;++ue)for(let Q of R[ue].conversionsTo)Q.from===W&&Q.index<ne&&(ne=Q.index,j=Q);X.push(j)}return X}function fe(M,R){let V=R,G="";if(M.some(W=>W.hasConversion)){let W=N(M),ne=M.map(Pe);G=ne.map(j=>j.name).join(";"),V=function(){let ue=[],Q=W?arguments.length-1:arguments.length;for(let he=0;he<Q;he++)ue[he]=ne[he](arguments[he]);return W&&(ue[Q]=arguments[Q].map(ne[Q])),R.apply(this,ue)}}let X=V;if(N(M)){let W=M.length-1;X=function(){return V.apply(this,We(arguments,0,W).concat([We(arguments,W)]))}}return G&&Object.defineProperty(X,"name",{value:G}),X}function Pe(M){let R,V,G,X,W=[],ne=[],j="";M.types.forEach(function(Q){Q.conversion&&(j+=Q.conversion.from+"~>"+Q.conversion.to+",",W.push(h(Q.conversion.from).test),ne.push(Q.conversion.convert))}),j?j=j.slice(0,-1):j="pass";let ue=Q=>Q;switch(ne.length){case 0:break;case 1:R=W[0],G=ne[0],ue=function(he){return R(he)?G(he):he};break;case 2:R=W[0],V=W[1],G=ne[0],X=ne[1],ue=function(he){return R(he)?G(he):V(he)?X(he):he};break;default:ue=function(he){for(let Te=0;Te<ne.length;Te++)if(W[Te](he))return ne[Te](he);return he}}return Object.defineProperty(ue,"name",{value:j}),ue}function we(M){function R(V,G,X){if(G<V.length){let W=V[G],ne=[];if(W.restParam){let j=W.types.filter(O);j.length<W.types.length&&ne.push({types:j,name:"..."+j.map(ue=>ue.name).join("|"),hasAny:j.some(ue=>ue.isAny),hasConversion:!1,restParam:!0}),ne.push(W)}else ne=W.types.map(function(j){return{types:[j],name:j.name,hasAny:j.isAny,hasConversion:j.conversion,restParam:!1}});return Se(ne,function(j){return R(V,G+1,X.concat([j]))})}else return[X]}return R(M,0,[])}function xe(M,R){let V=Math.max(M.length,R.length);for(let j=0;j<V;j++){let ue=Y(M,j),Q=Y(R,j),he=!1,Te;for(Te of Q)if(ue.has(Te)){he=!0;break}if(!he)return!1}let G=M.length,X=R.length,W=N(M),ne=N(R);return W?ne?G===X:X>=G:ne?G>=X:G===X}function Fe(M){return M.map(R=>Ur(R)?qr(R.referToSelf.callback):Br(R)?nr(R.referTo.references,R.referTo.callback):R)}function Ee(M,R,V){let G=[],X;for(X of M){let W=V[X];if(typeof W!="number")throw new TypeError('No definition for referenced signature "'+X+'"');if(W=R[W],typeof W!="function")return!1;G.push(W)}return G}function de(M,R,V){let G=Fe(M),X=new Array(G.length).fill(!1),W=!0;for(;W;){W=!1;let ne=!0;for(let j=0;j<G.length;++j){if(X[j])continue;let ue=G[j];if(Ur(ue))G[j]=ue.referToSelf.callback(V),G[j].referToSelf=ue.referToSelf,X[j]=!0,ne=!1;else if(Br(ue)){let Q=Ee(ue.referTo.references,G,R);Q?(G[j]=ue.referTo.callback.apply(this,Q),G[j].referTo=ue.referTo,X[j]=!0,ne=!1):W=!0}}if(ne&&W)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return G}function He(M){let R=/\bthis(\(|\.signatures\b)/;Object.keys(M).forEach(V=>{let G=M[V];if(R.test(G.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function qe(M,R){if(c.createCount++,Object.keys(R).length===0)throw new SyntaxError("No signatures provided");c.warnAgainstDeprecatedThis&&He(R);let V=[],G=[],X={},W=[],ne;for(ne in R){if(!Object.prototype.hasOwnProperty.call(R,ne))continue;let ze=F(ne);if(!ze)continue;V.forEach(function(st){if(xe(st,ze))throw new TypeError('Conflicting signatures "'+x(st)+'" and "'+x(ze)+'".')}),V.push(ze);let or=G.length;G.push(R[ne]);let xa=ze.map(C),Gr;for(Gr of we(xa)){let st=x(Gr);W.push({params:Gr,name:st,fn:or}),Gr.every(ga=>!ga.hasConversion)&&(X[st]=or)}}W.sort(pe);let j=de(G,X,wr),ue;for(ue in X)Object.prototype.hasOwnProperty.call(X,ue)&&(X[ue]=j[X[ue]]);let Q=[],he=new Map;for(ue of W)he.has(ue.name)||(ue.fn=j[ue.fn],Q.push(ue),he.set(ue.name,ue));let Te=Q[0]&&Q[0].params.length<=2&&!N(Q[0].params),Ue=Q[1]&&Q[1].params.length<=2&&!N(Q[1].params),ar=Q[2]&&Q[2].params.length<=2&&!N(Q[2].params),je=Q[3]&&Q[3].params.length<=2&&!N(Q[3].params),sr=Q[4]&&Q[4].params.length<=2&&!N(Q[4].params),cr=Q[5]&&Q[5].params.length<=2&&!N(Q[5].params),Zr=Te&&Ue&&ar&&je&&sr&&cr;for(let ze=0;ze<Q.length;++ze)Q[ze].test=k(Q[ze].params);let Pt=Te?T(Q[0].params[0]):r,Yr=Ue?T(Q[1].params[0]):r,ht=ar?T(Q[2].params[0]):r,Xn=je?T(Q[3].params[0]):r,Jn=sr?T(Q[4].params[0]):r,$n=cr?T(Q[5].params[0]):r,jn=Te?T(Q[0].params[1]):r,ea=Ue?T(Q[1].params[1]):r,Qt=ar?T(Q[2].params[1]):r,ra=je?T(Q[3].params[1]):r,ta=sr?T(Q[4].params[1]):r,na=cr?T(Q[5].params[1]):r;for(let ze=0;ze<Q.length;++ze)Q[ze].implementation=fe(Q[ze].params,Q[ze].fn);let aa=Te?Q[0].implementation:t,oa=Ue?Q[1].implementation:t,ia=ar?Q[2].implementation:t,ua=je?Q[3].implementation:t,sa=sr?Q[4].implementation:t,fa=cr?Q[5].implementation:t,ca=Te?Q[0].params.length:-1,la=Ue?Q[1].params.length:-1,pa=ar?Q[2].params.length:-1,da=je?Q[3].params.length:-1,ha=sr?Q[4].params.length:-1,ma=cr?Q[5].params.length:-1,Xt=Zr?6:0,ut=Q.length,Jt=Q.map(ze=>ze.test),kr=Q.map(ze=>ze.implementation),va=function(){for(let or=Xt;or<ut;or++)if(Jt[or](arguments))return kr[or].apply(this,arguments);return c.onMismatch(M,arguments,Q)};function wr(ze,or){return arguments.length===ca&&Pt(ze)&&jn(or)?aa.apply(this,arguments):arguments.length===la&&Yr(ze)&&ea(or)?oa.apply(this,arguments):arguments.length===pa&&ht(ze)&&Qt(or)?ia.apply(this,arguments):arguments.length===da&&Xn(ze)&&ra(or)?ua.apply(this,arguments):arguments.length===ha&&Jn(ze)&&ta(or)?sa.apply(this,arguments):arguments.length===ma&&$n(ze)&&na(or)?fa.apply(this,arguments):va.apply(this,arguments)}try{Object.defineProperty(wr,"name",{value:M})}catch{}return wr.signatures=X,wr._typedFunctionData={signatures:Q,signatureMap:he},wr}function ge(M,R,V){throw $(M,R,V)}function Me(M){return We(M,0,M.length-1)}function ke(M){return M[M.length-1]}function We(M,R,V){return Array.prototype.slice.call(M,R,V)}function er(M,R){for(let V=0;V<M.length;V++)if(R(M[V]))return M[V]}function Se(M,R){return Array.prototype.concat.apply([],M.map(R))}function Qe(){let M=Me(arguments).map(V=>x(F(V))),R=ke(arguments);if(typeof R!="function")throw new TypeError("Callback function expected as last argument");return nr(M,R)}function nr(M,R){return{referTo:{references:M,callback:R}}}function qr(M){if(typeof M!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:M}}}function Br(M){return M&&typeof M.referTo=="object"&&Array.isArray(M.referTo.references)&&typeof M.referTo.callback=="function"}function Ur(M){return M&&typeof M.referToSelf=="object"&&typeof M.referToSelf.callback=="function"}function at(M,R){if(!M)return R;if(R&&R!==M){let V=new Error("Function names do not match (expected: "+M+", actual: "+R+")");throw V.data={actual:R,expected:M},V}return M}function ot(M){let R;for(let V in M)Object.prototype.hasOwnProperty.call(M,V)&&(y(M[V])||typeof M[V].signature=="string")&&(R=at(R,M[V].name));return R}function it(M,R){let V;for(V in R)if(Object.prototype.hasOwnProperty.call(R,V)){if(V in M&&R[V]!==M[V]){let G=new Error('Signature "'+V+'" is defined twice');throw G.data={signature:V,sourceFunction:R[V],destFunction:M[V]},G}M[V]=R[V]}}let Vr=c;c=function(M){let R=typeof M=="string",V=R?1:0,G=R?M:"",X={};for(let W=V;W<arguments.length;++W){let ne=arguments[W],j={},ue;if(typeof ne=="function"?(ue=ne.name,typeof ne.signature=="string"?j[ne.signature]=ne:y(ne)&&(j=ne.signatures)):i(ne)&&(j=ne,R||(ue=ot(ne))),Object.keys(j).length===0){let Q=new TypeError("Argument to 'typed' at index "+W+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Q.data={index:W,argument:ne},Q}R||(G=at(G,ue)),it(X,j)}return qe(G||"",X)},c.create=n,c.createCount=Vr.createCount,c.onMismatch=ge,c.throwMismatchError=ge,c.createError=$,c.clear=f,c.clearConversions=m,c.addTypes=g,c._findType=h,c.referTo=Qe,c.referToSelf=qr,c.convert=b,c.findSignature=D,c.find=_,c.isTypedFunction=y,c.warnAgainstDeprecatedThis=!0,c.addType=function(M,R){let V="any";R!==!1&&d.has("Object")&&(V="Object"),c.addTypes([M],V)};function Rt(M){if(!M||typeof M.from!="string"||typeof M.to!="string"||typeof M.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(M.to===M.from)throw new SyntaxError('Illegal to define conversion from "'+M.from+'" to itself.')}return c.addConversion=function(M){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Rt(M);let V=h(M.to),G=V.conversionsTo.find(X=>X.from===M.from);if(G)if(R&&R.override)c.removeConversion({from:G.from,to:M.to,convert:G.convert});else throw new Error('There is already a conversion from "'+M.from+'" to "'+V.name+'"');V.conversionsTo.push({from:M.from,to:V.name,convert:M.convert,index:p++})},c.addConversions=function(M,R){M.forEach(V=>c.addConversion(V,R))},c.removeConversion=function(M){Rt(M);let R=h(M.to),V=er(R.conversionsTo,X=>X.from===M.from);if(!V)throw new Error("Attempt to remove nonexistent conversion from "+M.from+" to "+M.to);if(V.convert!==M.convert)throw new Error("Conversion to remove does not match existing conversion");let G=R.conversionsTo.indexOf(V);R.conversionsTo.splice(G,1)},c.resolve=function(M,R){if(!y(M))throw new TypeError(a);let V=M._typedFunctionData.signatures;for(let G=0;G<V.length;++G)if(V[G].test(R))return V[G];return null},c}var o=n();return o})});var Au=$t((Ya,Eu)=>{"use strict";(function(e){"use strict";var r=2e3,t={s:1,n:0,d:1};function a(f,m){if(isNaN(f=parseInt(f,10)))throw h();return f*m}function n(f,m){if(m===0)throw c();var v=Object.create(p.prototype);v.s=f<0?-1:1,f=f<0?-f:f;var y=u(f,m);return v.n=f/y,v.d=m/y,v}function o(f){for(var m={},v=f,y=2,D=4;D<=v;){for(;v%y===0;)v/=y,m[y]=(m[y]||0)+1;D+=1+2*y++}return v!==f?v>1&&(m[v]=(m[v]||0)+1):m[f]=(m[f]||0)+1,m}var i=function(f,m){var v=0,y=1,D=1,_=0,b=0,x=0,A=1,C=1,w=0,F=1,N=1,T=1,k=1e7,Z;if(f!=null)if(m!==void 0){if(v=f,y=m,D=v*y,v%1!==0||y%1!==0)throw g()}else switch(typeof f){case"object":{if("d"in f&&"n"in f)v=f.n,y=f.d,"s"in f&&(v*=f.s);else if(0 in f)v=f[0],1 in f&&(y=f[1]);else throw h();D=v*y;break}case"number":{if(f<0&&(D=f,f=-f),f%1===0)v=f;else if(f>0){for(f>=1&&(C=Math.pow(10,Math.floor(1+Math.log(f)/Math.LN10)),f/=C);F<=k&&T<=k;)if(Z=(w+N)/(F+T),f===Z){F+T<=k?(v=w+N,y=F+T):T>F?(v=N,y=T):(v=w,y=F);break}else f>Z?(w+=N,F+=T):(N+=w,T+=F),F>k?(v=N,y=T):(v=w,y=F);v*=C}else(isNaN(f)||isNaN(m))&&(y=v=NaN);break}case"string":{if(F=f.match(/\d+|./g),F===null)throw h();if(F[w]==="-"?(D=-1,w++):F[w]==="+"&&w++,F.length===w+1?b=a(F[w++],D):F[w+1]==="."||F[w]==="."?(F[w]!=="."&&(_=a(F[w++],D)),w++,(w+1===F.length||F[w+1]==="("&&F[w+3]===")"||F[w+1]==="'"&&F[w+3]==="'")&&(b=a(F[w],D),A=Math.pow(10,F[w].length),w++),(F[w]==="("&&F[w+2]===")"||F[w]==="'"&&F[w+2]==="'")&&(x=a(F[w+1],D),C=Math.pow(10,F[w+1].length)-1,w+=3)):F[w+1]==="/"||F[w+1]===":"?(b=a(F[w],D),A=a(F[w+2],1),w+=3):F[w+3]==="/"&&F[w+1]===" "&&(_=a(F[w],D),b=a(F[w+2],D),A=a(F[w+4],1),w+=5),F.length<=w){y=A*C,D=v=x+y*_+C*b;break}}default:throw h()}if(y===0)throw c();t.s=D<0?-1:1,t.n=Math.abs(v),t.d=Math.abs(y)};function s(f,m,v){for(var y=1;m>0;f=f*f%v,m>>=1)m&1&&(y=y*f%v);return y}function l(f,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var v=10%m,y=1;v!==1;y++)if(v=v*10%m,y>r)return 0;return y}function d(f,m,v){for(var y=1,D=s(10,v,m),_=0;_<300;_++){if(y===D)return _;y=y*10%m,D=D*10%m}return 0}function u(f,m){if(!f)return m;if(!m)return f;for(;;){if(f%=m,!f)return m;if(m%=f,!m)return f}}function p(f,m){if(i(f,m),this instanceof p)f=u(t.d,t.n),this.s=t.s,this.n=t.n/f,this.d=t.d/f;else return n(t.s*t.n,t.d)}var c=function(){return new Error("Division by Zero")},h=function(){return new Error("Invalid argument")},g=function(){return new Error("Parameters must be integer")};p.prototype={s:1,n:0,d:1,abs:function(){return n(this.n,this.d)},neg:function(){return n(-this.s*this.n,this.d)},add:function(f,m){return i(f,m),n(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(f,m){return i(f,m),n(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(f,m){return i(f,m),n(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(f,m){return i(f,m),n(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return n(this.s*this.n,this.d)},mod:function(f,m){if(isNaN(this.n)||isNaN(this.d))return new p(NaN);if(f===void 0)return n(this.s*this.n%this.d,1);if(i(f,m),t.n===0&&this.d===0)throw c();return n(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(f,m){return i(f,m),n(u(t.n,this.n)*u(t.d,this.d),t.d*this.d)},lcm:function(f,m){return i(f,m),t.n===0&&this.n===0?n(0,1):n(t.n*this.n,u(t.n,this.n)*u(t.d,this.d))},ceil:function(f){return f=Math.pow(10,f||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):n(Math.ceil(f*this.s*this.n/this.d),f)},floor:function(f){return f=Math.pow(10,f||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):n(Math.floor(f*this.s*this.n/this.d),f)},round:function(f){return f=Math.pow(10,f||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):n(Math.round(f*this.s*this.n/this.d),f)},inverse:function(){return n(this.s*this.d,this.n)},pow:function(f,m){if(i(f,m),t.d===1)return t.s<0?n(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):n(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var v=o(this.n),y=o(this.d),D=1,_=1;for(var b in v)if(b!=="1"){if(b==="0"){D=0;break}if(v[b]*=t.n,v[b]%t.d===0)v[b]/=t.d;else return null;D*=Math.pow(b,v[b])}for(var b in y)if(b!=="1"){if(y[b]*=t.n,y[b]%t.d===0)y[b]/=t.d;else return null;_*=Math.pow(b,y[b])}return t.s<0?n(_,D):n(D,_)},equals:function(f,m){return i(f,m),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(f,m){i(f,m);var v=this.s*this.n*t.d-t.s*t.n*this.d;return(0<v)-(v<0)},simplify:function(f){if(isNaN(this.n)||isNaN(this.d))return this;f=f||.001;for(var m=this.abs(),v=m.toContinued(),y=1;y<v.length;y++){for(var D=n(v[y-1],1),_=y-2;_>=0;_--)D=D.inverse().add(v[_]);if(Math.abs(D.sub(m).valueOf())<f)return D.mul(this.s)}return this},divisible:function(f,m){return i(f,m),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(f){var m,v="",y=this.n,D=this.d;return this.s<0&&(v+="-"),D===1?v+=y:(f&&(m=Math.floor(y/D))>0&&(v+=m,v+=" ",y%=D),v+=y,v+="/",v+=D),v},toLatex:function(f){var m,v="",y=this.n,D=this.d;return this.s<0&&(v+="-"),D===1?v+=y:(f&&(m=Math.floor(y/D))>0&&(v+=m,y%=D),v+="\\frac{",v+=y,v+="}{",v+=D,v+="}"),v},toContinued:function(){var f,m=this.n,v=this.d,y=[];if(isNaN(m)||isNaN(v))return y;do y.push(Math.floor(m/v)),f=m%v,m=v,v=f;while(m!==1);return y},toString:function(f){var m=this.n,v=this.d;if(isNaN(m)||isNaN(v))return"NaN";f=f||15;var y=l(m,v),D=d(m,v,y),_=this.s<0?"-":"";if(_+=m/v|0,m%=v,m*=10,m&&(_+="."),y){for(var b=D;b--;)_+=m/v|0,m%=v,m*=10;_+="(";for(var b=y;b--;)_+=m/v|0,m%=v,m*=10;_+=")"}else for(var b=f;m&&b--;)_+=m/v|0,m%=v,m*=10;return _}},typeof Ya=="object"?(Object.defineProperty(p,"__esModule",{value:!0}),p.default=p,p.Fraction=p,Eu.exports=p):e.Fraction=p})(Ya)});var js=$t(($s,ci)=>{"use strict";(function(e){if(typeof $s=="object"&&typeof ci<"u")ci.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=e()}})(function(){var e,r,t;return function a(n,o,i){function s(u,p){if(!o[u]){if(!n[u]){var c=typeof Lt=="function"&&Lt;if(!p&&c)return c(u,!0);if(l)return l(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var g=o[u]={exports:{}};n[u][0].call(g.exports,function(f){var m=n[u][1][f];return s(m||f)},g,g.exports,a,n,o,i)}return o[u].exports}for(var l=typeof Lt=="function"&&Lt,d=0;d<i.length;d++)s(i[d]);return s}({1:[function(a,n,o){(function(i){"use strict";var s=i.MutationObserver||i.WebKitMutationObserver,l;if(s){var d=0,u=new s(f),p=i.document.createTextNode("");u.observe(p,{characterData:!0}),l=function(){p.data=d=++d%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var c=new i.MessageChannel;c.port1.onmessage=f,l=function(){c.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?l=function(){var v=i.document.createElement("script");v.onreadystatechange=function(){f(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},i.document.documentElement.appendChild(v)}:l=function(){setTimeout(f,0)};var h,g=[];function f(){h=!0;for(var v,y,D=g.length;D;){for(y=g,g=[],v=-1;++v<D;)y[v]();D=g.length}h=!1}n.exports=m;function m(v){g.push(v)===1&&!h&&l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,n,o){"use strict";var i=a(1);function s(){}var l={},d=["REJECTED"],u=["FULFILLED"],p=["PENDING"];n.exports=c;function c(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,x!==s&&m(this,x)}c.prototype.catch=function(x){return this.then(null,x)},c.prototype.then=function(x,A){if(typeof x!="function"&&this.state===u||typeof A!="function"&&this.state===d)return this;var C=new this.constructor(s);if(this.state!==p){var w=this.state===u?x:A;g(C,w,this.outcome)}else this.queue.push(new h(C,x,A));return C};function h(x,A,C){this.promise=x,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){g(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){l.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){g(this.promise,this.onRejected,x)};function g(x,A,C){i(function(){var w;try{w=A(C)}catch(F){return l.reject(x,F)}w===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,w)})}l.resolve=function(x,A){var C=v(f,A);if(C.status==="error")return l.reject(x,C.value);var w=C.value;if(w)m(x,w);else{x.state=u,x.outcome=A;for(var F=-1,N=x.queue.length;++F<N;)x.queue[F].callFulfilled(A)}return x},l.reject=function(x,A){x.state=d,x.outcome=A;for(var C=-1,w=x.queue.length;++C<w;)x.queue[C].callRejected(A);return x};function f(x){var A=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof A=="function")return function(){A.apply(x,arguments)}}function m(x,A){var C=!1;function w(k){C||(C=!0,l.reject(x,k))}function F(k){C||(C=!0,l.resolve(x,k))}function N(){A(F,w)}var T=v(N);T.status==="error"&&w(T.value)}function v(x,A){var C={};try{C.value=x(A),C.status="success"}catch(w){C.status="error",C.value=w}return C}c.resolve=y;function y(x){return x instanceof this?x:l.resolve(new this(s),x)}c.reject=D;function D(x){var A=new this(s);return l.reject(A,x)}c.all=_;function _(x){var A=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=x.length,w=!1;if(!C)return this.resolve([]);for(var F=new Array(C),N=0,T=-1,k=new this(s);++T<C;)Z(x[T],T);return k;function Z(Y,O){A.resolve(Y).then(oe,function($){w||(w=!0,l.reject(k,$))});function oe($){F[O]=$,++N===C&&!w&&(w=!0,l.resolve(k,F))}}}c.race=b;function b(x){var A=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=x.length,w=!1;if(!C)return this.resolve([]);for(var F=-1,N=new this(s);++F<C;)T(x[F]);return N;function T(k){A.resolve(k).then(function(Z){w||(w=!0,l.resolve(N,Z))},function(Z){w||(w=!0,l.reject(N,Z))})}}},{1:1}],3:[function(a,n,o){(function(i){"use strict";typeof i.Promise!="function"&&(i.Promise=a(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(a,n,o){"use strict";var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};function s(E,B){if(!(E instanceof B))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=l();function u(){try{if(!d||!d.open)return!1;var E=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),B=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!E||B)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p(E,B){E=E||[],B=B||{};try{return new Blob(E,B)}catch(z){if(z.name!=="TypeError")throw z;for(var S=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,I=new S,P=0;P<E.length;P+=1)I.append(E[P]);return I.getBlob(B.type)}}typeof Promise>"u"&&a(3);var c=Promise;function h(E,B){B&&E.then(function(S){B(null,S)},function(S){B(S)})}function g(E,B,S){typeof B=="function"&&E.then(B),typeof S=="function"&&E.catch(S)}function f(E){return typeof E!="string"&&(console.warn(E+" used as a key, but it is not a string."),E=String(E)),E}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var v="local-forage-detect-blob-support",y=void 0,D={},_=Object.prototype.toString,b="readonly",x="readwrite";function A(E){for(var B=E.length,S=new ArrayBuffer(B),I=new Uint8Array(S),P=0;P<B;P++)I[P]=E.charCodeAt(P);return S}function C(E){return new c(function(B){var S=E.transaction(v,x),I=p([""]);S.objectStore(v).put(I,"key"),S.onabort=function(P){P.preventDefault(),P.stopPropagation(),B(!1)},S.oncomplete=function(){var P=navigator.userAgent.match(/Chrome\/(\d+)/),z=navigator.userAgent.match(/Edge\//);B(z||!P||parseInt(P[1],10)>=43)}}).catch(function(){return!1})}function w(E){return typeof y=="boolean"?c.resolve(y):C(E).then(function(B){return y=B,y})}function F(E){var B=D[E.name],S={};S.promise=new c(function(I,P){S.resolve=I,S.reject=P}),B.deferredOperations.push(S),B.dbReady?B.dbReady=B.dbReady.then(function(){return S.promise}):B.dbReady=S.promise}function N(E){var B=D[E.name],S=B.deferredOperations.pop();if(S)return S.resolve(),S.promise}function T(E,B){var S=D[E.name],I=S.deferredOperations.pop();if(I)return I.reject(B),I.promise}function k(E,B){return new c(function(S,I){if(D[E.name]=D[E.name]||le(),E.db)if(B)F(E),E.db.close();else return S(E.db);var P=[E.name];B&&P.push(E.version);var z=d.open.apply(d,P);B&&(z.onupgradeneeded=function(H){var J=z.result;try{J.createObjectStore(E.storeName),H.oldVersion<=1&&J.createObjectStore(v)}catch(re){if(re.name==="ConstraintError")console.warn('The database "'+E.name+'" has been upgraded from version '+H.oldVersion+" to version "+H.newVersion+', but the storage "'+E.storeName+'" already exists.');else throw re}}),z.onerror=function(H){H.preventDefault(),I(z.error)},z.onsuccess=function(){var H=z.result;H.onversionchange=function(J){J.target.close()},S(H),N(E)}})}function Z(E){return k(E,!1)}function Y(E){return k(E,!0)}function O(E,B){if(!E.db)return!0;var S=!E.db.objectStoreNames.contains(E.storeName),I=E.version<E.db.version,P=E.version>E.db.version;if(I&&(E.version!==B&&console.warn('The database "'+E.name+`" can't be downgraded from version `+E.db.version+" to version "+E.version+"."),E.version=E.db.version),P||S){if(S){var z=E.db.version+1;z>E.version&&(E.version=z)}return!0}return!1}function oe(E){return new c(function(B,S){var I=new FileReader;I.onerror=S,I.onloadend=function(P){var z=btoa(P.target.result||"");B({__local_forage_encoded_blob:!0,data:z,type:E.type})},I.readAsBinaryString(E)})}function $(E){var B=A(atob(E.data));return p([B],{type:E.type})}function L(E){return E&&E.__local_forage_encoded_blob}function ee(E){var B=this,S=B._initReady().then(function(){var I=D[B._dbInfo.name];if(I&&I.dbReady)return I.dbReady});return g(S,E,E),S}function ie(E){F(E);for(var B=D[E.name],S=B.forages,I=0;I<S.length;I++){var P=S[I];P._dbInfo.db&&(P._dbInfo.db.close(),P._dbInfo.db=null)}return E.db=null,Z(E).then(function(z){return E.db=z,O(E)?Y(E):z}).then(function(z){E.db=B.db=z;for(var H=0;H<S.length;H++)S[H]._dbInfo.db=z}).catch(function(z){throw T(E,z),z})}function pe(E,B,S,I){I===void 0&&(I=1);try{var P=E.db.transaction(E.storeName,B);S(null,P)}catch(z){if(I>0&&(!E.db||z.name==="InvalidStateError"||z.name==="NotFoundError"))return c.resolve().then(function(){if(!E.db||z.name==="NotFoundError"&&!E.db.objectStoreNames.contains(E.storeName)&&E.version<=E.db.version)return E.db&&(E.version=E.db.version+1),Y(E)}).then(function(){return ie(E).then(function(){pe(E,B,S,I-1)})}).catch(S);S(z)}}function le(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function fe(E){var B=this,S={db:null};if(E)for(var I in E)S[I]=E[I];var P=D[S.name];P||(P=le(),D[S.name]=P),P.forages.push(B),B._initReady||(B._initReady=B.ready,B.ready=ee);var z=[];function H(){return c.resolve()}for(var J=0;J<P.forages.length;J++){var re=P.forages[J];re!==B&&z.push(re._initReady().catch(H))}var te=P.forages.slice(0);return c.all(z).then(function(){return S.db=P.db,Z(S)}).then(function(ae){return S.db=ae,O(S,B._defaultConfig.version)?Y(S):ae}).then(function(ae){S.db=P.db=ae,B._dbInfo=S;for(var se=0;se<te.length;se++){var Ae=te[se];Ae!==B&&(Ae._dbInfo.db=S.db,Ae._dbInfo.version=S.version)}})}function Pe(E,B){var S=this;E=f(E);var I=new c(function(P,z){S.ready().then(function(){pe(S._dbInfo,b,function(H,J){if(H)return z(H);try{var re=J.objectStore(S._dbInfo.storeName),te=re.get(E);te.onsuccess=function(){var ae=te.result;ae===void 0&&(ae=null),L(ae)&&(ae=$(ae)),P(ae)},te.onerror=function(){z(te.error)}}catch(ae){z(ae)}})}).catch(z)});return h(I,B),I}function we(E,B){var S=this,I=new c(function(P,z){S.ready().then(function(){pe(S._dbInfo,b,function(H,J){if(H)return z(H);try{var re=J.objectStore(S._dbInfo.storeName),te=re.openCursor(),ae=1;te.onsuccess=function(){var se=te.result;if(se){var Ae=se.value;L(Ae)&&(Ae=$(Ae));var Le=E(Ae,se.key,ae++);Le!==void 0?P(Le):se.continue()}else P()},te.onerror=function(){z(te.error)}}catch(se){z(se)}})}).catch(z)});return h(I,B),I}function xe(E,B,S){var I=this;E=f(E);var P=new c(function(z,H){var J;I.ready().then(function(){return J=I._dbInfo,_.call(B)==="[object Blob]"?w(J.db).then(function(re){return re?B:oe(B)}):B}).then(function(re){pe(I._dbInfo,x,function(te,ae){if(te)return H(te);try{var se=ae.objectStore(I._dbInfo.storeName);re===null&&(re=void 0);var Ae=se.put(re,E);ae.oncomplete=function(){re===void 0&&(re=null),z(re)},ae.onabort=ae.onerror=function(){var Le=Ae.error?Ae.error:Ae.transaction.error;H(Le)}}catch(Le){H(Le)}})}).catch(H)});return h(P,S),P}function Fe(E,B){var S=this;E=f(E);var I=new c(function(P,z){S.ready().then(function(){pe(S._dbInfo,x,function(H,J){if(H)return z(H);try{var re=J.objectStore(S._dbInfo.storeName),te=re.delete(E);J.oncomplete=function(){P()},J.onerror=function(){z(te.error)},J.onabort=function(){var ae=te.error?te.error:te.transaction.error;z(ae)}}catch(ae){z(ae)}})}).catch(z)});return h(I,B),I}function Ee(E){var B=this,S=new c(function(I,P){B.ready().then(function(){pe(B._dbInfo,x,function(z,H){if(z)return P(z);try{var J=H.objectStore(B._dbInfo.storeName),re=J.clear();H.oncomplete=function(){I()},H.onabort=H.onerror=function(){var te=re.error?re.error:re.transaction.error;P(te)}}catch(te){P(te)}})}).catch(P)});return h(S,E),S}function de(E){var B=this,S=new c(function(I,P){B.ready().then(function(){pe(B._dbInfo,b,function(z,H){if(z)return P(z);try{var J=H.objectStore(B._dbInfo.storeName),re=J.count();re.onsuccess=function(){I(re.result)},re.onerror=function(){P(re.error)}}catch(te){P(te)}})}).catch(P)});return h(S,E),S}function He(E,B){var S=this,I=new c(function(P,z){if(E<0){P(null);return}S.ready().then(function(){pe(S._dbInfo,b,function(H,J){if(H)return z(H);try{var re=J.objectStore(S._dbInfo.storeName),te=!1,ae=re.openKeyCursor();ae.onsuccess=function(){var se=ae.result;if(!se){P(null);return}E===0||te?P(se.key):(te=!0,se.advance(E))},ae.onerror=function(){z(ae.error)}}catch(se){z(se)}})}).catch(z)});return h(I,B),I}function qe(E){var B=this,S=new c(function(I,P){B.ready().then(function(){pe(B._dbInfo,b,function(z,H){if(z)return P(z);try{var J=H.objectStore(B._dbInfo.storeName),re=J.openKeyCursor(),te=[];re.onsuccess=function(){var ae=re.result;if(!ae){I(te);return}te.push(ae.key),ae.continue()},re.onerror=function(){P(re.error)}}catch(ae){P(ae)}})}).catch(P)});return h(S,E),S}function ge(E,B){B=m.apply(this,arguments);var S=this.config();E=typeof E!="function"&&E||{},E.name||(E.name=E.name||S.name,E.storeName=E.storeName||S.storeName);var I=this,P;if(!E.name)P=c.reject("Invalid arguments");else{var z=E.name===S.name&&I._dbInfo.db,H=z?c.resolve(I._dbInfo.db):Z(E).then(function(J){var re=D[E.name],te=re.forages;re.db=J;for(var ae=0;ae<te.length;ae++)te[ae]._dbInfo.db=J;return J});E.storeName?P=H.then(function(J){if(J.objectStoreNames.contains(E.storeName)){var re=J.version+1;F(E);var te=D[E.name],ae=te.forages;J.close();for(var se=0;se<ae.length;se++){var Ae=ae[se];Ae._dbInfo.db=null,Ae._dbInfo.version=re}var Le=new c(function(Ve,Je){var Xe=d.open(E.name,re);Xe.onerror=function(mr){var Ot=Xe.result;Ot.close(),Je(mr)},Xe.onupgradeneeded=function(){var mr=Xe.result;mr.deleteObjectStore(E.storeName)},Xe.onsuccess=function(){var mr=Xe.result;mr.close(),Ve(mr)}});return Le.then(function(Ve){te.db=Ve;for(var Je=0;Je<ae.length;Je++){var Xe=ae[Je];Xe._dbInfo.db=Ve,N(Xe._dbInfo)}}).catch(function(Ve){throw(T(E,Ve)||c.resolve()).catch(function(){}),Ve})}}):P=H.then(function(J){F(E);var re=D[E.name],te=re.forages;J.close();for(var ae=0;ae<te.length;ae++){var se=te[ae];se._dbInfo.db=null}var Ae=new c(function(Le,Ve){var Je=d.deleteDatabase(E.name);Je.onerror=function(){var Xe=Je.result;Xe&&Xe.close(),Ve(Je.error)},Je.onblocked=function(){console.warn('dropInstance blocked for database "'+E.name+'" until all open connections are closed')},Je.onsuccess=function(){var Xe=Je.result;Xe&&Xe.close(),Le(Xe)}});return Ae.then(function(Le){re.db=Le;for(var Ve=0;Ve<te.length;Ve++){var Je=te[Ve];N(Je._dbInfo)}}).catch(function(Le){throw(T(E,Le)||c.resolve()).catch(function(){}),Le})})}return h(P,B),P}var Me={_driver:"asyncStorage",_initStorage:fe,_support:u(),iterate:we,getItem:Pe,setItem:xe,removeItem:Fe,clear:Ee,length:de,key:He,keys:qe,dropInstance:ge};function ke(){return typeof openDatabase=="function"}var We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",er="~~local_forage_type~",Se=/^~~local_forage_type~([^~]+)~/,Qe="__lfsc__:",nr=Qe.length,qr="arbf",Br="blob",Ur="si08",at="ui08",ot="uic8",it="si16",Vr="si32",Rt="ur16",M="ui32",R="fl32",V="fl64",G=nr+qr.length,X=Object.prototype.toString;function W(E){var B=E.length*.75,S=E.length,I,P=0,z,H,J,re;E[E.length-1]==="="&&(B--,E[E.length-2]==="="&&B--);var te=new ArrayBuffer(B),ae=new Uint8Array(te);for(I=0;I<S;I+=4)z=We.indexOf(E[I]),H=We.indexOf(E[I+1]),J=We.indexOf(E[I+2]),re=We.indexOf(E[I+3]),ae[P++]=z<<2|H>>4,ae[P++]=(H&15)<<4|J>>2,ae[P++]=(J&3)<<6|re&63;return te}function ne(E){var B=new Uint8Array(E),S="",I;for(I=0;I<B.length;I+=3)S+=We[B[I]>>2],S+=We[(B[I]&3)<<4|B[I+1]>>4],S+=We[(B[I+1]&15)<<2|B[I+2]>>6],S+=We[B[I+2]&63];return B.length%3===2?S=S.substring(0,S.length-1)+"=":B.length%3===1&&(S=S.substring(0,S.length-2)+"=="),S}function j(E,B){var S="";if(E&&(S=X.call(E)),E&&(S==="[object ArrayBuffer]"||E.buffer&&X.call(E.buffer)==="[object ArrayBuffer]")){var I,P=Qe;E instanceof ArrayBuffer?(I=E,P+=qr):(I=E.buffer,S==="[object Int8Array]"?P+=Ur:S==="[object Uint8Array]"?P+=at:S==="[object Uint8ClampedArray]"?P+=ot:S==="[object Int16Array]"?P+=it:S==="[object Uint16Array]"?P+=Rt:S==="[object Int32Array]"?P+=Vr:S==="[object Uint32Array]"?P+=M:S==="[object Float32Array]"?P+=R:S==="[object Float64Array]"?P+=V:B(new Error("Failed to get type for BinaryArray"))),B(P+ne(I))}else if(S==="[object Blob]"){var z=new FileReader;z.onload=function(){var H=er+E.type+"~"+ne(this.result);B(Qe+Br+H)},z.readAsArrayBuffer(E)}else try{B(JSON.stringify(E))}catch(H){console.error("Couldn't convert value into a JSON string: ",E),B(null,H)}}function ue(E){if(E.substring(0,nr)!==Qe)return JSON.parse(E);var B=E.substring(G),S=E.substring(nr,G),I;if(S===Br&&Se.test(B)){var P=B.match(Se);I=P[1],B=B.substring(P[0].length)}var z=W(B);switch(S){case qr:return z;case Br:return p([z],{type:I});case Ur:return new Int8Array(z);case at:return new Uint8Array(z);case ot:return new Uint8ClampedArray(z);case it:return new Int16Array(z);case Rt:return new Uint16Array(z);case Vr:return new Int32Array(z);case M:return new Uint32Array(z);case R:return new Float32Array(z);case V:return new Float64Array(z);default:throw new Error("Unkown type: "+S)}}var Q={serialize:j,deserialize:ue,stringToBuffer:W,bufferToString:ne};function he(E,B,S,I){E.executeSql("CREATE TABLE IF NOT EXISTS "+B.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],S,I)}function Te(E){var B=this,S={db:null};if(E)for(var I in E)S[I]=typeof E[I]!="string"?E[I].toString():E[I];var P=new c(function(z,H){try{S.db=openDatabase(S.name,String(S.version),S.description,S.size)}catch(J){return H(J)}S.db.transaction(function(J){he(J,S,function(){B._dbInfo=S,z()},function(re,te){H(te)})},H)});return S.serializer=Q,P}function Ue(E,B,S,I,P,z){E.executeSql(S,I,P,function(H,J){J.code===J.SYNTAX_ERR?H.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[B.storeName],function(re,te){te.rows.length?z(re,J):he(re,B,function(){re.executeSql(S,I,P,z)},z)},z):z(H,J)},z)}function ar(E,B){var S=this;E=f(E);var I=new c(function(P,z){S.ready().then(function(){var H=S._dbInfo;H.db.transaction(function(J){Ue(J,H,"SELECT * FROM "+H.storeName+" WHERE key = ? LIMIT 1",[E],function(re,te){var ae=te.rows.length?te.rows.item(0).value:null;ae&&(ae=H.serializer.deserialize(ae)),P(ae)},function(re,te){z(te)})})}).catch(z)});return h(I,B),I}function je(E,B){var S=this,I=new c(function(P,z){S.ready().then(function(){var H=S._dbInfo;H.db.transaction(function(J){Ue(J,H,"SELECT * FROM "+H.storeName,[],function(re,te){for(var ae=te.rows,se=ae.length,Ae=0;Ae<se;Ae++){var Le=ae.item(Ae),Ve=Le.value;if(Ve&&(Ve=H.serializer.deserialize(Ve)),Ve=E(Ve,Le.key,Ae+1),Ve!==void 0){P(Ve);return}}P()},function(re,te){z(te)})})}).catch(z)});return h(I,B),I}function sr(E,B,S,I){var P=this;E=f(E);var z=new c(function(H,J){P.ready().then(function(){B===void 0&&(B=null);var re=B,te=P._dbInfo;te.serializer.serialize(B,function(ae,se){se?J(se):te.db.transaction(function(Ae){Ue(Ae,te,"INSERT OR REPLACE INTO "+te.storeName+" (key, value) VALUES (?, ?)",[E,ae],function(){H(re)},function(Le,Ve){J(Ve)})},function(Ae){if(Ae.code===Ae.QUOTA_ERR){if(I>0){H(sr.apply(P,[E,re,S,I-1]));return}J(Ae)}})})}).catch(J)});return h(z,S),z}function cr(E,B,S){return sr.apply(this,[E,B,S,1])}function Zr(E,B){var S=this;E=f(E);var I=new c(function(P,z){S.ready().then(function(){var H=S._dbInfo;H.db.transaction(function(J){Ue(J,H,"DELETE FROM "+H.storeName+" WHERE key = ?",[E],function(){P()},function(re,te){z(te)})})}).catch(z)});return h(I,B),I}function Pt(E){var B=this,S=new c(function(I,P){B.ready().then(function(){var z=B._dbInfo;z.db.transaction(function(H){Ue(H,z,"DELETE FROM "+z.storeName,[],function(){I()},function(J,re){P(re)})})}).catch(P)});return h(S,E),S}function Yr(E){var B=this,S=new c(function(I,P){B.ready().then(function(){var z=B._dbInfo;z.db.transaction(function(H){Ue(H,z,"SELECT COUNT(key) as c FROM "+z.storeName,[],function(J,re){var te=re.rows.item(0).c;I(te)},function(J,re){P(re)})})}).catch(P)});return h(S,E),S}function ht(E,B){var S=this,I=new c(function(P,z){S.ready().then(function(){var H=S._dbInfo;H.db.transaction(function(J){Ue(J,H,"SELECT key FROM "+H.storeName+" WHERE id = ? LIMIT 1",[E+1],function(re,te){var ae=te.rows.length?te.rows.item(0).key:null;P(ae)},function(re,te){z(te)})})}).catch(z)});return h(I,B),I}function Xn(E){var B=this,S=new c(function(I,P){B.ready().then(function(){var z=B._dbInfo;z.db.transaction(function(H){Ue(H,z,"SELECT key FROM "+z.storeName,[],function(J,re){for(var te=[],ae=0;ae<re.rows.length;ae++)te.push(re.rows.item(ae).key);I(te)},function(J,re){P(re)})})}).catch(P)});return h(S,E),S}function Jn(E){return new c(function(B,S){E.transaction(function(I){I.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(P,z){for(var H=[],J=0;J<z.rows.length;J++)H.push(z.rows.item(J).name);B({db:E,storeNames:H})},function(P,z){S(z)})},function(I){S(I)})})}function $n(E,B){B=m.apply(this,arguments);var S=this.config();E=typeof E!="function"&&E||{},E.name||(E.name=E.name||S.name,E.storeName=E.storeName||S.storeName);var I=this,P;return E.name?P=new c(function(z){var H;E.name===S.name?H=I._dbInfo.db:H=openDatabase(E.name,"","",0),E.storeName?z({db:H,storeNames:[E.storeName]}):z(Jn(H))}).then(function(z){return new c(function(H,J){z.db.transaction(function(re){function te(Le){return new c(function(Ve,Je){re.executeSql("DROP TABLE IF EXISTS "+Le,[],function(){Ve()},function(Xe,mr){Je(mr)})})}for(var ae=[],se=0,Ae=z.storeNames.length;se<Ae;se++)ae.push(te(z.storeNames[se]));c.all(ae).then(function(){H()}).catch(function(Le){J(Le)})},function(re){J(re)})})}):P=c.reject("Invalid arguments"),h(P,B),P}var jn={_driver:"webSQLStorage",_initStorage:Te,_support:ke(),iterate:je,getItem:ar,setItem:cr,removeItem:Zr,clear:Pt,length:Yr,key:ht,keys:Xn,dropInstance:$n};function ea(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qt(E,B){var S=E.name+"/";return E.storeName!==B.storeName&&(S+=E.storeName+"/"),S}function ra(){var E="_localforage_support_test";try{return localStorage.setItem(E,!0),localStorage.removeItem(E),!1}catch{return!0}}function ta(){return!ra()||localStorage.length>0}function na(E){var B=this,S={};if(E)for(var I in E)S[I]=E[I];return S.keyPrefix=Qt(E,B._defaultConfig),ta()?(B._dbInfo=S,S.serializer=Q,c.resolve()):c.reject()}function aa(E){var B=this,S=B.ready().then(function(){for(var I=B._dbInfo.keyPrefix,P=localStorage.length-1;P>=0;P--){var z=localStorage.key(P);z.indexOf(I)===0&&localStorage.removeItem(z)}});return h(S,E),S}function oa(E,B){var S=this;E=f(E);var I=S.ready().then(function(){var P=S._dbInfo,z=localStorage.getItem(P.keyPrefix+E);return z&&(z=P.serializer.deserialize(z)),z});return h(I,B),I}function ia(E,B){var S=this,I=S.ready().then(function(){for(var P=S._dbInfo,z=P.keyPrefix,H=z.length,J=localStorage.length,re=1,te=0;te<J;te++){var ae=localStorage.key(te);if(ae.indexOf(z)===0){var se=localStorage.getItem(ae);if(se&&(se=P.serializer.deserialize(se)),se=E(se,ae.substring(H),re++),se!==void 0)return se}}});return h(I,B),I}function ua(E,B){var S=this,I=S.ready().then(function(){var P=S._dbInfo,z;try{z=localStorage.key(E)}catch{z=null}return z&&(z=z.substring(P.keyPrefix.length)),z});return h(I,B),I}function sa(E){var B=this,S=B.ready().then(function(){for(var I=B._dbInfo,P=localStorage.length,z=[],H=0;H<P;H++){var J=localStorage.key(H);J.indexOf(I.keyPrefix)===0&&z.push(J.substring(I.keyPrefix.length))}return z});return h(S,E),S}function fa(E){var B=this,S=B.keys().then(function(I){return I.length});return h(S,E),S}function ca(E,B){var S=this;E=f(E);var I=S.ready().then(function(){var P=S._dbInfo;localStorage.removeItem(P.keyPrefix+E)});return h(I,B),I}function la(E,B,S){var I=this;E=f(E);var P=I.ready().then(function(){B===void 0&&(B=null);var z=B;return new c(function(H,J){var re=I._dbInfo;re.serializer.serialize(B,function(te,ae){if(ae)J(ae);else try{localStorage.setItem(re.keyPrefix+E,te),H(z)}catch(se){(se.name==="QuotaExceededError"||se.name==="NS_ERROR_DOM_QUOTA_REACHED")&&J(se),J(se)}})})});return h(P,S),P}function pa(E,B){if(B=m.apply(this,arguments),E=typeof E!="function"&&E||{},!E.name){var S=this.config();E.name=E.name||S.name,E.storeName=E.storeName||S.storeName}var I=this,P;return E.name?P=new c(function(z){E.storeName?z(Qt(E,I._defaultConfig)):z(E.name+"/")}).then(function(z){for(var H=localStorage.length-1;H>=0;H--){var J=localStorage.key(H);J.indexOf(z)===0&&localStorage.removeItem(J)}}):P=c.reject("Invalid arguments"),h(P,B),P}var da={_driver:"localStorageWrapper",_initStorage:na,_support:ea(),iterate:ia,getItem:oa,setItem:la,removeItem:ca,clear:aa,length:fa,key:ua,keys:sa,dropInstance:pa},ha=function(B,S){return B===S||typeof B=="number"&&typeof S=="number"&&isNaN(B)&&isNaN(S)},ma=function(B,S){for(var I=B.length,P=0;P<I;){if(ha(B[P],S))return!0;P++}return!1},Xt=Array.isArray||function(E){return Object.prototype.toString.call(E)==="[object Array]"},ut={},Jt={},kr={INDEXEDDB:Me,WEBSQL:jn,LOCALSTORAGE:da},va=[kr.INDEXEDDB._driver,kr.WEBSQL._driver,kr.LOCALSTORAGE._driver],wr=["dropInstance"],ze=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(wr),or={description:"",driver:va.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function xa(E,B){E[B]=function(){var S=arguments;return E.ready().then(function(){return E[B].apply(E,S)})}}function Gr(){for(var E=1;E<arguments.length;E++){var B=arguments[E];if(B)for(var S in B)B.hasOwnProperty(S)&&(Xt(B[S])?arguments[0][S]=B[S].slice():arguments[0][S]=B[S])}return arguments[0]}var st=function(){function E(B){s(this,E);for(var S in kr)if(kr.hasOwnProperty(S)){var I=kr[S],P=I._driver;this[S]=P,ut[P]||this.defineDriver(I)}this._defaultConfig=Gr({},or),this._config=Gr({},this._defaultConfig,B),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return E.prototype.config=function(S){if((typeof S>"u"?"undefined":i(S))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var I in S){if(I==="storeName"&&(S[I]=S[I].replace(/\W/g,"_")),I==="version"&&typeof S[I]!="number")return new Error("Database version must be a number.");this._config[I]=S[I]}return"driver"in S&&S.driver?this.setDriver(this._config.driver):!0}else return typeof S=="string"?this._config[S]:this._config},E.prototype.defineDriver=function(S,I,P){var z=new c(function(H,J){try{var re=S._driver,te=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!S._driver){J(te);return}for(var ae=ze.concat("_initStorage"),se=0,Ae=ae.length;se<Ae;se++){var Le=ae[se],Ve=!ma(wr,Le);if((Ve||S[Le])&&typeof S[Le]!="function"){J(te);return}}var Je=function(){for(var Ot=function(lf){return function(){var pf=new Error("Method "+lf+" is not implemented by the current driver"),di=c.reject(pf);return h(di,arguments[arguments.length-1]),di}},Da=0,cf=wr.length;Da<cf;Da++){var ya=wr[Da];S[ya]||(S[ya]=Ot(ya))}};Je();var Xe=function(Ot){ut[re]&&console.info("Redefining LocalForage driver: "+re),ut[re]=S,Jt[re]=Ot,H()};"_support"in S?S._support&&typeof S._support=="function"?S._support().then(Xe,J):Xe(!!S._support):Xe(!0)}catch(mr){J(mr)}});return g(z,I,P),z},E.prototype.driver=function(){return this._driver||null},E.prototype.getDriver=function(S,I,P){var z=ut[S]?c.resolve(ut[S]):c.reject(new Error("Driver not found."));return g(z,I,P),z},E.prototype.getSerializer=function(S){var I=c.resolve(Q);return g(I,S),I},E.prototype.ready=function(S){var I=this,P=I._driverSet.then(function(){return I._ready===null&&(I._ready=I._initDriver()),I._ready});return g(P,S,S),P},E.prototype.setDriver=function(S,I,P){var z=this;Xt(S)||(S=[S]);var H=this._getSupportedDrivers(S);function J(){z._config.driver=z.driver()}function re(se){return z._extend(se),J(),z._ready=z._initStorage(z._config),z._ready}function te(se){return function(){var Ae=0;function Le(){for(;Ae<se.length;){var Ve=se[Ae];return Ae++,z._dbInfo=null,z._ready=null,z.getDriver(Ve).then(re).catch(Le)}J();var Je=new Error("No available storage method found.");return z._driverSet=c.reject(Je),z._driverSet}return Le()}}var ae=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=ae.then(function(){var se=H[0];return z._dbInfo=null,z._ready=null,z.getDriver(se).then(function(Ae){z._driver=Ae._driver,J(),z._wrapLibraryMethodsWithReady(),z._initDriver=te(H)})}).catch(function(){J();var se=new Error("No available storage method found.");return z._driverSet=c.reject(se),z._driverSet}),g(this._driverSet,I,P),this._driverSet},E.prototype.supports=function(S){return!!Jt[S]},E.prototype._extend=function(S){Gr(this,S)},E.prototype._getSupportedDrivers=function(S){for(var I=[],P=0,z=S.length;P<z;P++){var H=S[P];this.supports(H)&&I.push(H)}return I},E.prototype._wrapLibraryMethodsWithReady=function(){for(var S=0,I=ze.length;S<I;S++)xa(this,ze[S])},E.prototype.createInstance=function(S){return new E(S)},E}(),ga=new st;n.exports=ga},{3:3}]},{},[4])(4)})});var uf=$t((a_,of)=>{"use strict";var li=Math.abs,td=Math.min;function Qn(e,r,t,a){var n=li(e-r);return t==null&&(t=Qn.DBL_EPSILON),a==null&&(a=t),n<=t||n<=a*td(li(e),li(r))?!0:e===r}Qn.FLT_EPSILON=11920929e-14;Qn.DBL_EPSILON=2220446049250313e-31;of.exports=Qn});var ft=class{response={geometryUuid:"",solverUuid:""};setResultType(r){return this.response.resultType=r,this}setFinished(){return this.response.resultType="Finished",this}setError(r){return this.response.resultType="Error",this.response.errorMessage=r,this}setProgressType(){return this.response.resultType="Progress",this}setUuidsFromCommand(r){return this.response.geometryUuid=r.geometryUuid,this.response.solverUuid=r.solverUuid,this}setProgress(r){return this.response.progress=r,this}setLoadCases(r){return this.response.loadCases=r,this}build(){return{...this.response}}};function mt(){return mt=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},mt.apply(null,arguments)}var ba={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Be(e){return typeof e=="number"}function Ie(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function wa(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function _a(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function en(e){return e&&e.constructor.prototype.isUnit===!0||!1}function fr(e){return typeof e=="string"}var Oe=Array.isArray;function Ne(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function ct(e){return Array.isArray(e)||Ne(e)}function rn(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function tn(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function mi(e){return e&&e.constructor.prototype.isRange===!0||!1}function vt(e){return e&&e.constructor.prototype.isIndex===!0||!1}function vi(e){return typeof e=="boolean"}function xi(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function gi(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Di(e){return typeof e=="function"}function yi(e){return e instanceof Date}function bi(e){return e instanceof RegExp}function xt(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!wa(e)&&!_a(e))}function wi(e){return e===null}function _i(e){return e===void 0}function Ei(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ai(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ci(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Fi(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Si(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Mi(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ni(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Bi(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ti(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function zi(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ii(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ri(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pi(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Oi(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Li(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function qi(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ui(e){return e&&e.constructor.prototype.isChain===!0||!1}function _r(e){var r=typeof e;return r==="object"?e===null?"null":Ie(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function Ce(e){var r=typeof e;if(r==="number"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(t){return Ce(t)});if(e instanceof Date)return new Date(e.valueOf());if(Ie(e))return e;if(xt(e))return Df(e,Ce);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Df(e,r){var t={};for(var a in e)gt(e,a)&&(t[a]=r(e[a]));return t}function Vi(e,r){for(var t in r)gt(r,t)&&(e[t]=r[t]);return e}function Tr(e,r){var t,a,n;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(a=0,n=e.length;a<n;a++)if(!Tr(e[a],r[a]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(t in e)if(!(t in r)||!Tr(e[t],r[t]))return!1;for(t in r)if(!(t in e))return!1;return!0}else return e===r}}function gt(e,r){return e&&Object.hasOwnProperty.call(e,r)}function Zi(e,r){for(var t={},a=0;a<r.length;a++){var n=r[a],o=e[n];o!==void 0&&(t[n]=o)}return t}var Yi=["Matrix","Array"],ki=["number","BigNumber","Fraction"];var Er=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(ba)};mt(Er,ba,{MATRIX_OPTIONS:Yi,NUMBER_OPTIONS:ki});var Ba=jt(Gi(),1);function _e(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}var Ki=Math.sign||function(e){return e>0?1:e<0?-1:0},Qi=Math.log2||function(r){return Math.log(r)/Math.LN2},Xi=Math.log10||function(r){return Math.log(r)/Math.LN10},Ji=Math.log1p||function(e){return Math.log(e+1)},$i=Math.cbrt||function(r){if(r===0)return r;var t=r<0,a;return t&&(r=-r),isFinite(r)?(a=Math.exp(Math.log(r)/3),a=(r/(a*a)+2*a)/3):a=r,t?-a:a},ji=Math.expm1||function(r){return r>=2e-4||r<=-2e-4?Math.exp(r)-1:r+r*r/2+r*r*r/6};function Ca(e,r,t){var a={2:"0b",8:"0o",16:"0x"},n=a[r],o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!_e(t))throw new Error("size must be an integer");if(e>2**(t-1)-1||e<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!_e(e))throw new Error("Value must be an integer");e<0&&(e=e+2**t),o="i".concat(t)}var i="";return e<0&&(e=-e,i="-"),"".concat(i).concat(n).concat(e.toString(r)).concat(o)}function qt(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:t,precision:a,wordSize:n}=Fa(r);switch(t){case"fixed":return eu(e,a);case"exponential":return ru(e,a);case"engineering":return yf(e,a);case"bin":return Ca(e,2,n);case"oct":return Ca(e,8,n);case"hex":return Ca(e,16,n);case"auto":return bf(e,a,r).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],i=arguments[4];return o!=="."?o+i:i});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Fa(e){var r="auto",t,a;if(e!==void 0)if(Be(e))t=e;else if(Ie(e))t=e.toNumber();else if(xt(e))e.precision!==void 0&&(t=Hi(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(a=Hi(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(r=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:r,precision:t,wordSize:a}}function nn(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var t=r[1],a=r[2],n=parseFloat(r[4]||"0"),o=a.indexOf(".");n+=o!==-1?o-1:a.length-1;var i=a.replace(".","").replace(/^0*/,function(s){return n-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return i.length===0&&(i.push(0),n++),{sign:t,coefficients:i,exponent:n}}function yf(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=nn(e),a=an(t,r),n=a.exponent,o=a.coefficients,i=n%3===0?n:n<0?n-3-n%3:n-n%3;if(Be(r))for(;r>o.length||n-i+1>o.length;)o.push(0);else for(var s=Math.abs(n-i)-(o.length-1),l=0;l<s;l++)o.push(0);for(var d=Math.abs(n-i),u=1;d>0;)u++,d--;var p=o.slice(u).join(""),c=Be(r)&&p.length||p.match(/[1-9]/)?"."+p:"",h=o.slice(0,u).join("")+c+"e"+(n>=0?"+":"")+i.toString();return a.sign+h}function eu(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=nn(e),a=typeof r=="number"?an(t,t.exponent+1+r):t,n=a.coefficients,o=a.exponent+1,i=o+(r||0);return n.length<i&&(n=n.concat(Dt(i-n.length))),o<0&&(n=Dt(-o+1).concat(n),o=1),o<n.length&&n.splice(o,0,o===0?"0.":"."),a.sign+n.join("")}function ru(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=nn(e),a=r?an(t,r):t,n=a.coefficients,o=a.exponent;n.length<r&&(n=n.concat(Dt(r-n.length)));var i=n.shift();return a.sign+i+(n.length>0?"."+n.join(""):"")+"e"+(o>=0?"+":"")+o}function bf(e,r,t){if(isNaN(e)||!isFinite(e))return String(e);var a=Wi(t?.lowerExp,-3),n=Wi(t?.upperExp,5),o=nn(e),i=r?an(o,r):o;if(i.exponent<a||i.exponent>=n)return ru(e,r);var s=i.coefficients,l=i.exponent;s.length<r&&(s=s.concat(Dt(r-s.length))),s=s.concat(Dt(l-s.length+1+(s.length<r?r-s.length:0))),s=Dt(-l).concat(s);var d=l>0?l:0;return d<s.length-1&&s.splice(d+1,0,"."),i.sign+s.join("")}function an(e,r){for(var t={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},a=t.coefficients;r<=0;)a.unshift(0),t.exponent++,r++;if(a.length>r){var n=a.splice(r,a.length-r);if(n[0]>=5){var o=r-1;for(a[o]++;a[o]===10;)a.pop(),o===0&&(a.unshift(0),t.exponent++,o++),o--,a[o]++}}return t}function Dt(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}function tu(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var wf=Number.EPSILON||2220446049250313e-31;function vr(e,r,t){if(t==null)return e===r;if(e===r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var a=Math.abs(e-r);return a<=wf?!0:a<=Math.max(Math.abs(e),Math.abs(r))*t}return!1}function Hi(e,r){if(Be(e))return e;if(Ie(e))return e.toNumber();r()}function Wi(e,r){return Be(e)?e:Ie(e)?e.toNumber():r}function U(e,r,t,a){function n(o){var i=Zi(o,r.map(Af));return _f(e,r,o),t(i)}return n.isFactory=!0,n.fn=e,n.dependencies=r.slice().sort(),a&&(n.meta=a),n}function _f(e,r,t){var a=r.filter(o=>!Ef(o)).every(o=>t[o]!==void 0);if(!a){var n=r.filter(o=>t[o]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function Ef(e){return e&&e[0]==="?"}function Af(e){return e&&e[0]==="?"?e.slice(1):e}function nu(e,r){if(uu(e)&&iu(e,r))return e[r];throw typeof e[r]=="function"&&Cf(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function au(e,r,t){if(uu(e)&&iu(e,r))return e[r]=t,t;throw new Error('No access to property "'+r+'"')}function ou(e,r){return r in e}function iu(e,r){return!e||typeof e!="object"?!1:gt(Ff,r)?!0:!(r in Object.prototype||r in Function.prototype)}function Cf(e,r){return e==null||typeof e[r]!="function"||gt(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:gt(Sf,r)?!0:!(r in Object.prototype||r in Function.prototype)}function uu(e){return typeof e=="object"&&e&&e.constructor===Object}var Ff={length:!0,name:!0},Sf={toString:!0,valueOf:!0,toLocaleString:!0};var Sa=class{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(r){return nu(this.wrappedObject,r)}set(r,t){return au(this.wrappedObject,r,t),this}has(r){return ou(this.wrappedObject,r)}entries(){return Mf(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var t of this.keys())r(this.get(t),t,this)}delete(r){delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}};function Mf(e,r){return{next:()=>{var t=e.next();return t.done?t:{value:r(t.value),done:!1}}}}function su(e){return e?e instanceof Map||e instanceof Sa||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var fu=function(){return fu=Ba.default.create,Ba.default},Nf=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ta=U("typed",Nf,function(r){var{BigNumber:t,Complex:a,DenseMatrix:n,Fraction:o}=r,i=fu();return i.clear(),i.addTypes([{name:"number",test:Be},{name:"Complex",test:wa},{name:"BigNumber",test:Ie},{name:"Fraction",test:_a},{name:"Unit",test:en},{name:"identifier",test:s=>fr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:fr},{name:"Chain",test:Ui},{name:"Array",test:Oe},{name:"Matrix",test:Ne},{name:"DenseMatrix",test:rn},{name:"SparseMatrix",test:tn},{name:"Range",test:mi},{name:"Index",test:vt},{name:"boolean",test:vi},{name:"ResultSet",test:xi},{name:"Help",test:gi},{name:"function",test:Di},{name:"Date",test:yi},{name:"RegExp",test:bi},{name:"null",test:wi},{name:"undefined",test:_i},{name:"AccessorNode",test:Ei},{name:"ArrayNode",test:Ai},{name:"AssignmentNode",test:Ci},{name:"BlockNode",test:Fi},{name:"ConditionalNode",test:Si},{name:"ConstantNode",test:Mi},{name:"FunctionNode",test:Bi},{name:"FunctionAssignmentNode",test:Ni},{name:"IndexNode",test:Ti},{name:"Node",test:zi},{name:"ObjectNode",test:Ii},{name:"OperatorNode",test:Ri},{name:"ParenthesisNode",test:Pi},{name:"RangeNode",test:Oi},{name:"RelationalNode",test:Li},{name:"SymbolNode",test:qi},{name:"Map",test:su},{name:"Object",test:xt}]),i.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||Ma(l),tu(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return a||on(l),new a(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return a||on(l),new a(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return a||on(l),new a(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){o||Na(l);var d=new o(l);if(d.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return d}},{from:"string",to:"number",convert:function(l){var d=Number(l);if(isNaN(d))throw new Error('Cannot convert "'+l+'" to a number');return d}},{from:"string",to:"BigNumber",convert:function(l){t||Ma(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){o||Na(l);try{return new o(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){a||on(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||Ma(l),new t(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return o||Na(l),new o(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return n||Bf(),new n(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),i.onMismatch=(s,l,d)=>{var u=i.createError(s,l,d);if(["wrongType","mismatch"].includes(u.data.category)&&l.length===1&&ct(l[0])&&d.some(c=>!c.params.includes(","))){var p=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw p.data=u.data,p}throw u},i.onMismatch=(s,l,d)=>{var u=i.createError(s,l,d);if(["wrongType","mismatch"].includes(u.data.category)&&l.length===1&&ct(l[0])&&d.some(c=>!c.params.includes(","))){var p=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw p.data=u.data,p}throw u},i});function Ma(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function on(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Bf(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Na(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var yt=9e15,Qr=1e9,za="0123456789abcdef",fn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",cn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ia={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-yt,maxE:yt,crypto:!1},du,zr,ve=!0,pn="[DecimalError] ",Kr=pn+"Invalid argument: ",hu=pn+"Precision limit exceeded",mu=pn+"crypto unavailable",vu="[object Decimal]",ir=Math.floor,$e=Math.pow,Tf=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,zf=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,If=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,xu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yr=1e7,me=7,Rf=9007199254740991,Pf=fn.length-1,Ra=cn.length-1,K={toStringTag:vu};K.absoluteValue=K.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ce(e)};K.ceil=function(){return ce(new this.constructor(this),this.e+1,2)};K.clampedTo=K.clamp=function(e,r){var t,a=this,n=a.constructor;if(e=new n(e),r=new n(r),!e.s||!r.s)return new n(NaN);if(e.gt(r))throw Error(Kr+r);return t=a.cmp(e),t<0?e:a.cmp(r)>0?r:new n(a)};K.comparedTo=K.cmp=function(e){var r,t,a,n,o=this,i=o.d,s=(e=new o.constructor(e)).d,l=o.s,d=e.s;if(!i||!s)return!l||!d?NaN:l!==d?l:i===s?0:!i^l<0?1:-1;if(!i[0]||!s[0])return i[0]?l:s[0]?-d:0;if(l!==d)return l;if(o.e!==e.e)return o.e>e.e^l<0?1:-1;for(a=i.length,n=s.length,r=0,t=a<n?a:n;r<t;++r)if(i[r]!==s[r])return i[r]>s[r]^l<0?1:-1;return a===n?0:a>n^l<0?1:-1};K.cosine=K.cos=function(){var e,r,t=this,a=t.constructor;return t.d?t.d[0]?(e=a.precision,r=a.rounding,a.precision=e+Math.max(t.e,t.sd())+me,a.rounding=1,t=Of(a,wu(a,t)),a.precision=e,a.rounding=r,ce(zr==2||zr==3?t.neg():t,e,r,!0)):new a(1):new a(NaN)};K.cubeRoot=K.cbrt=function(){var e,r,t,a,n,o,i,s,l,d,u=this,p=u.constructor;if(!u.isFinite()||u.isZero())return new p(u);for(ve=!1,o=u.s*$e(u.s*u,1/3),!o||Math.abs(o)==1/0?(t=rr(u.d),e=u.e,(o=(e-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=$e(t,1/3),e=ir((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new p(t),a.s=u.s):a=new p(o.toString()),i=(e=p.precision)+3;;)if(s=a,l=s.times(s).times(s),d=l.plus(u),a=Ze(d.plus(u).times(s),d.plus(l),i+2,1),rr(s.d).slice(0,i)===(t=rr(a.d)).slice(0,i))if(t=t.slice(i-3,i+1),t=="9999"||!n&&t=="4999"){if(!n&&(ce(s,e+1,0),s.times(s).times(s).eq(u))){a=s;break}i+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ce(a,e+1,1),r=!a.times(a).times(a).eq(u));break}return ve=!0,ce(a,e,p.rounding,r)};K.decimalPlaces=K.dp=function(){var e,r=this.d,t=NaN;if(r){if(e=r.length-1,t=(e-ir(this.e/me))*me,e=r[e],e)for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t};K.dividedBy=K.div=function(e){return Ze(this,new this.constructor(e))};K.dividedToIntegerBy=K.divToInt=function(e){var r=this,t=r.constructor;return ce(Ze(r,new t(e),0,1,1),t.precision,t.rounding)};K.equals=K.eq=function(e){return this.cmp(e)===0};K.floor=function(){return ce(new this.constructor(this),this.e+1,3)};K.greaterThan=K.gt=function(e){return this.cmp(e)>0};K.greaterThanOrEqualTo=K.gte=function(e){var r=this.cmp(e);return r==1||r===0};K.hyperbolicCosine=K.cosh=function(){var e,r,t,a,n,o=this,i=o.constructor,s=new i(1);if(!o.isFinite())return new i(o.s?1/0:NaN);if(o.isZero())return s;t=i.precision,a=i.rounding,i.precision=t+Math.max(o.e,o.sd())+4,i.rounding=1,n=o.d.length,n<32?(e=Math.ceil(n/3),r=(1/hn(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),o=bt(i,1,o.times(r),new i(1),!0);for(var l,d=e,u=new i(8);d--;)l=o.times(o),o=s.minus(l.times(u.minus(l.times(u))));return ce(o,i.precision=t,i.rounding=a,!0)};K.hyperbolicSine=K.sinh=function(){var e,r,t,a,n=this,o=n.constructor;if(!n.isFinite()||n.isZero())return new o(n);if(r=o.precision,t=o.rounding,o.precision=r+Math.max(n.e,n.sd())+4,o.rounding=1,a=n.d.length,a<3)n=bt(o,2,n,n,!0);else{e=1.4*Math.sqrt(a),e=e>16?16:e|0,n=n.times(1/hn(5,e)),n=bt(o,2,n,n,!0);for(var i,s=new o(5),l=new o(16),d=new o(20);e--;)i=n.times(n),n=n.times(s.plus(i.times(l.times(i).plus(d))))}return o.precision=r,o.rounding=t,ce(n,r,t,!0)};K.hyperbolicTangent=K.tanh=function(){var e,r,t=this,a=t.constructor;return t.isFinite()?t.isZero()?new a(t):(e=a.precision,r=a.rounding,a.precision=e+7,a.rounding=1,Ze(t.sinh(),t.cosh(),a.precision=e,a.rounding=r)):new a(t.s)};K.inverseCosine=K.acos=function(){var e=this,r=e.constructor,t=e.abs().cmp(1),a=r.precision,n=r.rounding;return t!==-1?t===0?e.isNeg()?Ar(r,a,n):new r(0):new r(NaN):e.isZero()?Ar(r,a+4,n).times(.5):(r.precision=a+6,r.rounding=1,e=new r(1).minus(e).div(e.plus(1)).sqrt().atan(),r.precision=a,r.rounding=n,e.times(2))};K.inverseHyperbolicCosine=K.acosh=function(){var e,r,t=this,a=t.constructor;return t.lte(1)?new a(t.eq(1)?0:NaN):t.isFinite()?(e=a.precision,r=a.rounding,a.precision=e+Math.max(Math.abs(t.e),t.sd())+4,a.rounding=1,ve=!1,t=t.times(t).minus(1).sqrt().plus(t),ve=!0,a.precision=e,a.rounding=r,t.ln()):new a(t)};K.inverseHyperbolicSine=K.asinh=function(){var e,r,t=this,a=t.constructor;return!t.isFinite()||t.isZero()?new a(t):(e=a.precision,r=a.rounding,a.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,a.rounding=1,ve=!1,t=t.times(t).plus(1).sqrt().plus(t),ve=!0,a.precision=e,a.rounding=r,t.ln())};K.inverseHyperbolicTangent=K.atanh=function(){var e,r,t,a,n=this,o=n.constructor;return n.isFinite()?n.e>=0?new o(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=o.precision,r=o.rounding,a=n.sd(),Math.max(a,e)<2*-n.e-1?ce(new o(n),e,r,!0):(o.precision=t=a-n.e,n=Ze(n.plus(1),new o(1).minus(n),t+e,1),o.precision=e+4,o.rounding=1,n=n.ln(),o.precision=e,o.rounding=r,n.times(.5))):new o(NaN)};K.inverseSine=K.asin=function(){var e,r,t,a,n=this,o=n.constructor;return n.isZero()?new o(n):(r=n.abs().cmp(1),t=o.precision,a=o.rounding,r!==-1?r===0?(e=Ar(o,t+4,a).times(.5),e.s=n.s,e):new o(NaN):(o.precision=t+6,o.rounding=1,n=n.div(new o(1).minus(n.times(n)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=a,n.times(2)))};K.inverseTangent=K.atan=function(){var e,r,t,a,n,o,i,s,l,d=this,u=d.constructor,p=u.precision,c=u.rounding;if(d.isFinite()){if(d.isZero())return new u(d);if(d.abs().eq(1)&&p+4<=Ra)return i=Ar(u,p+4,c).times(.25),i.s=d.s,i}else{if(!d.s)return new u(NaN);if(p+4<=Ra)return i=Ar(u,p+4,c).times(.5),i.s=d.s,i}for(u.precision=s=p+10,u.rounding=1,t=Math.min(28,s/me+2|0),e=t;e;--e)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(ve=!1,r=Math.ceil(s/me),a=1,l=d.times(d),i=new u(d),n=d;e!==-1;)if(n=n.times(l),o=i.minus(n.div(a+=2)),n=n.times(l),i=o.plus(n.div(a+=2)),i.d[r]!==void 0)for(e=r;i.d[e]===o.d[e]&&e--;);return t&&(i=i.times(2<<t-1)),ve=!0,ce(i,u.precision=p,u.rounding=c,!0)};K.isFinite=function(){return!!this.d};K.isInteger=K.isInt=function(){return!!this.d&&ir(this.e/me)>this.d.length-2};K.isNaN=function(){return!this.s};K.isNegative=K.isNeg=function(){return this.s<0};K.isPositive=K.isPos=function(){return this.s>0};K.isZero=function(){return!!this.d&&this.d[0]===0};K.lessThan=K.lt=function(e){return this.cmp(e)<0};K.lessThanOrEqualTo=K.lte=function(e){return this.cmp(e)<1};K.logarithm=K.log=function(e){var r,t,a,n,o,i,s,l,d=this,u=d.constructor,p=u.precision,c=u.rounding,h=5;if(e==null)e=new u(10),r=!0;else{if(e=new u(e),t=e.d,e.s<0||!t||!t[0]||e.eq(1))return new u(NaN);r=e.eq(10)}if(t=d.d,d.s<0||!t||!t[0]||d.eq(1))return new u(t&&!t[0]?-1/0:d.s!=1?NaN:t?0:1/0);if(r)if(t.length>1)o=!0;else{for(n=t[0];n%10===0;)n/=10;o=n!==1}if(ve=!1,s=p+h,i=Wr(d,s),a=r?ln(u,s+10):Wr(e,s),l=Ze(i,a,s,1),Ut(l.d,n=p,c))do if(s+=10,i=Wr(d,s),a=r?ln(u,s+10):Wr(e,s),l=Ze(i,a,s,1),!o){+rr(l.d).slice(n+1,n+15)+1==1e14&&(l=ce(l,p+1,0));break}while(Ut(l.d,n+=10,c));return ve=!0,ce(l,p,c)};K.minus=K.sub=function(e){var r,t,a,n,o,i,s,l,d,u,p,c,h=this,g=h.constructor;if(e=new g(e),!h.d||!e.d)return!h.s||!e.s?e=new g(NaN):h.d?e.s=-e.s:e=new g(e.d||h.s!==e.s?h:NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(d=h.d,c=e.d,s=g.precision,l=g.rounding,!d[0]||!c[0]){if(c[0])e.s=-e.s;else if(d[0])e=new g(h);else return new g(l===3?-0:0);return ve?ce(e,s,l):e}if(t=ir(e.e/me),u=ir(h.e/me),d=d.slice(),o=u-t,o){for(p=o<0,p?(r=d,o=-o,i=c.length):(r=c,t=u,i=d.length),a=Math.max(Math.ceil(s/me),i)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=d.length,i=c.length,p=a<i,p&&(i=a),a=0;a<i;a++)if(d[a]!=c[a]){p=d[a]<c[a];break}o=0}for(p&&(r=d,d=c,c=r,e.s=-e.s),i=d.length,a=c.length-i;a>0;--a)d[i++]=0;for(a=c.length;a>o;){if(d[--a]<c[a]){for(n=a;n&&d[--n]===0;)d[n]=yr-1;--d[n],d[a]+=yr}d[a]-=c[a]}for(;d[--i]===0;)d.pop();for(;d[0]===0;d.shift())--t;return d[0]?(e.d=d,e.e=dn(d,t),ve?ce(e,s,l):e):new g(l===3?-0:0)};K.modulo=K.mod=function(e){var r,t=this,a=t.constructor;return e=new a(e),!t.d||!e.s||e.d&&!e.d[0]?new a(NaN):!e.d||t.d&&!t.d[0]?ce(new a(t),a.precision,a.rounding):(ve=!1,a.modulo==9?(r=Ze(t,e.abs(),0,3,1),r.s*=e.s):r=Ze(t,e,0,a.modulo,1),r=r.times(e),ve=!0,t.minus(r))};K.naturalExponential=K.exp=function(){return Pa(this)};K.naturalLogarithm=K.ln=function(){return Wr(this)};K.negated=K.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ce(e)};K.plus=K.add=function(e){var r,t,a,n,o,i,s,l,d,u,p=this,c=p.constructor;if(e=new c(e),!p.d||!e.d)return!p.s||!e.s?e=new c(NaN):p.d||(e=new c(e.d||p.s===e.s?p:NaN)),e;if(p.s!=e.s)return e.s=-e.s,p.minus(e);if(d=p.d,u=e.d,s=c.precision,l=c.rounding,!d[0]||!u[0])return u[0]||(e=new c(p)),ve?ce(e,s,l):e;if(o=ir(p.e/me),a=ir(e.e/me),d=d.slice(),n=o-a,n){for(n<0?(t=d,n=-n,i=u.length):(t=u,a=o,i=d.length),o=Math.ceil(s/me),i=o>i?o+1:i+1,n>i&&(n=i,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(i=d.length,n=u.length,i-n<0&&(n=i,t=u,u=d,d=t),r=0;n;)r=(d[--n]=d[n]+u[n]+r)/yr|0,d[n]%=yr;for(r&&(d.unshift(r),++a),i=d.length;d[--i]==0;)d.pop();return e.d=d,e.e=dn(d,a),ve?ce(e,s,l):e};K.precision=K.sd=function(e){var r,t=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kr+e);return t.d?(r=gu(t.d),e&&t.e+1>r&&(r=t.e+1)):r=NaN,r};K.round=function(){var e=this,r=e.constructor;return ce(new r(e),e.e+1,r.rounding)};K.sine=K.sin=function(){var e,r,t=this,a=t.constructor;return t.isFinite()?t.isZero()?new a(t):(e=a.precision,r=a.rounding,a.precision=e+Math.max(t.e,t.sd())+me,a.rounding=1,t=qf(a,wu(a,t)),a.precision=e,a.rounding=r,ce(zr>2?t.neg():t,e,r,!0)):new a(NaN)};K.squareRoot=K.sqrt=function(){var e,r,t,a,n,o,i=this,s=i.d,l=i.e,d=i.s,u=i.constructor;if(d!==1||!s||!s[0])return new u(!d||d<0&&(!s||s[0])?NaN:s?i:1/0);for(ve=!1,d=Math.sqrt(+i),d==0||d==1/0?(r=rr(s),(r.length+l)%2==0&&(r+="0"),d=Math.sqrt(r),l=ir((l+1)/2)-(l<0||l%2),d==1/0?r="5e"+l:(r=d.toExponential(),r=r.slice(0,r.indexOf("e")+1)+l),a=new u(r)):a=new u(d.toString()),t=(l=u.precision)+3;;)if(o=a,a=o.plus(Ze(i,o,t+2,1)).times(.5),rr(o.d).slice(0,t)===(r=rr(a.d)).slice(0,t))if(r=r.slice(t-3,t+1),r=="9999"||!n&&r=="4999"){if(!n&&(ce(o,l+1,0),o.times(o).eq(i))){a=o;break}t+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(ce(a,l+1,1),e=!a.times(a).eq(i));break}return ve=!0,ce(a,l,u.rounding,e)};K.tangent=K.tan=function(){var e,r,t=this,a=t.constructor;return t.isFinite()?t.isZero()?new a(t):(e=a.precision,r=a.rounding,a.precision=e+10,a.rounding=1,t=t.sin(),t.s=1,t=Ze(t,new a(1).minus(t.times(t)).sqrt(),e+10,0),a.precision=e,a.rounding=r,ce(zr==2||zr==4?t.neg():t,e,r,!0)):new a(NaN)};K.times=K.mul=function(e){var r,t,a,n,o,i,s,l,d,u=this,p=u.constructor,c=u.d,h=(e=new p(e)).d;if(e.s*=u.s,!c||!c[0]||!h||!h[0])return new p(!e.s||c&&!c[0]&&!h||h&&!h[0]&&!c?NaN:!c||!h?e.s/0:e.s*0);for(t=ir(u.e/me)+ir(e.e/me),l=c.length,d=h.length,l<d&&(o=c,c=h,h=o,i=l,l=d,d=i),o=[],i=l+d,a=i;a--;)o.push(0);for(a=d;--a>=0;){for(r=0,n=l+a;n>a;)s=o[n]+h[a]*c[n-a-1]+r,o[n--]=s%yr|0,r=s/yr|0;o[n]=(o[n]+r)%yr|0}for(;!o[--i];)o.pop();return r?++t:o.shift(),e.d=o,e.e=dn(o,t),ve?ce(e,p.precision,p.rounding):e};K.toBinary=function(e,r){return Oa(this,2,e,r)};K.toDecimalPlaces=K.toDP=function(e,r){var t=this,a=t.constructor;return t=new a(t),e===void 0?t:(lr(e,0,Qr),r===void 0?r=a.rounding:lr(r,0,8),ce(t,e+t.e+1,r))};K.toExponential=function(e,r){var t,a=this,n=a.constructor;return e===void 0?t=Cr(a,!0):(lr(e,0,Qr),r===void 0?r=n.rounding:lr(r,0,8),a=ce(new n(a),e+1,r),t=Cr(a,!0,e+1)),a.isNeg()&&!a.isZero()?"-"+t:t};K.toFixed=function(e,r){var t,a,n=this,o=n.constructor;return e===void 0?t=Cr(n):(lr(e,0,Qr),r===void 0?r=o.rounding:lr(r,0,8),a=ce(new o(n),e+n.e+1,r),t=Cr(a,!1,e+a.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};K.toFraction=function(e){var r,t,a,n,o,i,s,l,d,u,p,c,h=this,g=h.d,f=h.constructor;if(!g)return new f(h);if(d=t=new f(1),a=l=new f(0),r=new f(a),o=r.e=gu(g)-h.e-1,i=o%me,r.d[0]=$e(10,i<0?me+i:i),e==null)e=o>0?r:d;else{if(s=new f(e),!s.isInt()||s.lt(d))throw Error(Kr+s);e=s.gt(r)?o>0?r:d:s}for(ve=!1,s=new f(rr(g)),u=f.precision,f.precision=o=g.length*me*2;p=Ze(s,r,0,1,1),n=t.plus(p.times(a)),n.cmp(e)!=1;)t=a,a=n,n=d,d=l.plus(p.times(n)),l=n,n=r,r=s.minus(p.times(n)),s=n;return n=Ze(e.minus(t),a,0,1,1),l=l.plus(n.times(d)),t=t.plus(n.times(a)),l.s=d.s=h.s,c=Ze(d,a,o,1).minus(h).abs().cmp(Ze(l,t,o,1).minus(h).abs())<1?[d,a]:[l,t],f.precision=u,ve=!0,c};K.toHexadecimal=K.toHex=function(e,r){return Oa(this,16,e,r)};K.toNearest=function(e,r){var t=this,a=t.constructor;if(t=new a(t),e==null){if(!t.d)return t;e=new a(1),r=a.rounding}else{if(e=new a(e),r===void 0?r=a.rounding:lr(r,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(ve=!1,t=Ze(t,e,0,r,1).times(e),ve=!0,ce(t)):(e.s=t.s,t=e),t};K.toNumber=function(){return+this};K.toOctal=function(e,r){return Oa(this,8,e,r)};K.toPower=K.pow=function(e){var r,t,a,n,o,i,s=this,l=s.constructor,d=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l($e(+s,d));if(s=new l(s),s.eq(1))return s;if(a=l.precision,o=l.rounding,e.eq(1))return ce(s,a,o);if(r=ir(e.e/me),r>=e.d.length-1&&(t=d<0?-d:d)<=Rf)return n=Du(l,s,t,a),e.s<0?new l(1).div(n):ce(n,a,o);if(i=s.s,i<0){if(r<e.d.length-1)return new l(NaN);if((e.d[r]&1)==0&&(i=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=i,s}return t=$e(+s,d),r=t==0||!isFinite(t)?ir(d*(Math.log("0."+rr(s.d))/Math.LN10+s.e+1)):new l(t+"").e,r>l.maxE+1||r<l.minE-1?new l(r>0?i/0:0):(ve=!1,l.rounding=s.s=1,t=Math.min(12,(r+"").length),n=Pa(e.times(Wr(s,a+t)),a),n.d&&(n=ce(n,a+5,1),Ut(n.d,a,o)&&(r=a+10,n=ce(Pa(e.times(Wr(s,r+t)),r),r+5,1),+rr(n.d).slice(a+1,a+15)+1==1e14&&(n=ce(n,a+1,0)))),n.s=i,ve=!0,l.rounding=o,ce(n,a,o))};K.toPrecision=function(e,r){var t,a=this,n=a.constructor;return e===void 0?t=Cr(a,a.e<=n.toExpNeg||a.e>=n.toExpPos):(lr(e,1,Qr),r===void 0?r=n.rounding:lr(r,0,8),a=ce(new n(a),e,r),t=Cr(a,e<=a.e||a.e<=n.toExpNeg,e)),a.isNeg()&&!a.isZero()?"-"+t:t};K.toSignificantDigits=K.toSD=function(e,r){var t=this,a=t.constructor;return e===void 0?(e=a.precision,r=a.rounding):(lr(e,1,Qr),r===void 0?r=a.rounding:lr(r,0,8)),ce(new a(t),e,r)};K.toString=function(){var e=this,r=e.constructor,t=Cr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t};K.truncated=K.trunc=function(){return ce(new this.constructor(this),this.e+1,1)};K.valueOf=K.toJSON=function(){var e=this,r=e.constructor,t=Cr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+t:t};function rr(e){var r,t,a,n=e.length-1,o="",i=e[0];if(n>0){for(o+=i,r=1;r<n;r++)a=e[r]+"",t=me-a.length,t&&(o+=Hr(t)),o+=a;i=e[r],a=i+"",t=me-a.length,t&&(o+=Hr(t))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}function lr(e,r,t){if(e!==~~e||e<r||e>t)throw Error(Kr+e)}function Ut(e,r,t,a){var n,o,i,s;for(o=e[0];o>=10;o/=10)--r;return--r<0?(r+=me,n=0):(n=Math.ceil((r+1)/me),r%=me),o=$e(10,me-r),s=e[n]%o|0,a==null?r<3?(r==0?s=s/100|0:r==1&&(s=s/10|0),i=t<4&&s==99999||t>3&&s==49999||s==5e4||s==0):i=(t<4&&s+1==o||t>3&&s+1==o/2)&&(e[n+1]/o/100|0)==$e(10,r-2)-1||(s==o/2||s==0)&&(e[n+1]/o/100|0)==0:r<4?(r==0?s=s/1e3|0:r==1?s=s/100|0:r==2&&(s=s/10|0),i=(a||t<4)&&s==9999||!a&&t>3&&s==4999):i=((a||t<4)&&s+1==o||!a&&t>3&&s+1==o/2)&&(e[n+1]/o/1e3|0)==$e(10,r-3)-1,i}function un(e,r,t){for(var a,n=[0],o,i=0,s=e.length;i<s;){for(o=n.length;o--;)n[o]*=r;for(n[0]+=za.indexOf(e.charAt(i++)),a=0;a<n.length;a++)n[a]>t-1&&(n[a+1]===void 0&&(n[a+1]=0),n[a+1]+=n[a]/t|0,n[a]%=t)}return n.reverse()}function Of(e,r){var t,a,n;if(r.isZero())return r;a=r.d.length,a<32?(t=Math.ceil(a/3),n=(1/hn(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),e.precision+=t,r=bt(e,1,r.times(n),new e(1));for(var o=t;o--;){var i=r.times(r);r=i.times(i).minus(i).times(8).plus(1)}return e.precision-=t,r}var Ze=function(){function e(a,n,o){var i,s=0,l=a.length;for(a=a.slice();l--;)i=a[l]*n+s,a[l]=i%o|0,s=i/o|0;return s&&a.unshift(s),a}function r(a,n,o,i){var s,l;if(o!=i)l=o>i?1:-1;else for(s=l=0;s<o;s++)if(a[s]!=n[s]){l=a[s]>n[s]?1:-1;break}return l}function t(a,n,o,i){for(var s=0;o--;)a[o]-=s,s=a[o]<n[o]?1:0,a[o]=s*i+a[o]-n[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,o,i,s,l){var d,u,p,c,h,g,f,m,v,y,D,_,b,x,A,C,w,F,N,T,k=a.constructor,Z=a.s==n.s?1:-1,Y=a.d,O=n.d;if(!Y||!Y[0]||!O||!O[0])return new k(!a.s||!n.s||(Y?O&&Y[0]==O[0]:!O)?NaN:Y&&Y[0]==0||!O?Z*0:Z/0);for(l?(h=1,u=a.e-n.e):(l=yr,h=me,u=ir(a.e/h)-ir(n.e/h)),N=O.length,w=Y.length,v=new k(Z),y=v.d=[],p=0;O[p]==(Y[p]||0);p++);if(O[p]>(Y[p]||0)&&u--,o==null?(x=o=k.precision,i=k.rounding):s?x=o+(a.e-n.e)+1:x=o,x<0)y.push(1),g=!0;else{if(x=x/h+2|0,p=0,N==1){for(c=0,O=O[0],x++;(p<w||c)&&x--;p++)A=c*l+(Y[p]||0),y[p]=A/O|0,c=A%O|0;g=c||p<w}else{for(c=l/(O[0]+1)|0,c>1&&(O=e(O,c,l),Y=e(Y,c,l),N=O.length,w=Y.length),C=N,D=Y.slice(0,N),_=D.length;_<N;)D[_++]=0;T=O.slice(),T.unshift(0),F=O[0],O[1]>=l/2&&++F;do c=0,d=r(O,D,N,_),d<0?(b=D[0],N!=_&&(b=b*l+(D[1]||0)),c=b/F|0,c>1?(c>=l&&(c=l-1),f=e(O,c,l),m=f.length,_=D.length,d=r(f,D,m,_),d==1&&(c--,t(f,N<m?T:O,m,l))):(c==0&&(d=c=1),f=O.slice()),m=f.length,m<_&&f.unshift(0),t(D,f,_,l),d==-1&&(_=D.length,d=r(O,D,N,_),d<1&&(c++,t(D,N<_?T:O,_,l))),_=D.length):d===0&&(c++,D=[0]),y[p++]=c,d&&D[0]?D[_++]=Y[C]||0:(D=[Y[C]],_=1);while((C++<w||D[0]!==void 0)&&x--);g=D[0]!==void 0}y[0]||y.shift()}if(h==1)v.e=u,du=g;else{for(p=1,c=y[0];c>=10;c/=10)p++;v.e=p+u*h-1,ce(v,s?o+v.e+1:o,i,g)}return v}}();function ce(e,r,t,a){var n,o,i,s,l,d,u,p,c,h=e.constructor;e:if(r!=null){if(p=e.d,!p)return e;for(n=1,s=p[0];s>=10;s/=10)n++;if(o=r-n,o<0)o+=me,i=r,u=p[c=0],l=u/$e(10,n-i-1)%10|0;else if(c=Math.ceil((o+1)/me),s=p.length,c>=s)if(a){for(;s++<=c;)p.push(0);u=l=0,n=1,o%=me,i=o-me+1}else break e;else{for(u=s=p[c],n=1;s>=10;s/=10)n++;o%=me,i=o-me+n,l=i<0?0:u/$e(10,n-i-1)%10|0}if(a=a||r<0||p[c+1]!==void 0||(i<0?u:u%$e(10,n-i-1)),d=t<4?(l||a)&&(t==0||t==(e.s<0?3:2)):l>5||l==5&&(t==4||a||t==6&&(o>0?i>0?u/$e(10,n-i):0:p[c-1])%10&1||t==(e.s<0?8:7)),r<1||!p[0])return p.length=0,d?(r-=e.e+1,p[0]=$e(10,(me-r%me)%me),e.e=-r||0):p[0]=e.e=0,e;if(o==0?(p.length=c,s=1,c--):(p.length=c+1,s=$e(10,me-o),p[c]=i>0?(u/$e(10,n-i)%$e(10,i)|0)*s:0),d)for(;;)if(c==0){for(o=1,i=p[0];i>=10;i/=10)o++;for(i=p[0]+=s,s=1;i>=10;i/=10)s++;o!=s&&(e.e++,p[0]==yr&&(p[0]=1));break}else{if(p[c]+=s,p[c]!=yr)break;p[c--]=0,s=1}for(o=p.length;p[--o]===0;)p.pop()}return ve&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function Cr(e,r,t){if(!e.isFinite())return bu(e);var a,n=e.e,o=rr(e.d),i=o.length;return r?(t&&(a=t-i)>0?o=o.charAt(0)+"."+o.slice(1)+Hr(a):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):n<0?(o="0."+Hr(-n-1)+o,t&&(a=t-i)>0&&(o+=Hr(a))):n>=i?(o+=Hr(n+1-i),t&&(a=t-n-1)>0&&(o=o+"."+Hr(a))):((a=n+1)<i&&(o=o.slice(0,a)+"."+o.slice(a)),t&&(a=t-i)>0&&(n+1===i&&(o+="."),o+=Hr(a))),o}function dn(e,r){var t=e[0];for(r*=me;t>=10;t/=10)r++;return r}function ln(e,r,t){if(r>Pf)throw ve=!0,t&&(e.precision=t),Error(hu);return ce(new e(fn),r,1,!0)}function Ar(e,r,t){if(r>Ra)throw Error(hu);return ce(new e(cn),r,t,!0)}function gu(e){var r=e.length-1,t=r*me+1;if(r=e[r],r){for(;r%10==0;r/=10)t--;for(r=e[0];r>=10;r/=10)t++}return t}function Hr(e){for(var r="";e--;)r+="0";return r}function Du(e,r,t,a){var n,o=new e(1),i=Math.ceil(a/me+4);for(ve=!1;;){if(t%2&&(o=o.times(r),lu(o.d,i)&&(n=!0)),t=ir(t/2),t===0){t=o.d.length-1,n&&o.d[t]===0&&++o.d[t];break}r=r.times(r),lu(r.d,i)}return ve=!0,o}function cu(e){return e.d[e.d.length-1]&1}function yu(e,r,t){for(var a,n,o=new e(r[0]),i=0;++i<r.length;){if(n=new e(r[i]),!n.s){o=n;break}a=o.cmp(n),(a===t||a===0&&o.s===t)&&(o=n)}return o}function Pa(e,r){var t,a,n,o,i,s,l,d=0,u=0,p=0,c=e.constructor,h=c.rounding,g=c.precision;if(!e.d||!e.d[0]||e.e>17)return new c(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(ve=!1,l=g):l=r,s=new c(.03125);e.e>-2;)e=e.times(s),p+=5;for(a=Math.log($e(2,p))/Math.LN10*2+5|0,l+=a,t=o=i=new c(1),c.precision=l;;){if(o=ce(o.times(e),l,1),t=t.times(++u),s=i.plus(Ze(o,t,l,1)),rr(s.d).slice(0,l)===rr(i.d).slice(0,l)){for(n=p;n--;)i=ce(i.times(i),l,1);if(r==null)if(d<3&&Ut(i.d,l-a,h,d))c.precision=l+=10,t=o=s=new c(1),u=0,d++;else return ce(i,c.precision=g,h,ve=!0);else return c.precision=g,i}i=s}}function Wr(e,r){var t,a,n,o,i,s,l,d,u,p,c,h=1,g=10,f=e,m=f.d,v=f.constructor,y=v.rounding,D=v.precision;if(f.s<0||!m||!m[0]||!f.e&&m[0]==1&&m.length==1)return new v(m&&!m[0]?-1/0:f.s!=1?NaN:m?0:f);if(r==null?(ve=!1,u=D):u=r,v.precision=u+=g,t=rr(m),a=t.charAt(0),Math.abs(o=f.e)<15e14){for(;a<7&&a!=1||a==1&&t.charAt(1)>3;)f=f.times(e),t=rr(f.d),a=t.charAt(0),h++;o=f.e,a>1?(f=new v("0."+t),o++):f=new v(a+"."+t.slice(1))}else return d=ln(v,u+2,D).times(o+""),f=Wr(new v(a+"."+t.slice(1)),u-g).plus(d),v.precision=D,r==null?ce(f,D,y,ve=!0):f;for(p=f,l=i=f=Ze(f.minus(1),f.plus(1),u,1),c=ce(f.times(f),u,1),n=3;;){if(i=ce(i.times(c),u,1),d=l.plus(Ze(i,new v(n),u,1)),rr(d.d).slice(0,u)===rr(l.d).slice(0,u))if(l=l.times(2),o!==0&&(l=l.plus(ln(v,u+2,D).times(o+""))),l=Ze(l,new v(h),u,1),r==null)if(Ut(l.d,u-g,y,s))v.precision=u+=g,d=i=f=Ze(p.minus(1),p.plus(1),u,1),c=ce(f.times(f),u,1),n=s=1;else return ce(l,v.precision=D,y,ve=!0);else return v.precision=D,l;l=d,n+=2}}function bu(e){return String(e.s*e.s/0)}function sn(e,r){var t,a,n;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(t<0&&(t=a),t+=+r.slice(a+1),r=r.substring(0,a)):t<0&&(t=r.length),a=0;r.charCodeAt(a)===48;a++);for(n=r.length;r.charCodeAt(n-1)===48;--n);if(r=r.slice(a,n),r){if(n-=a,e.e=t=t-a-1,e.d=[],a=(t+1)%me,t<0&&(a+=me),a<n){for(a&&e.d.push(+r.slice(0,a)),n-=me;a<n;)e.d.push(+r.slice(a,a+=me));r=r.slice(a),a=me-r.length}else a-=n;for(;a--;)r+="0";e.d.push(+r),ve&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Lf(e,r){var t,a,n,o,i,s,l,d,u;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),xu.test(r))return sn(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(zf.test(r))t=16,r=r.toLowerCase();else if(Tf.test(r))t=2;else if(If.test(r))t=8;else throw Error(Kr+r);for(o=r.search(/p/i),o>0?(l=+r.slice(o+1),r=r.substring(2,o)):r=r.slice(2),o=r.indexOf("."),i=o>=0,a=e.constructor,i&&(r=r.replace(".",""),s=r.length,o=s-o,n=Du(a,new a(t),o,o*2)),d=un(r,t,yr),u=d.length-1,o=u;d[o]===0;--o)d.pop();return o<0?new a(e.s*0):(e.e=dn(d,u),e.d=d,ve=!1,i&&(e=Ze(e,n,s*4)),l&&(e=e.times(Math.abs(l)<54?$e(2,l):Vt.pow(2,l))),ve=!0,e)}function qf(e,r){var t,a=r.d.length;if(a<3)return r.isZero()?r:bt(e,2,r,r);t=1.4*Math.sqrt(a),t=t>16?16:t|0,r=r.times(1/hn(5,t)),r=bt(e,2,r,r);for(var n,o=new e(5),i=new e(16),s=new e(20);t--;)n=r.times(r),r=r.times(o.plus(n.times(i.times(n).minus(s))));return r}function bt(e,r,t,a,n){var o,i,s,l,d=1,u=e.precision,p=Math.ceil(u/me);for(ve=!1,l=t.times(t),s=new e(a);;){if(i=Ze(s.times(l),new e(r++*r++),u,1),s=n?a.plus(i):a.minus(i),a=Ze(i.times(l),new e(r++*r++),u,1),i=s.plus(a),i.d[p]!==void 0){for(o=p;i.d[o]===s.d[o]&&o--;);if(o==-1)break}o=s,s=a,a=i,i=o,d++}return ve=!0,i.d.length=p+1,i}function hn(e,r){for(var t=e;--r;)t*=e;return t}function wu(e,r){var t,a=r.s<0,n=Ar(e,e.precision,1),o=n.times(.5);if(r=r.abs(),r.lte(o))return zr=a?4:1,r;if(t=r.divToInt(n),t.isZero())zr=a?3:2;else{if(r=r.minus(t.times(n)),r.lte(o))return zr=cu(t)?a?2:3:a?4:1,r;zr=cu(t)?a?1:4:a?3:2}return r.minus(n).abs()}function Oa(e,r,t,a){var n,o,i,s,l,d,u,p,c,h=e.constructor,g=t!==void 0;if(g?(lr(t,1,Qr),a===void 0?a=h.rounding:lr(a,0,8)):(t=h.precision,a=h.rounding),!e.isFinite())u=bu(e);else{for(u=Cr(e),i=u.indexOf("."),g?(n=2,r==16?t=t*4-3:r==8&&(t=t*3-2)):n=r,i>=0&&(u=u.replace(".",""),c=new h(1),c.e=u.length-i,c.d=un(Cr(c),10,n),c.e=c.d.length),p=un(u,10,n),o=l=p.length;p[--l]==0;)p.pop();if(!p[0])u=g?"0p+0":"0";else{if(i<0?o--:(e=new h(e),e.d=p,e.e=o,e=Ze(e,c,t,a,0,n),p=e.d,o=e.e,d=du),i=p[t],s=n/2,d=d||p[t+1]!==void 0,d=a<4?(i!==void 0||d)&&(a===0||a===(e.s<0?3:2)):i>s||i===s&&(a===4||d||a===6&&p[t-1]&1||a===(e.s<0?8:7)),p.length=t,d)for(;++p[--t]>n-1;)p[t]=0,t||(++o,p.unshift(1));for(l=p.length;!p[l-1];--l);for(i=0,u="";i<l;i++)u+=za.charAt(p[i]);if(g){if(l>1)if(r==16||r==8){for(i=r==16?4:3,--l;l%i;l++)u+="0";for(p=un(u,n,r),l=p.length;!p[l-1];--l);for(i=1,u="1.";i<l;i++)u+=za.charAt(p[i])}else u=u.charAt(0)+"."+u.slice(1);u=u+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)u="0"+u;u="0."+u}else if(++o>l)for(o-=l;o--;)u+="0";else o<l&&(u=u.slice(0,o)+"."+u.slice(o))}u=(r==16?"0x":r==2?"0b":r==8?"0o":"")+u}return e.s<0?"-"+u:u}function lu(e,r){if(e.length>r)return e.length=r,!0}function Uf(e){return new this(e).abs()}function Vf(e){return new this(e).acos()}function Zf(e){return new this(e).acosh()}function Yf(e,r){return new this(e).plus(r)}function kf(e){return new this(e).asin()}function Gf(e){return new this(e).asinh()}function Hf(e){return new this(e).atan()}function Wf(e){return new this(e).atanh()}function Kf(e,r){e=new this(e),r=new this(r);var t,a=this.precision,n=this.rounding,o=a+4;return!e.s||!r.s?t=new this(NaN):!e.d&&!r.d?(t=Ar(this,o,1).times(r.s>0?.25:.75),t.s=e.s):!r.d||e.isZero()?(t=r.s<0?Ar(this,a,n):new this(0),t.s=e.s):!e.d||r.isZero()?(t=Ar(this,o,1).times(.5),t.s=e.s):r.s<0?(this.precision=o,this.rounding=1,t=this.atan(Ze(e,r,o,1)),r=Ar(this,o,1),this.precision=a,this.rounding=n,t=e.s<0?t.minus(r):t.plus(r)):t=this.atan(Ze(e,r,o,1)),t}function Qf(e){return new this(e).cbrt()}function Xf(e){return ce(e=new this(e),e.e+1,2)}function Jf(e,r,t){return new this(e).clamp(r,t)}function $f(e){if(!e||typeof e!="object")throw Error(pn+"Object expected");var r,t,a,n=e.defaults===!0,o=["precision",1,Qr,"rounding",0,8,"toExpNeg",-yt,0,"toExpPos",0,yt,"maxE",0,yt,"minE",-yt,0,"modulo",0,9];for(r=0;r<o.length;r+=3)if(t=o[r],n&&(this[t]=Ia[t]),(a=e[t])!==void 0)if(ir(a)===a&&a>=o[r+1]&&a<=o[r+2])this[t]=a;else throw Error(Kr+t+": "+a);if(t="crypto",n&&(this[t]=Ia[t]),(a=e[t])!==void 0)if(a===!0||a===!1||a===0||a===1)if(a)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(mu);else this[t]=!1;else throw Error(Kr+t+": "+a);return this}function jf(e){return new this(e).cos()}function ec(e){return new this(e).cosh()}function _u(e){var r,t,a;function n(o){var i,s,l,d=this;if(!(d instanceof n))return new n(o);if(d.constructor=n,pu(o)){d.s=o.s,ve?!o.d||o.e>n.maxE?(d.e=NaN,d.d=null):o.e<n.minE?(d.e=0,d.d=[0]):(d.e=o.e,d.d=o.d.slice()):(d.e=o.e,d.d=o.d?o.d.slice():o.d);return}if(l=typeof o,l==="number"){if(o===0){d.s=1/o<0?-1:1,d.e=0,d.d=[0];return}if(o<0?(o=-o,d.s=-1):d.s=1,o===~~o&&o<1e7){for(i=0,s=o;s>=10;s/=10)i++;ve?i>n.maxE?(d.e=NaN,d.d=null):i<n.minE?(d.e=0,d.d=[0]):(d.e=i,d.d=[o]):(d.e=i,d.d=[o]);return}if(o*0!==0){o||(d.s=NaN),d.e=NaN,d.d=null;return}return sn(d,o.toString())}if(l==="string")return(s=o.charCodeAt(0))===45?(o=o.slice(1),d.s=-1):(s===43&&(o=o.slice(1)),d.s=1),xu.test(o)?sn(d,o):Lf(d,o);if(l==="bigint")return o<0?(o=-o,d.s=-1):d.s=1,sn(d,o.toString());throw Error(Kr+o)}if(n.prototype=K,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=$f,n.clone=_u,n.isDecimal=pu,n.abs=Uf,n.acos=Vf,n.acosh=Zf,n.add=Yf,n.asin=kf,n.asinh=Gf,n.atan=Hf,n.atanh=Wf,n.atan2=Kf,n.cbrt=Qf,n.ceil=Xf,n.clamp=Jf,n.cos=jf,n.cosh=ec,n.div=rc,n.exp=tc,n.floor=nc,n.hypot=ac,n.ln=oc,n.log=ic,n.log10=sc,n.log2=uc,n.max=fc,n.min=cc,n.mod=lc,n.mul=pc,n.pow=dc,n.random=hc,n.round=mc,n.sign=vc,n.sin=xc,n.sinh=gc,n.sqrt=Dc,n.sub=yc,n.sum=bc,n.tan=wc,n.tanh=_c,n.trunc=Ec,e===void 0&&(e={}),e&&e.defaults!==!0)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<a.length;)e.hasOwnProperty(t=a[r++])||(e[t]=this[t]);return n.config(e),n}function rc(e,r){return new this(e).div(r)}function tc(e){return new this(e).exp()}function nc(e){return ce(e=new this(e),e.e+1,3)}function ac(){var e,r,t=new this(0);for(ve=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)t.d&&(t=t.plus(r.times(r)));else{if(r.s)return ve=!0,new this(1/0);t=r}return ve=!0,t.sqrt()}function pu(e){return e instanceof Vt||e&&e.toStringTag===vu||!1}function oc(e){return new this(e).ln()}function ic(e,r){return new this(e).log(r)}function uc(e){return new this(e).log(2)}function sc(e){return new this(e).log(10)}function fc(){return yu(this,arguments,-1)}function cc(){return yu(this,arguments,1)}function lc(e,r){return new this(e).mod(r)}function pc(e,r){return new this(e).mul(r)}function dc(e,r){return new this(e).pow(r)}function hc(e){var r,t,a,n,o=0,i=new this(1),s=[];if(e===void 0?e=this.precision:lr(e,1,Qr),a=Math.ceil(e/me),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(a));o<a;)n=r[o],n>=429e7?r[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=n%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(a*=4);o<a;)n=r[o]+(r[o+1]<<8)+(r[o+2]<<16)+((r[o+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(r,o):(s.push(n%1e7),o+=4);o=a/4}else throw Error(mu);else for(;o<a;)s[o++]=Math.random()*1e7|0;for(a=s[--o],e%=me,a&&e&&(n=$e(10,me-e),s[o]=(a/n|0)*n);s[o]===0;o--)s.pop();if(o<0)t=0,s=[0];else{for(t=-1;s[0]===0;t-=me)s.shift();for(a=1,n=s[0];n>=10;n/=10)a++;a<me&&(t-=me-a)}return i.e=t,i.d=s,i}function mc(e){return ce(e=new this(e),e.e+1,this.rounding)}function vc(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function xc(e){return new this(e).sin()}function gc(e){return new this(e).sinh()}function Dc(e){return new this(e).sqrt()}function yc(e,r){return new this(e).sub(r)}function bc(){var e=0,r=arguments,t=new this(r[e]);for(ve=!1;t.s&&++e<r.length;)t=t.plus(r[e]);return ve=!0,ce(t,this.precision,this.rounding)}function wc(e){return new this(e).tan()}function _c(e){return new this(e).tanh()}function Ec(e){return ce(e=new this(e),e.e+1,1)}K[Symbol.for("nodejs.util.inspect.custom")]=K.toString;K[Symbol.toStringTag]="Decimal";var Vt=K.constructor=_u(Ia);fn=new Vt(fn);cn=new Vt(cn);var La=Vt;var Ac="BigNumber",Cc=["?on","config"],qa=U(Ac,Cc,e=>{var{on:r,config:t}=e,a=La.clone({precision:t.precision,modulo:La.EUCLID});return a.prototype=Object.create(a.prototype),a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(n){return new a(n.value)},r&&r("config",function(n,o){n.precision!==o.precision&&a.config({precision:n.precision})}),a},{isClass:!0});var ur=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},xr=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},Fc=e=>{let r=Math.sin(.5*e);return-2*r*r},Ua=function(e,r){return e=Math.abs(e),r=Math.abs(r),e<r&&([e,r]=[r,e]),e<1e8?Math.sqrt(e*e+r*r):(r/=e,e*Math.sqrt(1+r*r))},wt=function(){throw SyntaxError("Invalid Param")};function Va(e,r){let t=Math.abs(e),a=Math.abs(r);return e===0?Math.log(a):r===0?Math.log(t):t<3e3&&a<3e3?Math.log(e*e+r*r)*.5:(e=e*.5,r=r*.5,.5*Math.log(e*e+r*r)+Math.LN2)}var Sc={re:0,im:0},lt=function(e,r){let t=Sc;if(e==null)t.re=t.im=0;else if(r!==void 0)t.re=e,t.im=r;else switch(typeof e){case"object":if("im"in e&&"re"in e)t.re=e.re,t.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return q.INFINITY;t.re=e.abs*Math.cos(e.arg),t.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return q.INFINITY;t.re=e.r*Math.cos(e.phi),t.im=e.r*Math.sin(e.phi)}else e.length===2?(t.re=e[0],t.im=e[1]):wt();break;case"string":t.im=t.re=0;let a=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),n=1,o=0;a===null&&wt();for(let i=0;i<a.length;i++){let s=a[i];s===" "||s==="	"||s===`
`||(s==="+"?n++:s==="-"?o++:s==="i"||s==="I"?(n+o===0&&wt(),a[i+1]!==" "&&!isNaN(a[i+1])?(t.im+=parseFloat((o%2?"-":"")+a[i+1]),i++):t.im+=parseFloat((o%2?"-":"")+"1"),n=o=0):((n+o===0||isNaN(s))&&wt(),a[i+1]==="i"||a[i+1]==="I"?(t.im+=parseFloat((o%2?"-":"")+s),i++):t.re+=parseFloat((o%2?"-":"")+s),n=o=0))}n+o>0&&wt();break;case"number":t.im=0,t.re=e;break;default:wt()}return isNaN(t.re)||isNaN(t.im),t};function q(e,r){if(!(this instanceof q))return new q(e,r);let t=lt(e,r);this.re=t.re,this.im=t.im}q.prototype={re:0,im:0,sign:function(){let e=Ua(this.re,this.im);return new q(this.re/e,this.im/e)},add:function(e,r){let t=lt(e,r),a=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im));return a||n?a&&n?q.NAN:q.INFINITY:new q(this.re+t.re,this.im+t.im)},sub:function(e,r){let t=lt(e,r),a=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im));return a||n?a&&n?q.NAN:q.INFINITY:new q(this.re-t.re,this.im-t.im)},mul:function(e,r){let t=lt(e,r),a=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,i=t.re===0&&t.im===0;return a&&i||n&&o?q.NAN:a||n?q.INFINITY:t.im===0&&this.im===0?new q(this.re*t.re,0):new q(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(e,r){let t=lt(e,r),a=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,i=t.re===0&&t.im===0;if(o&&i||a&&n)return q.NAN;if(i||a)return q.INFINITY;if(o||n)return q.ZERO;if(t.im===0)return new q(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){let s=t.re/t.im,l=t.re*s+t.im;return new q((this.re*s+this.im)/l,(this.im*s-this.re)/l)}else{let s=t.im/t.re,l=t.im*s+t.re;return new q((this.re+this.im*s)/l,(this.im-this.re*s)/l)}},pow:function(e,r){let t=lt(e,r),a=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return q.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new q(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new q(Math.pow(this.im,t.re),0);case 1:return new q(0,Math.pow(this.im,t.re));case 2:return new q(-Math.pow(this.im,t.re),0);case 3:return new q(0,-Math.pow(this.im,t.re))}}if(a&&t.re>0)return q.ZERO;let o=Math.atan2(this.im,this.re),i=Va(this.re,this.im),s=Math.exp(t.re*i-t.im*o),l=t.im*i+t.re*o;return new q(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){let e=this.re,r=this.im;if(r===0)return e>=0?new q(Math.sqrt(e),0):new q(0,Math.sqrt(-e));let t=Ua(e,r),a=Math.sqrt(.5*(t+Math.abs(e))),n=Math.abs(r)/(2*a);return e>=0?new q(a,r<0?-n:n):new q(n,r<0?-a:a)},exp:function(){let e=Math.exp(this.re);return this.im===0?new q(e,0):new q(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){let e=this.re,r=this.im;return new q(Math.expm1(e)*Math.cos(r)+Fc(r),Math.exp(e)*Math.sin(r))},log:function(){let e=this.re,r=this.im;return r===0&&e>0?new q(Math.log(e),0):new q(Va(e,r),Math.atan2(r,e))},abs:function(){return Ua(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){let e=this.re,r=this.im;return new q(Math.sin(e)*ur(r),Math.cos(e)*xr(r))},cos:function(){let e=this.re,r=this.im;return new q(Math.cos(e)*ur(r),-Math.sin(e)*xr(r))},tan:function(){let e=2*this.re,r=2*this.im,t=Math.cos(e)+ur(r);return new q(Math.sin(e)/t,xr(r)/t)},cot:function(){let e=2*this.re,r=2*this.im,t=Math.cos(e)-ur(r);return new q(-Math.sin(e)/t,xr(r)/t)},sec:function(){let e=this.re,r=this.im,t=.5*ur(2*r)+.5*Math.cos(2*e);return new q(Math.cos(e)*ur(r)/t,Math.sin(e)*xr(r)/t)},csc:function(){let e=this.re,r=this.im,t=.5*ur(2*r)-.5*Math.cos(2*e);return new q(Math.sin(e)*ur(r)/t,-Math.cos(e)*xr(r)/t)},asin:function(){let e=this.re,r=this.im,t=new q(r*r-e*e+1,-2*e*r).sqrt(),a=new q(t.re-r,t.im+e).log();return new q(a.im,-a.re)},acos:function(){let e=this.re,r=this.im,t=new q(r*r-e*e+1,-2*e*r).sqrt(),a=new q(t.re-r,t.im+e).log();return new q(Math.PI/2-a.im,a.re)},atan:function(){let e=this.re,r=this.im;if(e===0){if(r===1)return new q(0,1/0);if(r===-1)return new q(0,-1/0)}let t=e*e+(1-r)*(1-r),a=new q((1-r*r-e*e)/t,-2*e/t).log();return new q(-.5*a.im,.5*a.re)},acot:function(){let e=this.re,r=this.im;if(r===0)return new q(Math.atan2(1,e),0);let t=e*e+r*r;return t!==0?new q(e/t,-r/t).atan():new q(e!==0?e/0:0,r!==0?-r/0:0).atan()},asec:function(){let e=this.re,r=this.im;if(e===0&&r===0)return new q(0,1/0);let t=e*e+r*r;return t!==0?new q(e/t,-r/t).acos():new q(e!==0?e/0:0,r!==0?-r/0:0).acos()},acsc:function(){let e=this.re,r=this.im;if(e===0&&r===0)return new q(Math.PI/2,1/0);let t=e*e+r*r;return t!==0?new q(e/t,-r/t).asin():new q(e!==0?e/0:0,r!==0?-r/0:0).asin()},sinh:function(){let e=this.re,r=this.im;return new q(xr(e)*Math.cos(r),ur(e)*Math.sin(r))},cosh:function(){let e=this.re,r=this.im;return new q(ur(e)*Math.cos(r),xr(e)*Math.sin(r))},tanh:function(){let e=2*this.re,r=2*this.im,t=ur(e)+Math.cos(r);return new q(xr(e)/t,Math.sin(r)/t)},coth:function(){let e=2*this.re,r=2*this.im,t=ur(e)-Math.cos(r);return new q(xr(e)/t,-Math.sin(r)/t)},csch:function(){let e=this.re,r=this.im,t=Math.cos(2*r)-ur(2*e);return new q(-2*xr(e)*Math.cos(r)/t,2*ur(e)*Math.sin(r)/t)},sech:function(){let e=this.re,r=this.im,t=Math.cos(2*r)+ur(2*e);return new q(2*ur(e)*Math.cos(r)/t,-2*xr(e)*Math.sin(r)/t)},asinh:function(){let e=this.re,r=this.im;if(r===0){if(e===0)return new q(0,0);let o=Math.abs(e),i=Math.log(o+Math.sqrt(o*o+1));return new q(e<0?-i:i,0)}let t=e*e-r*r+1,a=2*e*r,n=new q(t,a).sqrt();return new q(e+n.re,r+n.im).log()},acosh:function(){let e=this.re,r=this.im;if(r===0){if(e>1)return new q(Math.log(e+Math.sqrt(e-1)*Math.sqrt(e+1)),0);if(e<-1){let n=Math.sqrt(e*e-1);return new q(Math.log(-e+n),Math.PI)}return new q(0,Math.acos(e))}let t=new q(e-1,r).sqrt(),a=new q(e+1,r).sqrt();return new q(e+t.re*a.re-t.im*a.im,r+t.re*a.im+t.im*a.re).log()},atanh:function(){let e=this.re,r=this.im;if(r===0){if(e===0)return new q(0,0);if(e===1)return new q(1/0,0);if(e===-1)return new q(-1/0,0);if(-1<e&&e<1)return new q(.5*Math.log((1+e)/(1-e)),0);if(e>1){let l=(e+1)/(e-1);return new q(.5*Math.log(l),-Math.PI/2)}let s=(1+e)/(1-e);return new q(.5*Math.log(-s),Math.PI/2)}let t=1-e,a=1+e,n=t*t+r*r;if(n===0)return new q(e!==-1?e/0:0,r!==0?r/0:0);let o=(a*t-r*r)/n,i=(r*t+a*r)/n;return new q(Va(o,i)/2,Math.atan2(i,o)/2)},acoth:function(){let e=this.re,r=this.im;if(e===0&&r===0)return new q(0,Math.PI/2);let t=e*e+r*r;return t!==0?new q(e/t,-r/t).atanh():new q(e!==0?e/0:0,r!==0?-r/0:0).atanh()},acsch:function(){let e=this.re,r=this.im;if(r===0){if(e===0)return new q(1/0,0);let a=1/e;return new q(Math.log(a+Math.sqrt(a*a+1)),0)}let t=e*e+r*r;return t!==0?new q(e/t,-r/t).asinh():new q(e!==0?e/0:0,r!==0?-r/0:0).asinh()},asech:function(){let e=this.re,r=this.im;if(this.isZero())return q.INFINITY;let t=e*e+r*r;return t!==0?new q(e/t,-r/t).acosh():new q(e!==0?e/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return q.INFINITY;if(this.isInfinite())return q.ZERO;let e=this.re,r=this.im,t=e*e+r*r;return new q(e/t,-r/t)},conjugate:function(){return new q(this.re,-this.im)},neg:function(){return new q(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new q(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new q(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new q(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,r){let t=lt(e,r);return Math.abs(t.re-this.re)<=q.EPSILON&&Math.abs(t.im-this.im)<=q.EPSILON},clone:function(){return new q(this.re,this.im)},toString:function(){let e=this.re,r=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<q.EPSILON&&(e=0),Math.abs(r)<q.EPSILON&&(r=0),r===0?t+e:(e!==0?(t+=e,t+=" ",r<0?(r=-r,t+="-"):t+="+",t+=" "):r<0&&(r=-r,t+="-"),r!==1&&(t+=r),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};q.ZERO=new q(0,0);q.ONE=new q(1,0);q.I=new q(0,1);q.PI=new q(Math.PI,0);q.E=new q(Math.E,0);q.INFINITY=new q(1/0,1/0);q.NAN=new q(NaN,NaN);q.EPSILON=1e-15;var Mc="Complex",Nc=[],Za=U(Mc,Nc,()=>(Object.defineProperty(q,"name",{value:"Complex"}),q.prototype.constructor=q,q.prototype.type="Complex",q.prototype.isComplex=!0,q.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},q.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},q.prototype.format=function(e){var r="",t=this.im,a=this.re,n=qt(this.re,e),o=qt(this.im,e),i=Be(e)?e:e?e.precision:null;if(i!==null){var s=Math.pow(10,-i);Math.abs(a/t)<s&&(a=0),Math.abs(t/a)<s&&(t=0)}return t===0?r=n:a===0?t===1?r="i":t===-1?r="-i":r=o+"i":t<0?t===-1?r=n+" - i":r=n+" - "+o.substring(1)+"i":t===1?r=n+" + i":r=n+" + "+o+"i",r},q.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return q(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],a=arguments[1];if(Be(t)){if(en(a)&&a.hasBase("ANGLE")&&(a=a.toNumber("rad")),Be(a))return new q({r:t,phi:a});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},q.prototype.valueOf=q.prototype.toString,q.fromJSON=function(e){return new q(e)},q.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},q),{isClass:!0});var Fr=jt(Au(),1);var Bc="Fraction",Tc=[],ka=U(Bc,Tc,()=>(Object.defineProperty(Fr.default,"name",{value:"Fraction"}),Fr.default.prototype.constructor=Fr.default,Fr.default.prototype.type="Fraction",Fr.default.prototype.isFraction=!0,Fr.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Fr.default.fromJSON=function(e){return new Fr.default(e)},Fr.default),{isClass:!0});var zc="Matrix",Ic=[],Ga=U(zc,Ic,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,t,a){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,t,a){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Ha(e,r,t){var a=e.constructor,n=new a(2),o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!_e(t))throw new Error("size must be an integer");if(e.greaterThan(n.pow(t-1).sub(1))||e.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(t))),o="i".concat(t)}switch(r){case 2:return"".concat(e.toBinary()).concat(o);case 8:return"".concat(e.toOctal()).concat(o);case 16:return"".concat(e.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(r," not supported "))}}function Su(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:a,wordSize:n}=Fa(r);switch(t){case"fixed":return Pc(e,a);case"exponential":return Cu(e,a);case"engineering":return Rc(e,a);case"bin":return Ha(e,2,n);case"oct":return Ha(e,8,n);case"hex":return Ha(e,16,n);case"auto":{var o=Fu(r?.lowerExp,-3),i=Fu(r?.upperExp,5);if(e.isZero())return"0";var s,l=e.toSignificantDigits(a),d=l.e;return d>=o&&d<i?s=l.toFixed():s=Cu(e,a),s.replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],p=arguments[4];return u!=="."?u+p:p})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Rc(e,r){var t=e.e,a=t%3===0?t:t<0?t-3-t%3:t-t%3,n=e.mul(Math.pow(10,-a)),o=n.toPrecision(r);if(o.includes("e")){var i=e.constructor;o=new i(o).toFixed()}return o+"e"+(t>=0?"+":"")+a.toString()}function Cu(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function Pc(e,r){return e.toFixed(r)}function Fu(e,r){return Be(e)?e:Ie(e)?e.toNumber():r}function Re(e,r){var t=Oc(e,r);return r&&typeof r=="object"&&"truncate"in r&&t.length>r.truncate?t.substring(0,r.truncate-3)+"...":t}function Oc(e,r){if(typeof e=="number")return qt(e,r);if(Ie(e))return Su(e,r);if(Lc(e))return!r||r.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return Bu(e,r);if(fr(e))return Mu(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var t=Object.keys(e).map(a=>Mu(a)+": "+Re(e[a],r));return"{"+t.join(", ")+"}"}return String(e)}function Mu(e){for(var r=String(e),t="",a=0;a<r.length;){var n=r.charAt(a);t+=n in Nu?Nu[n]:n,a++}return'"'+t+'"'}var Nu={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Bu(e,r){if(Array.isArray(e)){for(var t="[",a=e.length,n=0;n<a;n++)n!==0&&(t+=", "),t+=Bu(e[n],r);return t+="]",t}else return Re(e,r)}function Lc(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function De(e,r,t){if(!(this instanceof De))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}De.prototype=new RangeError;De.prototype.constructor=RangeError;De.prototype.name="DimensionError";De.prototype.isDimensionError=!0;function Ir(e,r,t){if(!(this instanceof Ir))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Ir.prototype=new RangeError;Ir.prototype.constructor=RangeError;Ir.prototype.name="IndexError";Ir.prototype.isIndexError=!0;function Ke(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function Tu(e,r,t){var a,n=e.length;if(n!==r[t])throw new De(n,r[t]);if(t<r.length-1){var o=t+1;for(a=0;a<n;a++){var i=e[a];if(!Array.isArray(i))throw new De(r.length-1,r.length,"<");Tu(e[a],r,o)}}else for(a=0;a<n;a++)if(Array.isArray(e[a]))throw new De(r.length+1,r.length,">")}function Ka(e,r){var t=r.length===0;if(t){if(Array.isArray(e))throw new De(e.length,0)}else Tu(e,r,0)}function Ge(e,r){if(e!==void 0){if(!Be(e)||!_e(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new Ir(e,r)}}function pt(e,r,t){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(n){if(!Be(n)||!_e(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Re(r)+")")}),(Be(e)||Ie(e))&&(e=[e]);var a=t!==void 0?t:0;return Wa(e,r,0,a),e}function Wa(e,r,t,a){var n,o,i=e.length,s=r[t],l=Math.min(i,s);if(e.length=s,t<r.length-1){var d=t+1;for(n=0;n<l;n++)o=e[n],Array.isArray(o)||(o=[o],e[n]=o),Wa(o,r,d,a);for(n=l;n<s;n++)o=[],e[n]=o,Wa(o,r,d,a)}else{for(n=0;n<l;n++)for(;Array.isArray(e[n]);)e[n]=e[n][0];for(n=l;n<s;n++)e[n]=a}}function Qa(e,r){var t=Uc(e),a=t.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new De(0,a,"!=");r=Zt(r,a);var n=zu(r);if(a!==n)throw new De(n,a,"!=");try{return qc(t,r)}catch(o){throw o instanceof De?new De(n,a,"!="):o}}function Zt(e,r){var t=zu(e),a=e.slice(),n=-1,o=e.indexOf(n),i=e.indexOf(n,o+1)>=0;if(i)throw new Error("More than one wildcard in sizes");var s=o>=0,l=r%t===0;if(s)if(l)a[o]=-r/t;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-t);return a}function zu(e){return e.reduce((r,t)=>r*t,1)}function qc(e,r){for(var t=e,a,n=r.length-1;n>0;n--){var o=r[n];a=[];for(var i=t.length/o,s=0;s<i;s++)a.push(t.slice(s*o,(s+1)*o));t=a}return t}function mn(e,r,t,a){var n=a||Ke(e);if(t)for(var o=0;o<t;o++)e=[e],n.unshift(1);for(e=Iu(e,r,0);n.length<r;)n.push(1);return e}function Iu(e,r,t){var a,n;if(Array.isArray(e)){var o=t+1;for(a=0,n=e.length;a<n;a++)e[a]=Iu(e[a],r,o)}else for(var i=t;i<r;i++)e=[e];return e}function Uc(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function t(a){Array.isArray(a)?a.forEach(t):r.push(a)}),r}function _t(e,r){for(var t,a=0,n=0;n<e.length;n++){var o=e[n],i=Array.isArray(o);if(n===0&&i&&(a=o.length),i&&o.length!==a)return;var s=i?_t(o,r):r(o);if(t===void 0)t=s;else if(t!==s)return"mixed"}return t}function Ru(e,r,t,a){if(a<t){if(e.length!==r.length)throw new De(e.length,r.length);for(var n=[],o=0;o<e.length;o++)n[o]=Ru(e[o],r[o],t,a+1);return n}else return e.concat(r)}function Xa(){var e=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(t,a){return Ru(t,a,r,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Vc(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var a=r.map(c=>c.length),n=Math.max(...a),o=new Array(n).fill(null),i=0;i<r.length;i++)for(var s=r[i],l=a[i],d=0;d<l;d++){var u=n-l+d;s[d]>o[u]&&(o[u]=s[d])}for(var p=0;p<r.length;p++)Yt(r[p],o);return o}function Yt(e,r){for(var t=r.length,a=e.length,n=0;n<a;n++){var o=t-a+n;if(e[n]<r[o]&&e[n]>1||e[n]>r[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(a," with size ").concat(e[n]," to size ").concat(r[o]))}}function Ja(e,r){var t=Ke(e);if(Tr(t,r))return e;Yt(t,r);var a=Vc(t,r),n=a.length,o=[...Array(n-t.length).fill(1),...t],i=Yc(e);t.length<n&&(i=Qa(i,o),t=Ke(i));for(var s=0;s<n;s++)t[s]<a[s]&&(i=Zc(i,a[s],s),t=Ke(i));return i}function Zc(e,r,t){return Xa(...Array(r).fill(e),t)}function Yc(e){return mt([],e)}function vn(e){return Object.keys(e.signatures||{}).reduce(function(r,t){var a=(t.match(/,/g)||[]).length+1;return Math.max(r,a)},-1)}var kc="DenseMatrix",Gc=["Matrix"],$a=U(kc,Gc,e=>{var{Matrix:r}=e;function t(u,p){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(p&&!fr(p))throw new Error("Invalid datatype: "+p);if(Ne(u))u.type==="DenseMatrix"?(this._data=Ce(u._data),this._size=Ce(u._size),this._datatype=p||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=p||u._datatype);else if(u&&Oe(u.data)&&Oe(u.size))this._data=u.data,this._size=u.size,Ka(this._data,this._size),this._datatype=p||u.datatype;else if(Oe(u))this._data=d(u),this._size=Ke(this._data),Ka(this._data,this._size),this._datatype=p;else{if(u)throw new TypeError("Unsupported type of data ("+_r(u)+")");this._data=[],this._size=[0],this._datatype=p}}t.prototype=new r,t.prototype.createDenseMatrix=function(u,p){return new t(u,p)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return _t(this._data,_r)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(u,p){return new t(u,p)},t.prototype.subset=function(u,p,c){switch(arguments.length){case 1:return a(this,u);case 2:case 3:return o(this,u,p,c);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(u){if(!Oe(u))throw new TypeError("Array expected");if(u.length!==this._size.length)throw new De(u.length,this._size.length);for(var p=0;p<u.length;p++)Ge(u[p],this._size[p]);for(var c=this._data,h=0,g=u.length;h<g;h++){var f=u[h];Ge(f,c.length),c=c[f]}return c},t.prototype.set=function(u,p,c){if(!Oe(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new De(u.length,this._size.length,"<");var h,g,f,m=u.map(function(y){return y+1});l(this,m,c);var v=this._data;for(h=0,g=u.length-1;h<g;h++)f=u[h],Ge(f,v.length),v=v[f];return f=u[u.length-1],Ge(f,v.length),v[f]=p,this};function a(u,p){if(!vt(p))throw new TypeError("Invalid index");var c=p.isScalar();if(c)return u.get(p.min());var h=p.size();if(h.length!==u._size.length)throw new De(h.length,u._size.length);for(var g=p.min(),f=p.max(),m=0,v=u._size.length;m<v;m++)Ge(g[m],u._size[m]),Ge(f[m],u._size[m]);return new t(n(u._data,p,h.length,0),u._datatype)}function n(u,p,c,h){var g=h===c-1,f=p.dimension(h);return g?f.map(function(m){return Ge(m,u.length),u[m]}).valueOf():f.map(function(m){Ge(m,u.length);var v=u[m];return n(v,p,c,h+1)}).valueOf()}function o(u,p,c,h){if(!p||p.isIndex!==!0)throw new TypeError("Invalid index");var g=p.size(),f=p.isScalar(),m;if(Ne(c)?(m=c.size(),c=c.valueOf()):m=Ke(c),f){if(m.length!==0)throw new TypeError("Scalar expected");u.set(p.min(),c,h)}else{if(!Tr(m,g))try{m.length===0?c=Ja([c],g):c=Ja(c,g),m=Ke(c)}catch{}if(g.length<u._size.length)throw new De(g.length,u._size.length,"<");if(m.length<g.length){for(var v=0,y=0;g[v]===1&&m[v]===1;)v++;for(;g[v]===1;)y++,v++;c=mn(c,g.length,y,m)}if(!Tr(g,m))throw new De(g,m,">");var D=p.max().map(function(x){return x+1});l(u,D,h);var _=g.length,b=0;i(u._data,p,c,_,b)}return u}function i(u,p,c,h,g){var f=g===h-1,m=p.dimension(g);f?m.forEach(function(v,y){Ge(v),u[v]=c[y[0]]}):m.forEach(function(v,y){Ge(v),i(u[v],p,c[y[0]],h,g+1)})}t.prototype.resize=function(u,p,c){if(!ct(u))throw new TypeError("Array or Matrix expected");var h=u.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),g=c?this.clone():this;return s(g,h,p)};function s(u,p,c){if(p.length===0){for(var h=u._data;Oe(h);)h=h[0];return h}return u._size=p.slice(0),u._data=pt(u._data,u._size,c),u}t.prototype.reshape=function(u,p){var c=p?this.clone():this;c._data=Qa(c._data,u);var h=c._size.reduce((g,f)=>g*f);return c._size=Zt(u,h),c};function l(u,p,c){for(var h=u._size.slice(0),g=!1;h.length<p.length;)h.push(0),g=!0;for(var f=0,m=p.length;f<m;f++)p[f]>h[f]&&(h[f]=p[f],g=!0);g&&s(u,h,c)}t.prototype.clone=function(){var u=new t({data:Ce(this._data),size:Ce(this._size),datatype:this._datatype});return u},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(u){var p=this,c=vn(u),h=function m(v,y){return Oe(v)?v.map(function(D,_){return m(D,y.concat(_))}):c===1?u(v):c===2?u(v,y):u(v,y,p)},g=h(this._data,[]),f=this._datatype!==void 0?_t(g,_r):void 0;return new t(g,f)},t.prototype.forEach=function(u){var p=this,c=function h(g,f){Oe(g)?g.forEach(function(m,v){h(m,f.concat(v))}):u(g,f,p)};c(this._data,[])},t.prototype[Symbol.iterator]=function*(){var u=function*p(c,h){if(Oe(c))for(var g=0;g<c.length;g++)yield*p(c[g],h.concat(g));else yield{value:c,index:h}};yield*u(this._data,[])},t.prototype.rows=function(){var u=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var c=this._data;for(var h of c)u.push(new t([h],this._datatype));return u},t.prototype.columns=function(){var u=this,p=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,g=function(v){var y=h.map(D=>[D[v]]);p.push(new t(y,u._datatype))},f=0;f<c[1];f++)g(f);return p},t.prototype.toArray=function(){return Ce(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(u){return Re(this._data,u)},t.prototype.toString=function(){return Re(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(u){if(u){if(Ie(u)&&(u=u.toNumber()),!Be(u)||!_e(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var p=u>0?u:0,c=u<0?-u:0,h=this._size[0],g=this._size[1],f=Math.min(h-c,g-p),m=[],v=0;v<f;v++)m[v]=this._data[v+c][v+p];return new t({data:m,size:[f],datatype:this._datatype})},t.diagonal=function(u,p,c,h){if(!Oe(u))throw new TypeError("Array expected, size parameter");if(u.length!==2)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(A){if(Ie(A)&&(A=A.toNumber()),!Be(A)||!_e(A)||A<1)throw new Error("Size values must be positive integers");return A}),c){if(Ie(c)&&(c=c.toNumber()),!Be(c)||!_e(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var g=c>0?c:0,f=c<0?-c:0,m=u[0],v=u[1],y=Math.min(m-f,v-g),D;if(Oe(p)){if(p.length!==y)throw new Error("Invalid value array length");D=function(C){return p[C]}}else if(Ne(p)){var _=p.size();if(_.length!==1||_[0]!==y)throw new Error("Invalid matrix length");D=function(C){return p.get([C])}}else D=function(){return p};h||(h=Ie(D(0))?D(0).mul(0):0);var b=[];if(u.length>0){b=pt(b,u,h);for(var x=0;x<y;x++)b[x+f][x+g]=D(x)}return new t({data:b,size:[m,v]})},t.fromJSON=function(u){return new t(u)},t.prototype.swapRows=function(u,p){if(!Be(u)||!_e(u)||!Be(p)||!_e(p))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ge(u,this._size[0]),Ge(p,this._size[0]),t._swapRows(u,p,this._data),this},t._swapRows=function(u,p,c){var h=c[u];c[u]=c[p],c[p]=h};function d(u){return Ne(u)?d(u.valueOf()):Oe(u)?u.map(d):u}return t},{isClass:!0});var Pu="clone",Hc=["typed"],ja=U(Pu,Hc,e=>{var{typed:r}=e;return r(Pu,{any:Ce})});function tr(e,r,t){return e&&typeof e.map=="function"?e.map(function(a){return tr(a,r,t)}):r(e)}var Ou="isInteger",Wc=["typed"],eo=U(Ou,Wc,e=>{var{typed:r}=e;return r(Ou,{number:_e,BigNumber:function(a){return a.isInt()},Fraction:function(a){return a.d===1&&isFinite(a.n)},"Array | Matrix":r.referToSelf(t=>a=>tr(a,t))})});var pr="number",Rr="number, number";function ro(e){return Math.abs(e)}ro.signature=pr;function to(e,r){return e+r}to.signature=Rr;function no(e,r){return e-r}no.signature=Rr;function ao(e,r){return e*r}ao.signature=Rr;function Kc(e,r){return e/r}Kc.signature=Rr;function oo(e){return-e}oo.signature=pr;function Qc(e){return e}Qc.signature=pr;function Xc(e){return $i(e)}Xc.signature=pr;function Jc(e){return e*e*e}Jc.signature=pr;function $c(e){return Math.exp(e)}$c.signature=pr;function jc(e){return ji(e)}jc.signature=pr;function e0(e,r){if(!_e(e)||!_e(r))throw new Error("Parameters in function gcd must be integer numbers");for(var t;r!==0;)t=e%r,e=r,r=t;return e<0?-e:e}e0.signature=Rr;function r0(e,r){if(!_e(e)||!_e(r))throw new Error("Parameters in function lcm must be integer numbers");if(e===0||r===0)return 0;for(var t,a=e*r;r!==0;)t=r,r=e%t,e=t;return Math.abs(a/e)}r0.signature=Rr;function t0(e){return Xi(e)}t0.signature=pr;function n0(e){return Qi(e)}n0.signature=pr;function a0(e){return Ji(e)}a0.signature=pr;function o0(e,r){return r===0?e:e-r*Math.floor(e/r)}o0.signature=Rr;function i0(e){return Ki(e)}i0.signature=pr;function u0(e){return Math.sqrt(e)}u0.signature=pr;function s0(e){return e*e}s0.signature=pr;function f0(e,r){var t,a,n,o=0,i=1,s=1,l=0;if(!_e(e)||!_e(r))throw new Error("Parameters in function xgcd must be integer numbers");for(;r;)a=Math.floor(e/r),n=e-a*r,t=o,o=i-a*o,i=t,t=s,s=l-a*s,l=t,e=r,r=n;var d;return e<0?d=[-e,-i,-l]:d=[e,e?i:0,l],d}f0.signature=Rr;function c0(e,r){return e*e<1&&r===1/0||e*e>1&&r===-1/0?0:Math.pow(e,r)}c0.signature=Rr;function l0(e){return Math.abs(e)}l0.signature=pr;var kt="number";function p0(e){return _e(e)}p0.signature=kt;function d0(e){return e<0}d0.signature=kt;function h0(e){return e>0}h0.signature=kt;function io(e){return e===0}io.signature=kt;function m0(e){return Number.isNaN(e)}m0.signature=kt;var Lu="isZero",v0=["typed"],uo=U(Lu,v0,e=>{var{typed:r}=e;return r(Lu,{number:io,BigNumber:function(a){return a.isZero()},Complex:function(a){return a.re===0&&a.im===0},Fraction:function(a){return a.d===1&&a.n===0},Unit:r.referToSelf(t=>a=>r.find(t,a.valueType())(a.value)),"Array | Matrix":r.referToSelf(t=>a=>tr(a,t))})});function Xr(e,r,t){if(t==null)return e.eq(r);if(e.eq(r))return!0;if(e.isNaN()||r.isNaN())return!1;if(e.isFinite()&&r.isFinite()){var a=e.minus(r).abs();if(a.isZero())return!0;var n=e.constructor.max(e.abs(),r.abs());return a.lte(n.times(t))}return!1}function qu(e,r,t){return vr(e.re,r.re,t)&&vr(e.im,r.im,t)}var Jr=U("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(t=>(a,n)=>{if(!a.equalBase(n))throw new Error("Cannot compare units with different base");return r.find(t,[a.valueType(),n.valueType()])(a.value,n.value)})}});var xn="equalScalar",x0=["typed","config"],so=U(xn,x0,e=>{var{typed:r,config:t}=e,a=Jr({typed:r});return r(xn,{"boolean, boolean":function(o,i){return o===i},"number, number":function(o,i){return vr(o,i,t.epsilon)},"BigNumber, BigNumber":function(o,i){return o.eq(i)||Xr(o,i,t.epsilon)},"Fraction, Fraction":function(o,i){return o.equals(i)},"Complex, Complex":function(o,i){return qu(o,i,t.epsilon)}},a)}),Xh=U(xn,["typed","config"],e=>{var{typed:r,config:t}=e;return r(xn,{"number, number":function(n,o){return vr(n,o,t.epsilon)}})});var g0="SparseMatrix",D0=["typed","equalScalar","Matrix"],fo=U(g0,D0,e=>{var{typed:r,equalScalar:t,Matrix:a}=e;function n(f,m){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!fr(m))throw new Error("Invalid datatype: "+m);if(Ne(f))o(this,f,m);else if(f&&Oe(f.index)&&Oe(f.ptr)&&Oe(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=m||f.datatype;else if(Oe(f))i(this,f,m);else{if(f)throw new TypeError("Unsupported type of data ("+_r(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function o(f,m,v){m.type==="SparseMatrix"?(f._values=m._values?Ce(m._values):void 0,f._index=Ce(m._index),f._ptr=Ce(m._ptr),f._size=Ce(m._size),f._datatype=v||m._datatype):i(f,m.valueOf(),v||m._datatype)}function i(f,m,v){f._values=[],f._index=[],f._ptr=[],f._datatype=v;var y=m.length,D=0,_=t,b=0;if(fr(v)&&(_=r.find(t,[v,v])||t,b=r.convert(0,v)),y>0){var x=0;do{f._ptr.push(f._index.length);for(var A=0;A<y;A++){var C=m[A];if(Oe(C)){if(x===0&&D<C.length&&(D=C.length),x<C.length){var w=C[x];_(w,b)||(f._values.push(w),f._index.push(A))}}else x===0&&D<1&&(D=1),_(C,b)||(f._values.push(C),f._index.push(A))}x++}while(x<D)}f._ptr.push(f._index.length),f._size=[y,D]}n.prototype=new a,n.prototype.createSparseMatrix=function(f,m){return new n(f,m)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return _t(this._values,_r)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(f,m){return new n(f,m)},n.prototype.density=function(){var f=this._size[0],m=this._size[1];return f!==0&&m!==0?this._index.length/(f*m):0},n.prototype.subset=function(f,m,v){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,f);case 2:case 3:return l(this,f,m,v);default:throw new SyntaxError("Wrong number of arguments")}};function s(f,m){if(!vt(m))throw new TypeError("Invalid index");var v=m.isScalar();if(v)return f.get(m.min());var y=m.size();if(y.length!==f._size.length)throw new De(y.length,f._size.length);var D,_,b,x,A=m.min(),C=m.max();for(D=0,_=f._size.length;D<_;D++)Ge(A[D],f._size[D]),Ge(C[D],f._size[D]);var w=f._values,F=f._index,N=f._ptr,T=m.dimension(0),k=m.dimension(1),Z=[],Y=[];T.forEach(function(L,ee){Y[L]=ee[0],Z[L]=!0});var O=w?[]:void 0,oe=[],$=[];return k.forEach(function(L){for($.push(oe.length),b=N[L],x=N[L+1];b<x;b++)D=F[b],Z[D]===!0&&(oe.push(Y[D]),O&&O.push(w[b]))}),$.push(oe.length),new n({values:O,index:oe,ptr:$,size:y,datatype:f._datatype})}function l(f,m,v,y){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var D=m.size(),_=m.isScalar(),b;if(Ne(v)?(b=v.size(),v=v.toArray()):b=Ke(v),_){if(b.length!==0)throw new TypeError("Scalar expected");f.set(m.min(),v,y)}else{if(D.length!==1&&D.length!==2)throw new De(D.length,f._size.length,"<");if(b.length<D.length){for(var x=0,A=0;D[x]===1&&b[x]===1;)x++;for(;D[x]===1;)A++,x++;v=mn(v,D.length,A,b)}if(!Tr(D,b))throw new De(D,b,">");if(D.length===1){var C=m.dimension(0);C.forEach(function(N,T){Ge(N),f.set([N,0],v[T[0]],y)})}else{var w=m.dimension(0),F=m.dimension(1);w.forEach(function(N,T){Ge(N),F.forEach(function(k,Z){Ge(k),f.set([N,k],v[T[0]][Z[0]],y)})})}}return f}n.prototype.get=function(f){if(!Oe(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new De(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=f[0],v=f[1];Ge(m,this._size[0]),Ge(v,this._size[1]);var y=d(m,this._ptr[v],this._ptr[v+1],this._index);return y<this._ptr[v+1]&&this._index[y]===m?this._values[y]:0},n.prototype.set=function(f,m,v){if(!Oe(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new De(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=f[0],D=f[1],_=this._size[0],b=this._size[1],x=t,A=0;fr(this._datatype)&&(x=r.find(t,[this._datatype,this._datatype])||t,A=r.convert(0,this._datatype)),(y>_-1||D>b-1)&&(c(this,Math.max(y+1,_),Math.max(D+1,b),v),_=this._size[0],b=this._size[1]),Ge(y,_),Ge(D,b);var C=d(y,this._ptr[D],this._ptr[D+1],this._index);return C<this._ptr[D+1]&&this._index[C]===y?x(m,A)?u(C,D,this._values,this._index,this._ptr):this._values[C]=m:x(m,A)||p(C,y,D,m,this._values,this._index,this._ptr),this};function d(f,m,v,y){if(v-m===0)return v;for(var D=m;D<v;D++)if(y[D]===f)return D;return m}function u(f,m,v,y,D){v.splice(f,1),y.splice(f,1);for(var _=m+1;_<D.length;_++)D[_]--}function p(f,m,v,y,D,_,b){D.splice(f,0,y),_.splice(f,0,m);for(var x=v+1;x<b.length;x++)b[x]++}n.prototype.resize=function(f,m,v){if(!ct(f))throw new TypeError("Array or Matrix expected");var y=f.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(_){if(!Be(_)||!_e(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Re(y)+")")});var D=v?this.clone():this;return c(D,y[0],y[1],m)};function c(f,m,v,y){var D=y||0,_=t,b=0;fr(f._datatype)&&(_=r.find(t,[f._datatype,f._datatype])||t,b=r.convert(0,f._datatype),D=r.convert(D,f._datatype));var x=!_(D,b),A=f._size[0],C=f._size[1],w,F,N;if(v>C){for(F=C;F<v;F++)if(f._ptr[F]=f._values.length,x)for(w=0;w<A;w++)f._values.push(D),f._index.push(w);f._ptr[v]=f._values.length}else v<C&&(f._ptr.splice(v+1,C-v),f._values.splice(f._ptr[v],f._values.length),f._index.splice(f._ptr[v],f._index.length));if(C=v,m>A){if(x){var T=0;for(F=0;F<C;F++){f._ptr[F]=f._ptr[F]+T,N=f._ptr[F+1]+T;var k=0;for(w=A;w<m;w++,k++)f._values.splice(N+k,0,D),f._index.splice(N+k,0,w),T++}f._ptr[C]=f._values.length}}else if(m<A){var Z=0;for(F=0;F<C;F++){f._ptr[F]=f._ptr[F]-Z;var Y=f._ptr[F],O=f._ptr[F+1]-Z;for(N=Y;N<O;N++)w=f._index[N],w>m-1&&(f._values.splice(N,1),f._index.splice(N,1),Z++)}f._ptr[F]=f._values.length}return f._size[0]=m,f._size[1]=v,f}n.prototype.reshape=function(f,m){if(!Oe(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(L){if(!Be(L)||!_e(L)||L<=-2||L===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Re(f)+")")});var v=this._size[0]*this._size[1];f=Zt(f,v);var y=f[0]*f[1];if(v!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var D=m?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return D;for(var _=[],b=0;b<D._ptr.length;b++)for(var x=0;x<D._ptr[b+1]-D._ptr[b];x++)_.push(b);for(var A=D._values.slice(),C=D._index.slice(),w=0;w<D._index.length;w++){var F=C[w],N=_[w],T=F*D._size[1]+N;_[w]=T%f[1],C[w]=Math.floor(T/f[1])}D._values.length=0,D._index.length=0,D._ptr.length=f[1]+1,D._size=f.slice();for(var k=0;k<D._ptr.length;k++)D._ptr[k]=0;for(var Z=0;Z<A.length;Z++){var Y=C[Z],O=_[Z],oe=A[Z],$=d(Y,D._ptr[O],D._ptr[O+1],D._index);p($,Y,O,oe,D._values,D._index,D._ptr)}return D},n.prototype.clone=function(){var f=new n({values:this._values?Ce(this._values):void 0,index:Ce(this._index),ptr:Ce(this._ptr),size:Ce(this._size),datatype:this._datatype});return f},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(f,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var v=this,y=this._size[0],D=this._size[1],_=vn(f),b=function(A,C,w){return _===1?f(A):_===2?f(A,[C,w]):f(A,[C,w],v)};return h(this,0,y-1,0,D-1,b,m)};function h(f,m,v,y,D,_,b){var x=[],A=[],C=[],w=t,F=0;fr(f._datatype)&&(w=r.find(t,[f._datatype,f._datatype])||t,F=r.convert(0,f._datatype));for(var N=function(le,fe,Pe){le=_(le,fe,Pe),w(le,F)||(x.push(le),A.push(fe))},T=y;T<=D;T++){C.push(x.length);var k=f._ptr[T],Z=f._ptr[T+1];if(b)for(var Y=k;Y<Z;Y++){var O=f._index[Y];O>=m&&O<=v&&N(f._values[Y],O-m,T-y)}else{for(var oe={},$=k;$<Z;$++){var L=f._index[$];oe[L]=f._values[$]}for(var ee=m;ee<=v;ee++){var ie=ee in oe?oe[ee]:0;N(ie,ee-m,T-y)}}}return C.push(x.length),new n({values:x,index:A,ptr:C,size:[v-m+1,D-y+1]})}n.prototype.forEach=function(f,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var v=this,y=this._size[0],D=this._size[1],_=0;_<D;_++){var b=this._ptr[_],x=this._ptr[_+1];if(m)for(var A=b;A<x;A++){var C=this._index[A];f(this._values[A],[C,_],v)}else{for(var w={},F=b;F<x;F++){var N=this._index[F];w[N]=this._values[F]}for(var T=0;T<y;T++){var k=T in w?w[T]:0;f(k,[T,_],v)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],m=0;m<f;m++)for(var v=this._ptr[m],y=this._ptr[m+1],D=v;D<y;D++){var _=this._index[D];yield{value:this._values[D],index:[_,m]}}},n.prototype.toArray=function(){return g(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return g(this._values,this._index,this._ptr,this._size,!1)};function g(f,m,v,y,D){var _=y[0],b=y[1],x=[],A,C;for(A=0;A<_;A++)for(x[A]=[],C=0;C<b;C++)x[A][C]=0;for(C=0;C<b;C++)for(var w=v[C],F=v[C+1],N=w;N<F;N++)A=m[N],x[A][C]=f?D?Ce(f[N]):f[N]:1;return x}return n.prototype.format=function(f){for(var m=this._size[0],v=this._size[1],y=this.density(),D="Sparse Matrix ["+Re(m,f)+" x "+Re(v,f)+"] density: "+Re(y,f)+`
`,_=0;_<v;_++)for(var b=this._ptr[_],x=this._ptr[_+1],A=b;A<x;A++){var C=this._index[A];D+=`
    (`+Re(C,f)+", "+Re(_,f)+") ==> "+(this._values?Re(this._values[A],f):"X")}return D},n.prototype.toString=function(){return Re(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(f){if(f){if(Ie(f)&&(f=f.toNumber()),!Be(f)||!_e(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var m=f>0?f:0,v=f<0?-f:0,y=this._size[0],D=this._size[1],_=Math.min(y-v,D-m),b=[],x=[],A=[];A[0]=0;for(var C=m;C<D&&b.length<_;C++)for(var w=this._ptr[C],F=this._ptr[C+1],N=w;N<F;N++){var T=this._index[N];if(T===C-m+v){b.push(this._values[N]),x[b.length-1]=T-v;break}}return A.push(b.length),new n({values:b,index:x,ptr:A,size:[_,1]})},n.fromJSON=function(f){return new n(f)},n.diagonal=function(f,m,v,y,D){if(!Oe(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(L){if(Ie(L)&&(L=L.toNumber()),!Be(L)||!_e(L)||L<1)throw new Error("Size values must be positive integers");return L}),v){if(Ie(v)&&(v=v.toNumber()),!Be(v)||!_e(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var _=t,b=0;fr(D)&&(_=r.find(t,[D,D])||t,b=r.convert(0,D));var x=v>0?v:0,A=v<0?-v:0,C=f[0],w=f[1],F=Math.min(C-A,w-x),N;if(Oe(m)){if(m.length!==F)throw new Error("Invalid value array length");N=function(ee){return m[ee]}}else if(Ne(m)){var T=m.size();if(T.length!==1||T[0]!==F)throw new Error("Invalid matrix length");N=function(ee){return m.get([ee])}}else N=function(){return m};for(var k=[],Z=[],Y=[],O=0;O<w;O++){Y.push(k.length);var oe=O-x;if(oe>=0&&oe<F){var $=N(oe);_($,b)||(Z.push(oe+A),k.push($))}}return Y.push(k.length),new n({values:k,index:Z,ptr:Y,size:[C,w]})},n.prototype.swapRows=function(f,m){if(!Be(f)||!_e(f)||!Be(m)||!_e(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ge(f,this._size[0]),Ge(m,this._size[0]),n._swapRows(f,m,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(f,m,v,y,D){for(var _=y[f],b=y[f+1],x=_;x<b;x++)D(v[x],m[x])},n._swapRows=function(f,m,v,y,D,_){for(var b=0;b<v;b++){var x=_[b],A=_[b+1],C=d(f,x,A,D),w=d(m,x,A,D);if(C<A&&w<A&&D[C]===f&&D[w]===m){if(y){var F=y[C];y[C]=y[w],y[w]=F}continue}if(C<A&&D[C]===f&&(w>=A||D[w]!==m)){var N=y?y[C]:void 0;D.splice(w,0,m),y&&y.splice(w,0,N),D.splice(w<=C?C+1:C,1),y&&y.splice(w<=C?C+1:C,1);continue}if(w<A&&D[w]===m&&(C>=A||D[C]!==f)){var T=y?y[w]:void 0;D.splice(C,0,f),y&&y.splice(C,0,T),D.splice(C<=w?w+1:w,1),y&&y.splice(C<=w?w+1:w,1)}}},n},{isClass:!0});var y0="number",b0=["typed"];function w0(e){var r=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var t={"0b":2,"0o":8,"0x":16}[r[1]],a=r[2],n=r[3];return{input:e,radix:t,integerPart:a,fractionalPart:n}}else return null}function _0(e){for(var r=parseInt(e.integerPart,e.radix),t=0,a=0;a<e.fractionalPart.length;a++){var n=parseInt(e.fractionalPart[a],e.radix);t+=n/Math.pow(e.radix,a+1)}var o=r+t;if(isNaN(o))throw new SyntaxError('String "'+e.input+'" is not a valid number');return o}var co=U(y0,b0,e=>{var{typed:r}=e,t=r("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var o=w0(n);if(o)return _0(o);var i=0,s=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(i=Number(s[2]),n=s[1]);var l=Number(n);if(isNaN(l))throw new SyntaxError('String "'+n+'" is not a valid number');if(s){if(l>2**i-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));l>=2**(i-1)&&(l=l-2**i)}return l},BigNumber:function(n){return n.toNumber()},Fraction:function(n){return n.valueOf()},Unit:r.referToSelf(a=>n=>{var o=n.clone();return o.value=a(n.value),o}),null:function(n){return 0},"Unit, string | Unit":function(n,o){return n.toNumber(o)},"Array | Matrix":r.referToSelf(a=>n=>tr(n,a))});return t.fromJSON=function(a){return parseFloat(a.value)},t});var E0="bignumber",A0=["typed","BigNumber"],lo=U(E0,A0,e=>{var{typed:r,BigNumber:t}=e;return r("bignumber",{"":function(){return new t(0)},number:function(n){return new t(n+"")},string:function(n){var o=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var i=o[2],s=t(o[1]),l=new t(2).pow(Number(i));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var d=new t(2).pow(Number(i)-1);return s.gte(d)?s.sub(l):s}return new t(n)},BigNumber:function(n){return n},Unit:r.referToSelf(a=>n=>{var o=n.clone();return o.value=a(n.value),o}),Fraction:function(n){return new t(n.n).div(n.d).times(n.s)},null:function(n){return new t(0)},"Array | Matrix":r.referToSelf(a=>n=>tr(n,a))})});var C0="fraction",F0=["typed","Fraction"],po=U(C0,F0,e=>{var{typed:r,Fraction:t}=e;return r("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new t(n)},string:function(n){return new t(n)},"number, number":function(n,o){return new t(n,o)},null:function(n){return new t(0)},BigNumber:function(n){return new t(n.toString())},Fraction:function(n){return n},Unit:r.referToSelf(a=>n=>{var o=n.clone();return o.value=a(n.value),o}),Object:function(n){return new t(n)},"Array | Matrix":r.referToSelf(a=>n=>tr(n,a))})});var Uu="matrix",S0=["typed","Matrix","DenseMatrix","SparseMatrix"],ho=U(Uu,S0,e=>{var{typed:r,Matrix:t,DenseMatrix:a,SparseMatrix:n}=e;return r(Uu,{"":function(){return o([])},string:function(s){return o([],s)},"string, string":function(s,l){return o([],s,l)},Array:function(s){return o(s)},Matrix:function(s){return o(s,s.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(i,s,l){if(s==="dense"||s==="default"||s===void 0)return new a(i,l);if(s==="sparse")return new n(i,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}});var Vu="unaryMinus",M0=["typed"],mo=U(Vu,M0,e=>{var{typed:r}=e;return r(Vu,{number:oo,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:r.referToSelf(t=>a=>{var n=a.clone();return n.value=r.find(t,n.valueType())(a.value),n}),"Array | Matrix":r.referToSelf(t=>a=>tr(a,t,!0))})});var Zu="abs",N0=["typed"],vo=U(Zu,N0,e=>{var{typed:r}=e;return r(Zu,{number:ro,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":r.referToSelf(t=>a=>tr(a,t,!0))})});var Yu="addScalar",B0=["typed"],xo=U(Yu,B0,e=>{var{typed:r}=e;return r(Yu,{"number, number":to,"Complex, Complex":function(a,n){return a.add(n)},"BigNumber, BigNumber":function(a,n){return a.plus(n)},"Fraction, Fraction":function(a,n){return a.add(n)},"Unit, Unit":r.referToSelf(t=>(a,n)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(n))throw new Error("Units do not match");var o=a.clone();return o.value=r.find(t,[o.valueType(),n.valueType()])(o.value,n.value),o.fixPrefix=!1,o})})});var ku="subtractScalar",T0=["typed"],go=U(ku,T0,e=>{var{typed:r}=e;return r(ku,{"number, number":no,"Complex, Complex":function(a,n){return a.sub(n)},"BigNumber, BigNumber":function(a,n){return a.minus(n)},"Fraction, Fraction":function(a,n){return a.sub(n)},"Unit, Unit":r.referToSelf(t=>(a,n)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(n))throw new Error("Units do not match");var o=a.clone();return o.value=r.find(t,[o.valueType(),n.valueType()])(o.value,n.value),o.fixPrefix=!1,o})})});var z0="matAlgo11xS0s",I0=["typed","equalScalar"],gn=U(z0,I0,e=>{var{typed:r,equalScalar:t}=e;return function(n,o,i,s){var l=n._values,d=n._index,u=n._ptr,p=n._size,c=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=p[0],g=p[1],f,m=t,v=0,y=i;typeof c=="string"&&(f=c,m=r.find(t,[f,f]),v=r.convert(0,f),o=r.convert(o,f),y=r.find(i,[f,f]));for(var D=[],_=[],b=[],x=0;x<g;x++){b[x]=_.length;for(var A=u[x],C=u[x+1],w=A;w<C;w++){var F=d[w],N=s?y(o,l[w]):y(l[w],o);m(N,v)||(_.push(F),D.push(N))}}return b[g]=_.length,n.createSparseMatrix({values:D,index:_,ptr:b,size:[h,g],datatype:f})}});var R0="matAlgo12xSfs",P0=["typed","DenseMatrix"],gr=U(R0,P0,e=>{var{typed:r,DenseMatrix:t}=e;return function(n,o,i,s){var l=n._values,d=n._index,u=n._ptr,p=n._size,c=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=p[0],g=p[1],f,m=i;typeof c=="string"&&(f=c,o=r.convert(o,f),m=r.find(i,[f,f]));for(var v=[],y=[],D=[],_=0;_<g;_++){for(var b=_+1,x=u[_],A=u[_+1],C=x;C<A;C++){var w=d[C];y[w]=l[C],D[w]=b}for(var F=0;F<h;F++)_===0&&(v[F]=[]),D[F]===b?v[F][_]=s?m(o,y[F]):m(y[F],o):v[F][_]=s?m(o,0):m(0,o)}return new t({data:v,size:[h,g],datatype:f})}});var O0="matAlgo14xDs",L0=["typed"],Dn=U(O0,L0,e=>{var{typed:r}=e;return function(n,o,i,s){var l=n._data,d=n._size,u=n._datatype,p,c=i;typeof u=="string"&&(p=u,o=r.convert(o,p),c=r.find(i,[p,p]));var h=d.length>0?t(c,0,d,d[0],l,o,s):[];return n.createDenseMatrix({data:h,size:Ce(d),datatype:p})};function t(a,n,o,i,s,l,d){var u=[];if(n===o.length-1)for(var p=0;p<i;p++)u[p]=d?a(l,s[p]):a(s[p],l);else for(var c=0;c<i;c++)u[c]=t(a,n+1,o,o[n+1],s[c],l,d);return u}});var q0="matAlgo02xDS0",U0=["typed","equalScalar"],Gu=U(q0,U0,e=>{var{typed:r,equalScalar:t}=e;return function(n,o,i,s){var l=n._data,d=n._size,u=n._datatype||n.getDataType(),p=o._values,c=o._index,h=o._ptr,g=o._size,f=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(d.length!==g.length)throw new De(d.length,g.length);if(d[0]!==g[0]||d[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+g+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=d[0],v=d[1],y,D=t,_=0,b=i;typeof u=="string"&&u===f&&u!=="mixed"&&(y=u,D=r.find(t,[y,y]),_=r.convert(0,y),b=r.find(i,[y,y]));for(var x=[],A=[],C=[],w=0;w<v;w++){C[w]=A.length;for(var F=h[w],N=h[w+1],T=F;T<N;T++){var k=c[T],Z=s?b(p[T],l[k][w]):b(l[k][w],p[T]);D(Z,_)||(A.push(k),x.push(Z))}}return C[v]=A.length,o.createSparseMatrix({values:x,index:A,ptr:C,size:[m,v],datatype:u===n._datatype&&f===o._datatype?y:void 0})}});var V0="matAlgo03xDSf",Z0=["typed"],Dr=U(V0,Z0,e=>{var{typed:r}=e;return function(a,n,o,i){var s=a._data,l=a._size,d=a._datatype||a.getDataType(),u=n._values,p=n._index,c=n._ptr,h=n._size,g=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(l.length!==h.length)throw new De(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=l[0],m=l[1],v,y=0,D=o;typeof d=="string"&&d===g&&d!=="mixed"&&(v=d,y=r.convert(0,v),D=r.find(o,[v,v]));for(var _=[],b=0;b<f;b++)_[b]=[];for(var x=[],A=[],C=0;C<m;C++){for(var w=C+1,F=c[C],N=c[C+1],T=F;T<N;T++){var k=p[T];x[k]=i?D(u[T],s[k][C]):D(s[k][C],u[T]),A[k]=w}for(var Z=0;Z<f;Z++)A[Z]===w?_[Z][C]=x[Z]:_[Z][C]=i?D(y,s[Z][C]):D(s[Z][C],y)}return a.createDenseMatrix({data:_,size:[f,m],datatype:d===a._datatype&&g===n._datatype?v:void 0})}});var Y0="matAlgo05xSfSf",k0=["typed","equalScalar"],Hu=U(Y0,k0,e=>{var{typed:r,equalScalar:t}=e;return function(n,o,i){var s=n._values,l=n._index,d=n._ptr,u=n._size,p=n._datatype||n._data===void 0?n._datatype:n.getDataType(),c=o._values,h=o._index,g=o._ptr,f=o._size,m=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(u.length!==f.length)throw new De(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var v=u[0],y=u[1],D,_=t,b=0,x=i;typeof p=="string"&&p===m&&p!=="mixed"&&(D=p,_=r.find(t,[D,D]),b=r.convert(0,D),x=r.find(i,[D,D]));var A=s&&c?[]:void 0,C=[],w=[],F=A?[]:void 0,N=A?[]:void 0,T=[],k=[],Z,Y,O,oe;for(Y=0;Y<y;Y++){w[Y]=C.length;var $=Y+1;for(O=d[Y],oe=d[Y+1];O<oe;O++)Z=l[O],C.push(Z),T[Z]=$,F&&(F[Z]=s[O]);for(O=g[Y],oe=g[Y+1];O<oe;O++)Z=h[O],T[Z]!==$&&C.push(Z),k[Z]=$,N&&(N[Z]=c[O]);if(A)for(O=w[Y];O<C.length;){Z=C[O];var L=T[Z],ee=k[Z];if(L===$||ee===$){var ie=L===$?F[Z]:b,pe=ee===$?N[Z]:b,le=x(ie,pe);_(le,b)?C.splice(O,1):(A.push(le),O++)}}}return w[y]=C.length,n.createSparseMatrix({values:A,index:C,ptr:w,size:[v,y],datatype:p===n._datatype&&m===o._datatype?D:void 0})}});var G0="matAlgo13xDD",H0=["typed"],Wu=U(G0,H0,e=>{var{typed:r}=e;return function(n,o,i){var s=n._data,l=n._size,d=n._datatype,u=o._data,p=o._size,c=o._datatype,h=[];if(l.length!==p.length)throw new De(l.length,p.length);for(var g=0;g<l.length;g++){if(l[g]!==p[g])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");h[g]=l[g]}var f,m=i;typeof d=="string"&&d===c&&(f=d,m=r.find(i,[f,f]));var v=h.length>0?t(m,0,h,h[0],s,u):[];return n.createDenseMatrix({data:v,size:h,datatype:f})};function t(a,n,o,i,s,l){var d=[];if(n===o.length-1)for(var u=0;u<i;u++)d[u]=a(s[u],l[u]);else for(var p=0;p<i;p++)d[p]=t(a,n+1,o,o[n+1],s[p],l[p]);return d}});var W0="broadcast",K0=["concat"],Ku=U(W0,K0,e=>{var{concat:r}=e;return function(n,o){var i=Math.max(n._size.length,o._size.length);if(n._size.length===o._size.length&&n._size.every((g,f)=>g===o._size[f]))return[n,o];for(var s=t(n._size,i,0),l=t(o._size,i,0),d=[],u=0;u<i;u++)d[u]=Math.max(s[u],l[u]);Yt(s,d),Yt(l,d);var p=n.clone(),c=o.clone();p._size.length<i?p.reshape(t(p._size,i,1)):c._size.length<i&&c.reshape(t(c._size,i,1));for(var h=0;h<i;h++)p._size[h]<d[h]&&(p=a(p,d[h],h)),c._size[h]<d[h]&&(c=a(c,d[h],h));return[p,c]};function t(n,o,i){return[...Array(o-n.length).fill(i),...n]}function a(n,o,i){return r(...Array(o).fill(n),i)}});var Q0="matrixAlgorithmSuite",X0=["typed","matrix","concat"],dr=U(Q0,X0,e=>{var{typed:r,matrix:t,concat:a}=e,n=Wu({typed:r}),o=Dn({typed:r}),i=Ku({concat:a});return function(l){var d=l.elop,u=l.SD||l.DS,p;d?(p={"DenseMatrix, DenseMatrix":(f,m)=>n(...i(f,m),d),"Array, Array":(f,m)=>n(...i(t(f),t(m)),d).valueOf(),"Array, DenseMatrix":(f,m)=>n(...i(t(f),m),d),"DenseMatrix, Array":(f,m)=>n(...i(f,t(m)),d)},l.SS&&(p["SparseMatrix, SparseMatrix"]=(f,m)=>l.SS(...i(f,m),d,!1)),l.DS&&(p["DenseMatrix, SparseMatrix"]=(f,m)=>l.DS(...i(f,m),d,!1),p["Array, SparseMatrix"]=(f,m)=>l.DS(...i(t(f),m),d,!1)),u&&(p["SparseMatrix, DenseMatrix"]=(f,m)=>u(...i(m,f),d,!0),p["SparseMatrix, Array"]=(f,m)=>u(...i(t(m),f),d,!0))):(p={"DenseMatrix, DenseMatrix":r.referToSelf(f=>(m,v)=>n(...i(m,v),f)),"Array, Array":r.referToSelf(f=>(m,v)=>n(...i(t(m),t(v)),f).valueOf()),"Array, DenseMatrix":r.referToSelf(f=>(m,v)=>n(...i(t(m),v),f)),"DenseMatrix, Array":r.referToSelf(f=>(m,v)=>n(...i(m,t(v)),f))},l.SS&&(p["SparseMatrix, SparseMatrix"]=r.referToSelf(f=>(m,v)=>l.SS(...i(m,v),f,!1))),l.DS&&(p["DenseMatrix, SparseMatrix"]=r.referToSelf(f=>(m,v)=>l.DS(...i(m,v),f,!1)),p["Array, SparseMatrix"]=r.referToSelf(f=>(m,v)=>l.DS(...i(t(m),v),f,!1))),u&&(p["SparseMatrix, DenseMatrix"]=r.referToSelf(f=>(m,v)=>u(...i(v,m),f,!0)),p["SparseMatrix, Array"]=r.referToSelf(f=>(m,v)=>u(...i(t(v),m),f,!0))));var c=l.scalar||"any",h=l.Ds||l.Ss;h&&(d?(p["DenseMatrix,"+c]=(f,m)=>o(f,m,d,!1),p[c+", DenseMatrix"]=(f,m)=>o(m,f,d,!0),p["Array,"+c]=(f,m)=>o(t(f),m,d,!1).valueOf(),p[c+", Array"]=(f,m)=>o(t(m),f,d,!0).valueOf()):(p["DenseMatrix,"+c]=r.referToSelf(f=>(m,v)=>o(m,v,f,!1)),p[c+", DenseMatrix"]=r.referToSelf(f=>(m,v)=>o(v,m,f,!0)),p["Array,"+c]=r.referToSelf(f=>(m,v)=>o(t(m),v,f,!1).valueOf()),p[c+", Array"]=r.referToSelf(f=>(m,v)=>o(t(v),m,f,!0).valueOf())));var g=l.sS!==void 0?l.sS:l.Ss;return d?(l.Ss&&(p["SparseMatrix,"+c]=(f,m)=>l.Ss(f,m,d,!1)),g&&(p[c+", SparseMatrix"]=(f,m)=>g(m,f,d,!0))):(l.Ss&&(p["SparseMatrix,"+c]=r.referToSelf(f=>(m,v)=>l.Ss(m,v,f,!1))),g&&(p[c+", SparseMatrix"]=r.referToSelf(f=>(m,v)=>g(v,m,f,!0)))),d&&d.signatures&&Vi(p,d.signatures),p}});var J0="matAlgo01xDSid",$0=["typed"],yn=U(J0,$0,e=>{var{typed:r}=e;return function(a,n,o,i){var s=a._data,l=a._size,d=a._datatype||a.getDataType(),u=n._values,p=n._index,c=n._ptr,h=n._size,g=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(l.length!==h.length)throw new De(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=l[0],m=l[1],v=typeof d=="string"&&d!=="mixed"&&d===g?d:void 0,y=v?r.find(o,[v,v]):o,D,_,b=[];for(D=0;D<f;D++)b[D]=[];var x=[],A=[];for(_=0;_<m;_++){for(var C=_+1,w=c[_],F=c[_+1],N=w;N<F;N++)D=p[N],x[D]=i?y(u[N],s[D][_]):y(s[D][_],u[N]),A[D]=C;for(D=0;D<f;D++)A[D]===C?b[D][_]=x[D]:b[D][_]=s[D][_]}return a.createDenseMatrix({data:b,size:[f,m],datatype:d===a._datatype&&g===n._datatype?v:void 0})}});var j0="matAlgo04xSidSid",el=["typed","equalScalar"],Qu=U(j0,el,e=>{var{typed:r,equalScalar:t}=e;return function(n,o,i){var s=n._values,l=n._index,d=n._ptr,u=n._size,p=n._datatype||n._data===void 0?n._datatype:n.getDataType(),c=o._values,h=o._index,g=o._ptr,f=o._size,m=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(u.length!==f.length)throw new De(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var v=u[0],y=u[1],D,_=t,b=0,x=i;typeof p=="string"&&p===m&&p!=="mixed"&&(D=p,_=r.find(t,[D,D]),b=r.convert(0,D),x=r.find(i,[D,D]));var A=s&&c?[]:void 0,C=[],w=[],F=s&&c?[]:void 0,N=s&&c?[]:void 0,T=[],k=[],Z,Y,O,oe,$;for(Y=0;Y<y;Y++){w[Y]=C.length;var L=Y+1;for(oe=d[Y],$=d[Y+1],O=oe;O<$;O++)Z=l[O],C.push(Z),T[Z]=L,F&&(F[Z]=s[O]);for(oe=g[Y],$=g[Y+1],O=oe;O<$;O++)if(Z=h[O],T[Z]===L){if(F){var ee=x(F[Z],c[O]);_(ee,b)?T[Z]=null:F[Z]=ee}}else C.push(Z),k[Z]=L,N&&(N[Z]=c[O]);if(F&&N)for(O=w[Y];O<C.length;)Z=C[O],T[Z]===L?(A[O]=F[Z],O++):k[Z]===L?(A[O]=N[Z],O++):C.splice(O,1)}return w[y]=C.length,n.createSparseMatrix({values:A,index:C,ptr:w,size:[v,y],datatype:p===n._datatype&&m===o._datatype?D:void 0})}});var rl="matAlgo10xSids",tl=["typed","DenseMatrix"],bn=U(rl,tl,e=>{var{typed:r,DenseMatrix:t}=e;return function(n,o,i,s){var l=n._values,d=n._index,u=n._ptr,p=n._size,c=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=p[0],g=p[1],f,m=i;typeof c=="string"&&(f=c,o=r.convert(o,f),m=r.find(i,[f,f]));for(var v=[],y=[],D=[],_=0;_<g;_++){for(var b=_+1,x=u[_],A=u[_+1],C=x;C<A;C++){var w=d[C];y[w]=l[C],D[w]=b}for(var F=0;F<h;F++)_===0&&(v[F]=[]),D[F]===b?v[F][_]=s?m(o,y[F]):m(y[F],o):v[F][_]=o}return new t({data:v,size:[h,g],datatype:f})}});var nl="multiplyScalar",al=["typed"],Do=U(nl,al,e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":ao,"Complex, Complex":function(a,n){return a.mul(n)},"BigNumber, BigNumber":function(a,n){return a.times(n)},"Fraction, Fraction":function(a,n){return a.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(t,a)=>a.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,a)=>t.multiply(a)})});var Xu="multiply",ol=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],yo=U(Xu,ol,e=>{var{typed:r,matrix:t,addScalar:a,multiplyScalar:n,equalScalar:o,dot:i}=e,s=gn({typed:r,equalScalar:o}),l=Dn({typed:r});function d(b,x){switch(b.length){case 1:switch(x.length){case 1:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+b[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+b[1]+") must match Vector length ("+x[0]+")");break;case 2:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+b[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+b.length+" dimensions)")}}function u(b,x,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return i(b,x)}function p(b,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return c(b,x)}function c(b,x){var A=b._data,C=b._size,w=b._datatype||b.getDataType(),F=x._data,N=x._size,T=x._datatype||x.getDataType(),k=C[0],Z=N[1],Y,O=a,oe=n;w&&T&&w===T&&typeof w=="string"&&w!=="mixed"&&(Y=w,O=r.find(a,[Y,Y]),oe=r.find(n,[Y,Y]));for(var $=[],L=0;L<Z;L++){for(var ee=oe(A[0],F[0][L]),ie=1;ie<k;ie++)ee=O(ee,oe(A[ie],F[ie][L]));$[L]=ee}return b.createDenseMatrix({data:$,size:[Z],datatype:w===b._datatype&&T===x._datatype?Y:void 0})}var h=r("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":y}),g=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":v,"SparseMatrix, DenseMatrix":D,"SparseMatrix, SparseMatrix":_});function f(b,x){var A=b._data,C=b._size,w=b._datatype||b.getDataType(),F=x._data,N=x._datatype||x.getDataType(),T=C[0],k=C[1],Z,Y=a,O=n;w&&N&&w===N&&typeof w=="string"&&w!=="mixed"&&(Z=w,Y=r.find(a,[Z,Z]),O=r.find(n,[Z,Z]));for(var oe=[],$=0;$<T;$++){for(var L=A[$],ee=O(L[0],F[0]),ie=1;ie<k;ie++)ee=Y(ee,O(L[ie],F[ie]));oe[$]=ee}return b.createDenseMatrix({data:oe,size:[T],datatype:w===b._datatype&&N===x._datatype?Z:void 0})}function m(b,x){var A=b._data,C=b._size,w=b._datatype||b.getDataType(),F=x._data,N=x._size,T=x._datatype||x.getDataType(),k=C[0],Z=C[1],Y=N[1],O,oe=a,$=n;w&&T&&w===T&&typeof w=="string"&&w!=="mixed"&&w!=="mixed"&&(O=w,oe=r.find(a,[O,O]),$=r.find(n,[O,O]));for(var L=[],ee=0;ee<k;ee++){var ie=A[ee];L[ee]=[];for(var pe=0;pe<Y;pe++){for(var le=$(ie[0],F[0][pe]),fe=1;fe<Z;fe++)le=oe(le,$(ie[fe],F[fe][pe]));L[ee][pe]=le}}return b.createDenseMatrix({data:L,size:[k,Y],datatype:w===b._datatype&&T===x._datatype?O:void 0})}function v(b,x){var A=b._data,C=b._size,w=b._datatype||b.getDataType(),F=x._values,N=x._index,T=x._ptr,k=x._size,Z=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!F)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var Y=C[0],O=k[1],oe,$=a,L=n,ee=o,ie=0;w&&Z&&w===Z&&typeof w=="string"&&w!=="mixed"&&(oe=w,$=r.find(a,[oe,oe]),L=r.find(n,[oe,oe]),ee=r.find(o,[oe,oe]),ie=r.convert(0,oe));for(var pe=[],le=[],fe=[],Pe=x.createSparseMatrix({values:pe,index:le,ptr:fe,size:[Y,O],datatype:w===b._datatype&&Z===x._datatype?oe:void 0}),we=0;we<O;we++){fe[we]=le.length;var xe=T[we],Fe=T[we+1];if(Fe>xe)for(var Ee=0,de=0;de<Y;de++){for(var He=de+1,qe=void 0,ge=xe;ge<Fe;ge++){var Me=N[ge];Ee!==He?(qe=L(A[de][Me],F[ge]),Ee=He):qe=$(qe,L(A[de][Me],F[ge]))}Ee===He&&!ee(qe,ie)&&(le.push(de),pe.push(qe))}}return fe[O]=le.length,Pe}function y(b,x){var A=b._values,C=b._index,w=b._ptr,F=b._datatype||b._data===void 0?b._datatype:b.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=x._data,T=x._datatype||x.getDataType(),k=b._size[0],Z=x._size[0],Y=[],O=[],oe=[],$,L=a,ee=n,ie=o,pe=0;F&&T&&F===T&&typeof F=="string"&&F!=="mixed"&&($=F,L=r.find(a,[$,$]),ee=r.find(n,[$,$]),ie=r.find(o,[$,$]),pe=r.convert(0,$));var le=[],fe=[];oe[0]=0;for(var Pe=0;Pe<Z;Pe++){var we=N[Pe];if(!ie(we,pe))for(var xe=w[Pe],Fe=w[Pe+1],Ee=xe;Ee<Fe;Ee++){var de=C[Ee];fe[de]?le[de]=L(le[de],ee(we,A[Ee])):(fe[de]=!0,O.push(de),le[de]=ee(we,A[Ee]))}}for(var He=O.length,qe=0;qe<He;qe++){var ge=O[qe];Y[qe]=le[ge]}return oe[1]=O.length,b.createSparseMatrix({values:Y,index:O,ptr:oe,size:[k,1],datatype:F===b._datatype&&T===x._datatype?$:void 0})}function D(b,x){var A=b._values,C=b._index,w=b._ptr,F=b._datatype||b._data===void 0?b._datatype:b.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=x._data,T=x._datatype||x.getDataType(),k=b._size[0],Z=x._size[0],Y=x._size[1],O,oe=a,$=n,L=o,ee=0;F&&T&&F===T&&typeof F=="string"&&F!=="mixed"&&(O=F,oe=r.find(a,[O,O]),$=r.find(n,[O,O]),L=r.find(o,[O,O]),ee=r.convert(0,O));for(var ie=[],pe=[],le=[],fe=b.createSparseMatrix({values:ie,index:pe,ptr:le,size:[k,Y],datatype:F===b._datatype&&T===x._datatype?O:void 0}),Pe=[],we=[],xe=0;xe<Y;xe++){le[xe]=pe.length;for(var Fe=xe+1,Ee=0;Ee<Z;Ee++){var de=N[Ee][xe];if(!L(de,ee))for(var He=w[Ee],qe=w[Ee+1],ge=He;ge<qe;ge++){var Me=C[ge];we[Me]!==Fe?(we[Me]=Fe,pe.push(Me),Pe[Me]=$(de,A[ge])):Pe[Me]=oe(Pe[Me],$(de,A[ge]))}}for(var ke=le[xe],We=pe.length,er=ke;er<We;er++){var Se=pe[er];ie[er]=Pe[Se]}}return le[Y]=pe.length,fe}function _(b,x){var A=b._values,C=b._index,w=b._ptr,F=b._datatype||b._data===void 0?b._datatype:b.getDataType(),N=x._values,T=x._index,k=x._ptr,Z=x._datatype||x._data===void 0?x._datatype:x.getDataType(),Y=b._size[0],O=x._size[1],oe=A&&N,$,L=a,ee=n;F&&Z&&F===Z&&typeof F=="string"&&F!=="mixed"&&($=F,L=r.find(a,[$,$]),ee=r.find(n,[$,$]));for(var ie=oe?[]:void 0,pe=[],le=[],fe=b.createSparseMatrix({values:ie,index:pe,ptr:le,size:[Y,O],datatype:F===b._datatype&&Z===x._datatype?$:void 0}),Pe=oe?[]:void 0,we=[],xe,Fe,Ee,de,He,qe,ge,Me,ke=0;ke<O;ke++){le[ke]=pe.length;var We=ke+1;for(He=k[ke],qe=k[ke+1],de=He;de<qe;de++)if(Me=T[de],oe)for(Fe=w[Me],Ee=w[Me+1],xe=Fe;xe<Ee;xe++)ge=C[xe],we[ge]!==We?(we[ge]=We,pe.push(ge),Pe[ge]=ee(N[de],A[xe])):Pe[ge]=L(Pe[ge],ee(N[de],A[xe]));else for(Fe=w[Me],Ee=w[Me+1],xe=Fe;xe<Ee;xe++)ge=C[xe],we[ge]!==We&&(we[ge]=We,pe.push(ge));if(oe)for(var er=le[ke],Se=pe.length,Qe=er;Qe<Se;Qe++){var nr=pe[Qe];ie[Qe]=Pe[nr]}}return le[O]=pe.length,fe}return r(Xu,n,{"Array, Array":r.referTo("Matrix, Matrix",b=>(x,A)=>{d(Ke(x),Ke(A));var C=b(t(x),t(A));return Ne(C)?C.valueOf():C}),"Matrix, Matrix":function(x,A){var C=x.size(),w=A.size();return d(C,w),C.length===1?w.length===1?u(x,A,C[0]):p(x,A):w.length===1?h(x,A):g(x,A)},"Matrix, Array":r.referTo("Matrix,Matrix",b=>(x,A)=>b(x,t(A))),"Array, Matrix":r.referToSelf(b=>(x,A)=>b(t(x,A.storage()),A)),"SparseMatrix, any":function(x,A){return s(x,A,n,!1)},"DenseMatrix, any":function(x,A){return l(x,A,n,!1)},"any, SparseMatrix":function(x,A){return s(A,x,n,!0)},"any, DenseMatrix":function(x,A){return l(A,x,n,!0)},"Array, any":function(x,A){return l(t(x),A,n,!1).valueOf()},"any, Array":function(x,A){return l(t(A),x,n,!0).valueOf()},"any, any":n,"any, any, ...any":r.referToSelf(b=>(x,A,C)=>{for(var w=b(x,A),F=0;F<C.length;F++)w=b(w,C[F]);return w})})});var Ju="subtract",il=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],bo=U(Ju,il,e=>{var{typed:r,matrix:t,equalScalar:a,subtractScalar:n,unaryMinus:o,DenseMatrix:i,concat:s}=e,l=yn({typed:r}),d=Dr({typed:r}),u=Hu({typed:r,equalScalar:a}),p=bn({typed:r,DenseMatrix:i}),c=gr({typed:r,DenseMatrix:i}),h=dr({typed:r,matrix:t,concat:s});return r(Ju,{"any, any":n},h({elop:n,SS:u,DS:l,SD:d,Ss:c,sS:p}))});var ul="matAlgo07xSSf",sl=["typed","DenseMatrix"],Sr=U(ul,sl,e=>{var{typed:r,DenseMatrix:t}=e;return function(o,i,s){var l=o._size,d=o._datatype||o._data===void 0?o._datatype:o.getDataType(),u=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==u.length)throw new De(l.length,u.length);if(l[0]!==u[0]||l[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+u+")");var c=l[0],h=l[1],g,f=0,m=s;typeof d=="string"&&d===p&&d!=="mixed"&&(g=d,f=r.convert(0,g),m=r.find(s,[g,g]));var v,y,D=[];for(v=0;v<c;v++)D[v]=[];var _=[],b=[],x=[],A=[];for(y=0;y<h;y++){var C=y+1;for(a(o,y,x,_,C),a(i,y,A,b,C),v=0;v<c;v++){var w=x[v]===C?_[v]:f,F=A[v]===C?b[v]:f;D[v][y]=m(w,F)}}return new t({data:D,size:[c,h],datatype:d===o._datatype&&p===i._datatype?g:void 0})};function a(n,o,i,s,l){for(var d=n._values,u=n._index,p=n._ptr,c=p[o],h=p[o+1];c<h;c++){var g=u[c];i[g]=l,s[g]=d[c]}}});var $u="conj",fl=["typed"],wo=U($u,fl,e=>{var{typed:r}=e;return r($u,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":r.referToSelf(t=>a=>tr(a,t))})});var ju="concat",cl=["typed","matrix","isInteger"],_o=U(ju,cl,e=>{var{typed:r,matrix:t,isInteger:a}=e;return r(ju,{"...Array | Matrix | number | BigNumber":function(o){var i,s=o.length,l=-1,d,u=!1,p=[];for(i=0;i<s;i++){var c=o[i];if(Ne(c)&&(u=!0),Be(c)||Ie(c)){if(i!==s-1)throw new Error("Dimension must be specified as last argument");if(d=l,l=c.valueOf(),!a(l))throw new TypeError("Integer number expected for dimension");if(l<0||i>0&&l>d)throw new Ir(l,d+1)}else{var h=Ce(c).valueOf(),g=Ke(h);if(p[i]=h,d=l,l=g.length-1,i>0&&l!==d)throw new De(d+1,l+1)}}if(p.length===0)throw new SyntaxError("At least one matrix expected");for(var f=p.shift();p.length;)f=Xa(f,p.shift(),l);return u?t(f):f},"...string":function(o){return o.join("")}})});var es="identity",ll=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Eo=U(es,ll,e=>{var{typed:r,config:t,matrix:a,BigNumber:n,DenseMatrix:o,SparseMatrix:i}=e;return r(es,{"":function(){return t.matrix==="Matrix"?a([]):[]},string:function(u){return a(u)},"number | BigNumber":function(u){return l(u,u,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(u,p){return l(u,u,p)},"number | BigNumber, number | BigNumber":function(u,p){return l(u,p,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,p,c){return l(u,p,c)},Array:function(u){return s(u)},"Array, string":function(u,p){return s(u,p)},Matrix:function(u){return s(u.valueOf(),u.storage())},"Matrix, string":function(u,p){return s(u.valueOf(),p)}});function s(d,u){switch(d.length){case 0:return u?a(u):[];case 1:return l(d[0],d[0],u);case 2:return l(d[0],d[1],u);default:throw new Error("Vector containing two values expected")}}function l(d,u,p){var c=Ie(d)||Ie(u)?n:null;if(Ie(d)&&(d=d.toNumber()),Ie(u)&&(u=u.toNumber()),!_e(d)||d<1)throw new Error("Parameters in function identity must be positive integers");if(!_e(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var h=c?new n(1):1,g=c?new c(0):0,f=[d,u];if(p){if(p==="sparse")return i.diagonal(f,h,0,g);if(p==="dense")return o.diagonal(f,h,0,g);throw new TypeError('Unknown matrix type "'.concat(p,'"'))}for(var m=pt([],f,g),v=d<u?d:u,y=0;y<v;y++)m[y][y]=h;return m}});function rs(){throw new Error('No "bignumber" implementation available')}function ts(){throw new Error('No "fraction" implementation available')}function ns(){throw new Error('No "matrix" implementation available')}var as="size",pl=["typed","config","?matrix"],Ao=U(as,pl,e=>{var{typed:r,config:t,matrix:a}=e;return r(as,{Matrix:function(o){return o.create(o.size())},Array:Ke,string:function(o){return t.matrix==="Array"?[o.length]:a([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return t.matrix==="Array"?[]:a?a([]):ns()}})});var os="transpose",dl=["typed","matrix"],Co=U(os,dl,e=>{var{typed:r,matrix:t}=e;return r(os,{Array:i=>a(t(i)).valueOf(),Matrix:a,any:Ce});function a(i){var s=i.size(),l;switch(s.length){case 1:l=i.clone();break;case 2:{var d=s[0],u=s[1];if(u===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Re(s)+")");switch(i.storage()){case"dense":l=n(i,d,u);break;case"sparse":l=o(i,d,u);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Re(s)+")")}return l}function n(i,s,l){for(var d=i._data,u=[],p,c=0;c<l;c++){p=u[c]=[];for(var h=0;h<s;h++)p[h]=Ce(d[h][c])}return i.createDenseMatrix({data:u,size:[l,s],datatype:i._datatype})}function o(i,s,l){for(var d=i._values,u=i._index,p=i._ptr,c=d?[]:void 0,h=[],g=[],f=[],m=0;m<s;m++)f[m]=0;var v,y,D;for(v=0,y=u.length;v<y;v++)f[u[v]]++;for(var _=0,b=0;b<s;b++)g.push(_),_+=f[b],f[b]=g[b];for(g.push(_),D=0;D<l;D++)for(var x=p[D],A=p[D+1],C=x;C<A;C++){var w=f[u[C]]++;h[w]=D,d&&(c[w]=Ce(d[C]))}return i.createSparseMatrix({values:c,index:h,ptr:g,size:[l,s],datatype:i._datatype})}});var is="ctranspose",hl=["typed","transpose","conj"],Fo=U(is,hl,e=>{var{typed:r,transpose:t,conj:a}=e;return r(is,{any:function(o){return a(t(o))}})});var us="zeros",ml=["typed","config","matrix","BigNumber"],So=U(us,ml,e=>{var{typed:r,config:t,matrix:a,BigNumber:n}=e;return r(us,{"":function(){return t.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(d){var u=d[d.length-1];if(typeof u=="string"){var p=d.pop();return o(d,p)}else return t.matrix==="Array"?o(d):o(d,"default")},Array:o,Matrix:function(d){var u=d.storage();return o(d.valueOf(),u)},"Array | Matrix, string":function(d,u){return o(d.valueOf(),u)}});function o(l,d){var u=i(l),p=u?new n(0):0;if(s(l),d){var c=a(d);return l.length>0?c.resize(l,p):c}else{var h=[];return l.length>0?pt(h,l,p):h}}function i(l){var d=!1;return l.forEach(function(u,p,c){Ie(u)&&(d=!0,c[p]=u.toNumber())}),d}function s(l){l.forEach(function(d){if(typeof d!="number"||!_e(d)||d<0)throw new Error("Parameters in function zeros must be positive integers")})}});var vl="numeric",xl=["number","?bignumber","?fraction"],Mo=U(vl,xl,e=>{var{number:r,bignumber:t,fraction:a}=e,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:i=>r(i),BigNumber:t?i=>t(i):rs,Fraction:a?i=>a(i):ts};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",d=arguments.length>2?arguments[2]:void 0;if(d!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var u=_r(s);if(!(u in n))throw new TypeError("Cannot convert "+s+' of type "'+u+'"; valid input types are '+Object.keys(n).join(", "));if(!(l in o))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(o).join(", "));return l===u?s:o[l](s)}});var ss="divideScalar",gl=["typed","numeric"],No=U(ss,gl,e=>{var{typed:r,numeric:t}=e;return r(ss,{"number, number":function(n,o){return n/o},"Complex, Complex":function(n,o){return n.div(o)},"BigNumber, BigNumber":function(n,o){return n.div(o)},"Fraction, Fraction":function(n,o){return n.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(a,n)=>a.divide(n),"number | Fraction | Complex | BigNumber, Unit":(a,n)=>n.divideInto(a)})});var fs="dotDivide",Dl=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],Bo=U(fs,Dl,e=>{var{typed:r,matrix:t,equalScalar:a,divideScalar:n,DenseMatrix:o,concat:i}=e,s=Gu({typed:r,equalScalar:a}),l=Dr({typed:r}),d=Sr({typed:r,DenseMatrix:o}),u=gn({typed:r,equalScalar:a}),p=gr({typed:r,DenseMatrix:o}),c=dr({typed:r,matrix:t,concat:i});return r(fs,c({elop:n,SS:d,DS:l,SD:s,Ss:u,sS:p}))});function Et(e){var{DenseMatrix:r}=e;return function(a,n,o){var i=a.size();if(i.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Re(i)+")");var s=i[0],l=i[1];if(s!==l)throw new RangeError("Matrix must be square (size: "+Re(i)+")");var d=[];if(Ne(n)){var u=n.size(),p=n._data;if(u.length===1){if(u[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var c=0;c<s;c++)d[c]=[p[c]];return new r({data:d,size:[s,1],datatype:n._datatype})}if(u.length===2){if(u[0]!==s||u[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(rn(n)){if(o){d=[];for(var h=0;h<s;h++)d[h]=[p[h][0]];return new r({data:d,size:[s,1],datatype:n._datatype})}return n}if(tn(n)){for(var g=0;g<s;g++)d[g]=[0];for(var f=n._values,m=n._index,v=n._ptr,y=v[1],D=v[0];D<y;D++){var _=m[D];d[_][0]=f[D]}return new r({data:d,size:[s,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Oe(n)){var b=Ke(n);if(b.length===1){if(b[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<s;x++)d[x]=[n[x]];return new r({data:d,size:[s,1]})}if(b.length===2){if(b[0]!==s||b[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var A=0;A<s;A++)d[A]=[n[A][0]];return new r({data:d,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var cs="lsolve",yl=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],To=U(cs,yl,e=>{var{typed:r,matrix:t,divideScalar:a,multiplyScalar:n,subtractScalar:o,equalScalar:i,DenseMatrix:s}=e,l=Et({DenseMatrix:s});return r(cs,{"SparseMatrix, Array | Matrix":function(c,h){return u(c,h)},"DenseMatrix, Array | Matrix":function(c,h){return d(c,h)},"Array, Array | Matrix":function(c,h){var g=t(c),f=d(g,h);return f.valueOf()}});function d(p,c){c=l(p,c,!0);for(var h=c._data,g=p._size[0],f=p._size[1],m=[],v=p._data,y=0;y<f;y++){var D=h[y][0]||0,_=void 0;if(i(D,0))_=0;else{var b=v[y][y];if(i(b,0))throw new Error("Linear system cannot be solved since matrix is singular");_=a(D,b);for(var x=y+1;x<g;x++)h[x]=[o(h[x][0]||0,n(_,v[x][y]))]}m[y]=[_]}return new s({data:m,size:[g,1]})}function u(p,c){c=l(p,c,!0);for(var h=c._data,g=p._size[0],f=p._size[1],m=p._values,v=p._index,y=p._ptr,D=[],_=0;_<f;_++){var b=h[_][0]||0;if(i(b,0))D[_]=[0];else{for(var x=0,A=[],C=[],w=y[_],F=y[_+1],N=w;N<F;N++){var T=v[N];T===_?x=m[N]:T>_&&(A.push(m[N]),C.push(T))}if(i(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=a(b,x),Z=0,Y=C.length;Z<Y;Z++){var O=C[Z];h[O]=[o(h[O][0]||0,n(k,A[Z]))]}D[_]=[k]}}return new s({data:D,size:[g,1]})}});var ls="usolve",bl=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],zo=U(ls,bl,e=>{var{typed:r,matrix:t,divideScalar:a,multiplyScalar:n,subtractScalar:o,equalScalar:i,DenseMatrix:s}=e,l=Et({DenseMatrix:s});return r(ls,{"SparseMatrix, Array | Matrix":function(c,h){return u(c,h)},"DenseMatrix, Array | Matrix":function(c,h){return d(c,h)},"Array, Array | Matrix":function(c,h){var g=t(c),f=d(g,h);return f.valueOf()}});function d(p,c){c=l(p,c,!0);for(var h=c._data,g=p._size[0],f=p._size[1],m=[],v=p._data,y=f-1;y>=0;y--){var D=h[y][0]||0,_=void 0;if(i(D,0))_=0;else{var b=v[y][y];if(i(b,0))throw new Error("Linear system cannot be solved since matrix is singular");_=a(D,b);for(var x=y-1;x>=0;x--)h[x]=[o(h[x][0]||0,n(_,v[x][y]))]}m[y]=[_]}return new s({data:m,size:[g,1]})}function u(p,c){c=l(p,c,!0);for(var h=c._data,g=p._size[0],f=p._size[1],m=p._values,v=p._index,y=p._ptr,D=[],_=f-1;_>=0;_--){var b=h[_][0]||0;if(i(b,0))D[_]=[0];else{for(var x=0,A=[],C=[],w=y[_],F=y[_+1],N=F-1;N>=w;N--){var T=v[N];T===_?x=m[N]:T<_&&(A.push(m[N]),C.push(T))}if(i(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=a(b,x),Z=0,Y=C.length;Z<Y;Z++){var O=C[Z];h[O]=[o(h[O][0],n(k,A[Z]))]}D[_]=[k]}}return new s({data:D,size:[g,1]})}});var wn="equal",wl=["typed","matrix","equalScalar","DenseMatrix","concat"],Io=U(wn,wl,e=>{var{typed:r,matrix:t,equalScalar:a,DenseMatrix:n,concat:o}=e,i=Dr({typed:r}),s=Sr({typed:r,DenseMatrix:n}),l=gr({typed:r,DenseMatrix:n}),d=dr({typed:r,matrix:t,concat:o});return r(wn,_l({typed:r,equalScalar:a}),d({elop:a,SS:s,DS:i,Ss:l}))}),_l=U(wn,["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return r(wn,{"any, any":function(n,o){return n===null?o===null:o===null?n===null:n===void 0?o===void 0:o===void 0?n===void 0:t(n,o)}})});var _n="smaller",El=["typed","config","matrix","DenseMatrix","concat"],Ro=U(_n,El,e=>{var{typed:r,config:t,matrix:a,DenseMatrix:n,concat:o}=e,i=Dr({typed:r}),s=Sr({typed:r,DenseMatrix:n}),l=gr({typed:r,DenseMatrix:n}),d=dr({typed:r,matrix:a,concat:o}),u=Jr({typed:r});return r(_n,Al({typed:r,config:t}),{"boolean, boolean":(p,c)=>p<c,"BigNumber, BigNumber":function(c,h){return c.lt(h)&&!Xr(c,h,t.epsilon)},"Fraction, Fraction":(p,c)=>p.compare(c)===-1,"Complex, Complex":function(c,h){throw new TypeError("No ordering relation is defined for complex numbers")}},u,d({SS:s,DS:i,Ss:l}))}),Al=U(_n,["typed","config"],e=>{var{typed:r,config:t}=e;return r(_n,{"number, number":function(n,o){return n<o&&!vr(n,o,t.epsilon)}})});var En="larger",Cl=["typed","config","matrix","DenseMatrix","concat"],Po=U(En,Cl,e=>{var{typed:r,config:t,matrix:a,DenseMatrix:n,concat:o}=e,i=Dr({typed:r}),s=Sr({typed:r,DenseMatrix:n}),l=gr({typed:r,DenseMatrix:n}),d=dr({typed:r,matrix:a,concat:o}),u=Jr({typed:r});return r(En,Fl({typed:r,config:t}),{"boolean, boolean":(p,c)=>p>c,"BigNumber, BigNumber":function(c,h){return c.gt(h)&&!Xr(c,h,t.epsilon)},"Fraction, Fraction":(p,c)=>p.compare(c)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,d({SS:s,DS:i,Ss:l}))}),Fl=U(En,["typed","config"],e=>{var{typed:r,config:t}=e;return r(En,{"number, number":function(n,o){return n>o&&!vr(n,o,t.epsilon)}})});var An="largerEq",Sl=["typed","config","matrix","DenseMatrix","concat"],Oo=U(An,Sl,e=>{var{typed:r,config:t,matrix:a,DenseMatrix:n,concat:o}=e,i=Dr({typed:r}),s=Sr({typed:r,DenseMatrix:n}),l=gr({typed:r,DenseMatrix:n}),d=dr({typed:r,matrix:a,concat:o}),u=Jr({typed:r});return r(An,Ml({typed:r,config:t}),{"boolean, boolean":(p,c)=>p>=c,"BigNumber, BigNumber":function(c,h){return c.gte(h)||Xr(c,h,t.epsilon)},"Fraction, Fraction":(p,c)=>p.compare(c)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,d({SS:s,DS:i,Ss:l}))}),Ml=U(An,["typed","config"],e=>{var{typed:r,config:t}=e;return r(An,{"number, number":function(n,o){return n>=o||vr(n,o,t.epsilon)}})});var ps="deepEqual",Nl=["typed","equal"],Lo=U(ps,Nl,e=>{var{typed:r,equal:t}=e;return r(ps,{"any, any":function(o,i){return a(o.valueOf(),i.valueOf())}});function a(n,o){if(Array.isArray(n))if(Array.isArray(o)){var i=n.length;if(i!==o.length)return!1;for(var s=0;s<i;s++)if(!a(n[s],o[s]))return!1;return!0}else return!1;else return Array.isArray(o)?!1:t(n,o)}});var Bl="FibonacciHeap",Tl=["smaller","larger"],qo=U(Bl,Tl,e=>{var{smaller:r,larger:t}=e,a=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(u,p){var c={key:u,value:p,degree:0};if(this._minimum){var h=this._minimum;c.left=h,c.right=h.right,h.right=c,c.right.left=c,r(u,h.key)&&(this._minimum=c)}else c.left=c,c.right=c,this._minimum=c;return this._size++,c},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var u=this._minimum;if(u===null)return u;for(var p=this._minimum,c=u.degree,h=u.child;c>0;){var g=h.right;h.left.right=h.right,h.right.left=h.left,h.left=p,h.right=p.right,p.right=h,h.right.left=h,h.parent=null,h=g,c--}return u.left.right=u.right,u.right.left=u.left,u===u.right?p=null:(p=u.right,p=d(p,this._size)),this._size--,this._minimum=p,u},n.prototype.remove=function(u){this._minimum=o(this._minimum,u,-1),this.extractMinimum()};function o(u,p,c){p.key=c;var h=p.parent;return h&&r(p.key,h.key)&&(i(u,p,h),s(u,h)),r(p.key,u.key)&&(u=p),u}function i(u,p,c){p.left.right=p.right,p.right.left=p.left,c.degree--,c.child===p&&(c.child=p.right),c.degree===0&&(c.child=null),p.left=u,p.right=u.right,u.right=p,p.right.left=p,p.parent=null,p.mark=!1}function s(u,p){var c=p.parent;c&&(p.mark?(i(u,p,c),s(c)):p.mark=!0)}var l=function(p,c){p.left.right=p.right,p.right.left=p.left,p.parent=c,c.child?(p.left=c.child,p.right=c.child.right,c.child.right=p,p.right.left=p):(c.child=p,p.right=p,p.left=p),c.degree++,p.mark=!1};function d(u,p){var c=Math.floor(Math.log(p)*a)+1,h=new Array(c),g=0,f=u;if(f)for(g++,f=f.right;f!==u;)g++,f=f.right;for(var m;g>0;){for(var v=f.degree,y=f.right;m=h[v],!!m;){if(t(f.key,m.key)){var D=m;m=f,f=D}l(m,f),h[v]=null,v++}h[v]=f,f=y,g--}u=null;for(var _=0;_<c;_++)m=h[_],m&&(u?(m.left.right=m.right,m.right.left=m.left,m.left=u,m.right=u.right,u.right=m,m.right.left=m,r(m.key,u.key)&&(u=m)):u=m);return u}return n},{isClass:!0});var zl="Spa",Il=["addScalar","equalScalar","FibonacciHeap"],Uo=U(zl,Il,e=>{var{addScalar:r,equalScalar:t,FibonacciHeap:a}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new a}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(o,i){if(this._values[o])this._values[o].value=i;else{var s=this._heap.insert(o,i);this._values[o]=s}},n.prototype.get=function(o){var i=this._values[o];return i?i.value:0},n.prototype.accumulate=function(o,i){var s=this._values[o];s?s.value=r(s.value,i):(s=this._heap.insert(o,i),this._values[o]=s)},n.prototype.forEach=function(o,i,s){var l=this._heap,d=this._values,u=[],p=l.extractMinimum();for(p&&u.push(p);p&&p.key<=i;)p.key>=o&&(t(p.value,0)||s(p.key,p.value,this)),p=l.extractMinimum(),p&&u.push(p);for(var c=0;c<u.length;c++){var h=u[c];p=l.insert(h.key,h.value),d[p.key]=p}},n.prototype.swap=function(o,i){var s=this._values[o],l=this._values[i];if(!s&&l)s=this._heap.insert(o,l.value),this._heap.remove(l),this._values[o]=s,this._values[i]=void 0;else if(s&&!l)l=this._heap.insert(i,s.value),this._heap.remove(s),this._values[i]=l,this._values[o]=void 0;else if(s&&l){var d=s.value;s.value=l.value,l.value=d}},n},{isClass:!0});var ds="sparse",Rl=["typed","SparseMatrix"],Vo=U(ds,Rl,e=>{var{typed:r,SparseMatrix:t}=e;return r(ds,{"":function(){return new t([])},string:function(n){return new t([],n)},"Array | Matrix":function(n){return new t(n)},"Array | Matrix, string":function(n,o){return new t(n,o)}})});var hs="add",Pl=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Zo=U(hs,Pl,e=>{var{typed:r,matrix:t,addScalar:a,equalScalar:n,DenseMatrix:o,SparseMatrix:i,concat:s}=e,l=yn({typed:r}),d=Qu({typed:r,equalScalar:n}),u=bn({typed:r,DenseMatrix:o}),p=dr({typed:r,matrix:t,concat:s});return r(hs,{"any, any":a,"any, any, ...any":r.referToSelf(c=>(h,g,f)=>{for(var m=c(h,g),v=0;v<f.length;v++)m=c(m,f[v]);return m})},p({elop:a,DS:l,SS:d,Ss:u}))});var ms="dot",Ol=["typed","addScalar","multiplyScalar","conj","size"],Yo=U(ms,Ol,e=>{var{typed:r,addScalar:t,multiplyScalar:a,conj:n,size:o}=e;return r(ms,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function i(u,p){var c=d(u),h=d(p),g,f;if(c.length===1)g=c[0];else if(c.length===2&&c[1]===1)g=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(h.length===1)f=h[0];else if(h.length===2&&h[1]===1)f=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(g!==f)throw new RangeError("Vectors must have equal length ("+g+" != "+f+")");if(g===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return g}function s(u,p){var c=i(u,p),h=Ne(u)?u._data:u,g=Ne(u)?u._datatype||u.getDataType():void 0,f=Ne(p)?p._data:p,m=Ne(p)?p._datatype||p.getDataType():void 0,v=d(u).length===2,y=d(p).length===2,D=t,_=a;if(g&&m&&g===m&&typeof g=="string"&&g!=="mixed"){var b=g;D=r.find(t,[b,b]),_=r.find(a,[b,b])}if(!v&&!y){for(var x=_(n(h[0]),f[0]),A=1;A<c;A++)x=D(x,_(n(h[A]),f[A]));return x}if(!v&&y){for(var C=_(n(h[0]),f[0][0]),w=1;w<c;w++)C=D(C,_(n(h[w]),f[w][0]));return C}if(v&&!y){for(var F=_(n(h[0][0]),f[0]),N=1;N<c;N++)F=D(F,_(n(h[N][0]),f[N]));return F}if(v&&y){for(var T=_(n(h[0][0]),f[0][0]),k=1;k<c;k++)T=D(T,_(n(h[k][0]),f[k][0]));return T}}function l(u,p){i(u,p);for(var c=u._index,h=u._values,g=p._index,f=p._values,m=0,v=t,y=a,D=0,_=0;D<c.length&&_<g.length;){var b=c[D],x=g[_];if(b<x){D++;continue}if(b>x){_++;continue}b===x&&(m=v(m,y(h[D],f[_])),D++,_++)}return m}function d(u){return Ne(u)?u.size():o(u)}});var vs="lup",Ll=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],ko=U(vs,Ll,e=>{var{typed:r,matrix:t,abs:a,addScalar:n,divideScalar:o,multiplyScalar:i,subtractScalar:s,larger:l,equalScalar:d,unaryMinus:u,DenseMatrix:p,SparseMatrix:c,Spa:h}=e;return r(vs,{DenseMatrix:function(v){return g(v)},SparseMatrix:function(v){return f(v)},Array:function(v){var y=t(v),D=g(y);return{L:D.L.valueOf(),U:D.U.valueOf(),p:D.p}}});function g(m){var v=m._size[0],y=m._size[1],D=Math.min(v,y),_=Ce(m._data),b=[],x=[v,D],A=[],C=[D,y],w,F,N,T=[];for(w=0;w<v;w++)T[w]=w;for(F=0;F<y;F++){if(F>0)for(w=0;w<v;w++){var k=Math.min(w,F),Z=0;for(N=0;N<k;N++)Z=n(Z,i(_[w][N],_[N][F]));_[w][F]=s(_[w][F],Z)}var Y=F,O=0,oe=0;for(w=F;w<v;w++){var $=_[w][F],L=a($);l(L,O)&&(Y=w,O=L,oe=$)}if(F!==Y&&(T[F]=[T[Y],T[Y]=T[F]][0],p._swapRows(F,Y,_)),F<v)for(w=F+1;w<v;w++){var ee=_[w][F];d(ee,0)||(_[w][F]=o(_[w][F],oe))}}for(F=0;F<y;F++)for(w=0;w<v;w++){if(F===0&&(w<y&&(A[w]=[]),b[w]=[]),w<F){w<y&&(A[w][F]=_[w][F]),F<v&&(b[w][F]=0);continue}if(w===F){w<y&&(A[w][F]=_[w][F]),F<v&&(b[w][F]=1);continue}w<y&&(A[w][F]=0),F<v&&(b[w][F]=_[w][F])}var ie=new p({data:b,size:x}),pe=new p({data:A,size:C}),le=[];for(w=0,D=T.length;w<D;w++)le[T[w]]=w;return{L:ie,U:pe,p:le,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function f(m){var v=m._size[0],y=m._size[1],D=Math.min(v,y),_=m._values,b=m._index,x=m._ptr,A=[],C=[],w=[],F=[v,D],N=[],T=[],k=[],Z=[D,y],Y,O,oe,$=[],L=[];for(Y=0;Y<v;Y++)$[Y]=Y,L[Y]=Y;var ee=function(le,fe){var Pe=L[le],we=L[fe];$[Pe]=fe,$[we]=le,L[le]=we,L[fe]=Pe},ie=function(){var le=new h;O<v&&(w.push(A.length),A.push(1),C.push(O)),k.push(N.length);var fe=x[O],Pe=x[O+1];for(oe=fe;oe<Pe;oe++)Y=b[oe],le.set($[Y],_[oe]);O>0&&le.forEach(0,O-1,function(Ee,de){c._forEachRow(Ee,A,C,w,function(He,qe){He>Ee&&le.accumulate(He,u(i(qe,de)))})});var we=O,xe=le.get(O),Fe=a(xe);le.forEach(O+1,v-1,function(Ee,de){var He=a(de);l(He,Fe)&&(we=Ee,Fe=He,xe=de)}),O!==we&&(c._swapRows(O,we,F[1],A,C,w),c._swapRows(O,we,Z[1],N,T,k),le.swap(O,we),ee(O,we)),le.forEach(0,v-1,function(Ee,de){Ee<=O?(N.push(de),T.push(Ee)):(de=o(de,xe),d(de,0)||(A.push(de),C.push(Ee)))})};for(O=0;O<y;O++)ie();return k.push(N.length),w.push(A.length),{L:new c({values:A,index:C,ptr:w,size:F}),U:new c({values:N,index:T,ptr:k,size:Z}),p:$,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function xs(e,r,t,a){for(var n=e._values,o=e._index,i=e._ptr,s=e._size,l=e._datatype,d=s[0],u=s[1],p=a&&e._values?[]:null,c=[],h=[],g=0,f=0;f<u;f++){h[f]=g;for(var m=t?t[f]:f,v=i[m],y=i[m+1],D=v;D<y;D++){var _=r?r[o[D]]:o[D];c[g]=_,p&&(p[g]=n[D]),g++}}return h[u]=g,e.createSparseMatrix({values:p,index:c,ptr:h,size:[d,u],datatype:l})}function Cn(e,r,t,a,n,o,i){var s=0;for(t[i]=e;s>=0;){var l=t[i+s],d=t[a+l];d===-1?(s--,o[r++]=l):(t[a+l]=t[n+d],++s,t[i+s]=d)}return r}function gs(e,r){if(!e)return null;var t=0,a,n=[],o=[],i=0,s=r,l=2*r;for(a=0;a<r;a++)o[i+a]=-1;for(a=r-1;a>=0;a--)e[a]!==-1&&(o[s+a]=o[i+e[a]],o[i+e[a]]=a);for(a=0;a<r;a++)e[a]===-1&&(t=Cn(a,t,o,i,s,n,l));return n}function Ds(e,r){if(!e)return null;var t=e._index,a=e._ptr,n=e._size,o=n[0],i=n[1],s=[],l=[],d=0,u=i,p,c;if(r)for(p=0;p<o;p++)l[u+p]=-1;for(var h=0;h<i;h++){s[h]=-1,l[d+h]=-1;for(var g=a[h],f=a[h+1],m=g;m<f;m++){var v=t[m];for(p=r?l[u+v]:v;p!==-1&&p<h;p=c)c=l[d+p],l[d+p]=h,c===-1&&(s[p]=h);r&&(l[u+v]=h)}}return s}function ys(e,r,t){for(var a=e._values,n=e._index,o=e._ptr,i=e._size,s=i[1],l=0,d=0;d<s;d++){var u=o[d];for(o[d]=l;u<o[d+1];u++)r(n[u],d,a?a[u]:1,t)&&(n[l]=n[u],a&&(a[l]=a[u]),l++)}return o[s]=l,n.splice(l,n.length-l),a&&a.splice(l,a.length-l),l}function br(e){return-e-2}var ql="csAmd",Ul=["add","multiply","transpose"],bs=U(ql,Ul,e=>{var{add:r,multiply:t,transpose:a}=e;return function(u,p){if(!p||u<=0||u>3)return null;var c=p._size,h=c[0],g=c[1],f=0,m=Math.max(16,10*Math.sqrt(g));m=Math.min(g-2,m);var v=n(u,p,h,g,m);ys(v,l,null);for(var y=v._index,D=v._ptr,_=D[g],b=[],x=[],A=0,C=g+1,w=2*(g+1),F=3*(g+1),N=4*(g+1),T=5*(g+1),k=6*(g+1),Z=7*(g+1),Y=b,O=o(g,D,x,A,F,Y,w,Z,C,k,N,T),oe=i(g,D,x,T,N,k,m,C,F,Y,w),$=0,L,ee,ie,pe,le,fe,Pe,we,xe,Fe,Ee,de,He,qe,ge,Me;oe<g;){for(ie=-1;$<g&&(ie=x[F+$])===-1;$++);x[w+ie]!==-1&&(Y[x[w+ie]]=-1),x[F+$]=x[w+ie];var ke=x[N+ie],We=x[C+ie];oe+=We;var er=0;x[C+ie]=-We;var Se=D[ie],Qe=ke===0?Se:_,nr=Qe;for(pe=1;pe<=ke+1;pe++){for(pe>ke?(fe=ie,Pe=Se,we=x[A+ie]-ke):(fe=y[Se++],Pe=D[fe],we=x[A+fe]),le=1;le<=we;le++)L=y[Pe++],!((xe=x[C+L])<=0)&&(er+=xe,x[C+L]=-xe,y[nr++]=L,x[w+L]!==-1&&(Y[x[w+L]]=Y[L]),Y[L]!==-1?x[w+Y[L]]=x[w+L]:x[F+x[T+L]]=x[w+L]);fe!==ie&&(D[fe]=br(ie),x[k+fe]=0)}for(ke!==0&&(_=nr),x[T+ie]=er,D[ie]=Qe,x[A+ie]=nr-Qe,x[N+ie]=-2,O=s(O,f,x,k,g),Fe=Qe;Fe<nr;Fe++)if(L=y[Fe],!((Ee=x[N+L])<=0)){xe=-x[C+L];var qr=O-xe;for(Se=D[L],de=D[L]+Ee-1;Se<=de;Se++)fe=y[Se],x[k+fe]>=O?x[k+fe]-=xe:x[k+fe]!==0&&(x[k+fe]=x[T+fe]+qr)}for(Fe=Qe;Fe<nr;Fe++){for(L=y[Fe],de=D[L],He=de+x[N+L]-1,qe=de,ge=0,Me=0,Se=de;Se<=He;Se++)if(fe=y[Se],x[k+fe]!==0){var Br=x[k+fe]-O;Br>0?(Me+=Br,y[qe++]=fe,ge+=fe):(D[fe]=br(ie),x[k+fe]=0)}x[N+L]=qe-de+1;var Ur=qe,at=de+x[A+L];for(Se=He+1;Se<at;Se++){ee=y[Se];var ot=x[C+ee];ot<=0||(Me+=ot,y[qe++]=ee,ge+=ee)}Me===0?(D[L]=br(ie),xe=-x[C+L],er-=xe,We+=xe,oe+=xe,x[C+L]=0,x[N+L]=-1):(x[T+L]=Math.min(x[T+L],Me),y[qe]=y[Ur],y[Ur]=y[de],y[de]=ie,x[A+L]=qe-de+1,ge=(ge<0?-ge:ge)%g,x[w+L]=x[Z+ge],x[Z+ge]=L,Y[L]=ge)}for(x[T+ie]=er,f=Math.max(f,er),O=s(O+f,f,x,k,g),Fe=Qe;Fe<nr;Fe++)if(L=y[Fe],!(x[C+L]>=0))for(ge=Y[L],L=x[Z+ge],x[Z+ge]=-1;L!==-1&&x[w+L]!==-1;L=x[w+L],O++){for(we=x[A+L],Ee=x[N+L],Se=D[L]+1;Se<=D[L]+we-1;Se++)x[k+y[Se]]=O;var it=L;for(ee=x[w+L];ee!==-1;){var Vr=x[A+ee]===we&&x[N+ee]===Ee;for(Se=D[ee]+1;Vr&&Se<=D[ee]+we-1;Se++)x[k+y[Se]]!==O&&(Vr=0);Vr?(D[ee]=br(L),x[C+L]+=x[C+ee],x[C+ee]=0,x[N+ee]=-1,ee=x[w+ee],x[w+it]=ee):(it=ee,ee=x[w+ee])}}for(Se=Qe,Fe=Qe;Fe<nr;Fe++)L=y[Fe],!((xe=-x[C+L])<=0)&&(x[C+L]=xe,Me=x[T+L]+er-xe,Me=Math.min(Me,g-oe-xe),x[F+Me]!==-1&&(Y[x[F+Me]]=L),x[w+L]=x[F+Me],Y[L]=-1,x[F+Me]=L,$=Math.min($,Me),x[T+L]=Me,y[Se++]=L);x[C+ie]=We,(x[A+ie]=Se-Qe)===0&&(D[ie]=-1,x[k+ie]=0),ke!==0&&(_=Se)}for(L=0;L<g;L++)D[L]=br(D[L]);for(ee=0;ee<=g;ee++)x[F+ee]=-1;for(ee=g;ee>=0;ee--)x[C+ee]>0||(x[w+ee]=x[F+D[ee]],x[F+D[ee]]=ee);for(fe=g;fe>=0;fe--)x[C+fe]<=0||D[fe]!==-1&&(x[w+fe]=x[F+D[fe]],x[F+D[fe]]=fe);for(ie=0,L=0;L<=g;L++)D[L]===-1&&(ie=Cn(L,ie,x,F,w,b,k));return b.splice(b.length-1,1),b};function n(d,u,p,c,h){var g=a(u);if(d===1&&c===p)return r(u,g);if(d===2){for(var f=g._index,m=g._ptr,v=0,y=0;y<p;y++){var D=m[y];if(m[y]=v,!(m[y+1]-D>h))for(var _=m[y+1];D<_;D++)f[v++]=f[D]}return m[p]=v,u=a(g),t(g,u)}return t(g,u)}function o(d,u,p,c,h,g,f,m,v,y,D,_){for(var b=0;b<d;b++)p[c+b]=u[b+1]-u[b];p[c+d]=0;for(var x=0;x<=d;x++)p[h+x]=-1,g[x]=-1,p[f+x]=-1,p[m+x]=-1,p[v+x]=1,p[y+x]=1,p[D+x]=0,p[_+x]=p[c+x];var A=s(0,0,p,y,d);return p[D+d]=-2,u[d]=-1,p[y+d]=0,A}function i(d,u,p,c,h,g,f,m,v,y,D){for(var _=0,b=0;b<d;b++){var x=p[c+b];if(x===0)p[h+b]=-2,_++,u[b]=-1,p[g+b]=0;else if(x>f)p[m+b]=0,p[h+b]=-1,_++,u[b]=br(d),p[m+d]++;else{var A=p[v+x];A!==-1&&(y[A]=b),p[D+b]=p[v+x],p[v+x]=b}}return _}function s(d,u,p,c,h){if(d<2||d+u<0){for(var g=0;g<h;g++)p[c+g]!==0&&(p[c+g]=1);d=2}return d}function l(d,u){return d!==u}});function ws(e,r,t,a,n,o,i){var s,l,d=0,u;if(e<=r||t[a+r]<=t[n+e])return-1;t[n+e]=t[a+r];var p=t[o+e];if(t[o+e]=r,p===-1)d=1,u=e;else{for(d=2,u=p;u!==t[i+u];u=t[i+u]);for(s=p;s!==u;s=l)l=t[i+s],t[i+s]=u}return{jleaf:d,q:u}}var Vl="csCounts",Zl=["transpose"],_s=U(Vl,Zl,e=>{var{transpose:r}=e;return function(t,a,n,o){if(!t||!a||!n)return null;var i=t._size,s=i[0],l=i[1],d,u,p,c,h,g,f,m=4*l+(o?l+s+1:0),v=[],y=0,D=l,_=2*l,b=3*l,x=4*l,A=5*l+1;for(p=0;p<m;p++)v[p]=-1;var C=[],w=r(t),F=w._index,N=w._ptr;for(p=0;p<l;p++)for(u=n[p],C[u]=v[b+u]===-1?1:0;u!==-1&&v[b+u]===-1;u=a[u])v[b+u]=p;if(o){for(p=0;p<l;p++)v[n[p]]=p;for(d=0;d<s;d++){for(p=l,g=N[d],f=N[d+1],h=g;h<f;h++)p=Math.min(p,v[F[h]]);v[A+d]=v[x+p],v[x+p]=d}}for(d=0;d<l;d++)v[y+d]=d;for(p=0;p<l;p++){for(u=n[p],a[u]!==-1&&C[a[u]]--,c=o?v[x+p]:u;c!==-1;c=o?v[A+c]:-1)for(h=N[c];h<N[c+1];h++){d=F[h];var T=ws(d,u,v,b,D,_,y);T.jleaf>=1&&C[u]++,T.jleaf===2&&C[T.q]--}a[u]!==-1&&(v[y+u]=a[u])}for(u=0;u<l;u++)a[u]!==-1&&(C[a[u]]+=C[u]);return C}});var Yl="csSqr",kl=["add","multiply","transpose"],Es=U(Yl,kl,e=>{var{add:r,multiply:t,transpose:a}=e,n=bs({add:r,multiply:t,transpose:a}),o=_s({transpose:a});return function(l,d,u){var p=d._ptr,c=d._size,h=c[1],g,f={};if(f.q=n(l,d),l&&!f.q)return null;if(u){var m=l?xs(d,null,f.q,0):d;f.parent=Ds(m,1);var v=gs(f.parent,h);if(f.cp=o(m,f.parent,v,1),m&&f.parent&&f.cp&&i(m,f))for(f.unz=0,g=0;g<h;g++)f.unz+=f.cp[g]}else f.unz=4*p[h]+h,f.lnz=f.unz;return f};function i(s,l){var d=s._ptr,u=s._index,p=s._size,c=p[0],h=p[1];l.pinv=[],l.leftmost=[];var g=l.parent,f=l.pinv,m=l.leftmost,v=[],y=0,D=c,_=c+h,b=c+2*h,x,A,C,w,F;for(A=0;A<h;A++)v[D+A]=-1,v[_+A]=-1,v[b+A]=0;for(x=0;x<c;x++)m[x]=-1;for(A=h-1;A>=0;A--)for(w=d[A],F=d[A+1],C=w;C<F;C++)m[u[C]]=A;for(x=c-1;x>=0;x--)f[x]=-1,A=m[x],A!==-1&&(v[b+A]++===0&&(v[_+A]=x),v[y+x]=v[D+A],v[D+A]=x);for(l.lnz=0,l.m2=c,A=0;A<h;A++)if(x=v[D+A],l.lnz++,x<0&&(x=l.m2++),f[x]=A,!(--b[A]<=0)){l.lnz+=v[b+A];var N=g[A];N!==-1&&(v[b+N]===0&&(v[_+N]=v[_+A]),v[y+v[_+A]]=v[D+N],v[D+N]=v[y+x],v[b+N]+=v[b+A])}for(x=0;x<c;x++)f[x]<0&&(f[x]=A++);return!0}});function Gt(e,r){return e[r]<0}function Fn(e,r){e[r]=br(e[r])}function Go(e){return e<0?br(e):e}function As(e,r,t,a,n){var o=r._index,i=r._ptr,s=r._size,l=s[1],d,u,p,c=0;for(a[0]=e;c>=0;){e=a[c];var h=n?n[e]:e;Gt(i,e)||(Fn(i,e),a[l+c]=h<0?0:Go(i[h]));var g=1;for(u=a[l+c],p=h<0?0:Go(i[h+1]);u<p;u++)if(d=o[u],!Gt(i,d)){a[l+c]=u,a[++c]=d,g=0;break}g&&(c--,a[--t]=e)}return t}function Cs(e,r,t,a,n){var o=e._ptr,i=e._size,s=r._index,l=r._ptr,d=i[1],u,p,c,h=d;for(p=l[t],c=l[t+1],u=p;u<c;u++){var g=s[u];Gt(o,g)||(h=As(g,e,h,a,n))}for(u=h;u<d;u++)Fn(o,a[u]);return h}var Gl="csSpsolve",Hl=["divideScalar","multiply","subtract"],Fs=U(Gl,Hl,e=>{var{divideScalar:r,multiply:t,subtract:a}=e;return function(o,i,s,l,d,u,p){var c=o._values,h=o._index,g=o._ptr,f=o._size,m=f[1],v=i._values,y=i._index,D=i._ptr,_,b,x,A,C=Cs(o,i,s,l,u);for(_=C;_<m;_++)d[l[_]]=0;for(b=D[s],x=D[s+1],_=b;_<x;_++)d[y[_]]=v[_];for(var w=C;w<m;w++){var F=l[w],N=u?u[F]:F;if(!(N<0))for(b=g[N],x=g[N+1],d[F]=r(d[F],c[p?b:x-1]),_=p?b+1:b,A=p?x:x-1;_<A;_++){var T=h[_];d[T]=a(d[T],t(c[_],d[F]))}}return C}});var Wl="csLu",Kl=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Ss=U(Wl,Kl,e=>{var{abs:r,divideScalar:t,multiply:a,subtract:n,larger:o,largerEq:i,SparseMatrix:s}=e,l=Fs({divideScalar:t,multiply:a,subtract:n});return function(u,p,c){if(!u)return null;var h=u._size,g=h[1],f,m=100,v=100;p&&(f=p.q,m=p.lnz||m,v=p.unz||v);var y=[],D=[],_=[],b=new s({values:y,index:D,ptr:_,size:[g,g]}),x=[],A=[],C=[],w=new s({values:x,index:A,ptr:C,size:[g,g]}),F=[],N,T,k=[],Z=[];for(N=0;N<g;N++)k[N]=0,F[N]=-1,_[N+1]=0;m=0,v=0;for(var Y=0;Y<g;Y++){_[Y]=m,C[Y]=v;var O=f?f[Y]:Y,oe=l(b,u,O,Z,k,F,1),$=-1,L=-1;for(T=oe;T<g;T++)if(N=Z[T],F[N]<0){var ee=r(k[N]);o(ee,L)&&(L=ee,$=N)}else A[v]=F[N],x[v++]=k[N];if($===-1||L<=0)return null;F[O]<0&&i(r(k[O]),a(L,c))&&($=O);var ie=k[$];for(A[v]=Y,x[v++]=ie,F[$]=Y,D[m]=$,y[m++]=1,T=oe;T<g;T++)N=Z[T],F[N]<0&&(D[m]=N,y[m++]=t(k[N],ie)),k[N]=0}for(_[g]=m,C[g]=v,T=0;T<m;T++)D[T]=F[D[T]];return y.splice(m,y.length-m),D.splice(m,D.length-m),x.splice(v,x.length-v),A.splice(v,A.length-v),{L:b,U:w,pinv:F}}});var Ms="slu",Ql=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Ho=U(Ms,Ql,e=>{var{typed:r,abs:t,add:a,multiply:n,transpose:o,divideScalar:i,subtract:s,larger:l,largerEq:d,SparseMatrix:u}=e,p=Es({add:a,multiply:n,transpose:o}),c=Ss({abs:t,divideScalar:i,multiply:n,subtract:s,larger:l,largerEq:d,SparseMatrix:u});return r(Ms,{"SparseMatrix, number, number":function(g,f,m){if(!_e(f)||f<0||f>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var v=p(f,g,!1),y=c(g,v,m);return{L:y.L,U:y.U,p:y.pinv,q:v.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Wo(e,r){var t,a=r.length,n=[];if(e)for(t=0;t<a;t++)n[e[t]]=r[t];else for(t=0;t<a;t++)n[t]=r[t];return n}var Ns="lusolve",Xl=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Ko=U(Ns,Xl,e=>{var{typed:r,matrix:t,lup:a,slu:n,usolve:o,lsolve:i,DenseMatrix:s}=e,l=Et({DenseMatrix:s});return r(Ns,{"Array, Array | Matrix":function(c,h){c=t(c);var g=a(c),f=u(g.L,g.U,g.p,null,h);return f.valueOf()},"DenseMatrix, Array | Matrix":function(c,h){var g=a(c);return u(g.L,g.U,g.p,null,h)},"SparseMatrix, Array | Matrix":function(c,h){var g=a(c);return u(g.L,g.U,g.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(c,h,g,f){var m=n(c,g,f);return u(m.L,m.U,m.p,m.q,h)},"Object, Array | Matrix":function(c,h){return u(c.L,c.U,c.p,c.q,h)}});function d(p){if(Ne(p))return p;if(Oe(p))return t(p);throw new TypeError("Invalid Matrix LU decomposition")}function u(p,c,h,g,f){p=d(p),c=d(c),h&&(f=l(p,f,!0),f._data=Wo(h,f._data));var m=i(p,f),v=o(c,m);return g&&(v._data=Wo(g,v._data)),v}});var Bs="det",Jl=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Qo=U(Bs,Jl,e=>{var{typed:r,matrix:t,subtractScalar:a,multiply:n,divideScalar:o,isZero:i,unaryMinus:s}=e;return r(Bs,{any:function(u){return Ce(u)},"Array | Matrix":function(u){var p;switch(Ne(u)?p=u.size():Array.isArray(u)?(u=t(u),p=u.size()):p=[],p.length){case 0:return Ce(u);case 1:if(p[0]===1)return Ce(u.valueOf()[0]);if(p[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Re(p)+")");case 2:{var c=p[0],h=p[1];if(c===h)return l(u.clone().valueOf(),c,h);if(h===0)return 1;throw new RangeError("Matrix must be square (size: "+Re(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Re(p)+")")}}});function l(d,u,p){if(u===1)return Ce(d[0][0]);if(u===2)return a(n(d[0][0],d[1][1]),n(d[1][0],d[0][1]));for(var c=!1,h=new Array(u).fill(0).map((A,C)=>C),g=0;g<u;g++){var f=h[g];if(i(d[f][g])){var m=void 0;for(m=g+1;m<u;m++)if(!i(d[h[m]][g])){f=h[m],h[m]=h[g],h[g]=f,c=!c;break}if(m===u)return d[f][g]}for(var v=d[f][g],y=g===0?1:d[h[g-1]][g-1],D=g+1;D<u;D++)for(var _=h[D],b=g+1;b<u;b++)d[_][b]=o(a(n(d[_][b],v),n(d[_][g],d[f][b])),y)}var x=d[h[u-1]][u-1];return c?s(x):x}});var Ts="inv",$l=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Xo=U(Ts,$l,e=>{var{typed:r,matrix:t,divideScalar:a,addScalar:n,multiply:o,unaryMinus:i,det:s,identity:l,abs:d}=e;return r(Ts,{"Array | Matrix":function(c){var h=Ne(c)?c.size():Ke(c);switch(h.length){case 1:if(h[0]===1)return Ne(c)?t([a(1,c.valueOf()[0])]):[a(1,c[0])];throw new RangeError("Matrix must be square (size: "+Re(h)+")");case 2:{var g=h[0],f=h[1];if(g===f)return Ne(c)?t(u(c.valueOf(),g,f),c.storage()):u(c,g,f);throw new RangeError("Matrix must be square (size: "+Re(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Re(h)+")")}},any:function(c){return a(1,c)}});function u(p,c,h){var g,f,m,v,y;if(c===1){if(v=p[0][0],v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(1,v)]]}else if(c===2){var D=s(p);if(D===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(p[1][1],D),a(i(p[0][1]),D)],[a(i(p[1][0]),D),a(p[0][0],D)]]}else{var _=p.concat();for(g=0;g<c;g++)_[g]=_[g].concat();for(var b=l(c).valueOf(),x=0;x<h;x++){var A=d(_[x][x]),C=x;for(g=x+1;g<c;)d(_[g][x])>A&&(A=d(_[g][x]),C=g),g++;if(A===0)throw Error("Cannot calculate inverse, determinant is zero");g=C,g!==x&&(y=_[x],_[x]=_[g],_[g]=y,y=b[x],b[x]=b[g],b[g]=y);var w=_[x],F=b[x];for(g=0;g<c;g++){var N=_[g],T=b[g];if(g!==x){if(N[x]!==0){for(m=a(i(N[x]),w[x]),f=x;f<h;f++)N[f]=n(N[f],o(m,w[f]));for(f=0;f<h;f++)T[f]=n(T[f],o(m,F[f]))}}else{for(m=w[x],f=x;f<h;f++)N[f]=a(N[f],m);for(f=0;f<h;f++)T[f]=a(T[f],m)}}}return b}}});var zs="pinv",jl=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],Jo=U(zs,jl,e=>{var{typed:r,matrix:t,inv:a,deepEqual:n,equal:o,dotDivide:i,dot:s,ctranspose:l,divideScalar:d,multiply:u,add:p,Complex:c}=e;return r(zs,{"Array | Matrix":function(D){var _=Ne(D)?D.size():Ke(D);switch(_.length){case 1:return v(D)?l(D):_[0]===1?a(D):i(l(D),s(D,D));case 2:{if(v(D))return l(D);var b=_[0],x=_[1];if(b===x)try{return a(D)}catch(A){if(!(A instanceof Error&&A.message.match(/Cannot calculate inverse, determinant is zero/)))throw A}return Ne(D)?t(h(D.valueOf(),b,x),D.storage()):h(D,b,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+Re(_)+")")}},any:function(D){return o(D,0)?Ce(D):d(1,D)}});function h(y,D,_){var{C:b,F:x}=f(y,D,_),A=u(a(u(l(b),b)),l(b)),C=u(l(x),a(u(x,l(x))));return u(C,A)}function g(y,D,_){for(var b=Ce(y),x=0,A=0;A<D;A++){if(_<=x)return b;for(var C=A;m(b[C][x]);)if(C++,D===C&&(C=A,x++,_===x))return b;[b[C],b[A]]=[b[A],b[C]];for(var w=b[A][x],F=0;F<_;F++)b[A][F]=i(b[A][F],w);for(var N=0;N<D;N++)if(N!==A){w=b[N][x];for(var T=0;T<_;T++)b[N][T]=p(b[N][T],u(-1,u(w,b[A][T])))}x++}return b}function f(y,D,_){var b=g(y,D,_),x=y.map((C,w)=>C.filter((F,N)=>N<D&&!m(s(b[N],b[N])))),A=b.filter((C,w)=>!m(s(b[w],b[w])));return{C:x,F:A}}function m(y){return o(p(y,c(1,1)),p(0,c(1,1)))}function v(y){return n(p(y,c(1,1)),p(u(y,0),c(1,1)))}});var Sn=qa({config:Er}),Is=Za({});var Rs=ka({});var $o=Ga({});var hr=$a({Matrix:$o});var be=Ta({BigNumber:Sn,Complex:Is,DenseMatrix:hr,Fraction:Rs});var jo=vo({typed:be});var At=xo({typed:be});var ep=lo({BigNumber:Sn,typed:be});var Pr=ja({typed:be});var Ps=wo({typed:be});var Mr=so({config:Er,typed:be});var rp=eo({typed:be});var tp=uo({typed:be});var Ht=Do({typed:be});var np=co({typed:be});var Ct=fo({Matrix:$o,equalScalar:Mr,typed:be});var Wt=go({typed:be});var $r=Vo({SparseMatrix:Ct,typed:be});var Mn=mo({typed:be});var ap=po({Fraction:Rs,typed:be});var ye=ho({DenseMatrix:hr,Matrix:$o,SparseMatrix:Ct,typed:be});var op=Mo({bignumber:ep,fraction:ap,number:np});var ip=Ao({matrix:ye,config:Er,typed:be});var Ft=Co({matrix:ye,typed:be});var jr=So({BigNumber:Sn,config:Er,matrix:ye,typed:be});var dt=_o({isInteger:rp,matrix:ye,typed:be});var up=Fo({conj:Ps,transpose:Ft,typed:be});var et=No({numeric:op,typed:be}),sp=Bo({DenseMatrix:hr,concat:dt,divideScalar:et,equalScalar:Mr,matrix:ye,typed:be}),Os=Io({DenseMatrix:hr,concat:dt,equalScalar:Mr,matrix:ye,typed:be});var fp=Eo({BigNumber:Sn,DenseMatrix:hr,SparseMatrix:Ct,config:Er,matrix:ye,typed:be});var cp=Oo({DenseMatrix:hr,concat:dt,config:Er,matrix:ye,typed:be});var lp=To({DenseMatrix:hr,divideScalar:et,equalScalar:Mr,matrix:ye,multiplyScalar:Ht,subtractScalar:Wt,typed:be});var pp=Ro({DenseMatrix:hr,concat:dt,config:Er,matrix:ye,typed:be}),dp=bo({DenseMatrix:hr,concat:dt,equalScalar:Mr,matrix:ye,subtractScalar:Wt,typed:be,unaryMinus:Mn});var hp=zo({DenseMatrix:hr,divideScalar:et,equalScalar:Mr,matrix:ye,multiplyScalar:Ht,subtractScalar:Wt,typed:be});var Nn=Zo({DenseMatrix:hr,SparseMatrix:Ct,addScalar:At,concat:dt,equalScalar:Mr,matrix:ye,typed:be});var mp=Lo({equal:Os,typed:be});var Ls=Yo({addScalar:At,conj:Ps,multiplyScalar:Ht,size:ip,typed:be});var ei=Po({DenseMatrix:hr,concat:dt,config:Er,matrix:ye,typed:be});var Ye=yo({addScalar:At,dot:Ls,equalScalar:Mr,matrix:ye,multiplyScalar:Ht,typed:be});var vp=Ho({SparseMatrix:Ct,abs:jo,add:Nn,divideScalar:et,larger:ei,largerEq:cp,multiply:Ye,subtract:dp,transpose:Ft,typed:be});var Bn=Qo({divideScalar:et,isZero:tp,matrix:ye,multiply:Ye,subtractScalar:Wt,typed:be,unaryMinus:Mn});var xp=qo({larger:ei,smaller:pp});var gp=Uo({FibonacciHeap:xp,addScalar:At,equalScalar:Mr});var ri=Xo({abs:jo,addScalar:At,det:Bn,divideScalar:et,identity:fp,matrix:ye,multiply:Ye,typed:be,unaryMinus:Mn}),ti=ko({DenseMatrix:hr,Spa:gp,SparseMatrix:Ct,abs:jo,addScalar:At,divideScalar:et,equalScalar:Mr,larger:ei,matrix:ye,multiplyScalar:Ht,subtractScalar:Wt,typed:be,unaryMinus:Mn}),rt=Jo({Complex:Is,add:Nn,ctranspose:up,deepEqual:mp,divideScalar:et,dot:Ls,dotDivide:sp,equal:Os,inv:ri,matrix:ye,multiply:Ye,typed:be});var qs=Ko({DenseMatrix:hr,lsolve:lp,lup:ti,matrix:ye,slu:vp,typed:be,usolve:hp});function ni(e){let r={};return r.message=e,r}function Nr(e){let r={};return r.subMessage=e,r}function Or(e){let r={};return r.progressValue=e,r}var Dp=2220446049250313e-31;function Gn(e,r,t,a){let n={};n.UDJRw=function(s,l){return s-l},n.RQbsU=function(s,l){return s==l},n.bXiwY=function(s,l){return s==l},n.jFjWG=function(s,l){return s*l},n.TYfiT=function(s,l){return s===l};let o=n,i=Math.abs(o.UDJRw(e,r));return o.RQbsU(t,null)&&(t=Dp),o.bXiwY(a,null)&&(a=t),i<=t||i<=o.jFjWG(a,Math.min(Math.abs(e),Math.abs(r)))?!0:o.TYfiT(e,r)}var yp=class oi{constructor(r,t){this.x=r,this.y=t}static honhlsao20c7556f93d24f2ca1ad9183f4b3a882(r){return new oi(r.x,r.y)}mmziplkcd4f21c8c0f867438bb6e1ce62a25dcf21(r){let t={dlmOK:function(n,o,i){return n(o,i)}};return t.dlmOK(Gn,this.x,r.x)&&t.dlmOK(Gn,this.y,r.y)}hvlrsjcbvd522bf795ee04ce2880f4379ef496777(r){let t={};t.TBAWT=function(i,s){return i/s},t.enLaK=function(i,s){return i+s};let a=t,n=a.TBAWT(a.enLaK(this.x,r.x),2),o=a.enLaK(this.y,r.y)/2;return new oi(n,o)}},bp=class ii{constructor(r,t,a,n){this.points=r,this.sectionTag=t,this.materialTag=a,this.tag=n}static honhlsao20c7556f93d24f2ca1ad9183f4b3a882(r){return new ii(r.points.map(t=>yp.honhlsao20c7556f93d24f2ca1ad9183f4b3a882(t)),r.sectionTag,r.materialTag,r.tag)}gancuzimteb151cf23b43406e9abe6d779dedf51f(){let r={};r.aPJPA=function(d,u){return d!==u},r.HaIpF="Wrong triangle";let t=r;if(t.aPJPA(this.points.length,3))throw new Error(t.HaIpF);let[a,n,o]=this.points,i=a.hvlrsjcbvd522bf795ee04ce2880f4379ef496777(n),s=n.hvlrsjcbvd522bf795ee04ce2880f4379ef496777(o),l=o.hvlrsjcbvd522bf795ee04ce2880f4379ef496777(a);return new ii([a,n,o,i,s,l],this.sectionTag,this.materialTag,this.tag)}},ui=class{constructor(e,r,t){this.node=e,this.loadX=r,this.loadY=t}mkpfha7f72854af5ad47b6af64dc4883ff5e18(){return this.node.dofs[1]}eoowiapefsea54418b4f5f4588b13adc069ae1e3f0(){return this.node.dofs[0]}hfdpkrhd5e7738ab0af44939ef757edaa357cf3(){return this.loadY}pgcitoit1646843be34f4774a69d80c874f665a3(){return this.loadX}},wp=class{constructor(e,r,t){this.index=e,this.coordinates=r,this.tag=t,this.restraint="Free"}uztyez7fc401d87a6d4110b4d63e6415171c99(){let e={};return e.index=this.index,e.tag=this.tag,e.coordinates={},e.coordinates.x=this.coordinates.x,e.coordinates.y=this.coordinates.y,e}nxvabpjd5230b40b215044979c72229ad1eeecb2(){let e={};e.JLvkz="Pinned";let r=e;this.restraint=r.JLvkz}npqiixe8a1e21f5492432cb896b9b96429e60e(){let e={};e.ccRYB="Fixed";let r=e;this.restraint=r.ccRYB}get dofs(){let e={};e.UhqtQ=function(n,o){return n*o},e.VbHBH=function(n,o){return n+o};let r=e,t=r.UhqtQ(2,this.index),a=r.VbHBH(r.UhqtQ(2,this.index),1);return[t,a]}dyweu2a6880a449634c148881467dd7fa99f2(e){let r={};r.kyBEb=function(i,s){return i-s},r.xDHpd=function(i,s){return i*s};let t=r,a=t.kyBEb(this.coordinates.x,e.coordinates.x),n=t.kyBEb(this.coordinates.y,e.coordinates.y);return Math.sqrt(a*a+t.xDHpd(n,n))}xfwvkjzcul191000bdf977483d98b1d989837b8974(e){let r={};r.QVQAX=function(o,i){return o-i},r.bmDXl=function(o,i){return o*i};let t=r,a=t.QVQAX(this.coordinates.x,e);return Math.sqrt(t.bmDXl(a,a))}mmziplkcd4f21c8c0f867438bb6e1ce62a25dcf21(e){return this.coordinates.mmziplkcd4f21c8c0f867438bb6e1ce62a25dcf21(e.coordinates)}tjzpkf1b14fe64426480682eb4b28fcb07cb0(e,r){let t={bECdR:function(n,o,i){return n(o,i)}};return t.bECdR(Gn,this.coordinates.x,e)&&t.bECdR(Gn,this.coordinates.y,r)}okubzlrv6be1511d1274478f80b7d55a24c37d96(){let e={};e.DPPTS=function(t,a){return t===a},e.IgSGW="Free",e.clZZt=function(t,a){return t===a},e.ijOUr="Fixed",e.dSVZh=function(t,a){return t===a},e.EoDHi="Pinned";let r=e;return r.DPPTS(this.restraint,r.IgSGW)?[]:r.clZZt(this.restraint,r.ijOUr)?this.dofs:r.dSVZh(this.restraint,r.EoDHi)?[this.dofs[1]]:[]}},Us=async e=>{},_p=class{goqgshic596f3137eb9b439298f11a07989c388b(e,r,t){let a={LeQcA:function(h,g){return h*g},jymVs:function(h,g){return h(g)},fPoLg:function(h,g){return h(g)},RurRV:"Calculating displacements"},n=a.LeQcA(e.length,2);a.jymVs(Us,"Solving system with "+n+" dofs and "+r.length+" elements");let o=e.map(h=>h.okubzlrv6be1511d1274478f80b7d55a24c37d96()).reduce((h,g)=>[...h,...g]),i=this.ufzfoxjff4dcc96521d245179b6245bf44087c58(t,n),s=Pr(i);this.egdsvv5af04f09591d46bdaeb4a9633df42a25(i,o),(!this.lup||!this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f)&&(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f=this.uuftr6cf49b45b33f4f78b86e41ec59a4df18(r,n),Us("Stiffness matrix calculated, size: "+this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()),this.ifjmbkgefa435cca6f7541aeb499fc6ef2b58458=Pr(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f),this.jvqvikhd7e0d4351d4d44f8934d52773cbf8642(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f,o),this.lup=ti(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f)),a.fPoLg(Nr,a.RurRV);let l=qs(this.lup,i),d=[];l.forEach((h,g)=>d[g[0]]=h);let u=[];Ye(this.ifjmbkgefa435cca6f7541aeb499fc6ef2b58458,l).forEach(h=>u.push(h));let p=u.map((h,g)=>o.includes(g)?h-s[g]:0),c={};return c.displacements=d,c.reactions=p,c}uuftr6cf49b45b33f4f78b86e41ec59a4df18(e,r){let t={};t.KztRO="sparse",t.bFbWf=function(o,i){return o<i},t.Ezlmy=function(o,i){return o+i};let a=t,n=$r(jr(r,r,a.KztRO));for(let o=0;a.bFbWf(o,e.length);o++){let i=e[o],s=i.mgeuxk6dc66b6cc20a4bdd81b2416eff000b69(),l=i.octtmuefdde0bff5491745f09866669b1c0cab6c(),d=l.size();for(let u=0;a.bFbWf(u,d[0]);u++)for(let p=0;a.bFbWf(p,d[1]);p++){let c=s[u],h=s[p],g=[c,h],f=a.Ezlmy(n.get(g),l.get([p,u]));n.set(g,f)}}return n}jvqvikhd7e0d4351d4d44f8934d52773cbf8642(e,r){let t={};t.SfevD=function(o,i){return o<i},t.lDoWu=function(o,i){return o<i};let a=t,n=e.size()[0];for(let o=0;a.SfevD(o,r.length);o++){let i=r[o];for(let s=0;a.lDoWu(s,n);s++)e.set([i,s],0),e.set([s,i],0);e.set([i,i],1)}}ufzfoxjff4dcc96521d245179b6245bf44087c58(e,r){let t={};t.UDVBa=function(o,i){return o<i};let a=t,n=new Array(r).fill(0);for(let o=0;a.UDVBa(o,e.length);o++){let i=e[o],s=i.eoowiapefsea54418b4f5f4588b13adc069ae1e3f0(),l=i.mkpfha7f72854af5ad47b6af64dc4883ff5e18();n[l]+=i.hfdpkrhd5e7738ab0af44939ef757edaa357cf3(),n[s]+=i.pgcitoit1646843be34f4774a69d80c874f665a3()}return n}egdsvv5af04f09591d46bdaeb4a9633df42a25(e,r){let t={};t.NZeCK=function(n,o){return n<o};let a=t;for(let n=0;a.NZeCK(n,r.length);n++){let o=r[n];e[o]=0}}},Ep=class{constructor(e,r,t,a){this.index=e,this.nodes=r,this.material=t,this.tag=a,this.dofs=r.map(n=>[n.dofs[0],n.dofs[1]]).reduce((n,o)=>[...n,...o])}uztyez7fc401d87a6d4110b4d63e6415171c99(){let e={};return e.index=this.index,e.tag=this.tag,e}mgeuxk6dc66b6cc20a4bdd81b2416eff000b69(){return this.dofs}eovjnca67224baa9146bd8cbc7da3bcea0e62(e){return this.nodes.some(t=>t.mmziplkcd4f21c8c0f867438bb6e1ce62a25dcf21(e))}ayvdmezxx0c59b81dc5674e31a5160cf2e6d57c27(e){let r={};if(r.cCGeZ=function(a,n){return a!==n},r.cCGeZ(e.length,this.nodes.length))return!1;for(let a=0;a<e.length;a++)if(!e[a].mmziplkcd4f21c8c0f867438bb6e1ce62a25dcf21(this.nodes[a]))return!1;return!0}},It=class extends Ep{constructor(e,r,t,a,n){super(e,r,t,n),this.thickness=a,this.initialized=!1,this.initialized=!0}get lvyjsvvudxa0db80d04aee4ff1aab42442da50d40f(){return 2}zpnqycarg65be3421800048bca738197097d56456(e,r,t){let a={};a.rxrpi=function(c,h){return c<h};let n=a,o=[],i=[],s=[];for(let c=0;n.rxrpi(c,this.dN_dx_dy.length);c++){let h=this.dN_dx_dy[c](e,r,t);o.push(h),i.push(h.get([0,0])),s.push(h.get([1,0]))}let l=[],d=[],u=[];for(let c=0;n.rxrpi(c,this.oabezv25ba20e41e6240dbaf4c0f2a6363f9a8);c++)l.push(i[c],0),d.push(0,s[c]),u.push(s[c],i[c]);return ye([l,d,u])}muhyee003d24f8d3040599f9c46f99377db3a(e,r){let t={};t.YgusK=function(o,i){return o<i};let a=t,n=[[],[]];for(let o=0;a.YgusK(o,this.oabezv25ba20e41e6240dbaf4c0f2a6363f9a8);o++)n[0].push(this.dN_dksi[o](e,r)),n[1].push(this.dN_deta[o](e,r));return ye(n)}nfxxkhdnyb13bde30279ee41b992caa9f474cd50e0(e,r,t){let a={};a.ZQLiP=function(d,u){return d!=u},a.aWoRY="Wrong coordinates in Jacobi matrix",a.vLRKU=function(d,u){return d<u};let n=a;if(!t||n.ZQLiP(t.length,this.oabezv25ba20e41e6240dbaf4c0f2a6363f9a8))throw new Error(n.aWoRY);let o=[];for(let d=0;n.vLRKU(d,this.oabezv25ba20e41e6240dbaf4c0f2a6363f9a8);d++)o.push([t[d].x,t[d].y]);let i=ye(o),s=this.muhyee003d24f8d3040599f9c46f99377db3a(e,r);return Ye(s,i)}wdqreok674fc544982d4de4bb3ea3dadd2f3ee3(){let e={};e.AOtni=function(i,s){return i/s},e.wKGrH=function(i,s){return i*s},e.ILfFP=function(i,s){return i/s},e.kjUGO=function(i,s){return i-s};let r=e,t=this.material.poissonsRatio,a=r.AOtni(this.material.modulusOfElasticity,1-r.wKGrH(t,t)),n=ye([[1,t,0],[t,1,0],[0,0,r.ILfFP(r.kjUGO(1,t),2)]]);return Ye(a,n)}octtmuefdde0bff5491745f09866669b1c0cab6c(){let e={};e.yoqlt=function(t,a){return t===a},e.bHIWE="Element is not initialized properly.",e.OhGII=function(t,a){return t*a},e.AifiS="sparse";let r=e;if(r.yoqlt(this.initialized,!1)||!this.thickness)throw new Error(r.bHIWE);if(!this.mpyjxtmec31829ca3d044658670444467f4aeb5){let t=r.OhGII(this.lvyjsvvudxa0db80d04aee4ff1aab42442da50d40f,this.oabezv25ba20e41e6240dbaf4c0f2a6363f9a8);this.mpyjxtmec31829ca3d044658670444467f4aeb5=$r(jr(t,t,r.AifiS));let a=this.nodes.map(o=>o.coordinates),n=this.wdqreok674fc544982d4de4bb3ea3dadd2f3ee3();for(let o of this.yzofqgznoefce02f75bed4b8798984fbdbdbfe48f){let{ksi:i,eta:s,weight:l}=o,d=this.nfxxkhdnyb13bde30279ee41b992caa9f474cd50e0(i,s,a),u=Bn(d),p=this.zpnqycarg65be3421800048bca738197097d56456(i,s,d),c=Ft(p),h=Ye(c,n),g=Ye(h,p),f=Ye(g,u),m=Ye(f,l),v=Ye(m,this.thickness);this.mpyjxtmec31829ca3d044658670444467f4aeb5=Nn(this.mpyjxtmec31829ca3d044658670444467f4aeb5,v)}}return this.mpyjxtmec31829ca3d044658670444467f4aeb5}mhkaiomjy63e808c3c7ea4e5e97da95a5a939a50e(e,r){let t={};t.yQFaJ="Stiffness matrix is not calculated yet.",t.OnpGw=function(p,c){return p<c};let a=t;if(!this.mpyjxtmec31829ca3d044658670444467f4aeb5)throw new Error(a.yQFaJ);let n=[],o=[];for(let p of this.mgeuxk6dc66b6cc20a4bdd81b2416eff000b69())n.push(e[p]),o.push(r[p]);let i=this.wdqreok674fc544982d4de4bb3ea3dadd2f3ee3(),s=this.nodes.map(p=>p.coordinates),l=ye();for(let p=0;p<this.yzofqgznoefce02f75bed4b8798984fbdbdbfe48f.length;p++){let c=this.yzofqgznoefce02f75bed4b8798984fbdbdbfe48f[p],{ksi:h,eta:g}=c,f=this.nfxxkhdnyb13bde30279ee41b992caa9f474cd50e0(h,g,s),m=this.zpnqycarg65be3421800048bca738197097d56456(h,g,f),v=Ye(m,n),y=Ye(i,v),D=y.get([0]),_=y.get([1]),b=y.get([2]);l.set([p,0],D),l.set([p,1],_),l.set([p,2],b)}let d=Ye(this.gggjcb87ec3c8857cd4c8a8691950b06ae175d,l),u=[];for(let p=0;a.OnpGw(p,this.nodes.length);p++){let c=this.nodes[p],h=e[c.dofs[0]],g=e[c.dofs[1]],f=r[c.dofs[0]],m=r[c.dofs[1]],v={node:c.uztyez7fc401d87a6d4110b4d63e6415171c99(),ux:h,uy:g,uz:0,reactionX:f,reactionY:m},y=d.get([p,0]),D=d.get([p,1]),_=d.get([p,2]),b={};b.nodeResult=v,b.sxx=y,b.syy=D,b.txy=_;let x=b;u.push(x)}return{element:this.uztyez7fc401d87a6d4110b4d63e6415171c99(),nodes:u,thickness:this.thickness}}owbofda451cb76c6b4a5798e99f1c467290c0(){let e={};e.FEfRy=function(a,n){return a*n};let r=e,t=r.FEfRy(-this.material.weight,this.thickness);return this.odexqjeo21fefaa2d00c41c7bc9558cca6c1083a(0,t)}odexqjeo21fefaa2d00c41c7bc9558cca6c1083a(e,r){let t={};t.JDuNY=function(l,d){return l*d},t.LBKIh=function(l,d){return l*d},t.EveCQ=function(l,d){return l*d},t.EjOGY=function(l,d){return l*d};let a=t,n=new Array(this.oabezv25ba20e41e6240dbaf4c0f2a6363f9a8).fill(0),o=new Array(this.oabezv25ba20e41e6240dbaf4c0f2a6363f9a8).fill(0),i=this.nodes.map(l=>l.coordinates);for(let l=0;l<this.yzofqgznoefce02f75bed4b8798984fbdbdbfe48f.length;l++){let{ksi:d,eta:u,weight:p}=this.yzofqgznoefce02f75bed4b8798984fbdbdbfe48f[l],c=this.nfxxkhdnyb13bde30279ee41b992caa9f474cd50e0(d,u,i),h=Bn(c);for(let g=0;g<this.oabezv25ba20e41e6240dbaf4c0f2a6363f9a8;g++)n[g]+=a.JDuNY(a.LBKIh(a.EveCQ(this.N[g](d,u),e),h),p),o[g]+=a.EjOGY(a.EveCQ(this.N[g](d,u)*r,h),p)}return this.nodes.map((l,d)=>new ui(l,n[d],o[d]))}},Hn=(e,r,t,a,n)=>{let o={EeCtl:function(p,c,h){return p(c,h)}},i=ri(t),s=a(e,r),l=o.EeCtl(n,e,r),d=ye([[s],[l]]);return Ye(i,d)},Tn={};Tn.ksi=1/3,Tn.eta=1/3,Tn.weight=-9/32;var zn={};zn.ksi=3/5,zn.eta=1/5,zn.weight=25/96;var In={};In.ksi=1/5,In.eta=3/5,In.weight=25/96;var Rn={};Rn.ksi=1/5,Rn.eta=1/5,Rn.weight=25/96;var Wn=[Tn,zn,In,Rn],St=-Math.sqrt(3/5),Mt=0,Nt=Math.sqrt(3/5),Bt=5/9,Tt=8/9,zt=5/9,Pn={};Pn.ksi=St,Pn.eta=St,Pn.weight=Bt*Bt;var On={};On.ksi=Mt,On.eta=St,On.weight=Tt*Bt;var Ln={};Ln.ksi=Nt,Ln.eta=St,Ln.weight=zt*Bt;var qn={};qn.ksi=St,qn.eta=Mt,qn.weight=Bt*Tt;var Un={};Un.ksi=Mt,Un.eta=Mt,Un.weight=Tt*Tt;var Vn={};Vn.ksi=Nt,Vn.eta=Mt,Vn.weight=zt*Tt;var Zn={};Zn.ksi=St,Zn.eta=Nt,Zn.weight=Bt*zt;var Yn={};Yn.ksi=Mt,Yn.eta=Nt,Yn.weight=Tt*zt;var kn={};kn.ksi=Nt,kn.eta=Nt,kn.weight=zt*zt;var Kn=[Pn,On,Ln,qn,Un,Vn,Zn,Yn,kn],Vs=[(e,r)=>.25*(1-e)*(1-r),(e,r)=>.25*(1+e)*(1-r),(e,r)=>.25*(1+e)*(1+r),(e,r)=>.25*(1-e)*(1+r)],Zs=[(e,r)=>-.25*(1-r),(e,r)=>.25*(1-r),(e,r)=>.25*(1+r),(e,r)=>-.25*(1+r)],Ys=[(e,r)=>-.25*(1-e),(e,r)=>-.25*(1+e),(e,r)=>.25*(1+e),(e,r)=>.25*(1-e)],Ap=Zs.map((e,r)=>(t,a,n)=>Hn(t,a,n,e,Ys[r])),Cp=ye(Kn.map(e=>Vs.map(r=>r(e.ksi,e.eta)))),Fp=rt(Cp),Sp=class extends It{constructor(e,r,t,a,n){super(e,r,t,a,n),this.tags=[]}get gggjcb87ec3c8857cd4c8a8691950b06ae175d(){return Fp}get yzofqgznoefce02f75bed4b8798984fbdbdbfe48f(){return Kn}get N(){return Vs}get dN_dksi(){return Zs}get dN_deta(){return Ys}get dN_dx_dy(){return Ap}get oabezv25ba20e41e6240dbaf4c0f2a6363f9a8(){return 4}},ai=class{static getD(e){let r={MhmBp:function(i,s){return i-s},zzsHm:function(i,s,l){return i(s,l)},reOmN:function(i,s){return i(s)},gNKKG:function(i,s){return i-s},msAKN:function(i,s){return i*s}},t=e.modulusOfElasticity,a=e.poissonsRatio,n=[[1,a,0],[a,1,0],[0,0,r.MhmBp(1,a)/2]];return r.zzsHm(Ye,r.reOmN(ye,n),t/r.gNKKG(1,r.msAKN(a,a)))}static getB(e){let r={hxYRb:function(m,v){return m-v},KBgFa:function(m,v){return m-v},uNzxw:function(m,v){return m-v},yfWiv:function(m,v){return m-v},PzKyX:function(m,v){return m-v},XphuZ:function(m,v){return m*v},fcYtT:function(m,v,y){return m(v,y)},MIHsb:function(m,v){return m/v}},[t,a,n]=e,o=a.y-n.y,i=r.hxYRb(n.y,t.y),s=r.KBgFa(t.y,a.y),l=t.y-n.y,d=r.uNzxw(n.x,a.x),u=r.uNzxw(t.x,n.x),p=r.yfWiv(a.x,t.x),c=r.hxYRb(a.x,n.x),h=r.PzKyX(r.XphuZ(u,o),r.XphuZ(l,c)),g=[[o,0,i,0,s,0],[0,d,0,u,0,p],[d,o,u,i,p,s]];return r.fcYtT(Ye,ye(g),r.MIHsb(1,h))}static getK(e,r,t,a){let n={nTrCL:function(s,l){return s(l)},RlkXj:function(s,l,d){return s(l,d)},VKZfu:function(s,l){return s*l}},o=n.nTrCL(Ft,t);return n.RlkXj(Ye,Ye(n.RlkXj(Ye,n.VKZfu(e,r),o),a),t)}},Mp=class extends It{constructor(e,r,t,a){let n={};n.owNyA="6|3|5|1|0|4|2";let o=n,i=o.owNyA.split("|"),s=0;for(;;){switch(i[s++]){case"0":this.D=null;continue;case"1":this.B=null;continue;case"2":this.ubgjytfqse86cfe0296254f528fe7b0e4604ff49d();continue;case"3":this.area=null;continue;case"4":this.K=null;continue;case"5":this.Tag="";continue;case"6":super(e,r,t,a);continue}break}}get gggjcb87ec3c8857cd4c8a8691950b06ae175d(){let e={};e.DzgLZ="Method not implemented.";let r=e;throw new Error(r.DzgLZ)}get yzofqgznoefce02f75bed4b8798984fbdbdbfe48f(){let e={};e.CwDXh="Method not implemented.";let r=e;throw new Error(r.CwDXh)}get dN_dx_dy(){let e={};e.LFWrK="Method not implemented.";let r=e;throw new Error(r.LFWrK)}get N(){throw new Error("Method not implemented.")}get dN_dksi(){let e={};e.Hgcqx="Method not implemented.";let r=e;throw new Error(r.Hgcqx)}get dN_deta(){let e={};e.esVLz="Method not implemented.";let r=e;throw new Error(r.esVLz)}zpnqycarg65be3421800048bca738197097d56456(e,r,t){let a={};a.aamZW="Method not implemented.";let n=a;throw new Error(n.aamZW)}nfxxkhdnyb13bde30279ee41b992caa9f474cd50e0(e,r,t){let a={};a.DzoGS="Method not implemented.";let n=a;throw new Error(n.DzoGS)}get oabezv25ba20e41e6240dbaf4c0f2a6363f9a8(){return 3}getD(){return!this.D&&(this.D=ai.getD(this.material)),this.D}getB(){return!this.B&&(this.B=ai.getB(this.nodes.map(e=>e.coordinates))),this.B}octtmuefdde0bff5491745f09866669b1c0cab6c(){if(!this.K){let e=this.getB(),r=this.getD();this.K=ai.getK(this.thickness,this.area,e,r)}return this.K}ubgjytfqse86cfe0296254f528fe7b0e4604ff49d(){let e={};e.lLyJZ=function(o,i){return o*i},e.HcjSy=function(o,i){return o-i},e.vozHQ=function(o,i){return o+i},e.VPPlz=function(o,i){return o*i},e.GZoVE=function(o,i){return o*i};let r=e,[t,a,n]=this.nodes.map(o=>o.coordinates);this.area=r.lLyJZ(.5,Math.abs(r.HcjSy(r.vozHQ(r.HcjSy(r.HcjSy(r.lLyJZ(t.x,a.y),t.x*n.y)+r.lLyJZ(a.x,n.y),a.x*t.y),r.VPPlz(n.x,t.y)),r.GZoVE(n.x,a.y))))}},ks=[(e,r)=>1-e-r,(e,r)=>e,(e,r)=>r],si=[(e,r)=>-1,(e,r)=>1,(e,r)=>0],Gs=[(e,r)=>-1,(e,r)=>0,(e,r)=>1],Np=si.map((e,r)=>(t,a,n)=>Hn(t,a,n,si[r],Gs[r])),Bp=ye(Wn.map(e=>ks.map(r=>r(e.ksi,e.eta)))),Tp=rt(Bp),zp=class extends It{get gggjcb87ec3c8857cd4c8a8691950b06ae175d(){return Tp}get yzofqgznoefce02f75bed4b8798984fbdbdbfe48f(){return Wn}get N(){return ks}get dN_dksi(){return si}get dN_deta(){return Gs}get dN_dx_dy(){return Np}constructor(e,r,t,a,n){super(e,r,t,a,n)}get oabezv25ba20e41e6240dbaf4c0f2a6363f9a8(){return 3}},Hs=[(e,r)=>(1-e-r)*(1-2*e-2*r),(e,r)=>e*(2*e-1),(e,r)=>r*(2*r-1),(e,r)=>4*e*(1-e-r),(e,r)=>4*e*r,(e,r)=>4*r*(1-e-r)],Ws=[(e,r)=>-3+4*e+4*r,(e,r)=>4*e-1,(e,r)=>0,(e,r)=>4*(1-2*e-r),(e,r)=>4*r,(e,r)=>-4*r],Ks=[(e,r)=>-3+4*e+4*r,(e,r)=>0,(e,r)=>4*r-1,(e,r)=>-4*e,(e,r)=>4*e,(e,r)=>4*(1-e-2*r)],Ip=Ws.map((e,r)=>(t,a,n)=>Hn(t,a,n,e,Ks[r])),Rp=ye(Wn.map(e=>Hs.map(r=>r(e.ksi,e.eta)))),Pp=rt(Rp),Op=class extends It{get gggjcb87ec3c8857cd4c8a8691950b06ae175d(){return Pp}get yzofqgznoefce02f75bed4b8798984fbdbdbfe48f(){return Wn}get N(){return Hs}get dN_dksi(){return Ws}get dN_deta(){return Ks}get dN_dx_dy(){return Ip}constructor(e,r,t,a,n){super(e,r,t,a,n)}get oabezv25ba20e41e6240dbaf4c0f2a6363f9a8(){return 6}},Qs=[(e,r)=>.25*(1-e)*(1-r)*(-1-e-r),(e,r)=>.25*(1+e)*(1-r)*(-1+e-r),(e,r)=>.25*(1+e)*(1+r)*(-1+e+r),(e,r)=>.25*(1-e)*(1+r)*(-1-e+r),(e,r)=>.5*(1-e*e)*(1-r),(e,r)=>.5*(1+e)*(1-r*r),(e,r)=>.5*(1-e*e)*(1+r),(e,r)=>.5*(1-e)*(1-r*r)],fi=[(e,r)=>-.25*((-1+r)*(r+2*e)),(e,r)=>.25*(-1+r)*(r-2*e),(e,r)=>.25*(1+r)*(r+2*e),(e,r)=>-.25*((1+r)*(r-2*e)),(e,r)=>.5*(2*(-1+r)*e),(e,r)=>.5*(1-r*r),(e,r)=>.5*(-2*(1+r)*e),(e,r)=>.5*(-1+r*r)],Xs=[(e,r)=>-.25*((-1+e)*(2*r+e)),(e,r)=>.25*(2*r-e)*(1+e),(e,r)=>.25*(1+e)*(2*r+e),(e,r)=>-.25*((2*r-e)*(-1+e)),(e,r)=>.5*(-1+e*e),(e,r)=>.5*(-2*r*(1+e)),(e,r)=>.5*(1-e*e),(e,r)=>.5*(2*r*(-1+e))],Lp=fi.map((e,r)=>(t,a,n)=>Hn(t,a,n,fi[r],Xs[r])),qp=ye(Kn.map(e=>Qs.map(r=>r(e.ksi,e.eta)))),Up=rt(qp),Vp=class extends It{get gggjcb87ec3c8857cd4c8a8691950b06ae175d(){return Up}get yzofqgznoefce02f75bed4b8798984fbdbdbfe48f(){return Kn}get N(){return Qs}get dN_dksi(){return fi}get dN_deta(){return Xs}get dN_dx_dy(){return Lp}constructor(e,r,t,a,n){super(e,r,t,a,n)}get oabezv25ba20e41e6240dbaf4c0f2a6363f9a8(){return 8}},tt=class{constructor(e,r){this.rows=e,this.cols=r,this.data=new Map}key(e,r){let t={};t.IyhFc=function(n,o){return n+o},t.hdLtD=function(n,o){return n*o};let a=t;return a.IyhFc(a.hdLtD(e,this.cols),r)}set(e,r,t){let a={};a.fcdya=function(i,s){return i===s};let n=a;this.hjofofwvcc782ea12aa74c5f9c05d33e6c3718df(e,r);let o=this.key(e,r);n.fcdya(t,0)?this.data.delete(o):this.data.set(o,t)}get(e,r){return this.hjofofwvcc782ea12aa74c5f9c05d33e6c3718df(e,r),this.data.get(this.key(e,r))??0}dot(e){let r={};r.bCyWg=function(n,o){return n!==o},r.sIhbl=function(n,o){return n!==o},r.LNqDn="Both matrices must be column vectors of the same size",r.tclwR=function(n,o){return n/o};let t=r;if(t.bCyWg(this.cols,1)||t.sIhbl(e.cols,1)||t.sIhbl(this.rows,e.rows))throw new Error(t.LNqDn);let a=0;for(let[n,o]of this.data.entries()){let i=Math.floor(t.tclwR(n,this.cols)),s=e.get(i,0);a+=o*s}return a}qbrhawaigf75bdbf9173243189e08b3882dcd3c56(e,r){let t={};t.NuOAI=function(n,o){return n<o},t.ISXPU=function(n,o){return n/o},t.dNMZG=function(n,o){return n+o},t.oenXb=function(n,o){return n*o};let a=t;for(let n=0;a.NuOAI(n,r.rows);n++)r.set(n,0,0);for(let[n,o]of this.data.entries()){let i=Math.floor(a.ISXPU(n,this.cols)),s=n%this.cols,l=e.get(s,0);if(l!==0){let d=r.get(i,0);r.set(i,0,a.dNMZG(d,a.oenXb(o,l)))}}}*entries(){let e={};e.NWKHm=function(t,a){return t%a};let r=e;for(let[t,a]of this.data.entries()){let n=Math.floor(t/this.cols),o=r.NWKHm(t,this.cols),i={};i.row=n,i.col=o,i.value=a,yield i}}hjofofwvcc782ea12aa74c5f9c05d33e6c3718df(e,r){let t={};t.fbUoa=function(n,o){return n<o},t.mEoGx=function(n,o){return n>=o};let a=t;if(a.fbUoa(e,0)||a.mEoGx(e,this.rows)||a.fbUoa(r,0)||a.mEoGx(r,this.cols))throw new Error("Index out of bounds: ("+e+", "+r+")")}};function Zp(e,r,t,a,n=1e-5,o=1e4){let i={TPUMV:"Matrix A must be square",mCsmS:function(c,h){return c!==h},YkrDM:function(c,h){return c!==h},xjMFb:"b must be a column vector with same number of rows as A",aEpkR:function(c,h){return c!==h},MUPTc:"x must be a column vector with same size as b",nCiOr:function(c,h){return c<h},VBxDt:function(c,h){return c/h},Rvrnj:function(c,h){return c+h},VgKge:function(c,h){return c-h},NTtlk:function(c,h){return c*h},XeoaQ:function(c,h){return c<h},pWvsu:function(c,h){return c+h},SUpCm:function(c,h){return c%h},waypa:function(c,h){return c(h)},EkrGg:function(c,h){return c(h)},ovhUT:function(c,h){return c+h}},s=e.rows;if(e.cols!==s)throw new Error(i.TPUMV);if(i.mCsmS(r.rows,s)||i.YkrDM(r.cols,1))throw new Error(i.xjMFb);if(i.mCsmS(t.rows,s)||i.aEpkR(t.cols,1))throw new Error(i.MUPTc);let l=new tt(s,1),d=new tt(s,1),u=new tt(s,1);for(let{row:c,value:h}of r.entries())l.set(c,0,h),d.set(c,0,h);let p=l.dot(l);for(let c=0;i.nCiOr(c,o);c++){e.qbrhawaigf75bdbf9173243189e08b3882dcd3c56(d,u);let h=i.VBxDt(p,d.dot(u));for(let{row:m,value:v}of d.entries()){let y=t.get(m,0);t.set(m,0,i.Rvrnj(y,h*v))}for(let{row:m,value:v}of u.entries()){let y=l.get(m,0);l.set(m,0,i.VgKge(y,i.NTtlk(h,v)))}let g=l.dot(l);if(i.nCiOr(Math.sqrt(g),n))break;let f=i.VBxDt(g,p);for(let m=0;i.XeoaQ(m,s);m++){let v=l.get(m,0),y=d.get(m,0);d.set(m,0,i.pWvsu(v,i.NTtlk(f,y)))}p=g,i.SUpCm(c,10)===0&&i.waypa(a,i.EkrGg(Nr,"Calculating displacements and reactions. Iteration "+i.ovhUT(c,1)+", Residual: "+Math.sqrt(g)))}}var Yp=class{constructor(e){this.progress=e}goqgshic596f3137eb9b439298f11a07989c388b(e,r,t){let a={imUcv:function(h,g){return h-g},eWKFV:function(h,g){return h*g},KtYOM:function(h,g){return h(g)},HlvGZ:function(h,g){return h(g)},Jclcg:"Flattening stiffness matrix",GoJLb:function(h,g){return h(g)},quaOJ:function(h,g){return h(g)},YsWOd:"Aggregating loads",vcIOR:function(h,g){return h<g}},n=a.eWKFV(e.length,2),o=e.map(h=>h.okubzlrv6be1511d1274478f80b7d55a24c37d96()).reduce((h,g)=>[...h,...g]);!this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f&&(this.progress(a.KtYOM(Nr,"Aggregating stiffness matrix")),this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f=this.eswcllfaff8d4fcba243f991f673cade0e699a(r,n),this.fullAggregatedStiffnessMatrix=Pr(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f),this.jvqvikhd7e0d4351d4d44f8934d52773cbf8642(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f,o)),!this.dgeqvqvys3725ac6d7c7444b09f012008049abda4&&(this.progress(a.HlvGZ(Nr,a.Jclcg)),this.fxwbgtjsac41344a3530482597c7308a4699711d()),this.progress(a.GoJLb(Or,-1)),this.progress(a.quaOJ(Nr,a.YsWOd));let i=this.ufzfoxjff4dcc96521d245179b6245bf44087c58(t,n),s=Pr(i);this.egdsvv5af04f09591d46bdaeb4a9633df42a25(i,o);let l=new tt(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[0],1);this.loadsSparseMapFlat=new tt(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[0],1);for(let h=0;a.vcIOR(h,i.length);h++)this.loadsSparseMapFlat.set(h,0,i[h]);this.progress(a.quaOJ(Nr,"Calculating displacements and reactions")),this.progress(Or(0)),Zp(this.dgeqvqvys3725ac6d7c7444b09f012008049abda4,this.loadsSparseMapFlat,l,this.progress);let d=new Array(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[0]).fill(0);[...l.entries()].map(h=>h).forEach(h=>d[h.row]=h.value);let u=new tt(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[0],1);this.fullStiffmatSparseMapFlat.qbrhawaigf75bdbf9173243189e08b3882dcd3c56(l,u);let p=new Array(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[0]).fill(0);[...u.entries()].forEach(h=>{o.includes(h.row)&&(p[h.row]=a.imUcv(h.value,s[h.row]))});let c={};return c.displacements=d,c.reactions=p,c}fxwbgtjsac41344a3530482597c7308a4699711d(){let e={pNFDd:function(n,o){return n*o},UwVAE:function(n,o){return n<o},MIAnB:function(n,o){return n*o},QofuE:function(n,o){return n/o},fiWLC:function(n,o){return n!==o},cFuLx:function(n,o){return n(o)}};this.dgeqvqvys3725ac6d7c7444b09f012008049abda4=new tt(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[0],this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[1]),this.fullStiffmatSparseMapFlat=new tt(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[0],this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[1]);let r=e.pNFDd(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[0],this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[1]),t=0,a=0;for(let n=0;e.UwVAE(n,this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[0]);n++)for(let o=0;o<this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.size()[1];o++){this.dgeqvqvys3725ac6d7c7444b09f012008049abda4.set(n,o,this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f.get([n,o])),this.fullStiffmatSparseMapFlat.set(n,o,this.fullAggregatedStiffnessMatrix.get([n,o]));let i=Math.trunc(e.MIAnB(e.QofuE(t,r),100));t++,e.fiWLC(a,i)&&(this.progress(e.cFuLx(Or,a)),a=i)}}eswcllfaff8d4fcba243f991f673cade0e699a(e,r){let t={mTING:"sparse",NSrZk:function(o,i){return o<i},rgwwj:function(o,i){return o+i},LmsOk:function(o,i){return o/i},hQMze:function(o,i){return o!==i},OUTJl:function(o,i){return o(i)}},a=$r(jr(r,r,t.mTING)),n=0;for(let o=0;t.NSrZk(o,e.length);o++){let i=e[o],s=i.mgeuxk6dc66b6cc20a4bdd81b2416eff000b69(),l=i.octtmuefdde0bff5491745f09866669b1c0cab6c(),d=l.size();for(let u=0;t.NSrZk(u,d[0]);u++)for(let p=0;t.NSrZk(p,d[1]);p++){let c=s[u],h=s[p],g=[c,h],f=t.rgwwj(a.get(g),l.get([p,u]));a.set(g,f);let m=Math.trunc(t.LmsOk(o,e.length)*100);t.hQMze(m,n)&&(this.progress(t.OUTJl(Or,m)),n=m)}}return a}jvqvikhd7e0d4351d4d44f8934d52773cbf8642(e,r){let t={};t.zyCfa=function(o,i){return o<i};let a=t,n=e.size()[0];for(let o=0;a.zyCfa(o,r.length);o++){let i=r[o];for(let s=0;s<n;s++)e.set([i,s],0),e.set([s,i],0);e.set([i,i],1)}}ufzfoxjff4dcc96521d245179b6245bf44087c58(e,r){let t={};t.NACbZ=function(o,i){return o<i};let a=t,n=new Array(r).fill(0);for(let o=0;a.NACbZ(o,e.length);o++){let i=e[o],s=i.eoowiapefsea54418b4f5f4588b13adc069ae1e3f0(),l=i.mkpfha7f72854af5ad47b6af64dc4883ff5e18();n[l]+=i.hfdpkrhd5e7738ab0af44939ef757edaa357cf3(),n[s]+=i.pgcitoit1646843be34f4774a69d80c874f665a3()}return n}egdsvv5af04f09591d46bdaeb4a9633df42a25(e,r){for(let t=0;t<r.length;t++){let a=r[t];e[a]=0}}};function kp(e,r){let t={};t.leAhu=function(o,i){return o<i};let a=t,n=new Array(r.length);for(let o=0;a.leAhu(o,r.length);o++)n[o]=r[e[o]];return n}function Gp(e,r,t){let a={HbDLZ:function(s,l){return s<l},dJIMD:function(s,l){return s*l},esBga:function(s,l){return s/l},rGdfC:function(s,l){return s*l},uHXoS:function(s,l){return s/l},ZAQlY:function(s,l){return s!==l},QlOGm:function(s,l){return s?.(l)}},n=e.size()[0],o=new Array(n).fill(0),i=0;for(let s=0;a.HbDLZ(s,n);s++){let l=r[s];for(let u=0;u<s;u++)l-=a.dJIMD(e.get([s,u]),o[u]);o[s]=a.esBga(l,e.get([s,s]));let d=Math.floor(a.rGdfC(a.uHXoS(s,n),50));a.ZAQlY(d,i)&&(a.QlOGm(t,d),i+=d)}return o}function Hp(e,r,t){let a={xYeqb:function(s,l){return s-l},IGuQF:function(s,l){return s>=l},xEULt:function(s,l){return s+l},fJpAd:function(s,l){return s<l},zYUNn:function(s,l){return s*l},CiLPm:function(s,l){return s/l},MrbSC:function(s,l){return s+l},zaeQp:function(s,l){return s*l},bkmsL:function(s,l){return s!==l},DNjWJ:function(s,l){return s?.(l)}},n=e.size()[0],o=new Array(n).fill(0),i=0;for(let s=a.xYeqb(n,1);a.IGuQF(s,0);s--){let l=r[s];for(let u=a.xEULt(s,1);a.fJpAd(u,n);u++)l-=a.zYUNn(e.get([s,u]),o[u]);o[s]=a.CiLPm(l,e.get([s,s]));let d=a.MrbSC(50,Math.floor(a.zaeQp(a.CiLPm(a.xYeqb(n,s),n),50)));a.bkmsL(d,i)&&(a.DNjWJ(t,d),i=d)}return o}function Wp(e,r,t,a,n){let o={YdBoF:function(d,u,p,c){return d(u,p,c)},VLdsL:function(d,u){return d?.(u)}},i=kp(t,a),s=Gp(e,i,n),l=o.YdBoF(Hp,r,s,n);return o.VLdsL(n,100),l}function Kp(e,r){let t={AWCNf:function(c,h){return c!==h},fPAUa:"Matrix must be square",BCXtF:function(c,h){return c<h},htkJV:function(c,h){return c>h},DDQhH:function(c,h){return c<h},wIeqs:function(c,h){return c+h},DRGEh:function(c,h){return c<h},tlcDG:function(c,h){return c/h},AczYA:function(c,h){return c<h},ExoFo:function(c,h){return c*h},wvkxt:function(c,h){return c?.(h)},grcKr:function(c,h){return c?.(h)}},a=e.size();if(t.AWCNf(a.length,2)||t.AWCNf(a[0],a[1]))throw new Error(t.fPAUa);let n=a[0],o=e.toArray().map(c=>c.slice()),i={};i.length=n;let s={};s.length=n;let l=Array.from(i,(c,h)=>Array.from(s,(g,f)=>h===f?1:0)),d={};d.length=n;let u=Array.from(d,(c,h)=>h),p=0;for(let c=0;t.BCXtF(c,n);c++){let h=c,g=Math.abs(o[c][c]);for(let v=c+1;v<n;v++){let y=Math.abs(o[v][c]);t.htkJV(y,g)&&(g=y,h=v)}if(g===0)throw new Error("Matrix is singular");if(t.AWCNf(h,c)){[o[c],o[h]]=[o[h],o[c]];for(let v=0;t.DDQhH(v,c);v++)[l[c][v],l[h][v]]=[l[h][v],l[c][v]];[u[c],u[h]]=[u[h],u[c]]}let f=o[c][c];for(let v=t.wIeqs(c,1);t.DRGEh(v,n);v++){let y=t.tlcDG(o[v][c],f);l[v][c]=y;let D=o[v],_=o[c];for(let b=c;t.AczYA(b,n);b++)D[b]-=y*_[b]}let m=Math.trunc(t.ExoFo(c/n,100));t.AWCNf(m,p)&&(t.wvkxt(r,m),p=m)}return t.grcKr(r,100),{L:ye(l),U:ye(o),p:u}}var Qp=class{constructor(e){this.progress=e}goqgshic596f3137eb9b439298f11a07989c388b(e,r,t){let a={VSilB:function(h,g){return h*g},ECpbi:"4|1|5|2|0|3",TeIXL:function(h,g){return h(g)},KiAMy:function(h,g,f){return h(g,f)},FGkEM:function(h,g){return h(g)},bjsnH:"Aggregating stiffness matrix",HVmYn:function(h,g){return h(g)},rWCLR:"Calculating displacements and reactions",BGkYY:function(h,g,f,m,v,y){return h(g,f,m,v,y)}},n=a.VSilB(e.length,2),o=e.map(h=>h.okubzlrv6be1511d1274478f80b7d55a24c37d96()).reduce((h,g)=>[...h,...g]),i=this.ufzfoxjff4dcc96521d245179b6245bf44087c58(t,n),s=Pr(i);if(this.egdsvv5af04f09591d46bdaeb4a9633df42a25(i,o),!this.lup||!this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f){let h=a.ECpbi.split("|"),g=0;for(;;){switch(h[g++]){case"0":this.progress(a.TeIXL(Nr,"Stiffness matrix decomposition"));continue;case"1":this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f=this.uuftr6cf49b45b33f4f78b86e41ec59a4df18(r,n);continue;case"2":this.jvqvikhd7e0d4351d4d44f8934d52773cbf8642(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f,o);continue;case"3":this.lup=a.KiAMy(Kp,this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f,f=>this.progress(Or(f)));continue;case"4":this.progress(a.FGkEM(Nr,a.bjsnH));continue;case"5":this.ifjmbkgefa435cca6f7541aeb499fc6ef2b58458=Pr(this.xajmwxuoyb94c56d526bc4bca832d61d095baf31f);continue}break}}this.progress(a.HVmYn(Nr,a.rWCLR));let l=a.BGkYY(Wp,this.lup.L,this.lup.U,this.lup.p,i,h=>this.progress(Or(h))),d=[];l.forEach((h,g)=>d[g]=h);let u=[];Ye(this.ifjmbkgefa435cca6f7541aeb499fc6ef2b58458,l).forEach(h=>u.push(h));let p=u.map((h,g)=>o.includes(g)?h-s[g]:0),c={};return c.displacements=d,c.reactions=p,c}uuftr6cf49b45b33f4f78b86e41ec59a4df18(e,r){let t={qhVQS:"sparse",iprEe:function(o,i){return o<i},pwCpM:function(o,i){return o+i},lUakt:function(o,i){return o*i},aJBby:function(o,i){return o!==i},pjKof:function(o,i){return o(i)}},a=$r(jr(r,r,t.qhVQS)),n=0;for(let o=0;o<e.length;o++){let i=e[o],s=i.mgeuxk6dc66b6cc20a4bdd81b2416eff000b69(),l=i.octtmuefdde0bff5491745f09866669b1c0cab6c(),d=l.size();for(let u=0;t.iprEe(u,d[0]);u++)for(let p=0;t.iprEe(p,d[1]);p++){let c=s[u],h=s[p],g=[c,h],f=t.pwCpM(a.get(g),l.get([p,u]));a.set(g,f);let m=Math.trunc(t.lUakt(o/e.length,100));t.aJBby(m,n)&&(this.progress(t.pjKof(Or,m)),n=m)}}return this.progress(t.pjKof(Or,100)),a}jvqvikhd7e0d4351d4d44f8934d52773cbf8642(e,r){let t={};t.AayhF=function(o,i){return o<i};let a=t,n=e.size()[0];for(let o=0;a.AayhF(o,r.length);o++){let i=r[o];for(let s=0;a.AayhF(s,n);s++)e.set([i,s],0),e.set([s,i],0);e.set([i,i],1)}}ufzfoxjff4dcc96521d245179b6245bf44087c58(e,r){let t={};t.FyFYm=function(o,i){return o<i};let a=t,n=new Array(r).fill(0);for(let o=0;a.FyFYm(o,e.length);o++){let i=e[o],s=i.eoowiapefsea54418b4f5f4588b13adc069ae1e3f0(),l=i.mkpfha7f72854af5ad47b6af64dc4883ff5e18();n[l]+=i.hfdpkrhd5e7738ab0af44939ef757edaa357cf3(),n[s]+=i.pgcitoit1646843be34f4774a69d80c874f665a3()}return n}egdsvv5af04f09591d46bdaeb4a9633df42a25(e,r){for(let t=0;t<r.length;t++){let a=r[t];e[a]=0}}},Xp=class{constructor(e){let r={};r.TiZFq="6|7|0|2|8|1|4|5|3";let t=r,a=t.TiZFq.split("|"),n=0;for(;;){switch(a[n++]){case"0":this.elementIndex=0;continue;case"1":this.nodes=[];continue;case"2":this.displacements=[];continue;case"3":this.deadLoads=[];continue;case"4":this.elements=[];continue;case"5":this.externalLoads=[];continue;case"6":this.progress=e;continue;case"7":this.nodeIndex=0;continue;case"8":this.reactions=[];continue}break}}kdfaeqxxxhfb827410b1f5468b9ba2eb4835631a5d(e){let r=this.nowetp9cc5c8c24b834ef9aaf008eef64d6a17(e.x,e.y);if(r)return r;let t=new wp(this.nodeIndex,e);return this.nodes.push(t),this.nodeIndex++,t}chgbeeefd47ec6a805fff45a79bfd4f111b7e863b(e,r,t,a){let n={};n.CPDnp="Wrong number of nodes. Should be 4";let o=n;if(e.length!==4)throw new Error(o.CPDnp);let i=this.elements.find(l=>l.ayvdmezxx0c59b81dc5674e31a5160cf2e6d57c27(e));if(i)return i;let s=new Sp(this.elementIndex,e,r,t,a);return this.elements.push(s),this.elementIndex++,s}nlpghz9417d312bd354680aad2ab9cc90bcc7b(){this.externalLoads=[]}yekapnloui0dfbac2a48b343809c87c7b275cf3c5d(e,r,t,a){let n={};n.HTbub="Wrong number of nodes. Should be 8";let o=n;if(e.length!==8)throw new Error(o.HTbub);let i=this.elements.find(l=>l.ayvdmezxx0c59b81dc5674e31a5160cf2e6d57c27(e));if(i)return i;let s=new Vp(this.elementIndex,e,r,t,a);return this.elements.push(s),this.elementIndex++,s}cgkep7191318e44d94ae194c95090f4c863e8(e,r,t,a){let n={};if(n.nnUMu=function(l,d){return l!==d},n.nnUMu(e.length,3))throw new Error("Wrong number of nodes. Should be 3");let i=this.elements.find(l=>l.ayvdmezxx0c59b81dc5674e31a5160cf2e6d57c27(e));if(i)return i;let s=new Mp(this.elementIndex,e,r,t);return this.elements.push(s),this.elementIndex++,s}zmpudvbwwa65b8dcaa7ec43e99f26e8eb75f479ea(e,r,t,a){let n={};if(n.iPhKU=function(l,d){return l!==d},n.iPhKU(e.length,3))throw new Error("Wrong number of nodes. Should be 3");let i=this.elements.find(l=>l.ayvdmezxx0c59b81dc5674e31a5160cf2e6d57c27(e));if(i)return i;let s=new zp(this.elementIndex,e,r,t,a);return this.elements.push(s),this.elementIndex++,s}ycfzhqzc16f996c0c8a54f3785836916547afb9a(e,r,t,a){let n={};n.cpisg="Wrong number of nodes. Should be 3";let o=n;if(e.length!==6)throw new Error(o.cpisg);let i=this.elements.find(l=>l.ayvdmezxx0c59b81dc5674e31a5160cf2e6d57c27(e));if(i)return i;let s=new Op(this.elementIndex,e,r,t,a);return this.elements.push(s),this.elementIndex++,s}nowetp9cc5c8c24b834ef9aaf008eef64d6a17(e,r){return this.nodes.find(t=>t.tjzpkf1b14fe64426480682eb4b28fcb07cb0(e,r))}fmcfrqe7a1e3da354f4c49b207f74ae28293fe(){return this.elements}jivvxgzpuj533c37d8ac704fd19a3a82f327e01210(){return this.nodes}hcgpv5c8fea5580074951a6ceb888cd518db9(e,r,t){let a=new ui(e,r,t);return this.externalLoads.push(a),a}jtxsjkq455e25cef88547c882c744bf24be399f(e){let r=this.nowetp9cc5c8c24b834ef9aaf008eef64d6a17(e.x,e.y);if(!r)throw new Error("Node at ("+e.x+", "+e.y+") not found for point load.");let t=new ui(r,e.fx,e.fy);return this.externalLoads.push(t),t}wgpqektqqx9f23137067354fe9a71c9e056aa57ccf(e){let r=this.elements.filter(a=>a.tag===e.geometryTag);if(!r||r.length===0)throw new Error("No elements found with tag '"+e.geometryTag+"' for distributed load.");let t=r.map(a=>a.odexqjeo21fefaa2d00c41c7bc9558cca6c1083a(e.fx,e.fy)).flatMap(a=>a);return this.externalLoads.push(...t),t}xfsea39b8c0e41c554b968fc3d7b5f969af0d(e){for(let r of e){let t=this.nowetp9cc5c8c24b834ef9aaf008eef64d6a17(r.x,r.y);if(!t)throw new Error("Node at ("+r.x+", "+r.y+") not found for support.");r.uy&&r.ux?t.npqiixe8a1e21f5492432cb896b9b96429e60e():r.uy&&t.nxvabpjd5230b40b215044979c72229ad1eeecb2()}}hcesgqhc0ab2daa843e34dc585f45030d17260bb(){this.deadLoads=this.elements.map(e=>e.owbofda451cb76c6b4a5798e99f1c467290c0()).flatMap(e=>e)}imhho55cc900553d045dfa4472fa295298e50(){!this.luSolveSolver&&(this.luSolveSolver=new _p),this.displacements=[];let e=this.externalLoads.concat(this.deadLoads),r=this.luSolveSolver.goqgshic596f3137eb9b439298f11a07989c388b(this.nodes,this.elements,e);this.displacements=r.displacements,this.reactions=r.reactions}qtdzzaged0752c14d95644db899ec1d6eafec978(){!this.iterativeSolver&&(this.iterativeSolver=new Yp(this.progress));let e=this.externalLoads.concat(this.deadLoads),r=this.iterativeSolver.goqgshic596f3137eb9b439298f11a07989c388b(this.nodes,this.elements,e);this.displacements=r.displacements,this.reactions=r.reactions}solveLuSolveProgress(){!this.lusolveProgressSolver&&(this.lusolveProgressSolver=new Qp(this.progress));let e=this.externalLoads.concat(this.deadLoads),r=this.lusolveProgressSolver.goqgshic596f3137eb9b439298f11a07989c388b(this.nodes,this.elements,e);this.displacements=r.displacements,this.reactions=r.reactions}vcdqf985538d74780454888d4ad768a3cb6bb(){let e={};e.BlZjc=function(a,n){return a instanceof n};let r=e,t=[];for(let a of this.elements)if(r.BlZjc(a,It)){let n=a.mhkaiomjy63e808c3c7ea4e5e97da95a5a939a50e(this.displacements,this.reactions);t.push(n)}return t}};async function*Js(e,r){let t={SwVJQ:function(o,i){return o(i)},kIgdN:function(o,i){return o(i)},YkHme:"Creating model",jDRnY:function(o,i){return o===i},gVnyr:"iterative",KYqMH:function(o,i){return o(i)}};t.SwVJQ(r,t.kIgdN(ni,t.YkHme));let a=e.triangles.map(o=>bp.honhlsao20c7556f93d24f2ca1ad9183f4b3a882(o)).map(o=>o.gancuzimteb151cf23b43406e9abe6d779dedf51f()),n=new Xp(r);for(let o of a){let i=o.points.map(p=>n.kdfaeqxxxhfb827410b1f5468b9ba2eb4835631a5d(p)),s=e.sections.find(p=>p.tag===o.sectionTag);if(!s)throw new Error("Properties with tag "+o.sectionTag+" not found");let l=e.materials.find(p=>p.tag===o.materialTag);if(!l)throw new Error("Material with tag "+o.materialTag+" not found");let d={};d.modulusOfElasticity=l.modulusOfElasticity,d.poissonsRatio=l.poissonsRatio,d.weight=l.weight;let u=d;n.ycfzhqzc16f996c0c8a54f3785836916547afb9a(i,u,s.thickness,o.tag)}n.xfsea39b8c0e41c554b968fc3d7b5f969af0d(e.supports);for(let o of e.loadCases){n.nlpghz9417d312bd354680aad2ab9cc90bcc7b(),o.includeDeadLoad&&n.hcesgqhc0ab2daa843e34dc585f45030d17260bb(),t.kIgdN(r,t.SwVJQ(ni,"Solving load case "+o.tag));for(let l of o.pointLoads)n.jtxsjkq455e25cef88547c882c744bf24be399f(l);for(let l of o.distributedLoads)n.wgpqektqqx9f23137067354fe9a71c9e056aa57ccf(l);if(t.jDRnY(e.solverType,"lusolve"))n.solveLuSolveProgress();else if(t.jDRnY(e.solverType,t.gVnyr))n.qtdzzaged0752c14d95644db899ec1d6eafec978();else throw new Error("Solver type "+e.solverType+" not supported");let i=n.vcdqf985538d74780454888d4ad768a3cb6bb(),s={};s.membraneResults=i,s.loadCaseTag=o.tag,yield s}t.kIgdN(r,t.kIgdN(ni,"Finished all load cases")),r(Nr(" ")),t.SwVJQ(r,t.KYqMH(Or,-1))}var Kt=jt(js());var Lr=class extends Error{constructor(r){super(r)}};function ef(e){if(e.length<3)throw new Lr("At least three vertices are required to form a face.");return{vertices:[...e.filter(r=>r)],results:[]}}function*rf(e,r,t){if(!t)throw new Lr("No element results in response");let a=r.supports.map(n=>jp(n));for(let n of["sxx","syy","sxy"]){let o=[],i=[];for(let g of t){let f=g.nodes.map(D=>ed(D,g.element.index,n)),m=f.map(D=>({value:D.value,nodeIndex:D.index})),v=$p(f);for(let D of v){let _={vertices:D,results:m};o.push(_)}let y=ef(f);i.push(y)}let s=t.flatMap(g=>g.nodes).map(g=>g.nodeResult.node.coordinates.x).reduce((g,f)=>Math.max(g,f),-1/0),l=t.flatMap(g=>g.nodes).map(g=>g.nodeResult.node.coordinates.x).reduce((g,f)=>Math.min(g,f),1/0),d=t.flatMap(g=>g.nodes).map(g=>g.nodeResult.node.coordinates.y).reduce((g,f)=>Math.max(g,f),-1/0),u=t.flatMap(g=>g.nodes).map(g=>g.nodeResult.node.coordinates.y).reduce((g,f)=>Math.min(g,f),1/0),p=s-l,c=d-u;yield{faces:o,wireframeFaces:i,supports:a,borders:[],loadCaseTag:e,resultType:n,loads:[],width:p,height:c}}}function $p(e){if(e.length!==6)throw new Lr("Expected 6 vertices for quadratic triangle");let[r,t,a,n,o,i]=e;return[[r,n,i],[t,o,n],[a,i,o],[n,o,i]]}function jp(e){return{x:e.x,y:e.y,z:0,ux:e.fixedX,uy:e.fixedY,uz:!1}}function ed(e,r,t){let a=0;switch(t){case"sxx":a=e.sxx;break;case"syy":a=e.syy;break;case"sxy":a=e.txy;break;default:throw new Error("Unsupported result type")}return{index:e.nodeResult.node.index,elementIndex:r,x:e.nodeResult.node.coordinates.x,y:e.nodeResult.node.coordinates.y,z:0,ux:e.nodeResult.ux,uy:e.nodeResult.uy,uz:0,value:a}}var tf=(e,r,t="")=>`View3dModel-${e}-${r}${t}`,nf=e=>`Triangles-${e}`,af=(e,r)=>`MembraneResults-${e}-${r}`;var pi=jt(uf());var sf=(e,r,t)=>(0,pi.default)(e.x,r)&&(0,pi.default)(e.y,t);var ff=(e,r)=>{let t=e.membraneResults.flatMap(n=>n.nodes.map(i=>{let s=i.nodeResult.node.coordinates.x,l=i.nodeResult.node.coordinates.y,d=r.resultPoints.find(u=>sf(u,s,l))?.name??"";return{resultIdentity:`${n.element.index}-${i.nodeResult.node.index}`,nodeIndex:i.nodeResult.node.index,resultPointName:d,elementIndex:n.element.index,geometryName:n.element.tag,nodeX:i.nodeResult.node.coordinates.x,nodeY:i.nodeResult.node.coordinates.y,uX:i.nodeResult.ux,uY:i.nodeResult.uy,reactionX:i.nodeResult.reactionX,reactionY:i.nodeResult.reactionY,sxx:i.sxx,syy:i.syy,sxy:i.txy}}));return{loadCase:e.loadCaseTag,details:t}};addEventListener("message",({data:e})=>{nd(e)});async function nd(e){let r=await Kt.getItem(nf(e.geometryUuid));if(!r||r.length===0)throw postMessage(new ft().setError("Triangles not found").setUuidsFromCommand(e).build()),new Lr("Triangles not found");let t={sections:e.geometry.sectionProperties.map(n=>ad(n)),materials:e.geometry.materials.map(n=>od(n)),loadCases:e.geometry.loadCases.map(n=>id(n)),supports:e.geometry.supports.map(n=>fd(n)),triangles:r.map(n=>cd(n)),solverType:e.geometry.solverConfiguration.solverType},a=n=>postMessage(new ft().setProgressType().setProgress(n).setUuidsFromCommand(e).build());try{for await(let n of Js(t,a)){let o=rf(n.loadCaseTag,e.geometry,n.membraneResults);for(let l of o){let d=tf(e.solverUuid,n.loadCaseTag,l.resultType);await Kt.setItem(d,l)}let i=ff(n,e.geometry),s=af(e.solverUuid,n.loadCaseTag);await Kt.setItem(s,i)}postMessage(new ft().setFinished().setUuidsFromCommand(e).setLoadCases(e.geometry.loadCases.map(n=>n.name)).build())}catch(n){console.error(n),postMessage(new ft().setError(n.message).setUuidsFromCommand(e).build())}}var ad=e=>({thickness:e.thickness,tag:e.name}),od=e=>({poissonsRatio:e.poissonsRatio,modulusOfElasticity:e.modulusOfElasticity,tag:e.name,weight:e.weight}),id=e=>({tag:e.name,pointLoads:e.pointLoads.map(t=>sd(t)),distributedLoads:e.distributedLoads.map(t=>ud(t)),includeDeadLoad:e.includeDeadLoad});function ud(e){return{geometryTag:e.geometryName,fx:e.fx,fy:e.fy}}function sd(e){return{x:e.x,y:e.y,fx:e.fx,fy:e.fy}}var fd=e=>({x:e.x,y:e.y,ux:e.fixedX,uy:e.fixedY}),cd=e=>({tag:e.name,points:e.points.map(t=>({x:t.x,y:t.y})),sectionTag:e.sectionTag,materialTag:e.materialTag});
