var vn=Object.create;var rt=Object.defineProperty;var bn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames;var wn=Object.getPrototypeOf,Pn=Object.prototype.hasOwnProperty;var ae=(p=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(p,{get:(n,o)=>(typeof require<"u"?require:n)[o]}):p)(function(p){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+p+'" is not supported')});var Ie=(p,n)=>()=>(n||p((n={exports:{}}).exports,n),n.exports);var Tn=(p,n,o,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let d of _n(n))!Pn.call(p,d)&&d!==o&&rt(p,d,{get:()=>n[d],enumerable:!(f=bn(n,d))||f.enumerable});return p};var ie=(p,n,o)=>(o=p!=null?vn(wn(p)):{},Tn(n||!p||!p.__esModule?rt(o,"default",{value:p,enumerable:!0}):o,p));var pe=Ie((jn,ot)=>{"use strict";var Re=Math.abs,En=Math.min;function me(p,n,o,f){var d=Re(p-n);return o==null&&(o=me.DBL_EPSILON),f==null&&(f=o),d<=o||d<=f*En(Re(p),Re(n))?!0:p===n}me.FLT_EPSILON=11920929e-14;me.DBL_EPSILON=2220446049250313e-31;ot.exports=me});var dt=Ie((ut,Le)=>{"use strict";(function(p){if(typeof ut=="object"&&typeof Le<"u")Le.exports=p();else if(typeof define=="function"&&define.amd)define([],p);else{var n;typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"?n=self:n=this,n.localforage=p()}})(function(){var p,n,o;return function f(d,y,h){function s(v,D){if(!y[v]){if(!d[v]){var u=typeof ae=="function"&&ae;if(!D&&u)return u(v,!0);if(m)return m(v,!0);var b=new Error("Cannot find module '"+v+"'");throw b.code="MODULE_NOT_FOUND",b}var S=y[v]={exports:{}};d[v][0].call(S.exports,function(E){var R=d[v][1][E];return s(R||E)},S,S.exports,f,d,y,h)}return y[v].exports}for(var m=typeof ae=="function"&&ae,l=0;l<h.length;l++)s(h[l]);return s}({1:[function(f,d,y){(function(h){"use strict";var s=h.MutationObserver||h.WebKitMutationObserver,m;if(s){var l=0,v=new s(E),D=h.document.createTextNode("");v.observe(D,{characterData:!0}),m=function(){D.data=l=++l%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var u=new h.MessageChannel;u.port1.onmessage=E,m=function(){u.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?m=function(){var q=h.document.createElement("script");q.onreadystatechange=function(){E(),q.onreadystatechange=null,q.parentNode.removeChild(q),q=null},h.document.documentElement.appendChild(q)}:m=function(){setTimeout(E,0)};var b,S=[];function E(){b=!0;for(var q,H,V=S.length;V;){for(H=S,S=[],q=-1;++q<V;)H[q]();V=S.length}b=!1}d.exports=R;function R(q){S.push(q)===1&&!b&&m()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,d,y){"use strict";var h=f(1);function s(){}var m={},l=["REJECTED"],v=["FULFILLED"],D=["PENDING"];d.exports=u;function u(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,T!==s&&R(this,T)}u.prototype.catch=function(T){return this.then(null,T)},u.prototype.then=function(T,C){if(typeof T!="function"&&this.state===v||typeof C!="function"&&this.state===l)return this;var A=new this.constructor(s);if(this.state!==D){var M=this.state===v?T:C;S(A,M,this.outcome)}else this.queue.push(new b(A,T,C));return A};function b(T,C,A){this.promise=T,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(T){m.resolve(this.promise,T)},b.prototype.otherCallFulfilled=function(T){S(this.promise,this.onFulfilled,T)},b.prototype.callRejected=function(T){m.reject(this.promise,T)},b.prototype.otherCallRejected=function(T){S(this.promise,this.onRejected,T)};function S(T,C,A){h(function(){var M;try{M=C(A)}catch(U){return m.reject(T,U)}M===T?m.reject(T,new TypeError("Cannot resolve promise with itself")):m.resolve(T,M)})}m.resolve=function(T,C){var A=q(E,C);if(A.status==="error")return m.reject(T,A.value);var M=A.value;if(M)R(T,M);else{T.state=v,T.outcome=C;for(var U=-1,F=T.queue.length;++U<F;)T.queue[U].callFulfilled(C)}return T},m.reject=function(T,C){T.state=l,T.outcome=C;for(var A=-1,M=T.queue.length;++A<M;)T.queue[A].callRejected(C);return T};function E(T){var C=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof C=="function")return function(){C.apply(T,arguments)}}function R(T,C){var A=!1;function M(Y){A||(A=!0,m.reject(T,Y))}function U(Y){A||(A=!0,m.resolve(T,Y))}function F(){C(U,M)}var J=q(F);J.status==="error"&&M(J.value)}function q(T,C){var A={};try{A.value=T(C),A.status="success"}catch(M){A.status="error",A.value=M}return A}u.resolve=H;function H(T){return T instanceof this?T:m.resolve(new this(s),T)}u.reject=V;function V(T){var C=new this(s);return m.reject(C,T)}u.all=xe;function xe(T){var C=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=T.length,M=!1;if(!A)return this.resolve([]);for(var U=new Array(A),F=0,J=-1,Y=new this(s);++J<A;)W(T[J],J);return Y;function W(ne,ue){C.resolve(ne).then(ye,function(ee){M||(M=!0,m.reject(Y,ee))});function ye(ee){U[ue]=ee,++F===A&&!M&&(M=!0,m.resolve(Y,U))}}}u.race=Z;function Z(T){var C=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=T.length,M=!1;if(!A)return this.resolve([]);for(var U=-1,F=new this(s);++U<A;)J(T[U]);return F;function J(Y){C.resolve(Y).then(function(W){M||(M=!0,m.resolve(F,W))},function(W){M||(M=!0,m.reject(F,W))})}}},{1:1}],3:[function(f,d,y){(function(h){"use strict";typeof h.Promise!="function"&&(h.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,d,y){"use strict";var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function m(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=m();function v(){try{if(!l||!l.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),r=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||r)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function D(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(a){if(a.name!=="TypeError")throw a;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,c=0;c<e.length;c+=1)i.append(e[c]);return i.getBlob(r.type)}}typeof Promise>"u"&&f(3);var u=Promise;function b(e,r){r&&e.then(function(t){r(null,t)},function(t){r(t)})}function S(e,r,t){typeof r=="function"&&e.then(r),typeof t=="function"&&e.catch(t)}function E(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function R(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var q="local-forage-detect-blob-support",H=void 0,V={},xe=Object.prototype.toString,Z="readonly",T="readwrite";function C(e){for(var r=e.length,t=new ArrayBuffer(r),i=new Uint8Array(t),c=0;c<r;c++)i[c]=e.charCodeAt(c);return t}function A(e){return new u(function(r){var t=e.transaction(q,T),i=D([""]);t.objectStore(q).put(i,"key"),t.onabort=function(c){c.preventDefault(),c.stopPropagation(),r(!1)},t.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);r(a||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function M(e){return typeof H=="boolean"?u.resolve(H):A(e).then(function(r){return H=r,H})}function U(e){var r=V[e.name],t={};t.promise=new u(function(i,c){t.resolve=i,t.reject=c}),r.deferredOperations.push(t),r.dbReady?r.dbReady=r.dbReady.then(function(){return t.promise}):r.dbReady=t.promise}function F(e){var r=V[e.name],t=r.deferredOperations.pop();if(t)return t.resolve(),t.promise}function J(e,r){var t=V[e.name],i=t.deferredOperations.pop();if(i)return i.reject(r),i.promise}function Y(e,r){return new u(function(t,i){if(V[e.name]=V[e.name]||Oe(),e.db)if(r)U(e),e.db.close();else return t(e.db);var c=[e.name];r&&c.push(e.version);var a=l.open.apply(l,c);r&&(a.onupgradeneeded=function(x){var g=a.result;try{g.createObjectStore(e.storeName),x.oldVersion<=1&&g.createObjectStore(q)}catch(_){if(_.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+x.oldVersion+" to version "+x.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw _}}),a.onerror=function(x){x.preventDefault(),i(a.error)},a.onsuccess=function(){var x=a.result;x.onversionchange=function(g){g.target.close()},t(x),F(e)}})}function W(e){return Y(e,!1)}function ne(e){return Y(e,!0)}function ue(e,r){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,c=e.version>e.db.version;if(i&&(e.version!==r&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),c||t){if(t){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function ye(e){return new u(function(r,t){var i=new FileReader;i.onerror=t,i.onloadend=function(c){var a=btoa(c.target.result||"");r({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var r=C(atob(e.data));return D([r],{type:e.type})}function Be(e){return e&&e.__local_forage_encoded_blob}function vt(e){var r=this,t=r._initReady().then(function(){var i=V[r._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return S(t,e,e),t}function bt(e){U(e);for(var r=V[e.name],t=r.forages,i=0;i<t.length;i++){var c=t[i];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return e.db=null,W(e).then(function(a){return e.db=a,ue(e)?ne(e):a}).then(function(a){e.db=r.db=a;for(var x=0;x<t.length;x++)t[x]._dbInfo.db=a}).catch(function(a){throw J(e,a),a})}function X(e,r,t,i){i===void 0&&(i=1);try{var c=e.db.transaction(e.storeName,r);t(null,c)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return u.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return bt(e).then(function(){X(e,r,t,i-1)})}).catch(t);t(a)}}function Oe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _t(e){var r=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var c=V[t.name];c||(c=Oe(),V[t.name]=c),c.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=vt);var a=[];function x(){return u.resolve()}for(var g=0;g<c.forages.length;g++){var _=c.forages[g];_!==r&&a.push(_._initReady().catch(x))}var w=c.forages.slice(0);return u.all(a).then(function(){return t.db=c.db,W(t)}).then(function(P){return t.db=P,ue(t,r._defaultConfig.version)?ne(t):P}).then(function(P){t.db=c.db=P,r._dbInfo=t;for(var I=0;I<w.length;I++){var N=w[I];N!==r&&(N._dbInfo.db=t.db,N._dbInfo.version=t.version)}})}function wt(e,r){var t=this;e=E(e);var i=new u(function(c,a){t.ready().then(function(){X(t._dbInfo,Z,function(x,g){if(x)return a(x);try{var _=g.objectStore(t._dbInfo.storeName),w=_.get(e);w.onsuccess=function(){var P=w.result;P===void 0&&(P=null),Be(P)&&(P=ee(P)),c(P)},w.onerror=function(){a(w.error)}}catch(P){a(P)}})}).catch(a)});return b(i,r),i}function Pt(e,r){var t=this,i=new u(function(c,a){t.ready().then(function(){X(t._dbInfo,Z,function(x,g){if(x)return a(x);try{var _=g.objectStore(t._dbInfo.storeName),w=_.openCursor(),P=1;w.onsuccess=function(){var I=w.result;if(I){var N=I.value;Be(N)&&(N=ee(N));var L=e(N,I.key,P++);L!==void 0?c(L):I.continue()}else c()},w.onerror=function(){a(w.error)}}catch(I){a(I)}})}).catch(a)});return b(i,r),i}function Tt(e,r,t){var i=this;e=E(e);var c=new u(function(a,x){var g;i.ready().then(function(){return g=i._dbInfo,xe.call(r)==="[object Blob]"?M(g.db).then(function(_){return _?r:ye(r)}):r}).then(function(_){X(i._dbInfo,T,function(w,P){if(w)return x(w);try{var I=P.objectStore(i._dbInfo.storeName);_===null&&(_=void 0);var N=I.put(_,e);P.oncomplete=function(){_===void 0&&(_=null),a(_)},P.onabort=P.onerror=function(){var L=N.error?N.error:N.transaction.error;x(L)}}catch(L){x(L)}})}).catch(x)});return b(c,t),c}function Et(e,r){var t=this;e=E(e);var i=new u(function(c,a){t.ready().then(function(){X(t._dbInfo,T,function(x,g){if(x)return a(x);try{var _=g.objectStore(t._dbInfo.storeName),w=_.delete(e);g.oncomplete=function(){c()},g.onerror=function(){a(w.error)},g.onabort=function(){var P=w.error?w.error:w.transaction.error;a(P)}}catch(P){a(P)}})}).catch(a)});return b(i,r),i}function St(e){var r=this,t=new u(function(i,c){r.ready().then(function(){X(r._dbInfo,T,function(a,x){if(a)return c(a);try{var g=x.objectStore(r._dbInfo.storeName),_=g.clear();x.oncomplete=function(){i()},x.onabort=x.onerror=function(){var w=_.error?_.error:_.transaction.error;c(w)}}catch(w){c(w)}})}).catch(c)});return b(t,e),t}function It(e){var r=this,t=new u(function(i,c){r.ready().then(function(){X(r._dbInfo,Z,function(a,x){if(a)return c(a);try{var g=x.objectStore(r._dbInfo.storeName),_=g.count();_.onsuccess=function(){i(_.result)},_.onerror=function(){c(_.error)}}catch(w){c(w)}})}).catch(c)});return b(t,e),t}function Rt(e,r){var t=this,i=new u(function(c,a){if(e<0){c(null);return}t.ready().then(function(){X(t._dbInfo,Z,function(x,g){if(x)return a(x);try{var _=g.objectStore(t._dbInfo.storeName),w=!1,P=_.openKeyCursor();P.onsuccess=function(){var I=P.result;if(!I){c(null);return}e===0||w?c(I.key):(w=!0,I.advance(e))},P.onerror=function(){a(P.error)}}catch(I){a(I)}})}).catch(a)});return b(i,r),i}function Dt(e){var r=this,t=new u(function(i,c){r.ready().then(function(){X(r._dbInfo,Z,function(a,x){if(a)return c(a);try{var g=x.objectStore(r._dbInfo.storeName),_=g.openKeyCursor(),w=[];_.onsuccess=function(){var P=_.result;if(!P){i(w);return}w.push(P.key),P.continue()},_.onerror=function(){c(_.error)}}catch(P){c(P)}})}).catch(c)});return b(t,e),t}function Nt(e,r){r=R.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,c;if(!e.name)c=u.reject("Invalid arguments");else{var a=e.name===t.name&&i._dbInfo.db,x=a?u.resolve(i._dbInfo.db):W(e).then(function(g){var _=V[e.name],w=_.forages;_.db=g;for(var P=0;P<w.length;P++)w[P]._dbInfo.db=g;return g});e.storeName?c=x.then(function(g){if(g.objectStoreNames.contains(e.storeName)){var _=g.version+1;U(e);var w=V[e.name],P=w.forages;g.close();for(var I=0;I<P.length;I++){var N=P[I];N._dbInfo.db=null,N._dbInfo.version=_}var L=new u(function(z,O){var B=l.open(e.name,_);B.onerror=function(j){var oe=B.result;oe.close(),O(j)},B.onupgradeneeded=function(){var j=B.result;j.deleteObjectStore(e.storeName)},B.onsuccess=function(){var j=B.result;j.close(),z(j)}});return L.then(function(z){w.db=z;for(var O=0;O<P.length;O++){var B=P[O];B._dbInfo.db=z,F(B._dbInfo)}}).catch(function(z){throw(J(e,z)||u.resolve()).catch(function(){}),z})}}):c=x.then(function(g){U(e);var _=V[e.name],w=_.forages;g.close();for(var P=0;P<w.length;P++){var I=w[P];I._dbInfo.db=null}var N=new u(function(L,z){var O=l.deleteDatabase(e.name);O.onerror=function(){var B=O.result;B&&B.close(),z(O.error)},O.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},O.onsuccess=function(){var B=O.result;B&&B.close(),L(B)}});return N.then(function(L){_.db=L;for(var z=0;z<w.length;z++){var O=w[z];F(O._dbInfo)}}).catch(function(L){throw(J(e,L)||u.resolve()).catch(function(){}),L})})}return b(c,r),c}var At={_driver:"asyncStorage",_initStorage:_t,_support:v(),iterate:Pt,getItem:wt,setItem:Tt,removeItem:Et,clear:St,length:It,key:Rt,keys:Dt,dropInstance:Nt};function Ct(){return typeof openDatabase=="function"}var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lt="~~local_forage_type~",qe=/^~~local_forage_type~([^~]+)~/,de="__lfsc__:",ge=de.length,ve="arbf",be="blob",Ve="si08",Ue="ui08",Fe="uic8",Ge="si16",Je="si32",Ye="ur16",je="ui32",Ke="fl32",He="fl64",We=ge+ve.length,Xe=Object.prototype.toString;function ke(e){var r=e.length*.75,t=e.length,i,c=0,a,x,g,_;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var w=new ArrayBuffer(r),P=new Uint8Array(w);for(i=0;i<t;i+=4)a=k.indexOf(e[i]),x=k.indexOf(e[i+1]),g=k.indexOf(e[i+2]),_=k.indexOf(e[i+3]),P[c++]=a<<2|x>>4,P[c++]=(x&15)<<4|g>>2,P[c++]=(g&3)<<6|_&63;return w}function _e(e){var r=new Uint8Array(e),t="",i;for(i=0;i<r.length;i+=3)t+=k[r[i]>>2],t+=k[(r[i]&3)<<4|r[i+1]>>4],t+=k[(r[i+1]&15)<<2|r[i+2]>>6],t+=k[r[i+2]&63];return r.length%3===2?t=t.substring(0,t.length-1)+"=":r.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function zt(e,r){var t="";if(e&&(t=Xe.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&Xe.call(e.buffer)==="[object ArrayBuffer]")){var i,c=de;e instanceof ArrayBuffer?(i=e,c+=ve):(i=e.buffer,t==="[object Int8Array]"?c+=Ve:t==="[object Uint8Array]"?c+=Ue:t==="[object Uint8ClampedArray]"?c+=Fe:t==="[object Int16Array]"?c+=Ge:t==="[object Uint16Array]"?c+=Ye:t==="[object Int32Array]"?c+=Je:t==="[object Uint32Array]"?c+=je:t==="[object Float32Array]"?c+=Ke:t==="[object Float64Array]"?c+=He:r(new Error("Failed to get type for BinaryArray"))),r(c+_e(i))}else if(t==="[object Blob]"){var a=new FileReader;a.onload=function(){var x=Lt+e.type+"~"+_e(this.result);r(de+be+x)},a.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(x){console.error("Couldn't convert value into a JSON string: ",e),r(null,x)}}function Mt(e){if(e.substring(0,ge)!==de)return JSON.parse(e);var r=e.substring(We),t=e.substring(ge,We),i;if(t===be&&qe.test(r)){var c=r.match(qe);i=c[1],r=r.substring(c[0].length)}var a=ke(r);switch(t){case ve:return a;case be:return D([a],{type:i});case Ve:return new Int8Array(a);case Ue:return new Uint8Array(a);case Fe:return new Uint8ClampedArray(a);case Ge:return new Int16Array(a);case Ye:return new Uint16Array(a);case Je:return new Int32Array(a);case je:return new Uint32Array(a);case Ke:return new Float32Array(a);case He:return new Float64Array(a);default:throw new Error("Unkown type: "+t)}}var we={serialize:zt,deserialize:Mt,stringToBuffer:ke,bufferToString:_e};function Qe(e,r,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function Bt(e){var r=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var c=new u(function(a,x){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(g){return x(g)}t.db.transaction(function(g){Qe(g,t,function(){r._dbInfo=t,a()},function(_,w){x(w)})},x)});return t.serializer=we,c}function Q(e,r,t,i,c,a){e.executeSql(t,i,c,function(x,g){g.code===g.SYNTAX_ERR?x.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(_,w){w.rows.length?a(_,g):Qe(_,r,function(){_.executeSql(t,i,c,a)},a)},a):a(x,g)},a)}function Ot(e,r){var t=this;e=E(e);var i=new u(function(c,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(g){Q(g,x,"SELECT * FROM "+x.storeName+" WHERE key = ? LIMIT 1",[e],function(_,w){var P=w.rows.length?w.rows.item(0).value:null;P&&(P=x.serializer.deserialize(P)),c(P)},function(_,w){a(w)})})}).catch(a)});return b(i,r),i}function qt(e,r){var t=this,i=new u(function(c,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(g){Q(g,x,"SELECT * FROM "+x.storeName,[],function(_,w){for(var P=w.rows,I=P.length,N=0;N<I;N++){var L=P.item(N),z=L.value;if(z&&(z=x.serializer.deserialize(z)),z=e(z,L.key,N+1),z!==void 0){c(z);return}}c()},function(_,w){a(w)})})}).catch(a)});return b(i,r),i}function $e(e,r,t,i){var c=this;e=E(e);var a=new u(function(x,g){c.ready().then(function(){r===void 0&&(r=null);var _=r,w=c._dbInfo;w.serializer.serialize(r,function(P,I){I?g(I):w.db.transaction(function(N){Q(N,w,"INSERT OR REPLACE INTO "+w.storeName+" (key, value) VALUES (?, ?)",[e,P],function(){x(_)},function(L,z){g(z)})},function(N){if(N.code===N.QUOTA_ERR){if(i>0){x($e.apply(c,[e,_,t,i-1]));return}g(N)}})})}).catch(g)});return b(a,t),a}function Vt(e,r,t){return $e.apply(this,[e,r,t,1])}function Ut(e,r){var t=this;e=E(e);var i=new u(function(c,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(g){Q(g,x,"DELETE FROM "+x.storeName+" WHERE key = ?",[e],function(){c()},function(_,w){a(w)})})}).catch(a)});return b(i,r),i}function Ft(e){var r=this,t=new u(function(i,c){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(x){Q(x,a,"DELETE FROM "+a.storeName,[],function(){i()},function(g,_){c(_)})})}).catch(c)});return b(t,e),t}function Gt(e){var r=this,t=new u(function(i,c){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(x){Q(x,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(g,_){var w=_.rows.item(0).c;i(w)},function(g,_){c(_)})})}).catch(c)});return b(t,e),t}function Jt(e,r){var t=this,i=new u(function(c,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(g){Q(g,x,"SELECT key FROM "+x.storeName+" WHERE id = ? LIMIT 1",[e+1],function(_,w){var P=w.rows.length?w.rows.item(0).key:null;c(P)},function(_,w){a(w)})})}).catch(a)});return b(i,r),i}function Yt(e){var r=this,t=new u(function(i,c){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(x){Q(x,a,"SELECT key FROM "+a.storeName,[],function(g,_){for(var w=[],P=0;P<_.rows.length;P++)w.push(_.rows.item(P).key);i(w)},function(g,_){c(_)})})}).catch(c)});return b(t,e),t}function jt(e){return new u(function(r,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,a){for(var x=[],g=0;g<a.rows.length;g++)x.push(a.rows.item(g).name);r({db:e,storeNames:x})},function(c,a){t(a)})},function(i){t(i)})})}function Kt(e,r){r=R.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,c;return e.name?c=new u(function(a){var x;e.name===t.name?x=i._dbInfo.db:x=openDatabase(e.name,"","",0),e.storeName?a({db:x,storeNames:[e.storeName]}):a(jt(x))}).then(function(a){return new u(function(x,g){a.db.transaction(function(_){function w(L){return new u(function(z,O){_.executeSql("DROP TABLE IF EXISTS "+L,[],function(){z()},function(B,j){O(j)})})}for(var P=[],I=0,N=a.storeNames.length;I<N;I++)P.push(w(a.storeNames[I]));u.all(P).then(function(){x()}).catch(function(L){g(L)})},function(_){g(_)})})}):c=u.reject("Invalid arguments"),b(c,r),c}var Ht={_driver:"webSQLStorage",_initStorage:Bt,_support:Ct(),iterate:qt,getItem:Ot,setItem:Vt,removeItem:Ut,clear:Ft,length:Gt,key:Jt,keys:Yt,dropInstance:Kt};function Wt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ze(e,r){var t=e.name+"/";return e.storeName!==r.storeName&&(t+=e.storeName+"/"),t}function Xt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function kt(){return!Xt()||localStorage.length>0}function Qt(e){var r=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=Ze(e,r._defaultConfig),kt()?(r._dbInfo=t,t.serializer=we,u.resolve()):u.reject()}function $t(e){var r=this,t=r.ready().then(function(){for(var i=r._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var a=localStorage.key(c);a.indexOf(i)===0&&localStorage.removeItem(a)}});return b(t,e),t}function Zt(e,r){var t=this;e=E(e);var i=t.ready().then(function(){var c=t._dbInfo,a=localStorage.getItem(c.keyPrefix+e);return a&&(a=c.serializer.deserialize(a)),a});return b(i,r),i}function en(e,r){var t=this,i=t.ready().then(function(){for(var c=t._dbInfo,a=c.keyPrefix,x=a.length,g=localStorage.length,_=1,w=0;w<g;w++){var P=localStorage.key(w);if(P.indexOf(a)===0){var I=localStorage.getItem(P);if(I&&(I=c.serializer.deserialize(I)),I=e(I,P.substring(x),_++),I!==void 0)return I}}});return b(i,r),i}function tn(e,r){var t=this,i=t.ready().then(function(){var c=t._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(c.keyPrefix.length)),a});return b(i,r),i}function nn(e){var r=this,t=r.ready().then(function(){for(var i=r._dbInfo,c=localStorage.length,a=[],x=0;x<c;x++){var g=localStorage.key(x);g.indexOf(i.keyPrefix)===0&&a.push(g.substring(i.keyPrefix.length))}return a});return b(t,e),t}function rn(e){var r=this,t=r.keys().then(function(i){return i.length});return b(t,e),t}function on(e,r){var t=this;e=E(e);var i=t.ready().then(function(){var c=t._dbInfo;localStorage.removeItem(c.keyPrefix+e)});return b(i,r),i}function an(e,r,t){var i=this;e=E(e);var c=i.ready().then(function(){r===void 0&&(r=null);var a=r;return new u(function(x,g){var _=i._dbInfo;_.serializer.serialize(r,function(w,P){if(P)g(P);else try{localStorage.setItem(_.keyPrefix+e,w),x(a)}catch(I){(I.name==="QuotaExceededError"||I.name==="NS_ERROR_DOM_QUOTA_REACHED")&&g(I),g(I)}})})});return b(c,t),c}function fn(e,r){if(r=R.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,c;return e.name?c=new u(function(a){e.storeName?a(Ze(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var x=localStorage.length-1;x>=0;x--){var g=localStorage.key(x);g.indexOf(a)===0&&localStorage.removeItem(g)}}):c=u.reject("Invalid arguments"),b(c,r),c}var cn={_driver:"localStorageWrapper",_initStorage:Qt,_support:Wt(),iterate:en,getItem:Zt,setItem:an,removeItem:on,clear:$t,length:rn,key:tn,keys:nn,dropInstance:fn},sn=function(r,t){return r===t||typeof r=="number"&&typeof t=="number"&&isNaN(r)&&isNaN(t)},un=function(r,t){for(var i=r.length,c=0;c<i;){if(sn(r[c],t))return!0;c++}return!1},et=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},tt={},te={INDEXEDDB:At,WEBSQL:Ht,LOCALSTORAGE:cn},dn=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],le=["dropInstance"],Pe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(le),ln={description:"",driver:dn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function mn(e,r){e[r]=function(){var t=arguments;return e.ready().then(function(){return e[r].apply(e,t)})}}function Te(){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var t in r)r.hasOwnProperty(t)&&(et(r[t])?arguments[0][t]=r[t].slice():arguments[0][t]=r[t])}return arguments[0]}var pn=function(){function e(r){s(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],c=i._driver;this[t]=c,re[c]||this.defineDriver(i)}this._defaultConfig=Te({},ln),this._config=Te({},this._defaultConfig,r),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":h(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,c){var a=new u(function(x,g){try{var _=t._driver,w=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){g(w);return}for(var P=Pe.concat("_initStorage"),I=0,N=P.length;I<N;I++){var L=P[I],z=!un(le,L);if((z||t[L])&&typeof t[L]!="function"){g(w);return}}var O=function(){for(var oe=function(yn){return function(){var gn=new Error("Method "+yn+" is not implemented by the current driver"),nt=u.reject(gn);return b(nt,arguments[arguments.length-1]),nt}},Ee=0,xn=le.length;Ee<xn;Ee++){var Se=le[Ee];t[Se]||(t[Se]=oe(Se))}};O();var B=function(oe){re[_]&&console.info("Redefining LocalForage driver: "+_),re[_]=t,tt[_]=oe,x()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(B,g):B(!!t._support):B(!0)}catch(j){g(j)}});return S(a,i,c),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,c){var a=re[t]?u.resolve(re[t]):u.reject(new Error("Driver not found."));return S(a,i,c),a},e.prototype.getSerializer=function(t){var i=u.resolve(we);return S(i,t),i},e.prototype.ready=function(t){var i=this,c=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return S(c,t,t),c},e.prototype.setDriver=function(t,i,c){var a=this;et(t)||(t=[t]);var x=this._getSupportedDrivers(t);function g(){a._config.driver=a.driver()}function _(I){return a._extend(I),g(),a._ready=a._initStorage(a._config),a._ready}function w(I){return function(){var N=0;function L(){for(;N<I.length;){var z=I[N];return N++,a._dbInfo=null,a._ready=null,a.getDriver(z).then(_).catch(L)}g();var O=new Error("No available storage method found.");return a._driverSet=u.reject(O),a._driverSet}return L()}}var P=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=P.then(function(){var I=x[0];return a._dbInfo=null,a._ready=null,a.getDriver(I).then(function(N){a._driver=N._driver,g(),a._wrapLibraryMethodsWithReady(),a._initDriver=w(x)})}).catch(function(){g();var I=new Error("No available storage method found.");return a._driverSet=u.reject(I),a._driverSet}),S(this._driverSet,i,c),this._driverSet},e.prototype.supports=function(t){return!!tt[t]},e.prototype._extend=function(t){Te(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],c=0,a=t.length;c<a;c++){var x=t[c];this.supports(x)&&i.push(x)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=Pe.length;t<i;t++)mn(this,Pe[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),hn=new pn;d.exports=hn},{3:3}]},{},[4])(4)})});var xt=Ie((rr,ht)=>{"use strict";var ze=Math.abs,An=Math.min;function he(p,n,o,f){var d=ze(p-n);return o==null&&(o=he.DBL_EPSILON),f==null&&(f=o),d<=o||d<=f*An(ze(p),ze(n))?!0:p===n}he.FLT_EPSILON=11920929e-14;he.DBL_EPSILON=2220446049250313e-31;ht.exports=he});var fe=p=>({vertices:[{x:p.x,y:p.y},{x:p.x+p.width,y:p.y},{x:p.x+p.width,y:p.y+p.height},{x:p.x,y:p.y+p.height}]});var Ae=ie(pe(),1),it=ie(pe(),1);function De(p,n){for(var o=p.length,f=p[o-1],d=n[0],y=n[1],h=f[0],s=f[1],m,l,v=!1,D=0;D<o;++D)f=p[D],m=f[0],l=f[1],l>y!=s>y&&d<(h-m)*(y-l)/(s-l)+m&&(v=!v),h=m,s=l;return v}var ft=ie(pe(),1);var K=class Ce{constructor(n,o){this.x=n,this.y=o}static qtzpdc26260e1bc544f8d949f85ba8e74e91e(n){return new Ce(n.x,n.y)}ycrqey299b0cda95e3462b8ac85136a8b6dbc9(){let n={};return n.x=this.x,n.y=this.y,n}gbqcjesr86e961a7a55342f7bc13c13e73bf4cc9(n){return{uUpol:function(d,y,h){return d(y,h)}}.uUpol(Ae.default,this.x,n.x)&&(0,Ae.default)(this.y,n.y)}qofoga29c4c039e304526aec68b8230a46e92(){return[this.x,this.y]}weufiiqrjef66f44136414e64acf34c96692733c8(n){let o={};o.eKiYq=function(h,s){return h/s},o.TkPsL=function(h,s){return h+s};let f=o,d=f.eKiYq(f.TkPsL(this.x,n.x),2),y=f.eKiYq(f.TkPsL(this.y,n.y),2);return new Ce(d,y)}distanceTo(n){let o={};o.jHmPq=function(h,s){return h-s},o.JAAJh=function(h,s){return h+s},o.jSRHr=function(h,s){return h*s};let f=o,d=f.jHmPq(n.x,this.x),y=f.jHmPq(n.y,this.y);return Math.sqrt(f.JAAJh(f.jSRHr(d,d),f.jSRHr(y,y)))}};function Ne(p,n,o){let f={};f.Xqljl=function(u,b){return u-b},f.yoonl=function(u,b){return u+b},f.LNtED=function(u,b){return u*b},f.tftwE=function(u,b){return u===b},f.ompmO=function(u,b){return u===b};let d=f,y={x:d.Xqljl(p.x,n.x),y:d.Xqljl(p.y,n.y)},h={};h.x=o.x-n.x,h.y=o.y-n.y;let s=h,m=d.yoonl(d.LNtED(y.x,s.x),d.LNtED(y.y,s.y)),l=Math.hypot(y.x,y.y),v=Math.hypot(s.x,s.y);if(d.tftwE(l,0)||d.ompmO(v,0))return 0;let D=Math.min(1,Math.max(-1,m/(l*v)));return Math.acos(D)}var at=class{static eeuggpywte46303789ef344ef901255d2466c6e01(p,n,o){let f={};f.iFBvP=function(m,l){return m<=l};let d=f,y=n.weufiiqrjef66f44136414e64acf34c96692733c8(o),h=n.distanceTo(o)/2,s=y.distanceTo(p);return d.iFBvP(s,h)}},Sn=class G{constructor(n){let o={};o.pXWiJ="4|1|3|0|2";let f=o,d=f.pXWiJ.split("|"),y=0;for(;;){switch(d[y++]){case"0":this.materialTag="";continue;case"1":this.tag="";continue;case"2":!G.gbwqzh02e0ceb6b1ee4351aa240fb5cdc5bd5c(n)&&this.points.reverse();continue;case"3":this.sectionTag="";continue;case"4":this.points=n;continue}break}}static qtzpdc26260e1bc544f8d949f85ba8e74e91e(n){return new G(n.points.map(o=>K.qtzpdc26260e1bc544f8d949f85ba8e74e91e(o)))}ycrqey299b0cda95e3462b8ac85136a8b6dbc9(){return{points:this.points.map(n=>n.ycrqey299b0cda95e3462b8ac85136a8b6dbc9()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static gbwqzh02e0ceb6b1ee4351aa240fb5cdc5bd5c(n){let o={};o.HbahC=function(m,l){return m-l},o.DrXfG=function(m,l){return m*l},o.LGETC=function(m,l){return m-l},o.NOomk=function(m,l){return m-l},o.dyIxy=function(m,l){return m-l},o.HcCOR=function(m,l){return m>l};let f=o,[d,y,h]=n,s=f.HbahC(f.DrXfG(f.LGETC(y.x,d.x),f.NOomk(h.y,d.y)),(y.y-d.y)*f.dyIxy(h.x,d.x));return f.HcCOR(s,0)}mwulgd5faebd472ef4456fbb9137b9a248681e(n,o,f){this.tag=n,this.sectionTag=o,this.materialTag=f}nnmppbdce7cc220422f40359fcbe9f2f4fcc8cb(){let n={};n.PmzVN=function(m,l){return m+l},n.azSCS=function(m,l){return m/l},n.qYaxn=function(m,l){return m+l};let o=n,[f,d,y]=this.points,h=(o.PmzVN(f.x,d.x)+y.x)/3,s=o.azSCS(o.qYaxn(f.y+d.y,y.y),3);return new K(h,s)}roivmpf56fdb051ccaf48679ee283a673f0c7f6(n=.1){let o={};o.MKLeB=function(l,v){return l-v},o.OJQqU=function(l,v){return l*v},o.Hntja=function(l,v){return l*v},o.yrYPl=function(l,v){return l-v},o.eYOMv=function(l,v){return l+v},o.GfDDS=function(l,v){return l*v},o.jHKUl=function(l,v){return l*v},o.XezzG=function(l,v){return l+v},o.zyJWk=function(l,v){return l*v};let f=o,d=this.nnmppbdce7cc220422f40359fcbe9f2f4fcc8cb(),y=this.points.map(l=>{let v=d.x-l.x,D=f.MKLeB(d.y,l.y);return Math.sqrt(f.OJQqU(v,v)+f.Hntja(D,D))}),h=Math.max(...y),s=f.zyJWk(h,n);return this.points.map(l=>{let v=f.MKLeB(d.x,l.x),D=f.yrYPl(d.y,l.y),u=Math.sqrt(f.eYOMv(v*v,f.GfDDS(D,D))),b=s/u;return new K(l.x+f.jHKUl(v,b),f.XezzG(l.y,f.Hntja(D,b)))})}uyxnobtoda6a70d4f7b54946b8d85204de1e04a6(){let n=this.nnmppbdce7cc220422f40359fcbe9f2f4fcc8cb();return[new G([this.points[0],this.points[1],n]),new G([this.points[1],this.points[2],n]),new G([this.points[2],this.points[0],n])]}ojvgglblpe43795405c9c46159f1ba0b7cc43da17(){let n={};n.xPqay=function(l,v){return l/v},n.iSJhO=function(l,v){return l+v},n.EhzzK=function(l,v){return l/v},n.KUjgs=function(l,v){return l/v},n.oOkPQ=function(l,v){return l/v},n.eHieE=function(l,v){return l+v},n.VeUXC=function(l,v){return l+v};let o=n,[f,d,y]=this.points,h=new K(o.xPqay(o.iSJhO(f.x,d.x),2),o.EhzzK(o.iSJhO(f.y,d.y),2)),s=new K(o.KUjgs(d.x+y.x,2),o.xPqay(o.iSJhO(d.y,y.y),2)),m=new K(o.oOkPQ(o.eHieE(y.x,f.x),2),o.VeUXC(y.y,f.y)/2);return[new G([f,h,m]),new G([h,d,s]),new G([m,s,y]),new G([h,s,m])]}getCircumcenter(){let n={};n.kpQHF=function(E,R){return E*R},n.LzhCX=function(E,R){return E+R},n.VVDCf=function(E,R){return E-R},n.YxoEc=function(E,R){return E*R},n.YUljA=function(E,R){return E*R},n.kVJkz=function(E,R){return E-R},n.PcBue=function(E,R){return E<R},n.FbXdS=function(E,R){return E/R},n.GfEGK=function(E,R){return E*R},n.ZjzuJ=function(E,R){return E-R},n.VyQdA=function(E,R){return E*R},n.lNCDU=function(E,R){return E+R},n.UArcn=function(E,R){return E*R},n.uoyAy=function(E,R){return E+R},n.PVlJI=function(E,R){return E+R},n.UqTwf=function(E,R){return E*R},n.LQOEW=function(E,R){return E-R},n.znjHo=function(E,R){return E*R},n.mVgNk=function(E,R){return E*R},n.LbWiN=function(E,R){return E*R},n.IpMlE=function(E,R){return E-R};let o=n,[f,d,y]=this.points,h=f.x,s=f.y,m=d.x,l=d.y,v=y.x,D=y.y,u=o.kpQHF(2,o.LzhCX(o.LzhCX(h*o.VVDCf(l,D),o.YxoEc(m,D-s)),o.YUljA(v,o.kVJkz(s,l))));if(o.PcBue(Math.abs(u),1e-10))return null;let b=o.FbXdS(o.LzhCX(o.kpQHF(o.LzhCX(o.GfEGK(h,h),s*s),o.ZjzuJ(l,D)),o.GfEGK(o.LzhCX(o.YUljA(m,m),o.kpQHF(l,l)),o.ZjzuJ(D,s)))+o.VyQdA(o.lNCDU(o.UArcn(v,v),o.GfEGK(D,D)),o.ZjzuJ(s,l)),u),S=o.lNCDU(o.uoyAy(o.VyQdA(o.PVlJI(o.kpQHF(h,h),o.UqTwf(s,s)),o.LQOEW(v,m)),o.UqTwf(o.lNCDU(o.znjHo(m,m),l*l),o.kVJkz(h,v))),o.mVgNk(o.LzhCX(o.LbWiN(v,v),D*D),o.IpMlE(m,h)))/u;return new K(b,S)}splitToCircumcenterTriangles(){let n={};n.MusJk=function(d,y){return d===y};let o=n,f=this.getCircumcenter();return o.MusJk(f,null)?[]:[new G([this.points[0],this.points[1],f]),new G([this.points[1],this.points[2],f]),new G([this.points[2],this.points[0],f])]}flmvzqpy66e8013a39c54274acf91663f91ce590(){let n={};n.Wppsa=function(b,S){return b+S},n.xuNRF=function(b,S){return b*S},n.ckfQc=function(b,S){return b-S},n.gndVq=function(b,S){return b*S},n.BUfNP=function(b,S){return b-S};let o=n,[f,d,y]=this.points,h=f.x,s=d.x,m=y.x,l=f.y,v=d.y,D=y.y;return .5*Math.abs(o.Wppsa(o.xuNRF(h,o.ckfQc(v,D)),o.gndVq(s,o.BUfNP(D,l)))+o.gndVq(m,o.BUfNP(l,v)))}bfihemao3fc5b34dcd0d4857a745aad114c2a209(){let n={gJYcG:function(f,d,y){return f(d,y)}},o=this.flmvzqpy66e8013a39c54274acf91663f91ce590();return n.gJYcG(it.default,o,0)}tlsegiq0bf49b00b61b4fd19343ad64da35fe13(){let n={OdFiR:function(h,s,m,l){return h(s,m,l)},aszGd:function(h,s,m,l){return h(s,m,l)}},[o,f,d]=this.points;return[n.OdFiR(Ne,f,o,d),n.aszGd(Ne,o,f,d),Ne(o,d,f)]}zyiqra1b7bdda3a914dbc88998acccb850a86(n=15*Math.PI/180){return!!this.tlsegiq0bf49b00b61b4fd19343ad64da35fe13().some(f=>f<n)}tbnzbba2030b85990f4767aad9062fd4bed88c(){let n={};n.cKPFG=function(d,y){return d<y},n.NUyvr=function(d,y){return d%y},n.JGQri=function(d,y){return d+y};let o=n,f=this.getCircumcenter();if(!f)return this.tpdgaddaz1120727ff1bf4ed092838443becc185d();for(let d=0;o.cKPFG(d,3);d++){let y=this.points[d],h=this.points[o.NUyvr(o.JGQri(d,1),3)];if(at.eeuggpywte46303789ef344ef901255d2466c6e01(f,y,h))return this.tpdgaddaz1120727ff1bf4ed092838443becc185d()}return f}getEncroachedPoints(n){let[o,f,d]=this.points,y={};y.p1=o,y.p2=f;let h={};h.p1=f,h.p2=d;let s={};s.p1=d,s.p2=o;let m=[y,h,s],l=[];for(let v of m)for(let D of n)if(!this.points.some(u=>u.gbqcjesr86e961a7a55342f7bc13c13e73bf4cc9(D))&&at.eeuggpywte46303789ef344ef901255d2466c6e01(D,v.p1,v.p2))return l.push(v.p1.weufiiqrjef66f44136414e64acf34c96692733c8(v.p2)),l;return l}getBadTriangleCircumferencePoint(n){let o=this.getCircumcenter();return o?n.some(f=>f.zuixmcac738adb2ad4dc48a07932234fd716f(o))?o:this.tpdgaddaz1120727ff1bf4ed092838443becc185d():this.tpdgaddaz1120727ff1bf4ed092838443becc185d()}tpdgaddaz1120727ff1bf4ed092838443becc185d(){let n={};n.RqKFX=function(u,b){return u<b},n.ZarjB=function(u,b){return u>b};let o=n,[f,d,y]=this.points,h={};h.p1=f,h.p2=d;let s={};s.p1=d,s.p2=y;let m={};m.p1=y,m.p2=f;let l=[h,s,m],v=l[0],D=v.p1.distanceTo(v.p2);for(let u=1;o.RqKFX(u,l.length);u++){let b=l[u].p1.distanceTo(l[u].p2);o.ZarjB(b,D)&&(D=b,v=l[u])}return v.p1.weufiiqrjef66f44136414e64acf34c96692733c8(v.p2)}};var In=class ct{constructor(n,o,f,d){let y={};y.idJJS="1|3|0|4|2";let h=y,s=h.idJJS.split("|"),m=0;for(;;){switch(s[m++]){case"0":this.sectionTag=f;continue;case"1":this.points=n;continue;case"2":this.d3Polygon=n.map(l=>[l.x,l.y]);continue;case"3":this.tag=o;continue;case"4":this.materialTag=d;continue}break}}static FromDto(n){return new ct(n.points.map(o=>K.qtzpdc26260e1bc544f8d949f85ba8e74e91e(o)),n.tag,n.sectionTag,n.materialTag)}isOnEdge(n){let o={qkJsj:function(f,d){return f<d},KPOeK:function(f,d,y,h){return f(d,y,h)}};for(let f=0,d=this.points.length-1;o.qkJsj(f,this.points.length);d=f++)if(o.KPOeK(Rn,n,this.points[f],this.points[d]))return!0;return!1}zuixmcac738adb2ad4dc48a07932234fd716f(n){return this.isOnEdge(n)?!0:De(this.d3Polygon,[n.x,n.y])}qqtvvivx02e65c5997014022bb412ffd4afb6cf2(n,o){let f={};f.gDJGq=function(h,s){return h<s},f.gtIDG=function(h,s){return h%s},f.LjJxi=function(h,s){return h+s},f.teamK=function(h,s){return h-s},f.qyDoK=function(h,s){return h-s},f.ozpBM=function(h,s){return h*s},f.yvDJS=function(h,s){return h<s},f.eOykv=function(h,s){return h*s};let d=f,y=[];for(let h=0;d.gDJGq(h,n.length);h++){let s=n[h],m=n[d.gtIDG(d.LjJxi(h,1),n.length)],l=d.teamK(m.x,s.x),v=d.qyDoK(m.y,s.y),D=Math.sqrt(d.ozpBM(l,l)+v*v),u=Math.floor(D/o);y.push(new K(s.x,s.y));for(let b=1;d.yvDJS(b,u);b++){let S=d.ozpBM(b,o)/D,E=d.LjJxi(s.x,d.ozpBM(S,l)),R=d.LjJxi(s.y,d.eOykv(S,v));y.push(new K(E,R))}}return y}};function Rn(p,n,o){let f={rrgBz:function(s,m){return s*m},YQvmR:function(s,m){return s-m},NKELf:function(s,m){return s-m},AQBUX:function(s,m){return s*m},pxWSV:function(s,m,l){return s(m,l)},AOTKn:function(s,m){return s+m},eSdNX:function(s,m){return s-m},YmRdX:function(s,m){return s*m},UMcci:function(s,m){return s-m},HxbJq:function(s,m){return s<m},oGwaD:function(s,m){return s+m},qbnfb:function(s,m){return s**m},ljsnY:function(s,m){return s-m},SwfhL:function(s,m){return s>m}},d=f.rrgBz(f.YQvmR(p.y,n.y),f.NKELf(o.x,n.x))-f.AQBUX(p.x-n.x,f.NKELf(o.y,n.y));if(!f.pxWSV(ft.default,Math.abs(d),0))return!1;let y=f.AOTKn(f.rrgBz(f.NKELf(p.x,n.x),f.eSdNX(o.x,n.x)),f.YmRdX(f.UMcci(p.y,n.y),f.NKELf(o.y,n.y)));if(f.HxbJq(y,0))return!1;let h=f.oGwaD(f.qbnfb(f.UMcci(o.x,n.x),2),f.ljsnY(o.y,n.y)**2);return!f.SwfhL(y,h)}function st(p){let n=p.polygons.map(y=>In.FromDto(y)),o=p.baseTriangles.map(y=>Sn.qtzpdc26260e1bc544f8d949f85ba8e74e91e(y)),f=o,d=[];for(let y of f){let h=y.nnmppbdce7cc220422f40359fcbe9f2f4fcc8cb(),s=n.find(m=>m.zuixmcac738adb2ad4dc48a07932234fd716f(h));s&&(y.mwulgd5faebd472ef4456fbb9137b9a248681e(s.tag,s.sectionTag,s.materialTag),d.push(y))}return{triangles:d.map(y=>y.ycrqey299b0cda95e3462b8ac85136a8b6dbc9())}}var Me=ie(dt());var lt=(p,n,o="")=>`View3dModel-${p}-${n}${o}`,mt=p=>`Triangles-${p}`;var $=class extends Error{constructor(n){super(n)}};function pt(p){if(p.length<3)throw new $("At least three vertices are required to form a face.");return{vertices:[...p.filter(n=>n)],results:[]}}var se=ie(xt());var ce=p=>{let n=(p.points??"").trim().split(/\s+/).map(f=>f.split(",")),o=[];for(let[f,d]of n){let y=parseFloat(f),h=parseFloat(d);if(Number.isFinite(y)&&Number.isFinite(h))o.push({x:y,y:h});else throw new $("Invalid vertex coordinates")}return{vertices:o}};function yt(p){let n=0,o=0,f=0,d=p.length;for(let y=0;y<d;y++){let{x:h,y:s}=p[y],{x:m,y:l}=p[(y+1)%d],v=h*l-m*s;n+=v,o+=(h+m)*v,f+=(s+l)*v}return n*=.5,n===0?{x:0,y:0}:(o/=6*n,f/=6*n,{x:o,y:f})}function*gt(p,n){let o=[...new Set(n.rectangles.map(u=>u.name).concat(n.polygons.map(u=>u.name)))],f=[];for(let u of p){let b=u.points.map(R=>Ln(R)),S=pt(b);if(o.indexOf(u.name)===-1)throw new $(`Geometry name ${u.name} not found in geometry rectangles or polygons.`);f.push(S)}let d=n.supports.map(u=>zn(u)),y=p.flatMap(u=>u.points).map(u=>u.x).reduce((u,b)=>Math.max(u,b),-1/0),h=p.flatMap(u=>u.points).map(u=>u.x).reduce((u,b)=>Math.min(u,b),1/0),s=p.flatMap(u=>u.points).map(u=>u.y).reduce((u,b)=>Math.max(u,b),-1/0),m=p.flatMap(u=>u.points).map(u=>u.y).reduce((u,b)=>Math.min(u,b),1/0),l=y-h,v=s-m,D=[...n.polygons.map(u=>ce(u)),...n.rectangles.map(u=>fe(u))].map(u=>u.vertices.map(b=>({x:b.x,y:b.y}))).map(u=>({points:u}));for(let u of n.loadCases)yield{faces:f,wireframeFaces:[],supports:d,borders:D,loads:Cn(u,n),loadCaseTag:u.name,width:l,height:v,hasResults:!1}}function Cn(p,n){let o=[];for(let f of p.pointLoads)(0,se.default)(f.fx,0)||o.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0}),(0,se.default)(f.fy,0)||o.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of p.distributedLoads){let d=n.polygons.filter(s=>s.name===f.geometryName).map(s=>ce(s)),y=n.rectangles.filter(s=>s.name===f.geometryName).map(s=>fe(s)),h=[...d,...y];for(let s of h){let m=yt(s.vertices);(0,se.default)(f.fx,0)||o.push({x:m.x,y:m.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),(0,se.default)(f.fy,0)||o.push({x:m.x,y:m.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return o}function Ln(p){return{x:p.x,y:p.y,z:0,ux:0,uy:0,uz:0,value:0}}function zn(p){return{x:p.x,y:p.y,z:0,ux:p.fixedX,uy:p.fixedY,uz:!1}}addEventListener("message",({data:p})=>{Mn(p)});var Mn=async p=>{let{geometry:n,uuid:o,baseTriangles:f}=p,d=n.loadCases.flatMap(S=>S.pointLoads).map(S=>({x:S.x,y:S.y})),y=n.supports.map(S=>({x:S.x,y:S.y})),h=n.resultPoints.map(S=>({x:S.x,y:S.y})),s=n.rectangles.map(S=>Vn(S)),m=n.polygons.map(S=>Un(S)),l=s.concat(m),v={maxTriangleArea:n.meshingConfiguration.maxTriangleArea,refinementPoints:n.meshingConfiguration.refinementPoints.map(S=>Bn(S))},u=st({polygons:l,extraPoints:d.concat(y).concat(h),meshingConfiguration:v,baseTriangles:f.map(S=>Fn(S))}).triangles.map(S=>qn(S));await Me.setItem(mt(o),u);for(let S of gt(u,n))await Me.setItem(lt(o,S.loadCaseTag),S);postMessage({uuid:o})},Bn=p=>({radius:p.radius,maxTriangleArea:p.maxArea,center:{x:p.x,y:p.y}}),On=p=>({x:p.x,y:p.y}),qn=p=>({points:p.points.map(o=>On(o)),name:p.tag,sectionTag:p.sectionTag,materialTag:p.materialTag}),Vn=p=>({points:fe(p).vertices.map(o=>({x:o.x,y:o.y})),tag:p.name,sectionTag:p.sectionName,materialTag:p.materialName}),Un=p=>({points:ce(p).vertices.map(o=>({x:o.x,y:o.y})),tag:p.name,sectionTag:p.sectionName,materialTag:p.materialName}),Fn=p=>({points:p.points.map(o=>({x:o.x,y:o.y}))});
