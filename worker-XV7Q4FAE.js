var fn=Object.create;var Je=Object.defineProperty;var cn=Object.getOwnPropertyDescriptor;var sn=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,dn=Object.prototype.hasOwnProperty;var ie=(h=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(h,{get:(r,i)=>(typeof require<"u"?require:r)[i]}):h)(function(h){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+h+'" is not supported')});var ln=(h,r)=>()=>(r||h((r={exports:{}}).exports,r),r.exports);var mn=(h,r,i,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let l of sn(r))!dn.call(h,l)&&l!==i&&Je(h,l,{get:()=>r[l],enumerable:!(f=cn(r,l))||f.enumerable});return h};var hn=(h,r,i)=>(i=h!=null?fn(un(h)):{},mn(r||!h||!h.__esModule?Je(i,"default",{value:h,enumerable:!0}):i,h));var tt=ln((et,Ie)=>{"use strict";(function(h){if(typeof et=="object"&&typeof Ie<"u")Ie.exports=h();else if(typeof define=="function"&&define.amd)define([],h);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=h()}})(function(){var h,r,i;return function f(l,b,m){function s(_,I){if(!b[_]){if(!l[_]){var u=typeof ie=="function"&&ie;if(!I&&u)return u(_,!0);if(d)return d(_,!0);var T=new Error("Cannot find module '"+_+"'");throw T.code="MODULE_NOT_FOUND",T}var S=b[_]={exports:{}};l[_][0].call(S.exports,function(R){var N=l[_][1][R];return s(N||R)},S,S.exports,f,l,b,m)}return b[_].exports}for(var d=typeof ie=="function"&&ie,x=0;x<m.length;x++)s(m[x]);return s}({1:[function(f,l,b){(function(m){"use strict";var s=m.MutationObserver||m.WebKitMutationObserver,d;if(s){var x=0,_=new s(R),I=m.document.createTextNode("");_.observe(I,{characterData:!0}),d=function(){I.data=x=++x%2}}else if(!m.setImmediate&&typeof m.MessageChannel<"u"){var u=new m.MessageChannel;u.port1.onmessage=R,d=function(){u.port2.postMessage(0)}}else"document"in m&&"onreadystatechange"in m.document.createElement("script")?d=function(){var V=m.document.createElement("script");V.onreadystatechange=function(){R(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},m.document.documentElement.appendChild(V)}:d=function(){setTimeout(R,0)};var T,S=[];function R(){T=!0;for(var V,W,O=S.length;O;){for(W=S,S=[],V=-1;++V<O;)W[V]();O=S.length}T=!1}l.exports=N;function N(V){S.push(V)===1&&!T&&d()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,l,b){"use strict";var m=f(1);function s(){}var d={},x=["REJECTED"],_=["FULFILLED"],I=["PENDING"];l.exports=u;function u(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,E!==s&&N(this,E)}u.prototype.catch=function(E){return this.then(null,E)},u.prototype.then=function(E,q){if(typeof E!="function"&&this.state===_||typeof q!="function"&&this.state===x)return this;var A=new this.constructor(s);if(this.state!==I){var M=this.state===_?E:q;S(A,M,this.outcome)}else this.queue.push(new T(A,E,q));return A};function T(E,q,A){this.promise=E,typeof q=="function"&&(this.onFulfilled=q,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}T.prototype.callFulfilled=function(E){d.resolve(this.promise,E)},T.prototype.otherCallFulfilled=function(E){S(this.promise,this.onFulfilled,E)},T.prototype.callRejected=function(E){d.reject(this.promise,E)},T.prototype.otherCallRejected=function(E){S(this.promise,this.onRejected,E)};function S(E,q,A){m(function(){var M;try{M=q(A)}catch(j){return d.reject(E,j)}M===E?d.reject(E,new TypeError("Cannot resolve promise with itself")):d.resolve(E,M)})}d.resolve=function(E,q){var A=V(R,q);if(A.status==="error")return d.reject(E,A.value);var M=A.value;if(M)N(E,M);else{E.state=_,E.outcome=q;for(var j=-1,F=E.queue.length;++j<F;)E.queue[j].callFulfilled(q)}return E},d.reject=function(E,q){E.state=x,E.outcome=q;for(var A=-1,M=E.queue.length;++A<M;)E.queue[A].callRejected(q);return E};function R(E){var q=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof q=="function")return function(){q.apply(E,arguments)}}function N(E,q){var A=!1;function M(G){A||(A=!0,d.reject(E,G))}function j(G){A||(A=!0,d.resolve(E,G))}function F(){q(j,M)}var Y=V(F);Y.status==="error"&&M(Y.value)}function V(E,q){var A={};try{A.value=E(q),A.status="success"}catch(M){A.status="error",A.value=M}return A}u.resolve=W;function W(E){return E instanceof this?E:d.resolve(new this(s),E)}u.reject=O;function O(E){var q=new this(s);return d.reject(q,E)}u.all=me;function me(E){var q=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=E.length,M=!1;if(!A)return this.resolve([]);for(var j=new Array(A),F=0,Y=-1,G=new this(s);++Y<A;)K(E[Y],Y);return G;function K(ne,se){q.resolve(ne).then(he,function(ee){M||(M=!0,d.reject(G,ee))});function he(ee){j[se]=ee,++F===A&&!M&&(M=!0,d.resolve(G,j))}}}u.race=$;function $(E){var q=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=E.length,M=!1;if(!A)return this.resolve([]);for(var j=-1,F=new this(s);++j<A;)Y(E[j]);return F;function Y(G){q.resolve(G).then(function(K){M||(M=!0,d.resolve(F,K))},function(K){M||(M=!0,d.reject(F,K))})}}},{1:1}],3:[function(f,l,b){(function(m){"use strict";typeof m.Promise!="function"&&(m.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,l,b){"use strict";var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var x=d();function _(){try{if(!x||!x.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function I(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(o){if(o.name!=="TypeError")throw o;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,a=new t,c=0;c<e.length;c+=1)a.append(e[c]);return a.getBlob(n.type)}}typeof Promise>"u"&&f(3);var u=Promise;function T(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function S(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function R(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function N(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var V="local-forage-detect-blob-support",W=void 0,O={},me=Object.prototype.toString,$="readonly",E="readwrite";function q(e){for(var n=e.length,t=new ArrayBuffer(n),a=new Uint8Array(t),c=0;c<n;c++)a[c]=e.charCodeAt(c);return t}function A(e){return new u(function(n){var t=e.transaction(V,E),a=I([""]);t.objectStore(V).put(a,"key"),t.onabort=function(c){c.preventDefault(),c.stopPropagation(),n(!1)},t.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),o=navigator.userAgent.match(/Edge\//);n(o||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function M(e){return typeof W=="boolean"?u.resolve(W):A(e).then(function(n){return W=n,W})}function j(e){var n=O[e.name],t={};t.promise=new u(function(a,c){t.resolve=a,t.reject=c}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function F(e){var n=O[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function Y(e,n){var t=O[e.name],a=t.deferredOperations.pop();if(a)return a.reject(n),a.promise}function G(e,n){return new u(function(t,a){if(O[e.name]=O[e.name]||De(),e.db)if(n)j(e),e.db.close();else return t(e.db);var c=[e.name];n&&c.push(e.version);var o=x.open.apply(x,c);n&&(o.onupgradeneeded=function(p){var v=o.result;try{v.createObjectStore(e.storeName),p.oldVersion<=1&&v.createObjectStore(V)}catch(y){if(y.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw y}}),o.onerror=function(p){p.preventDefault(),a(o.error)},o.onsuccess=function(){var p=o.result;p.onversionchange=function(v){v.target.close()},t(p),F(e)}})}function K(e){return G(e,!1)}function ne(e){return G(e,!0)}function se(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),a=e.version<e.db.version,c=e.version>e.db.version;if(a&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),c||t){if(t){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function he(e){return new u(function(n,t){var a=new FileReader;a.onerror=t,a.onloadend=function(c){var o=btoa(c.target.result||"");n({__local_forage_encoded_blob:!0,data:o,type:e.type})},a.readAsBinaryString(e)})}function ee(e){var n=q(atob(e.data));return I([n],{type:e.type})}function Ne(e){return e&&e.__local_forage_encoded_blob}function ft(e){var n=this,t=n._initReady().then(function(){var a=O[n._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return S(t,e,e),t}function ct(e){j(e);for(var n=O[e.name],t=n.forages,a=0;a<t.length;a++){var c=t[a];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return e.db=null,K(e).then(function(o){return e.db=o,se(e)?ne(e):o}).then(function(o){e.db=n.db=o;for(var p=0;p<t.length;p++)t[p]._dbInfo.db=o}).catch(function(o){throw Y(e,o),o})}function X(e,n,t,a){a===void 0&&(a=1);try{var c=e.db.transaction(e.storeName,n);t(null,c)}catch(o){if(a>0&&(!e.db||o.name==="InvalidStateError"||o.name==="NotFoundError"))return u.resolve().then(function(){if(!e.db||o.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return ct(e).then(function(){X(e,n,t,a-1)})}).catch(t);t(o)}}function De(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function st(e){var n=this,t={db:null};if(e)for(var a in e)t[a]=e[a];var c=O[t.name];c||(c=De(),O[t.name]=c),c.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=ft);var o=[];function p(){return u.resolve()}for(var v=0;v<c.forages.length;v++){var y=c.forages[v];y!==n&&o.push(y._initReady().catch(p))}var g=c.forages.slice(0);return u.all(o).then(function(){return t.db=c.db,K(t)}).then(function(w){return t.db=w,se(t,n._defaultConfig.version)?ne(t):w}).then(function(w){t.db=c.db=w,n._dbInfo=t;for(var P=0;P<g.length;P++){var D=g[P];D!==n&&(D._dbInfo.db=t.db,D._dbInfo.version=t.version)}})}function ut(e,n){var t=this;e=R(e);var a=new u(function(c,o){t.ready().then(function(){X(t._dbInfo,$,function(p,v){if(p)return o(p);try{var y=v.objectStore(t._dbInfo.storeName),g=y.get(e);g.onsuccess=function(){var w=g.result;w===void 0&&(w=null),Ne(w)&&(w=ee(w)),c(w)},g.onerror=function(){o(g.error)}}catch(w){o(w)}})}).catch(o)});return T(a,n),a}function dt(e,n){var t=this,a=new u(function(c,o){t.ready().then(function(){X(t._dbInfo,$,function(p,v){if(p)return o(p);try{var y=v.objectStore(t._dbInfo.storeName),g=y.openCursor(),w=1;g.onsuccess=function(){var P=g.result;if(P){var D=P.value;Ne(D)&&(D=ee(D));var L=e(D,P.key,w++);L!==void 0?c(L):P.continue()}else c()},g.onerror=function(){o(g.error)}}catch(P){o(P)}})}).catch(o)});return T(a,n),a}function lt(e,n,t){var a=this;e=R(e);var c=new u(function(o,p){var v;a.ready().then(function(){return v=a._dbInfo,me.call(n)==="[object Blob]"?M(v.db).then(function(y){return y?n:he(n)}):n}).then(function(y){X(a._dbInfo,E,function(g,w){if(g)return p(g);try{var P=w.objectStore(a._dbInfo.storeName);y===null&&(y=void 0);var D=P.put(y,e);w.oncomplete=function(){y===void 0&&(y=null),o(y)},w.onabort=w.onerror=function(){var L=D.error?D.error:D.transaction.error;p(L)}}catch(L){p(L)}})}).catch(p)});return T(c,t),c}function mt(e,n){var t=this;e=R(e);var a=new u(function(c,o){t.ready().then(function(){X(t._dbInfo,E,function(p,v){if(p)return o(p);try{var y=v.objectStore(t._dbInfo.storeName),g=y.delete(e);v.oncomplete=function(){c()},v.onerror=function(){o(g.error)},v.onabort=function(){var w=g.error?g.error:g.transaction.error;o(w)}}catch(w){o(w)}})}).catch(o)});return T(a,n),a}function ht(e){var n=this,t=new u(function(a,c){n.ready().then(function(){X(n._dbInfo,E,function(o,p){if(o)return c(o);try{var v=p.objectStore(n._dbInfo.storeName),y=v.clear();p.oncomplete=function(){a()},p.onabort=p.onerror=function(){var g=y.error?y.error:y.transaction.error;c(g)}}catch(g){c(g)}})}).catch(c)});return T(t,e),t}function pt(e){var n=this,t=new u(function(a,c){n.ready().then(function(){X(n._dbInfo,$,function(o,p){if(o)return c(o);try{var v=p.objectStore(n._dbInfo.storeName),y=v.count();y.onsuccess=function(){a(y.result)},y.onerror=function(){c(y.error)}}catch(g){c(g)}})}).catch(c)});return T(t,e),t}function bt(e,n){var t=this,a=new u(function(c,o){if(e<0){c(null);return}t.ready().then(function(){X(t._dbInfo,$,function(p,v){if(p)return o(p);try{var y=v.objectStore(t._dbInfo.storeName),g=!1,w=y.openKeyCursor();w.onsuccess=function(){var P=w.result;if(!P){c(null);return}e===0||g?c(P.key):(g=!0,P.advance(e))},w.onerror=function(){o(w.error)}}catch(P){o(P)}})}).catch(o)});return T(a,n),a}function xt(e){var n=this,t=new u(function(a,c){n.ready().then(function(){X(n._dbInfo,$,function(o,p){if(o)return c(o);try{var v=p.objectStore(n._dbInfo.storeName),y=v.openKeyCursor(),g=[];y.onsuccess=function(){var w=y.result;if(!w){a(g);return}g.push(w.key),w.continue()},y.onerror=function(){c(y.error)}}catch(w){c(w)}})}).catch(c)});return T(t,e),t}function vt(e,n){n=N.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var a=this,c;if(!e.name)c=u.reject("Invalid arguments");else{var o=e.name===t.name&&a._dbInfo.db,p=o?u.resolve(a._dbInfo.db):K(e).then(function(v){var y=O[e.name],g=y.forages;y.db=v;for(var w=0;w<g.length;w++)g[w]._dbInfo.db=v;return v});e.storeName?c=p.then(function(v){if(v.objectStoreNames.contains(e.storeName)){var y=v.version+1;j(e);var g=O[e.name],w=g.forages;v.close();for(var P=0;P<w.length;P++){var D=w[P];D._dbInfo.db=null,D._dbInfo.version=y}var L=new u(function(C,B){var k=x.open(e.name,y);k.onerror=function(U){var oe=k.result;oe.close(),B(U)},k.onupgradeneeded=function(){var U=k.result;U.deleteObjectStore(e.storeName)},k.onsuccess=function(){var U=k.result;U.close(),C(U)}});return L.then(function(C){g.db=C;for(var B=0;B<w.length;B++){var k=w[B];k._dbInfo.db=C,F(k._dbInfo)}}).catch(function(C){throw(Y(e,C)||u.resolve()).catch(function(){}),C})}}):c=p.then(function(v){j(e);var y=O[e.name],g=y.forages;v.close();for(var w=0;w<g.length;w++){var P=g[w];P._dbInfo.db=null}var D=new u(function(L,C){var B=x.deleteDatabase(e.name);B.onerror=function(){var k=B.result;k&&k.close(),C(B.error)},B.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},B.onsuccess=function(){var k=B.result;k&&k.close(),L(k)}});return D.then(function(L){y.db=L;for(var C=0;C<g.length;C++){var B=g[C];F(B._dbInfo)}}).catch(function(L){throw(Y(e,L)||u.resolve()).catch(function(){}),L})})}return T(c,n),c}var yt={_driver:"asyncStorage",_initStorage:st,_support:_(),iterate:dt,getItem:ut,setItem:lt,removeItem:mt,clear:ht,length:pt,key:bt,keys:xt,dropInstance:vt};function gt(){return typeof openDatabase=="function"}var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t="~~local_forage_type~",Ae=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",pe=ue.length,be="arbf",xe="blob",qe="si08",Le="ui08",Ce="uic8",Me="si16",ke="si32",Be="ur16",Ve="ui32",Oe="fl32",je="fl64",Fe=pe+be.length,ze=Object.prototype.toString;function Ye(e){var n=e.length*.75,t=e.length,a,c=0,o,p,v,y;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var g=new ArrayBuffer(n),w=new Uint8Array(g);for(a=0;a<t;a+=4)o=J.indexOf(e[a]),p=J.indexOf(e[a+1]),v=J.indexOf(e[a+2]),y=J.indexOf(e[a+3]),w[c++]=o<<2|p>>4,w[c++]=(p&15)<<4|v>>2,w[c++]=(v&3)<<6|y&63;return g}function ve(e){var n=new Uint8Array(e),t="",a;for(a=0;a<n.length;a+=3)t+=J[n[a]>>2],t+=J[(n[a]&3)<<4|n[a+1]>>4],t+=J[(n[a+1]&15)<<2|n[a+2]>>6],t+=J[n[a+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function wt(e,n){var t="";if(e&&(t=ze.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&ze.call(e.buffer)==="[object ArrayBuffer]")){var a,c=ue;e instanceof ArrayBuffer?(a=e,c+=be):(a=e.buffer,t==="[object Int8Array]"?c+=qe:t==="[object Uint8Array]"?c+=Le:t==="[object Uint8ClampedArray]"?c+=Ce:t==="[object Int16Array]"?c+=Me:t==="[object Uint16Array]"?c+=Be:t==="[object Int32Array]"?c+=ke:t==="[object Uint32Array]"?c+=Ve:t==="[object Float32Array]"?c+=Oe:t==="[object Float64Array]"?c+=je:n(new Error("Failed to get type for BinaryArray"))),n(c+ve(a))}else if(t==="[object Blob]"){var o=new FileReader;o.onload=function(){var p=_t+e.type+"~"+ve(this.result);n(ue+xe+p)},o.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(p){console.error("Couldn't convert value into a JSON string: ",e),n(null,p)}}function Tt(e){if(e.substring(0,pe)!==ue)return JSON.parse(e);var n=e.substring(Fe),t=e.substring(pe,Fe),a;if(t===xe&&Ae.test(n)){var c=n.match(Ae);a=c[1],n=n.substring(c[0].length)}var o=Ye(n);switch(t){case be:return o;case xe:return I([o],{type:a});case qe:return new Int8Array(o);case Le:return new Uint8Array(o);case Ce:return new Uint8ClampedArray(o);case Me:return new Int16Array(o);case Be:return new Uint16Array(o);case ke:return new Int32Array(o);case Ve:return new Uint32Array(o);case Oe:return new Float32Array(o);case je:return new Float64Array(o);default:throw new Error("Unkown type: "+t)}}var ye={serialize:wt,deserialize:Tt,stringToBuffer:Ye,bufferToString:ve};function Ge(e,n,t,a){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,a)}function Et(e){var n=this,t={db:null};if(e)for(var a in e)t[a]=typeof e[a]!="string"?e[a].toString():e[a];var c=new u(function(o,p){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(v){return p(v)}t.db.transaction(function(v){Ge(v,t,function(){n._dbInfo=t,o()},function(y,g){p(g)})},p)});return t.serializer=ye,c}function H(e,n,t,a,c,o){e.executeSql(t,a,c,function(p,v){v.code===v.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(y,g){g.rows.length?o(y,v):Ge(y,n,function(){y.executeSql(t,a,c,o)},o)},o):o(p,v)},o)}function St(e,n){var t=this;e=R(e);var a=new u(function(c,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){H(v,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[e],function(y,g){var w=g.rows.length?g.rows.item(0).value:null;w&&(w=p.serializer.deserialize(w)),c(w)},function(y,g){o(g)})})}).catch(o)});return T(a,n),a}function Pt(e,n){var t=this,a=new u(function(c,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){H(v,p,"SELECT * FROM "+p.storeName,[],function(y,g){for(var w=g.rows,P=w.length,D=0;D<P;D++){var L=w.item(D),C=L.value;if(C&&(C=p.serializer.deserialize(C)),C=e(C,L.key,D+1),C!==void 0){c(C);return}}c()},function(y,g){o(g)})})}).catch(o)});return T(a,n),a}function Ue(e,n,t,a){var c=this;e=R(e);var o=new u(function(p,v){c.ready().then(function(){n===void 0&&(n=null);var y=n,g=c._dbInfo;g.serializer.serialize(n,function(w,P){P?v(P):g.db.transaction(function(D){H(D,g,"INSERT OR REPLACE INTO "+g.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){p(y)},function(L,C){v(C)})},function(D){if(D.code===D.QUOTA_ERR){if(a>0){p(Ue.apply(c,[e,y,t,a-1]));return}v(D)}})})}).catch(v)});return T(o,t),o}function It(e,n,t){return Ue.apply(this,[e,n,t,1])}function Rt(e,n){var t=this;e=R(e);var a=new u(function(c,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){H(v,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[e],function(){c()},function(y,g){o(g)})})}).catch(o)});return T(a,n),a}function Nt(e){var n=this,t=new u(function(a,c){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(p){H(p,o,"DELETE FROM "+o.storeName,[],function(){a()},function(v,y){c(y)})})}).catch(c)});return T(t,e),t}function Dt(e){var n=this,t=new u(function(a,c){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(p){H(p,o,"SELECT COUNT(key) as c FROM "+o.storeName,[],function(v,y){var g=y.rows.item(0).c;a(g)},function(v,y){c(y)})})}).catch(c)});return T(t,e),t}function At(e,n){var t=this,a=new u(function(c,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){H(v,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[e+1],function(y,g){var w=g.rows.length?g.rows.item(0).key:null;c(w)},function(y,g){o(g)})})}).catch(o)});return T(a,n),a}function qt(e){var n=this,t=new u(function(a,c){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(p){H(p,o,"SELECT key FROM "+o.storeName,[],function(v,y){for(var g=[],w=0;w<y.rows.length;w++)g.push(y.rows.item(w).key);a(g)},function(v,y){c(y)})})}).catch(c)});return T(t,e),t}function Lt(e){return new u(function(n,t){e.transaction(function(a){a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,o){for(var p=[],v=0;v<o.rows.length;v++)p.push(o.rows.item(v).name);n({db:e,storeNames:p})},function(c,o){t(o)})},function(a){t(a)})})}function Ct(e,n){n=N.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var a=this,c;return e.name?c=new u(function(o){var p;e.name===t.name?p=a._dbInfo.db:p=openDatabase(e.name,"","",0),e.storeName?o({db:p,storeNames:[e.storeName]}):o(Lt(p))}).then(function(o){return new u(function(p,v){o.db.transaction(function(y){function g(L){return new u(function(C,B){y.executeSql("DROP TABLE IF EXISTS "+L,[],function(){C()},function(k,U){B(U)})})}for(var w=[],P=0,D=o.storeNames.length;P<D;P++)w.push(g(o.storeNames[P]));u.all(w).then(function(){p()}).catch(function(L){v(L)})},function(y){v(y)})})}):c=u.reject("Invalid arguments"),T(c,n),c}var Mt={_driver:"webSQLStorage",_initStorage:Et,_support:gt(),iterate:Pt,getItem:St,setItem:It,removeItem:Rt,clear:Nt,length:Dt,key:At,keys:qt,dropInstance:Ct};function kt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ze(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Bt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Vt(){return!Bt()||localStorage.length>0}function Ot(e){var n=this,t={};if(e)for(var a in e)t[a]=e[a];return t.keyPrefix=Ze(e,n._defaultConfig),Vt()?(n._dbInfo=t,t.serializer=ye,u.resolve()):u.reject()}function jt(e){var n=this,t=n.ready().then(function(){for(var a=n._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var o=localStorage.key(c);o.indexOf(a)===0&&localStorage.removeItem(o)}});return T(t,e),t}function Ft(e,n){var t=this;e=R(e);var a=t.ready().then(function(){var c=t._dbInfo,o=localStorage.getItem(c.keyPrefix+e);return o&&(o=c.serializer.deserialize(o)),o});return T(a,n),a}function zt(e,n){var t=this,a=t.ready().then(function(){for(var c=t._dbInfo,o=c.keyPrefix,p=o.length,v=localStorage.length,y=1,g=0;g<v;g++){var w=localStorage.key(g);if(w.indexOf(o)===0){var P=localStorage.getItem(w);if(P&&(P=c.serializer.deserialize(P)),P=e(P,w.substring(p),y++),P!==void 0)return P}}});return T(a,n),a}function Yt(e,n){var t=this,a=t.ready().then(function(){var c=t._dbInfo,o;try{o=localStorage.key(e)}catch{o=null}return o&&(o=o.substring(c.keyPrefix.length)),o});return T(a,n),a}function Gt(e){var n=this,t=n.ready().then(function(){for(var a=n._dbInfo,c=localStorage.length,o=[],p=0;p<c;p++){var v=localStorage.key(p);v.indexOf(a.keyPrefix)===0&&o.push(v.substring(a.keyPrefix.length))}return o});return T(t,e),t}function Ut(e){var n=this,t=n.keys().then(function(a){return a.length});return T(t,e),t}function Zt(e,n){var t=this;e=R(e);var a=t.ready().then(function(){var c=t._dbInfo;localStorage.removeItem(c.keyPrefix+e)});return T(a,n),a}function Wt(e,n,t){var a=this;e=R(e);var c=a.ready().then(function(){n===void 0&&(n=null);var o=n;return new u(function(p,v){var y=a._dbInfo;y.serializer.serialize(n,function(g,w){if(w)v(w);else try{localStorage.setItem(y.keyPrefix+e,g),p(o)}catch(P){(P.name==="QuotaExceededError"||P.name==="NS_ERROR_DOM_QUOTA_REACHED")&&v(P),v(P)}})})});return T(c,t),c}function Kt(e,n){if(n=N.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var a=this,c;return e.name?c=new u(function(o){e.storeName?o(Ze(e,a._defaultConfig)):o(e.name+"/")}).then(function(o){for(var p=localStorage.length-1;p>=0;p--){var v=localStorage.key(p);v.indexOf(o)===0&&localStorage.removeItem(v)}}):c=u.reject("Invalid arguments"),T(c,n),c}var Xt={_driver:"localStorageWrapper",_initStorage:Ot,_support:kt(),iterate:zt,getItem:Ft,setItem:Wt,removeItem:Zt,clear:jt,length:Ut,key:Yt,keys:Gt,dropInstance:Kt},Jt=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},Ht=function(n,t){for(var a=n.length,c=0;c<a;){if(Jt(n[c],t))return!0;c++}return!1},We=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},Ke={},te={INDEXEDDB:yt,WEBSQL:Mt,LOCALSTORAGE:Xt},Qt=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],de=["dropInstance"],ge=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),$t={description:"",driver:Qt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function en(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function _e(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(We(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var tn=function(){function e(n){s(this,e);for(var t in te)if(te.hasOwnProperty(t)){var a=te[t],c=a._driver;this[t]=c,re[c]||this.defineDriver(a)}this._defaultConfig=_e({},$t),this._config=_e({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":m(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in t){if(a==="storeName"&&(t[a]=t[a].replace(/\W/g,"_")),a==="version"&&typeof t[a]!="number")return new Error("Database version must be a number.");this._config[a]=t[a]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,a,c){var o=new u(function(p,v){try{var y=t._driver,g=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){v(g);return}for(var w=ge.concat("_initStorage"),P=0,D=w.length;P<D;P++){var L=w[P],C=!Ht(de,L);if((C||t[L])&&typeof t[L]!="function"){v(g);return}}var B=function(){for(var oe=function(on){return function(){var an=new Error("Method "+on+" is not implemented by the current driver"),Xe=u.reject(an);return T(Xe,arguments[arguments.length-1]),Xe}},we=0,rn=de.length;we<rn;we++){var Te=de[we];t[Te]||(t[Te]=oe(Te))}};B();var k=function(oe){re[y]&&console.info("Redefining LocalForage driver: "+y),re[y]=t,Ke[y]=oe,p()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(k,v):k(!!t._support):k(!0)}catch(U){v(U)}});return S(o,a,c),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,a,c){var o=re[t]?u.resolve(re[t]):u.reject(new Error("Driver not found."));return S(o,a,c),o},e.prototype.getSerializer=function(t){var a=u.resolve(ye);return S(a,t),a},e.prototype.ready=function(t){var a=this,c=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return S(c,t,t),c},e.prototype.setDriver=function(t,a,c){var o=this;We(t)||(t=[t]);var p=this._getSupportedDrivers(t);function v(){o._config.driver=o.driver()}function y(P){return o._extend(P),v(),o._ready=o._initStorage(o._config),o._ready}function g(P){return function(){var D=0;function L(){for(;D<P.length;){var C=P[D];return D++,o._dbInfo=null,o._ready=null,o.getDriver(C).then(y).catch(L)}v();var B=new Error("No available storage method found.");return o._driverSet=u.reject(B),o._driverSet}return L()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=w.then(function(){var P=p[0];return o._dbInfo=null,o._ready=null,o.getDriver(P).then(function(D){o._driver=D._driver,v(),o._wrapLibraryMethodsWithReady(),o._initDriver=g(p)})}).catch(function(){v();var P=new Error("No available storage method found.");return o._driverSet=u.reject(P),o._driverSet}),S(this._driverSet,a,c),this._driverSet},e.prototype.supports=function(t){return!!Ke[t]},e.prototype._extend=function(t){_e(this,t)},e.prototype._getSupportedDrivers=function(t){for(var a=[],c=0,o=t.length;c<o;c++){var p=t[c];this.supports(p)&&a.push(p)}return a},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,a=ge.length;t<a;t++)en(this,ge[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),nn=new tn;l.exports=nn},{3:3}]},{},[4])(4)})});var ae=h=>({vertices:[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}]});function Ee(h,r){for(var i=h.length,f=h[i-1],l=r[0],b=r[1],m=f[0],s=f[1],d,x,_=!1,I=0;I<i;++I)f=h[I],d=f[0],x=f[1],x>b!=s>b&&l<(m-d)*(b-x)/(s-x)+d&&(_=!_),m=d,s=x;return _}var pn=2220446049250313e-31;function le(h,r,i,f){let l={};l.RNLOm=function(s,d){return s-d},l.SXIEs=function(s,d){return s==d},l.VyZGV=function(s,d){return s==d},l.TwBHx=function(s,d){return s<=d},l.dvrCR=function(s,d){return s<=d};let b=l,m=Math.abs(b.RNLOm(h,r));return b.SXIEs(i,null)&&(i=pn),b.VyZGV(f,null)&&(f=i),b.TwBHx(m,i)||b.dvrCR(m,f*Math.min(Math.abs(h),Math.abs(r)))?!0:h===r}var Z=class Pe{constructor(r,i){this.x=r,this.y=i}static abqikpq1d9a7ac196b24896bc537766700dee48(r){return new Pe(r.x,r.y)}fmkbqvd2d12f4f43354c63b8727b36c28bec51(){let r={};return r.x=this.x,r.y=this.y,r}vcjhdvp51b1fb49aedf493eb1afa998a8ac4b70(r){return le(this.x,r.x)&&le(this.y,r.y)}kwblqnsc0f03b498a73f4961b9e69a66f6c7599d(){return[this.x,this.y]}cssqsegz232d561c6e7c4e91a290dfdb457487aa(r){let i={};i.DBIcl=function(m,s){return m+s};let f=i,l=f.DBIcl(this.x,r.x)/2,b=(this.y+r.y)/2;return new Pe(l,b)}nvqotyjaow3b14b53a399e46f09cc56bfefb064418(r){let i={};i.SHFvZ=function(m,s){return m-s},i.qHFls=function(m,s){return m+s},i.ZXfFw=function(m,s){return m*s},i.fTtre=function(m,s){return m*s};let f=i,l=f.SHFvZ(r.x,this.x),b=f.SHFvZ(r.y,this.y);return Math.sqrt(f.qHFls(f.ZXfFw(l,l),f.fTtre(b,b)))}};function Se(h,r,i){let f={};f.jNESw=function(I,u){return I-u},f.SxBfT=function(I,u){return I-u},f.kvsfD=function(I,u){return I+u},f.uIEYY=function(I,u){return I===u},f.Aocys=function(I,u){return I/u},f.jzcpn=function(I,u){return I*u};let l=f,b={x:l.jNESw(h.x,r.x),y:h.y-r.y},m={x:l.SxBfT(i.x,r.x),y:l.SxBfT(i.y,r.y)},s=l.kvsfD(b.x*m.x,b.y*m.y),d=Math.hypot(b.x,b.y),x=Math.hypot(m.x,m.y);if(l.uIEYY(d,0)||l.uIEYY(x,0))return 0;let _=Math.min(1,Math.max(-1,l.Aocys(s,l.jzcpn(d,x))));return Math.acos(_)}var He=class{static ahvlkdbade0cd22d0748f09ef8c026db542578(h,r,i){let f={};f.ecdjG=function(d,x){return d<=x};let l=f,b=r.cssqsegz232d561c6e7c4e91a290dfdb457487aa(i),m=r.nvqotyjaow3b14b53a399e46f09cc56bfefb064418(i)/2,s=b.nvqotyjaow3b14b53a399e46f09cc56bfefb064418(h);return l.ecdjG(s,m)}},bn=class z{constructor(r){this.points=r,!z.emzzcjecf098ff88205cc460789c0442dbb3cfd80(r)&&this.points.reverse()}tag="";sectionTag="";materialTag="";static abqikpq1d9a7ac196b24896bc537766700dee48(r){return new z(r.points.map(i=>Z.abqikpq1d9a7ac196b24896bc537766700dee48(i)))}fmkbqvd2d12f4f43354c63b8727b36c28bec51(){return{points:this.points.map(r=>r.fmkbqvd2d12f4f43354c63b8727b36c28bec51()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static emzzcjecf098ff88205cc460789c0442dbb3cfd80(r){let i={};i.exwUr=function(d,x){return d*x},i.GGrVT=function(d,x){return d-x},i.GVRYV=function(d,x){return d*x},i.CYmVY=function(d,x){return d-x},i.QZXeQ=function(d,x){return d-x};let f=i,[l,b,m]=r;return f.exwUr(f.GGrVT(b.x,l.x),f.GGrVT(m.y,l.y))-f.GVRYV(f.CYmVY(b.y,l.y),f.QZXeQ(m.x,l.x))>0}qjcivfjixc6fc05e8d1f9a4652af1fa0a5d2e1cfff(r,i,f){this.tag=r,this.sectionTag=i,this.materialTag=f}pescihhi787dd93e2b844a0584d00569297f3b42(){let r={};r.cWhxh=function(d,x){return d+x},r.BtuNU=function(d,x){return d/x};let i=r,[f,l,b]=this.points,m=(i.cWhxh(f.x,l.x)+b.x)/3,s=i.BtuNU(i.cWhxh(i.cWhxh(f.y,l.y),b.y),3);return new Z(m,s)}vkfeimfyye9de1533ab59448ea0bec35fe889eecb(r=.1){let i={};i.vKHoU=function(x,_){return x-_},i.klzCc=function(x,_){return x+_},i.KUdNk=function(x,_){return x*_},i.eoLVQ=function(x,_){return x*_},i.tITNL=function(x,_){return x+_},i.qNLzN=function(x,_){return x+_};let f=i,l=this.pescihhi787dd93e2b844a0584d00569297f3b42(),b=this.points.map(x=>{let _=f.vKHoU(l.x,x.x),I=f.vKHoU(l.y,x.y);return Math.sqrt(f.klzCc(f.KUdNk(_,_),f.eoLVQ(I,I)))}),m=Math.max(...b),s=f.eoLVQ(m,r);return this.points.map(x=>{let _=f.vKHoU(l.x,x.x),I=f.vKHoU(l.y,x.y),u=Math.sqrt(f.tITNL(_*_,f.eoLVQ(I,I))),T=s/u;return new Z(f.qNLzN(x.x,f.KUdNk(_,T)),f.klzCc(x.y,f.KUdNk(I,T)))})}oqkuee1c6ec666203b4f63b4842f512b988d11(){let r=this.pescihhi787dd93e2b844a0584d00569297f3b42();return[new z([this.points[0],this.points[1],r]),new z([this.points[1],this.points[2],r]),new z([this.points[2],this.points[0],r])]}rsmajyi0260141e4b7940b1a1253310107d616a(){let r={};r.MKkVq=function(x,_){return x+_},r.mTgNw=function(x,_){return x/_},r.AtLHA=function(x,_){return x/_},r.KFkZS=function(x,_){return x+_},r.QeUzT=function(x,_){return x+_};let i=r,[f,l,b]=this.points,m=new Z(i.MKkVq(f.x,l.x)/2,i.mTgNw(f.y+l.y,2)),s=new Z(i.AtLHA(i.MKkVq(l.x,b.x),2),i.AtLHA(l.y+b.y,2)),d=new Z(i.AtLHA(i.KFkZS(b.x,f.x),2),i.QeUzT(b.y,f.y)/2);return[new z([f,m,d]),new z([m,l,s]),new z([d,s,b]),new z([m,s,d])]}npumhkko11b094a134a4410cb1a8ee9961d1e6d4(){let r={};r.APhum=function(R,N){return R*N},r.sJaRA=function(R,N){return R+N},r.mqilq=function(R,N){return R-N},r.Jjnjq=function(R,N){return R*N},r.ayaZb=function(R,N){return R<N},r.vuBdi=function(R,N){return R/N},r.ismCE=function(R,N){return R+N},r.Kskch=function(R,N){return R+N},r.PEGuv=function(R,N){return R*N},r.dtjuq=function(R,N){return R*N},r.PDjOW=function(R,N){return R*N},r.iHTXO=function(R,N){return R-N},r.qujNZ=function(R,N){return R*N},r.KNCJS=function(R,N){return R+N},r.NJaxJ=function(R,N){return R-N},r.iOqiV=function(R,N){return R-N};let i=r,[f,l,b]=this.points,m=f.x,s=f.y,d=l.x,x=l.y,_=b.x,I=b.y,u=i.APhum(2,i.sJaRA(m*i.mqilq(x,I)+i.APhum(d,i.mqilq(I,s)),i.Jjnjq(_,s-x)));if(i.ayaZb(Math.abs(u),1e-10))return null;let T=i.vuBdi(i.ismCE(i.Kskch(i.APhum(i.Jjnjq(m,m)+i.PEGuv(s,s),x-I),i.APhum(d*d+i.dtjuq(x,x),I-s)),i.PDjOW(i.ismCE(i.APhum(_,_),i.dtjuq(I,I)),i.iHTXO(s,x))),u),S=i.vuBdi(i.ismCE(i.PDjOW(i.PDjOW(m,m)+i.dtjuq(s,s),_-d),i.qujNZ(i.KNCJS(d*d,i.APhum(x,x)),i.NJaxJ(m,_)))+i.PDjOW(i.PEGuv(_,_)+I*I,i.iOqiV(d,m)),u);return new Z(T,S)}fmjpwkeead45d9ef604af69e6876c7280a5187(){let r=this.npumhkko11b094a134a4410cb1a8ee9961d1e6d4();return r===null?[]:[new z([this.points[0],this.points[1],r]),new z([this.points[1],this.points[2],r]),new z([this.points[2],this.points[0],r])]}dimzdqk394981c0ce134bcabb2f67deb46e5b20(){let r={};r.YIJqs=function(T,S){return T*S},r.pcdCi=function(T,S){return T+S},r.vrmdS=function(T,S){return T+S},r.qZUvv=function(T,S){return T*S},r.tTSCv=function(T,S){return T*S},r.isuZZ=function(T,S){return T-S};let i=r,[f,l,b]=this.points,m=f.x,s=l.x,d=b.x,x=f.y,_=l.y,I=b.y;return i.YIJqs(.5,Math.abs(i.pcdCi(i.vrmdS(m*(_-I),i.qZUvv(s,I-x)),i.tTSCv(d,i.isuZZ(x,_)))))}ncdnoo0dfdf9b721b84ae6b4a8e61323c014d9(){let r={sYMWc:function(f,l,b){return f(l,b)}},i=this.dimzdqk394981c0ce134bcabb2f67deb46e5b20();return r.sYMWc(le,i,0)}tzuimbc4b8a56fbf24509b6bc0d7be48d8d87(){let r={YzZAZ:function(m,s,d,x){return m(s,d,x)}},[i,f,l]=this.points;return[r.YzZAZ(Se,f,i,l),r.YzZAZ(Se,i,f,l),r.YzZAZ(Se,i,l,f)]}slztrbbd2d6975e04480396b27716ffa741fb(r=15*Math.PI/180){return!!this.tzuimbc4b8a56fbf24509b6bc0d7be48d8d87().some(f=>f<r)}rpefjm0fd1194800154d76bb715b51302564b0(){let r={};r.vDNAw=function(l,b){return l<b},r.sxPFi=function(l,b){return l%b},r.dRNYY=function(l,b){return l+b};let i=r,f=this.npumhkko11b094a134a4410cb1a8ee9961d1e6d4();if(!f)return this.gscultwk088ed69d117447708c107b5475079400();for(let l=0;i.vDNAw(l,3);l++){let b=this.points[l],m=this.points[i.sxPFi(i.dRNYY(l,1),3)];if(He.ahvlkdbade0cd22d0748f09ef8c026db542578(f,b,m))return this.gscultwk088ed69d117447708c107b5475079400()}return f}raedlgijwga3ccfa71e2934363acd68bae8a8636b7(r){let[i,f,l]=this.points,b={};b.p1=i,b.p2=f;let m={};m.p1=f,m.p2=l;let s={};s.p1=l,s.p2=i;let d=[b,m,s],x=[];for(let _ of d)for(let I of r)if(!this.points.some(u=>u.vcjhdvp51b1fb49aedf493eb1afa998a8ac4b70(I))&&He.ahvlkdbade0cd22d0748f09ef8c026db542578(I,_.p1,_.p2))return x.push(_.p1.cssqsegz232d561c6e7c4e91a290dfdb457487aa(_.p2)),x;return x}ktdbgiiqmk273f5d36d4d6400898dcb75f1012c6ea(r){let i=this.npumhkko11b094a134a4410cb1a8ee9961d1e6d4();return i?r.some(f=>f.gjenu3fce2856f3d648d5889ab6e587ddc707(i))?i:this.gscultwk088ed69d117447708c107b5475079400():this.gscultwk088ed69d117447708c107b5475079400()}gscultwk088ed69d117447708c107b5475079400(){let[r,i,f]=this.points,l={};l.p1=r,l.p2=i;let b={};b.p1=i,b.p2=f;let m={};m.p1=f,m.p2=r;let s=[l,b,m],d=s[0],x=d.p1.nvqotyjaow3b14b53a399e46f09cc56bfefb064418(d.p2);for(let _=1;_<s.length;_++){let I=s[_].p1.nvqotyjaow3b14b53a399e46f09cc56bfefb064418(s[_].p2);I>x&&(x=I,d=s[_])}return d.p1.cssqsegz232d561c6e7c4e91a290dfdb457487aa(d.p2)}};var xn=class Qe{constructor(r,i,f,l){this.points=r,this.tag=i,this.sectionTag=f,this.materialTag=l,this.d3Polygon=r.map(b=>[b.x,b.y])}d3Polygon;static abqikpq1d9a7ac196b24896bc537766700dee48(r){return new Qe(r.points.map(i=>Z.abqikpq1d9a7ac196b24896bc537766700dee48(i)),r.tag,r.sectionTag,r.materialTag)}gsvqdctvv4ac448d47c2b483186f53ac48b51a9a0(r){for(let i=0,f=this.points.length-1;i<this.points.length;f=i++)if(vn(r,this.points[i],this.points[f]))return!0;return!1}gjenu3fce2856f3d648d5889ab6e587ddc707(r){let i={WIZkT:function(l,b,m){return l(b,m)}};return this.gsvqdctvv4ac448d47c2b483186f53ac48b51a9a0(r)?!0:i.WIZkT(Ee,this.d3Polygon,[r.x,r.y])}giptybiyvb17eb28e767547eba725f8ac3f72b4aa(r,i){let f={};f.maxrL=function(m,s){return m<s},f.jTOVX=function(m,s){return m%s},f.ctkwC=function(m,s){return m-s},f.bJWmg=function(m,s){return m-s},f.epYOk=function(m,s){return m+s},f.DvJQu=function(m,s){return m*s},f.sCeAi=function(m,s){return m/s},f.hyepB=function(m,s){return m<s},f.gpVvq=function(m,s){return m*s},f.jQZKa=function(m,s){return m+s},f.oRZPx=function(m,s){return m+s},f.IIsTD=function(m,s){return m*s};let l=f,b=[];for(let m=0;l.maxrL(m,r.length);m++){let s=r[m],d=r[l.jTOVX(m+1,r.length)],x=l.ctkwC(d.x,s.x),_=l.bJWmg(d.y,s.y),I=Math.sqrt(l.epYOk(l.DvJQu(x,x),_*_)),u=Math.floor(l.sCeAi(I,i));b.push(new Z(s.x,s.y));for(let T=1;l.hyepB(T,u);T++){let S=l.sCeAi(l.gpVvq(T,i),I),R=l.jQZKa(s.x,l.DvJQu(S,x)),N=l.oRZPx(s.y,l.IIsTD(S,_));b.push(new Z(R,N))}}return b}};function vn(h,r,i){let f={ABmsK:function(s,d){return s-d},PgLjK:function(s,d){return s-d},qhFJg:function(s,d){return s*d},yjRyv:function(s,d){return s-d},fOghE:function(s,d){return s-d},ZqNZQ:function(s,d,x){return s(d,x)},MhnsL:function(s,d){return s+d},MgUCu:function(s,d){return s*d},TCibt:function(s,d){return s-d},XKjLL:function(s,d){return s-d},bkwpy:function(s,d){return s-d},iKGqy:function(s,d){return s<d},KGmkq:function(s,d){return s+d},Ieiqe:function(s,d){return s**d},bRbGv:function(s,d){return s>d}},l=f.ABmsK(f.ABmsK(h.y,r.y)*f.PgLjK(i.x,r.x),f.qhFJg(f.yjRyv(h.x,r.x),f.fOghE(i.y,r.y)));if(!f.ZqNZQ(le,Math.abs(l),0))return!1;let b=f.MhnsL(f.MgUCu(f.TCibt(h.x,r.x),f.PgLjK(i.x,r.x)),f.MgUCu(f.XKjLL(h.y,r.y),f.bkwpy(i.y,r.y)));if(f.iKGqy(b,0))return!1;let m=f.KGmkq(f.Ieiqe(f.TCibt(i.x,r.x),2),f.Ieiqe(f.XKjLL(i.y,r.y),2));return!f.bRbGv(b,m)}function $e(h){let r=h.polygons.map(b=>xn.abqikpq1d9a7ac196b24896bc537766700dee48(b)),i=h.baseTriangles.map(b=>bn.abqikpq1d9a7ac196b24896bc537766700dee48(b)),f=i,l=[];for(let b of f){let m=b.pescihhi787dd93e2b844a0584d00569297f3b42(),s=r.find(d=>d.gjenu3fce2856f3d648d5889ab6e587ddc707(m));s&&(b.qjcivfjixc6fc05e8d1f9a4652af1fa0a5d2e1cfff(s.tag,s.sectionTag,s.materialTag),l.push(b))}return{triangles:l.map(b=>b.fmkbqvd2d12f4f43354c63b8727b36c28bec51())}}var Re=hn(tt());var nt=(h,r,i="")=>`View3dModel-${h}-${r}${i}`,rt=h=>`Triangles-${h}`;var gn=2220446049250313e-31;function fe(h,r,i,f){let l=Math.abs(h-r);return i==null&&(i=gn),f==null&&(f=i),l<=i||l<=f*Math.min(Math.abs(h),Math.abs(r))?!0:h===r}var Q=class extends Error{constructor(r){super(r)}};function ot(h){if(h.length<3)throw new Q("At least three vertices are required to form a face.");return{vertices:[...h.filter(r=>r)],results:[]}}var ce=h=>{let r=(h.points??"").trim().split(/\s+/).map(f=>f.split(",")),i=[];for(let[f,l]of r){let b=parseFloat(f),m=parseFloat(l);if(Number.isFinite(b)&&Number.isFinite(m))i.push({x:b,y:m});else throw new Q("Invalid vertex coordinates")}return{vertices:i}};function it(h){let r=0,i=0,f=0,l=h.length;for(let b=0;b<l;b++){let{x:m,y:s}=h[b],{x:d,y:x}=h[(b+1)%l],_=m*x-d*s;r+=_,i+=(m+d)*_,f+=(s+x)*_}return r*=.5,r===0?{x:0,y:0}:(i/=6*r,f/=6*r,{x:i,y:f})}function*at(h,r){let i=[...new Set(r.rectangles.map(u=>u.name).concat(r.polygons.map(u=>u.name)))],f=[];for(let u of h){let T=u.points.map(N=>Tn(N)),S=ot(T);if(i.indexOf(u.name)===-1)throw new Q(`Geometry name ${u.name} not found in geometry rectangles or polygons.`);f.push(S)}let l=r.supports.map(u=>En(u)),b=h.flatMap(u=>u.points).map(u=>u.x).reduce((u,T)=>Math.max(u,T),-1/0),m=h.flatMap(u=>u.points).map(u=>u.x).reduce((u,T)=>Math.min(u,T),1/0),s=h.flatMap(u=>u.points).map(u=>u.y).reduce((u,T)=>Math.max(u,T),-1/0),d=h.flatMap(u=>u.points).map(u=>u.y).reduce((u,T)=>Math.min(u,T),1/0),x=b-m,_=s-d,I=[...r.polygons.map(u=>ce(u)),...r.rectangles.map(u=>ae(u))].map(u=>u.vertices.map(T=>({x:T.x,y:T.y}))).map(u=>({points:u}));for(let u of r.loadCases)yield{faces:f,wireframeFaces:[],supports:l,borders:I,loads:wn(u,r),loadCaseTag:u.name,width:x,height:_}}function wn(h,r){let i=[];for(let f of h.pointLoads)fe(f.fx,0)||i.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"point"}),fe(f.fy,0)||i.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of h.distributedLoads){let l=r.polygons.filter(s=>s.name===f.geometryName).map(s=>ce(s)),b=r.rectangles.filter(s=>s.name===f.geometryName).map(s=>ae(s)),m=[...l,...b];for(let s of m){let d=it(s.vertices);fe(f.fx,0)||i.push({x:d.x,y:d.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),fe(f.fy,0)||i.push({x:d.x,y:d.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return i}function Tn(h){return{x:h.x,y:h.y,z:0,ux:0,uy:0,uz:0,value:0}}function En(h){return{x:h.x,y:h.y,z:0,ux:h.fixedX,uy:h.fixedY,uz:!1}}addEventListener("message",({data:h})=>{Sn(h)});var Sn=async h=>{let{geometry:r,uuid:i,baseTriangles:f}=h,l=r.loadCases.flatMap(S=>S.pointLoads).map(S=>({x:S.x,y:S.y})),b=r.supports.map(S=>({x:S.x,y:S.y})),m=r.resultPoints.map(S=>({x:S.x,y:S.y})),s=r.rectangles.map(S=>Nn(S)),d=r.polygons.map(S=>Dn(S)),x=s.concat(d),_={maxTriangleArea:r.meshingConfiguration.maxMeshArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(S=>Pn(S))},u=$e({polygons:x,extraPoints:l.concat(b).concat(m),meshingConfiguration:_,baseTriangles:f.map(S=>An(S))}).triangles.map(S=>Rn(S));await Re.setItem(rt(i),u);for(let S of at(u,r))await Re.setItem(nt(i,S.loadCaseTag),S);postMessage({uuid:i})},Pn=h=>({radius:h.radius,maxTriangleArea:h.maxArea,center:{x:h.x,y:h.y}}),In=h=>({x:h.x,y:h.y}),Rn=h=>({points:h.points.map(i=>In(i)),name:h.tag,sectionTag:h.sectionTag,materialTag:h.materialTag}),Nn=h=>({points:ae(h).vertices.map(i=>({x:i.x,y:i.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),Dn=h=>({points:ce(h).vertices.map(i=>({x:i.x,y:i.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),An=h=>({points:h.points.map(i=>({x:i.x,y:i.y}))});
