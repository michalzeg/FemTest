var fn=Object.create;var Qe=Object.defineProperty;var cn=Object.getOwnPropertyDescriptor;var sn=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,dn=Object.prototype.hasOwnProperty;var ae=(h=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(h,{get:(n,o)=>(typeof require<"u"?require:n)[o]}):h)(function(h){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+h+'" is not supported')});var ln=(h,n)=>()=>(n||h((n={exports:{}}).exports,n),n.exports);var mn=(h,n,o,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let d of sn(n))!dn.call(h,d)&&d!==o&&Qe(h,d,{get:()=>n[d],enumerable:!(c=cn(n,d))||c.enumerable});return h};var hn=(h,n,o)=>(o=h!=null?fn(un(h)):{},mn(n||!h||!h.__esModule?Qe(o,"default",{value:h,enumerable:!0}):o,h));var tt=ln((et,Pe)=>{"use strict";(function(h){if(typeof et=="object"&&typeof Pe<"u")Pe.exports=h();else if(typeof define=="function"&&define.amd)define([],h);else{var n;typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"?n=self:n=this,n.localforage=h()}})(function(){var h,n,o;return function c(d,b,m){function s(v,D){if(!b[v]){if(!d[v]){var u=typeof ae=="function"&&ae;if(!D&&u)return u(v,!0);if(l)return l(v,!0);var T=new Error("Cannot find module '"+v+"'");throw T.code="MODULE_NOT_FOUND",T}var P=b[v]={exports:{}};d[v][0].call(P.exports,function(E){var S=d[v][1][E];return s(S||E)},P,P.exports,c,d,b,m)}return b[v].exports}for(var l=typeof ae=="function"&&ae,x=0;x<m.length;x++)s(m[x]);return s}({1:[function(c,d,b){(function(m){"use strict";var s=m.MutationObserver||m.WebKitMutationObserver,l;if(s){var x=0,v=new s(E),D=m.document.createTextNode("");v.observe(D,{characterData:!0}),l=function(){D.data=x=++x%2}}else if(!m.setImmediate&&typeof m.MessageChannel<"u"){var u=new m.MessageChannel;u.port1.onmessage=E,l=function(){u.port2.postMessage(0)}}else"document"in m&&"onreadystatechange"in m.document.createElement("script")?l=function(){var O=m.document.createElement("script");O.onreadystatechange=function(){E(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},m.document.documentElement.appendChild(O)}:l=function(){setTimeout(E,0)};var T,P=[];function E(){T=!0;for(var O,H,F=P.length;F;){for(H=P,P=[],O=-1;++O<F;)H[O]();F=P.length}T=!1}d.exports=S;function S(O){P.push(O)===1&&!T&&l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(c,d,b){"use strict";var m=c(1);function s(){}var l={},x=["REJECTED"],v=["FULFILLED"],D=["PENDING"];d.exports=u;function u(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,R!==s&&S(this,R)}u.prototype.catch=function(R){return this.then(null,R)},u.prototype.then=function(R,L){if(typeof R!="function"&&this.state===v||typeof L!="function"&&this.state===x)return this;var A=new this.constructor(s);if(this.state!==D){var C=this.state===v?R:L;P(A,C,this.outcome)}else this.queue.push(new T(A,R,L));return A};function T(R,L,A){this.promise=R,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}T.prototype.callFulfilled=function(R){l.resolve(this.promise,R)},T.prototype.otherCallFulfilled=function(R){P(this.promise,this.onFulfilled,R)},T.prototype.callRejected=function(R){l.reject(this.promise,R)},T.prototype.otherCallRejected=function(R){P(this.promise,this.onRejected,R)};function P(R,L,A){m(function(){var C;try{C=L(A)}catch(q){return l.reject(R,q)}C===R?l.reject(R,new TypeError("Cannot resolve promise with itself")):l.resolve(R,C)})}l.resolve=function(R,L){var A=O(E,L);if(A.status==="error")return l.reject(R,A.value);var C=A.value;if(C)S(R,C);else{R.state=v,R.outcome=L;for(var q=-1,G=R.queue.length;++q<G;)R.queue[q].callFulfilled(L)}return R},l.reject=function(R,L){R.state=x,R.outcome=L;for(var A=-1,C=R.queue.length;++A<C;)R.queue[A].callRejected(L);return R};function E(R){var L=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof L=="function")return function(){L.apply(R,arguments)}}function S(R,L){var A=!1;function C(k){A||(A=!0,l.reject(R,k))}function q(k){A||(A=!0,l.resolve(R,k))}function G(){L(q,C)}var X=O(G);X.status==="error"&&C(X.value)}function O(R,L){var A={};try{A.value=R(L),A.status="success"}catch(C){A.status="error",A.value=C}return A}u.resolve=H;function H(R){return R instanceof this?R:l.resolve(new this(s),R)}u.reject=F;function F(R){var L=new this(s);return l.reject(L,R)}u.all=me;function me(R){var L=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=R.length,C=!1;if(!A)return this.resolve([]);for(var q=new Array(A),G=0,X=-1,k=new this(s);++X<A;)U(R[X],X);return k;function U(ne,se){L.resolve(ne).then(he,function(ee){C||(C=!0,l.reject(k,ee))});function he(ee){q[se]=ee,++G===A&&!C&&(C=!0,l.resolve(k,q))}}}u.race=$;function $(R){var L=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=R.length,C=!1;if(!A)return this.resolve([]);for(var q=-1,G=new this(s);++q<A;)X(R[q]);return G;function X(k){L.resolve(k).then(function(U){C||(C=!0,l.resolve(G,U))},function(U){C||(C=!0,l.reject(G,U))})}}},{1:1}],3:[function(c,d,b){(function(m){"use strict";typeof m.Promise!="function"&&(m.Promise=c(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(c,d,b){"use strict";var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var x=l();function v(){try{if(!x||!x.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),r=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||r)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function D(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(a){if(a.name!=="TypeError")throw a;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,f=0;f<e.length;f+=1)i.append(e[f]);return i.getBlob(r.type)}}typeof Promise>"u"&&c(3);var u=Promise;function T(e,r){r&&e.then(function(t){r(null,t)},function(t){r(t)})}function P(e,r,t){typeof r=="function"&&e.then(r),typeof t=="function"&&e.catch(t)}function E(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function S(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var O="local-forage-detect-blob-support",H=void 0,F={},me=Object.prototype.toString,$="readonly",R="readwrite";function L(e){for(var r=e.length,t=new ArrayBuffer(r),i=new Uint8Array(t),f=0;f<r;f++)i[f]=e.charCodeAt(f);return t}function A(e){return new u(function(r){var t=e.transaction(O,R),i=D([""]);t.objectStore(O).put(i,"key"),t.onabort=function(f){f.preventDefault(),f.stopPropagation(),r(!1)},t.oncomplete=function(){var f=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);r(a||!f||parseInt(f[1],10)>=43)}}).catch(function(){return!1})}function C(e){return typeof H=="boolean"?u.resolve(H):A(e).then(function(r){return H=r,H})}function q(e){var r=F[e.name],t={};t.promise=new u(function(i,f){t.resolve=i,t.reject=f}),r.deferredOperations.push(t),r.dbReady?r.dbReady=r.dbReady.then(function(){return t.promise}):r.dbReady=t.promise}function G(e){var r=F[e.name],t=r.deferredOperations.pop();if(t)return t.resolve(),t.promise}function X(e,r){var t=F[e.name],i=t.deferredOperations.pop();if(i)return i.reject(r),i.promise}function k(e,r){return new u(function(t,i){if(F[e.name]=F[e.name]||Me(),e.db)if(r)q(e),e.db.close();else return t(e.db);var f=[e.name];r&&f.push(e.version);var a=x.open.apply(x,f);r&&(a.onupgradeneeded=function(p){var y=a.result;try{y.createObjectStore(e.storeName),p.oldVersion<=1&&y.createObjectStore(O)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw g}}),a.onerror=function(p){p.preventDefault(),i(a.error)},a.onsuccess=function(){var p=a.result;p.onversionchange=function(y){y.target.close()},t(p),G(e)}})}function U(e){return k(e,!1)}function ne(e){return k(e,!0)}function se(e,r){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,f=e.version>e.db.version;if(i&&(e.version!==r&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),f||t){if(t){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function he(e){return new u(function(r,t){var i=new FileReader;i.onerror=t,i.onloadend=function(f){var a=btoa(f.target.result||"");r({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var r=L(atob(e.data));return D([r],{type:e.type})}function De(e){return e&&e.__local_forage_encoded_blob}function ft(e){var r=this,t=r._initReady().then(function(){var i=F[r._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return P(t,e,e),t}function ct(e){q(e);for(var r=F[e.name],t=r.forages,i=0;i<t.length;i++){var f=t[i];f._dbInfo.db&&(f._dbInfo.db.close(),f._dbInfo.db=null)}return e.db=null,U(e).then(function(a){return e.db=a,se(e)?ne(e):a}).then(function(a){e.db=r.db=a;for(var p=0;p<t.length;p++)t[p]._dbInfo.db=a}).catch(function(a){throw X(e,a),a})}function K(e,r,t,i){i===void 0&&(i=1);try{var f=e.db.transaction(e.storeName,r);t(null,f)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return u.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return ct(e).then(function(){K(e,r,t,i-1)})}).catch(t);t(a)}}function Me(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function st(e){var r=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var f=F[t.name];f||(f=Me(),F[t.name]=f),f.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=ft);var a=[];function p(){return u.resolve()}for(var y=0;y<f.forages.length;y++){var g=f.forages[y];g!==r&&a.push(g._initReady().catch(p))}var _=f.forages.slice(0);return u.all(a).then(function(){return t.db=f.db,U(t)}).then(function(w){return t.db=w,se(t,r._defaultConfig.version)?ne(t):w}).then(function(w){t.db=f.db=w,r._dbInfo=t;for(var I=0;I<_.length;I++){var M=_[I];M!==r&&(M._dbInfo.db=t.db,M._dbInfo.version=t.version)}})}function ut(e,r){var t=this;e=E(e);var i=new u(function(f,a){t.ready().then(function(){K(t._dbInfo,$,function(p,y){if(p)return a(p);try{var g=y.objectStore(t._dbInfo.storeName),_=g.get(e);_.onsuccess=function(){var w=_.result;w===void 0&&(w=null),De(w)&&(w=ee(w)),f(w)},_.onerror=function(){a(_.error)}}catch(w){a(w)}})}).catch(a)});return T(i,r),i}function dt(e,r){var t=this,i=new u(function(f,a){t.ready().then(function(){K(t._dbInfo,$,function(p,y){if(p)return a(p);try{var g=y.objectStore(t._dbInfo.storeName),_=g.openCursor(),w=1;_.onsuccess=function(){var I=_.result;if(I){var M=I.value;De(M)&&(M=ee(M));var N=e(M,I.key,w++);N!==void 0?f(N):I.continue()}else f()},_.onerror=function(){a(_.error)}}catch(I){a(I)}})}).catch(a)});return T(i,r),i}function lt(e,r,t){var i=this;e=E(e);var f=new u(function(a,p){var y;i.ready().then(function(){return y=i._dbInfo,me.call(r)==="[object Blob]"?C(y.db).then(function(g){return g?r:he(r)}):r}).then(function(g){K(i._dbInfo,R,function(_,w){if(_)return p(_);try{var I=w.objectStore(i._dbInfo.storeName);g===null&&(g=void 0);var M=I.put(g,e);w.oncomplete=function(){g===void 0&&(g=null),a(g)},w.onabort=w.onerror=function(){var N=M.error?M.error:M.transaction.error;p(N)}}catch(N){p(N)}})}).catch(p)});return T(f,t),f}function mt(e,r){var t=this;e=E(e);var i=new u(function(f,a){t.ready().then(function(){K(t._dbInfo,R,function(p,y){if(p)return a(p);try{var g=y.objectStore(t._dbInfo.storeName),_=g.delete(e);y.oncomplete=function(){f()},y.onerror=function(){a(_.error)},y.onabort=function(){var w=_.error?_.error:_.transaction.error;a(w)}}catch(w){a(w)}})}).catch(a)});return T(i,r),i}function ht(e){var r=this,t=new u(function(i,f){r.ready().then(function(){K(r._dbInfo,R,function(a,p){if(a)return f(a);try{var y=p.objectStore(r._dbInfo.storeName),g=y.clear();p.oncomplete=function(){i()},p.onabort=p.onerror=function(){var _=g.error?g.error:g.transaction.error;f(_)}}catch(_){f(_)}})}).catch(f)});return T(t,e),t}function xt(e){var r=this,t=new u(function(i,f){r.ready().then(function(){K(r._dbInfo,$,function(a,p){if(a)return f(a);try{var y=p.objectStore(r._dbInfo.storeName),g=y.count();g.onsuccess=function(){i(g.result)},g.onerror=function(){f(g.error)}}catch(_){f(_)}})}).catch(f)});return T(t,e),t}function pt(e,r){var t=this,i=new u(function(f,a){if(e<0){f(null);return}t.ready().then(function(){K(t._dbInfo,$,function(p,y){if(p)return a(p);try{var g=y.objectStore(t._dbInfo.storeName),_=!1,w=g.openKeyCursor();w.onsuccess=function(){var I=w.result;if(!I){f(null);return}e===0||_?f(I.key):(_=!0,I.advance(e))},w.onerror=function(){a(w.error)}}catch(I){a(I)}})}).catch(a)});return T(i,r),i}function bt(e){var r=this,t=new u(function(i,f){r.ready().then(function(){K(r._dbInfo,$,function(a,p){if(a)return f(a);try{var y=p.objectStore(r._dbInfo.storeName),g=y.openKeyCursor(),_=[];g.onsuccess=function(){var w=g.result;if(!w){i(_);return}_.push(w.key),w.continue()},g.onerror=function(){f(g.error)}}catch(w){f(w)}})}).catch(f)});return T(t,e),t}function yt(e,r){r=S.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,f;if(!e.name)f=u.reject("Invalid arguments");else{var a=e.name===t.name&&i._dbInfo.db,p=a?u.resolve(i._dbInfo.db):U(e).then(function(y){var g=F[e.name],_=g.forages;g.db=y;for(var w=0;w<_.length;w++)_[w]._dbInfo.db=y;return y});e.storeName?f=p.then(function(y){if(y.objectStoreNames.contains(e.storeName)){var g=y.version+1;q(e);var _=F[e.name],w=_.forages;y.close();for(var I=0;I<w.length;I++){var M=w[I];M._dbInfo.db=null,M._dbInfo.version=g}var N=new u(function(B,V){var z=x.open(e.name,g);z.onerror=function(W){var oe=z.result;oe.close(),V(W)},z.onupgradeneeded=function(){var W=z.result;W.deleteObjectStore(e.storeName)},z.onsuccess=function(){var W=z.result;W.close(),B(W)}});return N.then(function(B){_.db=B;for(var V=0;V<w.length;V++){var z=w[V];z._dbInfo.db=B,G(z._dbInfo)}}).catch(function(B){throw(X(e,B)||u.resolve()).catch(function(){}),B})}}):f=p.then(function(y){q(e);var g=F[e.name],_=g.forages;y.close();for(var w=0;w<_.length;w++){var I=_[w];I._dbInfo.db=null}var M=new u(function(N,B){var V=x.deleteDatabase(e.name);V.onerror=function(){var z=V.result;z&&z.close(),B(V.error)},V.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},V.onsuccess=function(){var z=V.result;z&&z.close(),N(z)}});return M.then(function(N){g.db=N;for(var B=0;B<_.length;B++){var V=_[B];G(V._dbInfo)}}).catch(function(N){throw(X(e,N)||u.resolve()).catch(function(){}),N})})}return T(f,r),f}var vt={_driver:"asyncStorage",_initStorage:st,_support:v(),iterate:dt,getItem:ut,setItem:lt,removeItem:mt,clear:ht,length:xt,key:pt,keys:bt,dropInstance:yt};function gt(){return typeof openDatabase=="function"}var Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t="~~local_forage_type~",Ae=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",xe=ue.length,pe="arbf",be="blob",Le="si08",Ne="ui08",Be="uic8",Ce="si16",ze="si32",Ve="ur16",Oe="ui32",Fe="fl32",qe="fl64",Ge=xe+pe.length,Ye=Object.prototype.toString;function Xe(e){var r=e.length*.75,t=e.length,i,f=0,a,p,y,g;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var _=new ArrayBuffer(r),w=new Uint8Array(_);for(i=0;i<t;i+=4)a=Q.indexOf(e[i]),p=Q.indexOf(e[i+1]),y=Q.indexOf(e[i+2]),g=Q.indexOf(e[i+3]),w[f++]=a<<2|p>>4,w[f++]=(p&15)<<4|y>>2,w[f++]=(y&3)<<6|g&63;return _}function ye(e){var r=new Uint8Array(e),t="",i;for(i=0;i<r.length;i+=3)t+=Q[r[i]>>2],t+=Q[(r[i]&3)<<4|r[i+1]>>4],t+=Q[(r[i+1]&15)<<2|r[i+2]>>6],t+=Q[r[i+2]&63];return r.length%3===2?t=t.substring(0,t.length-1)+"=":r.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function wt(e,r){var t="";if(e&&(t=Ye.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&Ye.call(e.buffer)==="[object ArrayBuffer]")){var i,f=ue;e instanceof ArrayBuffer?(i=e,f+=pe):(i=e.buffer,t==="[object Int8Array]"?f+=Le:t==="[object Uint8Array]"?f+=Ne:t==="[object Uint8ClampedArray]"?f+=Be:t==="[object Int16Array]"?f+=Ce:t==="[object Uint16Array]"?f+=Ve:t==="[object Int32Array]"?f+=ze:t==="[object Uint32Array]"?f+=Oe:t==="[object Float32Array]"?f+=Fe:t==="[object Float64Array]"?f+=qe:r(new Error("Failed to get type for BinaryArray"))),r(f+ye(i))}else if(t==="[object Blob]"){var a=new FileReader;a.onload=function(){var p=_t+e.type+"~"+ye(this.result);r(ue+be+p)},a.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(p){console.error("Couldn't convert value into a JSON string: ",e),r(null,p)}}function Tt(e){if(e.substring(0,xe)!==ue)return JSON.parse(e);var r=e.substring(Ge),t=e.substring(xe,Ge),i;if(t===be&&Ae.test(r)){var f=r.match(Ae);i=f[1],r=r.substring(f[0].length)}var a=Xe(r);switch(t){case pe:return a;case be:return D([a],{type:i});case Le:return new Int8Array(a);case Ne:return new Uint8Array(a);case Be:return new Uint8ClampedArray(a);case Ce:return new Int16Array(a);case Ve:return new Uint16Array(a);case ze:return new Int32Array(a);case Oe:return new Uint32Array(a);case Fe:return new Float32Array(a);case qe:return new Float64Array(a);default:throw new Error("Unkown type: "+t)}}var ve={serialize:wt,deserialize:Tt,stringToBuffer:Xe,bufferToString:ye};function ke(e,r,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function Et(e){var r=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var f=new u(function(a,p){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(y){return p(y)}t.db.transaction(function(y){ke(y,t,function(){r._dbInfo=t,a()},function(g,_){p(_)})},p)});return t.serializer=ve,f}function J(e,r,t,i,f,a){e.executeSql(t,i,f,function(p,y){y.code===y.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(g,_){_.rows.length?a(g,y):ke(g,r,function(){g.executeSql(t,i,f,a)},a)},a):a(p,y)},a)}function Rt(e,r){var t=this;e=E(e);var i=new u(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){J(y,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[e],function(g,_){var w=_.rows.length?_.rows.item(0).value:null;w&&(w=p.serializer.deserialize(w)),f(w)},function(g,_){a(_)})})}).catch(a)});return T(i,r),i}function St(e,r){var t=this,i=new u(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){J(y,p,"SELECT * FROM "+p.storeName,[],function(g,_){for(var w=_.rows,I=w.length,M=0;M<I;M++){var N=w.item(M),B=N.value;if(B&&(B=p.serializer.deserialize(B)),B=e(B,N.key,M+1),B!==void 0){f(B);return}}f()},function(g,_){a(_)})})}).catch(a)});return T(i,r),i}function We(e,r,t,i){var f=this;e=E(e);var a=new u(function(p,y){f.ready().then(function(){r===void 0&&(r=null);var g=r,_=f._dbInfo;_.serializer.serialize(r,function(w,I){I?y(I):_.db.transaction(function(M){J(M,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){p(g)},function(N,B){y(B)})},function(M){if(M.code===M.QUOTA_ERR){if(i>0){p(We.apply(f,[e,g,t,i-1]));return}y(M)}})})}).catch(y)});return T(a,t),a}function Pt(e,r,t){return We.apply(this,[e,r,t,1])}function It(e,r){var t=this;e=E(e);var i=new u(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){J(y,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[e],function(){f()},function(g,_){a(_)})})}).catch(a)});return T(i,r),i}function Dt(e){var r=this,t=new u(function(i,f){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(p){J(p,a,"DELETE FROM "+a.storeName,[],function(){i()},function(y,g){f(g)})})}).catch(f)});return T(t,e),t}function Mt(e){var r=this,t=new u(function(i,f){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(p){J(p,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(y,g){var _=g.rows.item(0).c;i(_)},function(y,g){f(g)})})}).catch(f)});return T(t,e),t}function At(e,r){var t=this,i=new u(function(f,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){J(y,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[e+1],function(g,_){var w=_.rows.length?_.rows.item(0).key:null;f(w)},function(g,_){a(_)})})}).catch(a)});return T(i,r),i}function Lt(e){var r=this,t=new u(function(i,f){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(p){J(p,a,"SELECT key FROM "+a.storeName,[],function(y,g){for(var _=[],w=0;w<g.rows.length;w++)_.push(g.rows.item(w).key);i(_)},function(y,g){f(g)})})}).catch(f)});return T(t,e),t}function Nt(e){return new u(function(r,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(f,a){for(var p=[],y=0;y<a.rows.length;y++)p.push(a.rows.item(y).name);r({db:e,storeNames:p})},function(f,a){t(a)})},function(i){t(i)})})}function Bt(e,r){r=S.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,f;return e.name?f=new u(function(a){var p;e.name===t.name?p=i._dbInfo.db:p=openDatabase(e.name,"","",0),e.storeName?a({db:p,storeNames:[e.storeName]}):a(Nt(p))}).then(function(a){return new u(function(p,y){a.db.transaction(function(g){function _(N){return new u(function(B,V){g.executeSql("DROP TABLE IF EXISTS "+N,[],function(){B()},function(z,W){V(W)})})}for(var w=[],I=0,M=a.storeNames.length;I<M;I++)w.push(_(a.storeNames[I]));u.all(w).then(function(){p()}).catch(function(N){y(N)})},function(g){y(g)})})}):f=u.reject("Invalid arguments"),T(f,r),f}var Ct={_driver:"webSQLStorage",_initStorage:Et,_support:gt(),iterate:St,getItem:Rt,setItem:Pt,removeItem:It,clear:Dt,length:Mt,key:At,keys:Lt,dropInstance:Bt};function zt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function je(e,r){var t=e.name+"/";return e.storeName!==r.storeName&&(t+=e.storeName+"/"),t}function Vt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Ot(){return!Vt()||localStorage.length>0}function Ft(e){var r=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=je(e,r._defaultConfig),Ot()?(r._dbInfo=t,t.serializer=ve,u.resolve()):u.reject()}function qt(e){var r=this,t=r.ready().then(function(){for(var i=r._dbInfo.keyPrefix,f=localStorage.length-1;f>=0;f--){var a=localStorage.key(f);a.indexOf(i)===0&&localStorage.removeItem(a)}});return T(t,e),t}function Gt(e,r){var t=this;e=E(e);var i=t.ready().then(function(){var f=t._dbInfo,a=localStorage.getItem(f.keyPrefix+e);return a&&(a=f.serializer.deserialize(a)),a});return T(i,r),i}function Yt(e,r){var t=this,i=t.ready().then(function(){for(var f=t._dbInfo,a=f.keyPrefix,p=a.length,y=localStorage.length,g=1,_=0;_<y;_++){var w=localStorage.key(_);if(w.indexOf(a)===0){var I=localStorage.getItem(w);if(I&&(I=f.serializer.deserialize(I)),I=e(I,w.substring(p),g++),I!==void 0)return I}}});return T(i,r),i}function Xt(e,r){var t=this,i=t.ready().then(function(){var f=t._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(f.keyPrefix.length)),a});return T(i,r),i}function kt(e){var r=this,t=r.ready().then(function(){for(var i=r._dbInfo,f=localStorage.length,a=[],p=0;p<f;p++){var y=localStorage.key(p);y.indexOf(i.keyPrefix)===0&&a.push(y.substring(i.keyPrefix.length))}return a});return T(t,e),t}function Wt(e){var r=this,t=r.keys().then(function(i){return i.length});return T(t,e),t}function jt(e,r){var t=this;e=E(e);var i=t.ready().then(function(){var f=t._dbInfo;localStorage.removeItem(f.keyPrefix+e)});return T(i,r),i}function Ht(e,r,t){var i=this;e=E(e);var f=i.ready().then(function(){r===void 0&&(r=null);var a=r;return new u(function(p,y){var g=i._dbInfo;g.serializer.serialize(r,function(_,w){if(w)y(w);else try{localStorage.setItem(g.keyPrefix+e,_),p(a)}catch(I){(I.name==="QuotaExceededError"||I.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(I),y(I)}})})});return T(f,t),f}function Ut(e,r){if(r=S.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,f;return e.name?f=new u(function(a){e.storeName?a(je(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var p=localStorage.length-1;p>=0;p--){var y=localStorage.key(p);y.indexOf(a)===0&&localStorage.removeItem(y)}}):f=u.reject("Invalid arguments"),T(f,r),f}var Kt={_driver:"localStorageWrapper",_initStorage:Ft,_support:zt(),iterate:Yt,getItem:Gt,setItem:Ht,removeItem:jt,clear:qt,length:Wt,key:Xt,keys:kt,dropInstance:Ut},Qt=function(r,t){return r===t||typeof r=="number"&&typeof t=="number"&&isNaN(r)&&isNaN(t)},Jt=function(r,t){for(var i=r.length,f=0;f<i;){if(Qt(r[f],t))return!0;f++}return!1},He=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},Ue={},te={INDEXEDDB:vt,WEBSQL:Ct,LOCALSTORAGE:Kt},Zt=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],de=["dropInstance"],ge=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),$t={description:"",driver:Zt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function en(e,r){e[r]=function(){var t=arguments;return e.ready().then(function(){return e[r].apply(e,t)})}}function _e(){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var t in r)r.hasOwnProperty(t)&&(He(r[t])?arguments[0][t]=r[t].slice():arguments[0][t]=r[t])}return arguments[0]}var tn=function(){function e(r){s(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],f=i._driver;this[t]=f,re[f]||this.defineDriver(i)}this._defaultConfig=_e({},$t),this._config=_e({},this._defaultConfig,r),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":m(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,f){var a=new u(function(p,y){try{var g=t._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){y(_);return}for(var w=ge.concat("_initStorage"),I=0,M=w.length;I<M;I++){var N=w[I],B=!Jt(de,N);if((B||t[N])&&typeof t[N]!="function"){y(_);return}}var V=function(){for(var oe=function(on){return function(){var an=new Error("Method "+on+" is not implemented by the current driver"),Ke=u.reject(an);return T(Ke,arguments[arguments.length-1]),Ke}},we=0,rn=de.length;we<rn;we++){var Te=de[we];t[Te]||(t[Te]=oe(Te))}};V();var z=function(oe){re[g]&&console.info("Redefining LocalForage driver: "+g),re[g]=t,Ue[g]=oe,p()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(z,y):z(!!t._support):z(!0)}catch(W){y(W)}});return P(a,i,f),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,f){var a=re[t]?u.resolve(re[t]):u.reject(new Error("Driver not found."));return P(a,i,f),a},e.prototype.getSerializer=function(t){var i=u.resolve(ve);return P(i,t),i},e.prototype.ready=function(t){var i=this,f=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return P(f,t,t),f},e.prototype.setDriver=function(t,i,f){var a=this;He(t)||(t=[t]);var p=this._getSupportedDrivers(t);function y(){a._config.driver=a.driver()}function g(I){return a._extend(I),y(),a._ready=a._initStorage(a._config),a._ready}function _(I){return function(){var M=0;function N(){for(;M<I.length;){var B=I[M];return M++,a._dbInfo=null,a._ready=null,a.getDriver(B).then(g).catch(N)}y();var V=new Error("No available storage method found.");return a._driverSet=u.reject(V),a._driverSet}return N()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=w.then(function(){var I=p[0];return a._dbInfo=null,a._ready=null,a.getDriver(I).then(function(M){a._driver=M._driver,y(),a._wrapLibraryMethodsWithReady(),a._initDriver=_(p)})}).catch(function(){y();var I=new Error("No available storage method found.");return a._driverSet=u.reject(I),a._driverSet}),P(this._driverSet,i,f),this._driverSet},e.prototype.supports=function(t){return!!Ue[t]},e.prototype._extend=function(t){_e(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],f=0,a=t.length;f<a;f++){var p=t[f];this.supports(p)&&i.push(p)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=ge.length;t<i;t++)en(this,ge[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),nn=new tn;d.exports=nn},{3:3}]},{},[4])(4)})});var ie=h=>({vertices:[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}]});function Ee(h,n){for(var o=h.length,c=h[o-1],d=n[0],b=n[1],m=c[0],s=c[1],l,x,v=!1,D=0;D<o;++D)c=h[D],l=c[0],x=c[1],x>b!=s>b&&d<(m-l)*(b-x)/(s-x)+l&&(v=!v),m=l,s=x;return v}var xn=2220446049250313e-31;function le(h,n,o,c){let d={};d.FmzIU=function(s,l){return s==l},d.tRDon=function(s,l){return s<=l},d.YPjmk=function(s,l){return s<=l},d.qTQPE=function(s,l){return s*l},d.MfERq=function(s,l){return s===l};let b=d,m=Math.abs(h-n);return b.FmzIU(o,null)&&(o=xn),c==null&&(c=o),b.tRDon(m,o)||b.YPjmk(m,b.qTQPE(c,Math.min(Math.abs(h),Math.abs(n))))?!0:b.MfERq(h,n)}var j=class Se{constructor(n,o){this.x=n,this.y=o}static mioyxeaz9c9c51a8b59d4ee8be8c57c2afd68de6(n){return new Se(n.x,n.y)}qamyap2e87997fbc764395bf887a1b8f193747(){let n={};return n.x=this.x,n.y=this.y,n}ldeohc60f8e69a2d76450daaf4130152c63779(n){let o={jxwzu:function(d,b,m){return d(b,m)},ZrKNg:function(d,b,m){return d(b,m)}};return o.jxwzu(le,this.x,n.x)&&o.ZrKNg(le,this.y,n.y)}fmaweenifa61bc45643614d6eab8b85188de9f989(){return[this.x,this.y]}rjftnfqfca82a7b0e6a44a4bb4733110bc8d586(n){let o={};o.ASbfl=function(m,s){return m+s},o.xDmlW=function(m,s){return m/s},o.xXRWG=function(m,s){return m+s};let c=o,d=c.ASbfl(this.x,n.x)/2,b=c.xDmlW(c.xXRWG(this.y,n.y),2);return new Se(d,b)}ggevncze992b12886b94026b944adce603e29d2(n){let o={};o.YnvQj=function(m,s){return m-s},o.FGhQg=function(m,s){return m+s},o.zGamV=function(m,s){return m*s};let c=o,d=c.YnvQj(n.x,this.x),b=n.y-this.y;return Math.sqrt(c.FGhQg(c.zGamV(d,d),c.zGamV(b,b)))}};function Re(h,n,o){let c={};c.LvQzZ=function(D,u){return D-u},c.PQJFM=function(D,u){return D-u},c.fQJXV=function(D,u){return D+u},c.rZbXd=function(D,u){return D*u},c.OTWfo=function(D,u){return D===u};let d=c,b={x:d.LvQzZ(h.x,n.x),y:h.y-n.y},m={x:o.x-n.x,y:d.PQJFM(o.y,n.y)},s=d.fQJXV(b.x*m.x,d.rZbXd(b.y,m.y)),l=Math.hypot(b.x,b.y),x=Math.hypot(m.x,m.y);if(d.OTWfo(l,0)||x===0)return 0;let v=Math.min(1,Math.max(-1,s/(l*x)));return Math.acos(v)}var Je=class{static obudt29db923575494505b8c5444075c8128e(h,n,o){let c={};c.gZVgG=function(l,x){return l/x};let d=c,b=n.rjftnfqfca82a7b0e6a44a4bb4733110bc8d586(o),m=d.gZVgG(n.ggevncze992b12886b94026b944adce603e29d2(o),2);return b.ggevncze992b12886b94026b944adce603e29d2(h)<=m}},pn=class Y{constructor(n){this.points=n,!Y.lnhyzb88e1c734c6147d185666927220cbd90(n)&&this.points.reverse()}tag="";sectionTag="";materialTag="";static mioyxeaz9c9c51a8b59d4ee8be8c57c2afd68de6(n){return new Y(n.points.map(o=>j.mioyxeaz9c9c51a8b59d4ee8be8c57c2afd68de6(o)))}qamyap2e87997fbc764395bf887a1b8f193747(){return{points:this.points.map(n=>n.qamyap2e87997fbc764395bf887a1b8f193747()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static lnhyzb88e1c734c6147d185666927220cbd90(n){let o={};o.hAULf=function(l,x){return l-x},o.oEdRi=function(l,x){return l*x};let c=o,[d,b,m]=n;return c.hAULf((b.x-d.x)*c.hAULf(m.y,d.y),c.oEdRi(b.y-d.y,c.hAULf(m.x,d.x)))>0}nvkoltcck7bcab7b82540411eaa8c8162a3f44586(n,o,c){this.tag=n,this.sectionTag=o,this.materialTag=c}vfgeiuci9ef027f1e79241eeb362c782b4562e18(){let n={};n.HLFXe=function(l,x){return l/x},n.OKniz=function(l,x){return l+x},n.TsJvd=function(l,x){return l+x},n.AoglB=function(l,x){return l+x};let o=n,[c,d,b]=this.points,m=o.HLFXe(o.OKniz(o.TsJvd(c.x,d.x),b.x),3),s=o.TsJvd(o.AoglB(c.y,d.y),b.y)/3;return new j(m,s)}lawgwk0e2c674d62c749f2a018ec689a3131bb(n=.1){let o={};o.BHuWO=function(x,v){return x-v},o.gMvtB=function(x,v){return x+v},o.MVzUK=function(x,v){return x*v},o.vehgV=function(x,v){return x*v},o.FeErP=function(x,v){return x-v},o.eBGwM=function(x,v){return x*v},o.EYyHj=function(x,v){return x*v},o.CEIJA=function(x,v){return x/v},o.MPGEB=function(x,v){return x+v},o.RkEub=function(x,v){return x*v},o.gBtCO=function(x,v){return x*v};let c=o,d=this.vfgeiuci9ef027f1e79241eeb362c782b4562e18(),b=this.points.map(x=>{let v=c.BHuWO(d.x,x.x),D=d.y-x.y;return Math.sqrt(c.gMvtB(c.MVzUK(v,v),c.vehgV(D,D)))}),m=Math.max(...b),s=c.gBtCO(m,n);return this.points.map(x=>{let v=c.FeErP(d.x,x.x),D=c.BHuWO(d.y,x.y),u=Math.sqrt(c.gMvtB(c.eBGwM(v,v),c.EYyHj(D,D))),T=c.CEIJA(s,u);return new j(c.MPGEB(x.x,c.EYyHj(v,T)),c.MPGEB(x.y,c.RkEub(D,T)))})}tvpbwi4e2c139cf4bd46668cff932baebadd53(){let n=this.vfgeiuci9ef027f1e79241eeb362c782b4562e18();return[new Y([this.points[0],this.points[1],n]),new Y([this.points[1],this.points[2],n]),new Y([this.points[2],this.points[0],n])]}atmjeyc5e44e7b777d4c01987153db29c680b8(){let n={};n.GnzZt=function(x,v){return x/v},n.TnGJX=function(x,v){return x+v},n.hvBLS=function(x,v){return x/v},n.UlQLa=function(x,v){return x+v},n.YtjyX=function(x,v){return x+v};let o=n,[c,d,b]=this.points,m=new j(o.GnzZt(o.TnGJX(c.x,d.x),2),o.GnzZt(c.y+d.y,2)),s=new j(o.hvBLS(o.UlQLa(d.x,b.x),2),o.GnzZt(o.YtjyX(d.y,b.y),2)),l=new j(o.YtjyX(b.x,c.x)/2,o.hvBLS(b.y+c.y,2));return[new Y([c,m,l]),new Y([m,d,s]),new Y([l,s,b]),new Y([m,s,l])]}xwldvgrdtxb91fd48114c84ab196a7aaec0f1a5037(){let n={};n.qcEtp=function(E,S){return E*S},n.gDNVx=function(E,S){return E+S},n.MCSNY=function(E,S){return E+S},n.wQHli=function(E,S){return E*S},n.pNwtx=function(E,S){return E-S},n.BxGXf=function(E,S){return E*S},n.iLRDS=function(E,S){return E-S},n.uYJKz=function(E,S){return E<S},n.Vdiom=function(E,S){return E+S},n.VUydD=function(E,S){return E*S},n.Eooko=function(E,S){return E-S},n.CxLYT=function(E,S){return E+S},n.XIzeP=function(E,S){return E*S},n.BFoTM=function(E,S){return E*S},n.OcCib=function(E,S){return E*S},n.pPmuM=function(E,S){return E*S},n.BXYEd=function(E,S){return E/S},n.bAZbd=function(E,S){return E+S},n.sguMZ=function(E,S){return E+S},n.WVhfr=function(E,S){return E*S},n.qqKvk=function(E,S){return E*S},n.sjgZL=function(E,S){return E+S},n.spAzQ=function(E,S){return E*S},n.jkgjR=function(E,S){return E-S},n.oAFgS=function(E,S){return E*S},n.lQDSL=function(E,S){return E*S};let o=n,[c,d,b]=this.points,m=c.x,s=c.y,l=d.x,x=d.y,v=b.x,D=b.y,u=o.qcEtp(2,o.gDNVx(o.MCSNY(o.wQHli(m,o.pNwtx(x,D)),o.wQHli(l,o.pNwtx(D,s))),o.BxGXf(v,o.iLRDS(s,x))));if(o.uYJKz(Math.abs(u),1e-10))return null;let T=(o.Vdiom(o.BxGXf(o.Vdiom(o.wQHli(m,m),o.VUydD(s,s)),o.Eooko(x,D)),o.VUydD(o.CxLYT(o.XIzeP(l,l),o.qcEtp(x,x)),D-s))+o.BFoTM(o.MCSNY(o.OcCib(v,v),o.pPmuM(D,D)),o.Eooko(s,x)))/u,P=o.BXYEd(o.bAZbd(o.sguMZ(o.OcCib(o.CxLYT(o.WVhfr(m,m),o.XIzeP(s,s)),v-l),o.qqKvk(o.sjgZL(l*l,o.spAzQ(x,x)),o.jkgjR(m,v))),o.oAFgS(o.lQDSL(v,v)+o.wQHli(D,D),o.iLRDS(l,m))),u);return new j(T,P)}urwzttoq5488fb91f63846c0a2eeb5ccb0d0a3ae(){let n=this.xwldvgrdtxb91fd48114c84ab196a7aaec0f1a5037();return n===null?[]:[new Y([this.points[0],this.points[1],n]),new Y([this.points[1],this.points[2],n]),new Y([this.points[2],this.points[0],n])]}dwvtygzol663e5bf8f486429e9f96d6455011b5c0(){let n={};n.cEKfL=function(T,P){return T*P},n.dqcLv=function(T,P){return T+P},n.cIech=function(T,P){return T*P},n.NWlfT=function(T,P){return T*P},n.TLqUD=function(T,P){return T-P};let o=n,[c,d,b]=this.points,m=c.x,s=d.x,l=b.x,x=c.y,v=d.y,D=b.y;return o.cEKfL(.5,Math.abs(o.dqcLv(o.cIech(m,v-D),o.NWlfT(s,o.TLqUD(D,x)))+l*(x-v)))}kwfehitjz85ee1d38a64a4ac2841bd9942c7dbfa8(){let n={fCLqk:function(c,d,b){return c(d,b)}},o=this.dwvtygzol663e5bf8f486429e9f96d6455011b5c0();return n.fCLqk(le,o,0)}bqurepjb684cb74c4cfc45ea99063b26d90e61c3(){let n={HyHVN:function(m,s,l,x){return m(s,l,x)}},[o,c,d]=this.points;return[n.HyHVN(Re,c,o,d),n.HyHVN(Re,o,c,d),n.HyHVN(Re,o,d,c)]}mffsnwrcude779b5750444457c9e2f7df3c39ec6fb(n=15*Math.PI/180){return!!this.bqurepjb684cb74c4cfc45ea99063b26d90e61c3().some(c=>c<n)}mbvfw89a20f9720cd44d59b2f594e453d680b(){let n={};n.LMgns=function(d,b){return d<b},n.pUFLl=function(d,b){return d%b},n.HValK=function(d,b){return d+b};let o=n,c=this.xwldvgrdtxb91fd48114c84ab196a7aaec0f1a5037();if(!c)return this.imyhnnqnnt9fa4f920b5dd47a4b530889244f9d47a();for(let d=0;o.LMgns(d,3);d++){let b=this.points[d],m=this.points[o.pUFLl(o.HValK(d,1),3)];if(Je.obudt29db923575494505b8c5444075c8128e(c,b,m))return this.imyhnnqnnt9fa4f920b5dd47a4b530889244f9d47a()}return c}xwavimqsz3c071cd1ea804ee999869bd7cf796f6e(n){let[o,c,d]=this.points,b={};b.p1=o,b.p2=c;let m={};m.p1=c,m.p2=d;let s={};s.p1=d,s.p2=o;let l=[b,m,s],x=[];for(let v of l)for(let D of n)if(!this.points.some(u=>u.ldeohc60f8e69a2d76450daaf4130152c63779(D))&&Je.obudt29db923575494505b8c5444075c8128e(D,v.p1,v.p2))return x.push(v.p1.rjftnfqfca82a7b0e6a44a4bb4733110bc8d586(v.p2)),x;return x}gtcgkf1e160654edb4c6b81fc6c472ac54c81(n){let o=this.xwldvgrdtxb91fd48114c84ab196a7aaec0f1a5037();return o?n.some(c=>c.nsicqfhv95f587e9fad4446eb73ab848e0fdace7(o))?o:this.imyhnnqnnt9fa4f920b5dd47a4b530889244f9d47a():this.imyhnnqnnt9fa4f920b5dd47a4b530889244f9d47a()}imyhnnqnnt9fa4f920b5dd47a4b530889244f9d47a(){let n={};n.ScIaY=function(u,T){return u<T},n.tAsHm=function(u,T){return u>T};let o=n,[c,d,b]=this.points,m={};m.p1=c,m.p2=d;let s={};s.p1=d,s.p2=b;let l={};l.p1=b,l.p2=c;let x=[m,s,l],v=x[0],D=v.p1.ggevncze992b12886b94026b944adce603e29d2(v.p2);for(let u=1;o.ScIaY(u,x.length);u++){let T=x[u].p1.ggevncze992b12886b94026b944adce603e29d2(x[u].p2);o.tAsHm(T,D)&&(D=T,v=x[u])}return v.p1.rjftnfqfca82a7b0e6a44a4bb4733110bc8d586(v.p2)}};var bn=class Ze{constructor(n,o,c,d){let b={};b.HRqXh="1|4|3|0|2";let m=b,s=m.HRqXh.split("|"),l=0;for(;;){switch(s[l++]){case"0":this.materialTag=d;continue;case"1":this.points=n;continue;case"2":this.d3Polygon=n.map(x=>[x.x,x.y]);continue;case"3":this.sectionTag=c;continue;case"4":this.tag=o;continue}break}}d3Polygon;static mioyxeaz9c9c51a8b59d4ee8be8c57c2afd68de6(n){return new Ze(n.points.map(o=>j.mioyxeaz9c9c51a8b59d4ee8be8c57c2afd68de6(o)),n.tag,n.sectionTag,n.materialTag)}wujkxosxe3ee63fc64da4ef89e212247fec6c997(n){let o={};o.DxXWX=function(d,b){return d-b},o.hXolO=function(d,b){return d<b};let c=o;for(let d=0,b=c.DxXWX(this.points.length,1);c.hXolO(d,this.points.length);b=d++)if(yn(n,this.points[d],this.points[b]))return!0;return!1}nsicqfhv95f587e9fad4446eb73ab848e0fdace7(n){return this.wujkxosxe3ee63fc64da4ef89e212247fec6c997(n)?!0:Ee(this.d3Polygon,[n.x,n.y])}dlzsbfuwve3f1732d208584de9bc6f550e82764be7(n,o){let c={};c.GNrfJ=function(m,s){return m%s},c.himMo=function(m,s){return m+s},c.Eqrmk=function(m,s){return m-s},c.cRstl=function(m,s){return m*s},c.IELhO=function(m,s){return m/s},c.KBMRX=function(m,s){return m<s},c.HXqyA=function(m,s){return m/s},c.vNXuQ=function(m,s){return m*s};let d=c,b=[];for(let m=0;m<n.length;m++){let s=n[m],l=n[d.GNrfJ(d.himMo(m,1),n.length)],x=l.x-s.x,v=d.Eqrmk(l.y,s.y),D=Math.sqrt(d.himMo(d.cRstl(x,x),v*v)),u=Math.floor(d.IELhO(D,o));b.push(new j(s.x,s.y));for(let T=1;d.KBMRX(T,u);T++){let P=d.HXqyA(d.cRstl(T,o),D),E=d.himMo(s.x,P*x),S=d.himMo(s.y,d.vNXuQ(P,v));b.push(new j(E,S))}}return b}};function yn(h,n,o){let c={pyHFk:function(s,l){return s*l},slElZ:function(s,l){return s-l},NFTYH:function(s,l){return s-l},SbrwJ:function(s,l,x){return s(l,x)},qDcyJ:function(s,l){return s+l},QFFeQ:function(s,l){return s-l},JxOew:function(s,l){return s*l},GyzjT:function(s,l){return s-l},XDnMW:function(s,l){return s<l},ysAML:function(s,l){return s**l},yslOZ:function(s,l){return s-l},aaldv:function(s,l){return s>l}},d=c.pyHFk(c.slElZ(h.y,n.y),c.slElZ(o.x,n.x))-c.pyHFk(h.x-n.x,c.NFTYH(o.y,n.y));if(!c.SbrwJ(le,Math.abs(d),0))return!1;let b=c.qDcyJ(c.pyHFk(c.NFTYH(h.x,n.x),c.QFFeQ(o.x,n.x)),c.JxOew(c.GyzjT(h.y,n.y),o.y-n.y));if(c.XDnMW(b,0))return!1;let m=c.qDcyJ(c.ysAML(c.slElZ(o.x,n.x),2),c.yslOZ(o.y,n.y)**2);return!c.aaldv(b,m)}function $e(h){let n=h.polygons.map(b=>bn.mioyxeaz9c9c51a8b59d4ee8be8c57c2afd68de6(b)),o=h.baseTriangles.map(b=>pn.mioyxeaz9c9c51a8b59d4ee8be8c57c2afd68de6(b)),c=o,d=[];for(let b of c){let m=b.vfgeiuci9ef027f1e79241eeb362c782b4562e18(),s=n.find(l=>l.nsicqfhv95f587e9fad4446eb73ab848e0fdace7(m));s&&(b.nvkoltcck7bcab7b82540411eaa8c8162a3f44586(s.tag,s.sectionTag,s.materialTag),d.push(b))}return{triangles:d.map(b=>b.qamyap2e87997fbc764395bf887a1b8f193747())}}var Ie=hn(tt());var nt=(h,n,o="")=>`View3dModel-${h}-${n}${o}`,rt=h=>`Triangles-${h}`;var gn=2220446049250313e-31;function fe(h,n,o,c){let d=Math.abs(h-n);return o==null&&(o=gn),c==null&&(c=o),d<=o||d<=c*Math.min(Math.abs(h),Math.abs(n))?!0:h===n}var Z=class extends Error{constructor(n){super(n)}};function ot(h){if(h.length<3)throw new Z("At least three vertices are required to form a face.");return{vertices:[...h.filter(n=>n)],results:[]}}var ce=h=>{let n=(h.points??"").trim().split(/\s+/).map(c=>c.split(",")),o=[];for(let[c,d]of n){let b=parseFloat(c),m=parseFloat(d);if(Number.isFinite(b)&&Number.isFinite(m))o.push({x:b,y:m});else throw new Z("Invalid vertex coordinates")}return{vertices:o}};function at(h){let n=0,o=0,c=0,d=h.length;for(let b=0;b<d;b++){let{x:m,y:s}=h[b],{x:l,y:x}=h[(b+1)%d],v=m*x-l*s;n+=v,o+=(m+l)*v,c+=(s+x)*v}return n*=.5,n===0?{x:0,y:0}:(o/=6*n,c/=6*n,{x:o,y:c})}function*it(h,n){let o=[...new Set(n.rectangles.map(u=>u.name).concat(n.polygons.map(u=>u.name)))],c=[];for(let u of h){let T=u.points.map(S=>Tn(S)),P=ot(T);if(o.indexOf(u.name)===-1)throw new Z(`Geometry name ${u.name} not found in geometry rectangles or polygons.`);c.push(P)}let d=n.supports.map(u=>En(u)),b=h.flatMap(u=>u.points).map(u=>u.x).reduce((u,T)=>Math.max(u,T),-1/0),m=h.flatMap(u=>u.points).map(u=>u.x).reduce((u,T)=>Math.min(u,T),1/0),s=h.flatMap(u=>u.points).map(u=>u.y).reduce((u,T)=>Math.max(u,T),-1/0),l=h.flatMap(u=>u.points).map(u=>u.y).reduce((u,T)=>Math.min(u,T),1/0),x=b-m,v=s-l,D=[...n.polygons.map(u=>ce(u)),...n.rectangles.map(u=>ie(u))].map(u=>u.vertices.map(T=>({x:T.x,y:T.y}))).map(u=>({points:u}));for(let u of n.loadCases)yield{faces:c,wireframeFaces:[],supports:d,borders:D,loads:wn(u,n),loadCaseTag:u.name,width:x,height:v}}function wn(h,n){let o=[];for(let c of h.pointLoads)fe(c.fx,0)||o.push({x:c.x,y:c.y,z:0,valueX:c.fx,valueY:0,valueZ:0,type:"point"}),fe(c.fy,0)||o.push({x:c.x,y:c.y,z:0,valueY:c.fy,valueZ:0,valueX:0,type:"point"});for(let c of h.distributedLoads){let d=n.polygons.filter(s=>s.name===c.geometryName).map(s=>ce(s)),b=n.rectangles.filter(s=>s.name===c.geometryName).map(s=>ie(s)),m=[...d,...b];for(let s of m){let l=at(s.vertices);fe(c.fx,0)||o.push({x:l.x,y:l.y,z:0,valueX:c.fx,valueY:0,valueZ:0,type:"distributed"}),fe(c.fy,0)||o.push({x:l.x,y:l.y,z:0,valueX:0,valueY:c.fy,valueZ:0,type:"distributed"})}}return o}function Tn(h){return{x:h.x,y:h.y,z:0,ux:0,uy:0,uz:0,value:0}}function En(h){return{x:h.x,y:h.y,z:0,ux:h.fixedX,uy:h.fixedY,uz:!1}}addEventListener("message",({data:h})=>{Rn(h)});var Rn=async h=>{let{geometry:n,uuid:o,baseTriangles:c}=h,d=n.loadCases.flatMap(P=>P.pointLoads).map(P=>({x:P.x,y:P.y})),b=n.supports.map(P=>({x:P.x,y:P.y})),m=n.resultPoints.map(P=>({x:P.x,y:P.y})),s=n.rectangles.map(P=>Dn(P)),l=n.polygons.map(P=>Mn(P)),x=s.concat(l),v={maxTriangleArea:n.meshingConfiguration.maxMeshArea,refinementPoints:n.meshingConfiguration.refinementPoints.map(P=>Sn(P))},u=$e({polygons:x,extraPoints:d.concat(b).concat(m),meshingConfiguration:v,baseTriangles:c.map(P=>An(P))}).triangles.map(P=>In(P));await Ie.setItem(rt(o),u);for(let P of it(u,n))await Ie.setItem(nt(o,P.loadCaseTag),P);postMessage({uuid:o})},Sn=h=>({radius:h.radius,maxTriangleArea:h.maxArea,center:{x:h.x,y:h.y}}),Pn=h=>({x:h.x,y:h.y}),In=h=>({points:h.points.map(o=>Pn(o)),name:h.tag,sectionTag:h.sectionTag,materialTag:h.materialTag}),Dn=h=>({points:ie(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),Mn=h=>({points:ce(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),An=h=>({points:h.points.map(o=>({x:o.x,y:o.y}))});
