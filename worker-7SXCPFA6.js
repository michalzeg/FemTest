var ft=Object.create;var He=Object.defineProperty;var ct=Object.getOwnPropertyDescriptor;var st=Object.getOwnPropertyNames;var ut=Object.getPrototypeOf,dt=Object.prototype.hasOwnProperty;var ae=(h=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(h,{get:(t,o)=>(typeof require<"u"?require:t)[o]}):h)(function(h){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+h+'" is not supported')});var lt=(h,t)=>()=>(t||h((t={exports:{}}).exports,t),t.exports);var mt=(h,t,o,f)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of st(t))!dt.call(h,s)&&s!==o&&He(h,s,{get:()=>t[s],enumerable:!(f=ct(t,s))||f.enumerable});return h};var bt=(h,t,o)=>(o=h!=null?ft(ut(h)):{},mt(t||!h||!h.__esModule?He(o,"default",{value:h,enumerable:!0}):o,h));var nn=lt((en,Re)=>{"use strict";(function(h){if(typeof en=="object"&&typeof Re<"u")Re.exports=h();else if(typeof define=="function"&&define.amd)define([],h);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t=this,t.localforage=h()}})(function(){var h,t,o;return function f(s,p,b){function m(v,I){if(!p[v]){if(!s[v]){var d=typeof ae=="function"&&ae;if(!I&&d)return d(v,!0);if(l)return l(v,!0);var T=new Error("Cannot find module '"+v+"'");throw T.code="MODULE_NOT_FOUND",T}var D=p[v]={exports:{}};s[v][0].call(D.exports,function(S){var P=s[v][1][S];return m(P||S)},D,D.exports,f,s,p,b)}return p[v].exports}for(var l=typeof ae=="function"&&ae,u=0;u<b.length;u++)m(b[u]);return m}({1:[function(f,s,p){(function(b){"use strict";var m=b.MutationObserver||b.WebKitMutationObserver,l;if(m){var u=0,v=new m(S),I=b.document.createTextNode("");v.observe(I,{characterData:!0}),l=function(){I.data=u=++u%2}}else if(!b.setImmediate&&typeof b.MessageChannel<"u"){var d=new b.MessageChannel;d.port1.onmessage=S,l=function(){d.port2.postMessage(0)}}else"document"in b&&"onreadystatechange"in b.document.createElement("script")?l=function(){var W=b.document.createElement("script");W.onreadystatechange=function(){S(),W.onreadystatechange=null,W.parentNode.removeChild(W),W=null},b.document.documentElement.appendChild(W)}:l=function(){setTimeout(S,0)};var T,D=[];function S(){T=!0;for(var W,K,q=D.length;q;){for(K=D,D=[],W=-1;++W<q;)K[W]();q=D.length}T=!1}s.exports=P;function P(W){D.push(W)===1&&!T&&l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,s,p){"use strict";var b=f(1);function m(){}var l={},u=["REJECTED"],v=["FULFILLED"],I=["PENDING"];s.exports=d;function d(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,E!==m&&P(this,E)}d.prototype.catch=function(E){return this.then(null,E)},d.prototype.then=function(E,L){if(typeof E!="function"&&this.state===v||typeof L!="function"&&this.state===u)return this;var M=new this.constructor(m);if(this.state!==I){var V=this.state===v?E:L;D(M,V,this.outcome)}else this.queue.push(new T(M,E,L));return M};function T(E,L,M){this.promise=E,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}T.prototype.callFulfilled=function(E){l.resolve(this.promise,E)},T.prototype.otherCallFulfilled=function(E){D(this.promise,this.onFulfilled,E)},T.prototype.callRejected=function(E){l.reject(this.promise,E)},T.prototype.otherCallRejected=function(E){D(this.promise,this.onRejected,E)};function D(E,L,M){b(function(){var V;try{V=L(M)}catch(z){return l.reject(E,z)}V===E?l.reject(E,new TypeError("Cannot resolve promise with itself")):l.resolve(E,V)})}l.resolve=function(E,L){var M=W(S,L);if(M.status==="error")return l.reject(E,M.value);var V=M.value;if(V)P(E,V);else{E.state=v,E.outcome=L;for(var z=-1,F=E.queue.length;++z<F;)E.queue[z].callFulfilled(L)}return E},l.reject=function(E,L){E.state=u,E.outcome=L;for(var M=-1,V=E.queue.length;++M<V;)E.queue[M].callRejected(L);return E};function S(E){var L=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof L=="function")return function(){L.apply(E,arguments)}}function P(E,L){var M=!1;function V(Z){M||(M=!0,l.reject(E,Z))}function z(Z){M||(M=!0,l.resolve(E,Z))}function F(){L(z,V)}var U=W(F);U.status==="error"&&V(U.value)}function W(E,L){var M={};try{M.value=E(L),M.status="success"}catch(V){M.status="error",M.value=V}return M}d.resolve=K;function K(E){return E instanceof this?E:l.resolve(new this(m),E)}d.reject=q;function q(E){var L=new this(m);return l.reject(L,E)}d.all=me;function me(E){var L=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=E.length,V=!1;if(!M)return this.resolve([]);for(var z=new Array(M),F=0,U=-1,Z=new this(m);++U<M;)X(E[U],U);return Z;function X(te,se){L.resolve(te).then(be,function(ee){V||(V=!0,l.reject(Z,ee))});function be(ee){z[se]=ee,++F===M&&!V&&(V=!0,l.resolve(Z,z))}}}d.race=Q;function Q(E){var L=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=E.length,V=!1;if(!M)return this.resolve([]);for(var z=-1,F=new this(m);++z<M;)U(E[z]);return F;function U(Z){L.resolve(Z).then(function(X){V||(V=!0,l.resolve(F,X))},function(X){V||(V=!0,l.reject(F,X))})}}},{1:1}],3:[function(f,s,p){(function(b){"use strict";typeof b.Promise!="function"&&(b.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,s,p){"use strict";var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function m(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=l();function v(){try{if(!u||!u.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),r=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||r)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function I(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(a){if(a.name!=="TypeError")throw a;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new n,c=0;c<e.length;c+=1)i.append(e[c]);return i.getBlob(r.type)}}typeof Promise>"u"&&f(3);var d=Promise;function T(e,r){r&&e.then(function(n){r(null,n)},function(n){r(n)})}function D(e,r,n){typeof r=="function"&&e.then(r),typeof n=="function"&&e.catch(n)}function S(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function P(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var W="local-forage-detect-blob-support",K=void 0,q={},me=Object.prototype.toString,Q="readonly",E="readwrite";function L(e){for(var r=e.length,n=new ArrayBuffer(r),i=new Uint8Array(n),c=0;c<r;c++)i[c]=e.charCodeAt(c);return n}function M(e){return new d(function(r){var n=e.transaction(W,E),i=I([""]);n.objectStore(W).put(i,"key"),n.onabort=function(c){c.preventDefault(),c.stopPropagation(),r(!1)},n.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);r(a||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function V(e){return typeof K=="boolean"?d.resolve(K):M(e).then(function(r){return K=r,K})}function z(e){var r=q[e.name],n={};n.promise=new d(function(i,c){n.resolve=i,n.reject=c}),r.deferredOperations.push(n),r.dbReady?r.dbReady=r.dbReady.then(function(){return n.promise}):r.dbReady=n.promise}function F(e){var r=q[e.name],n=r.deferredOperations.pop();if(n)return n.resolve(),n.promise}function U(e,r){var n=q[e.name],i=n.deferredOperations.pop();if(i)return i.reject(r),i.promise}function Z(e,r){return new d(function(n,i){if(q[e.name]=q[e.name]||Ne(),e.db)if(r)z(e),e.db.close();else return n(e.db);var c=[e.name];r&&c.push(e.version);var a=u.open.apply(u,c);r&&(a.onupgradeneeded=function(x){var y=a.result;try{y.createObjectStore(e.storeName),x.oldVersion<=1&&y.createObjectStore(W)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+x.oldVersion+" to version "+x.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw g}}),a.onerror=function(x){x.preventDefault(),i(a.error)},a.onsuccess=function(){var x=a.result;x.onversionchange=function(y){y.target.close()},n(x),F(e)}})}function X(e){return Z(e,!1)}function te(e){return Z(e,!0)}function se(e,r){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,c=e.version>e.db.version;if(i&&(e.version!==r&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),c||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function be(e){return new d(function(r,n){var i=new FileReader;i.onerror=n,i.onloadend=function(c){var a=btoa(c.target.result||"");r({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var r=L(atob(e.data));return I([r],{type:e.type})}function De(e){return e&&e.__local_forage_encoded_blob}function cn(e){var r=this,n=r._initReady().then(function(){var i=q[r._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return D(n,e,e),n}function sn(e){z(e);for(var r=q[e.name],n=r.forages,i=0;i<n.length;i++){var c=n[i];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return e.db=null,X(e).then(function(a){return e.db=a,se(e)?te(e):a}).then(function(a){e.db=r.db=a;for(var x=0;x<n.length;x++)n[x]._dbInfo.db=a}).catch(function(a){throw U(e,a),a})}function j(e,r,n,i){i===void 0&&(i=1);try{var c=e.db.transaction(e.storeName,r);n(null,c)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return d.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),te(e)}).then(function(){return sn(e).then(function(){j(e,r,n,i-1)})}).catch(n);n(a)}}function Ne(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function un(e){var r=this,n={db:null};if(e)for(var i in e)n[i]=e[i];var c=q[n.name];c||(c=Ne(),q[n.name]=c),c.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=cn);var a=[];function x(){return d.resolve()}for(var y=0;y<c.forages.length;y++){var g=c.forages[y];g!==r&&a.push(g._initReady().catch(x))}var _=c.forages.slice(0);return d.all(a).then(function(){return n.db=c.db,X(n)}).then(function(w){return n.db=w,se(n,r._defaultConfig.version)?te(n):w}).then(function(w){n.db=c.db=w,r._dbInfo=n;for(var R=0;R<_.length;R++){var N=_[R];N!==r&&(N._dbInfo.db=n.db,N._dbInfo.version=n.version)}})}function dn(e,r){var n=this;e=S(e);var i=new d(function(c,a){n.ready().then(function(){j(n._dbInfo,Q,function(x,y){if(x)return a(x);try{var g=y.objectStore(n._dbInfo.storeName),_=g.get(e);_.onsuccess=function(){var w=_.result;w===void 0&&(w=null),De(w)&&(w=ee(w)),c(w)},_.onerror=function(){a(_.error)}}catch(w){a(w)}})}).catch(a)});return T(i,r),i}function ln(e,r){var n=this,i=new d(function(c,a){n.ready().then(function(){j(n._dbInfo,Q,function(x,y){if(x)return a(x);try{var g=y.objectStore(n._dbInfo.storeName),_=g.openCursor(),w=1;_.onsuccess=function(){var R=_.result;if(R){var N=R.value;De(N)&&(N=ee(N));var A=e(N,R.key,w++);A!==void 0?c(A):R.continue()}else c()},_.onerror=function(){a(_.error)}}catch(R){a(R)}})}).catch(a)});return T(i,r),i}function mn(e,r,n){var i=this;e=S(e);var c=new d(function(a,x){var y;i.ready().then(function(){return y=i._dbInfo,me.call(r)==="[object Blob]"?V(y.db).then(function(g){return g?r:be(r)}):r}).then(function(g){j(i._dbInfo,E,function(_,w){if(_)return x(_);try{var R=w.objectStore(i._dbInfo.storeName);g===null&&(g=void 0);var N=R.put(g,e);w.oncomplete=function(){g===void 0&&(g=null),a(g)},w.onabort=w.onerror=function(){var A=N.error?N.error:N.transaction.error;x(A)}}catch(A){x(A)}})}).catch(x)});return T(c,n),c}function bn(e,r){var n=this;e=S(e);var i=new d(function(c,a){n.ready().then(function(){j(n._dbInfo,E,function(x,y){if(x)return a(x);try{var g=y.objectStore(n._dbInfo.storeName),_=g.delete(e);y.oncomplete=function(){c()},y.onerror=function(){a(_.error)},y.onabort=function(){var w=_.error?_.error:_.transaction.error;a(w)}}catch(w){a(w)}})}).catch(a)});return T(i,r),i}function hn(e){var r=this,n=new d(function(i,c){r.ready().then(function(){j(r._dbInfo,E,function(a,x){if(a)return c(a);try{var y=x.objectStore(r._dbInfo.storeName),g=y.clear();x.oncomplete=function(){i()},x.onabort=x.onerror=function(){var _=g.error?g.error:g.transaction.error;c(_)}}catch(_){c(_)}})}).catch(c)});return T(n,e),n}function xn(e){var r=this,n=new d(function(i,c){r.ready().then(function(){j(r._dbInfo,Q,function(a,x){if(a)return c(a);try{var y=x.objectStore(r._dbInfo.storeName),g=y.count();g.onsuccess=function(){i(g.result)},g.onerror=function(){c(g.error)}}catch(_){c(_)}})}).catch(c)});return T(n,e),n}function pn(e,r){var n=this,i=new d(function(c,a){if(e<0){c(null);return}n.ready().then(function(){j(n._dbInfo,Q,function(x,y){if(x)return a(x);try{var g=y.objectStore(n._dbInfo.storeName),_=!1,w=g.openKeyCursor();w.onsuccess=function(){var R=w.result;if(!R){c(null);return}e===0||_?c(R.key):(_=!0,R.advance(e))},w.onerror=function(){a(w.error)}}catch(R){a(R)}})}).catch(a)});return T(i,r),i}function yn(e){var r=this,n=new d(function(i,c){r.ready().then(function(){j(r._dbInfo,Q,function(a,x){if(a)return c(a);try{var y=x.objectStore(r._dbInfo.storeName),g=y.openKeyCursor(),_=[];g.onsuccess=function(){var w=g.result;if(!w){i(_);return}_.push(w.key),w.continue()},g.onerror=function(){c(g.error)}}catch(w){c(w)}})}).catch(c)});return T(n,e),n}function vn(e,r){r=P.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i=this,c;if(!e.name)c=d.reject("Invalid arguments");else{var a=e.name===n.name&&i._dbInfo.db,x=a?d.resolve(i._dbInfo.db):X(e).then(function(y){var g=q[e.name],_=g.forages;g.db=y;for(var w=0;w<_.length;w++)_[w]._dbInfo.db=y;return y});e.storeName?c=x.then(function(y){if(y.objectStoreNames.contains(e.storeName)){var g=y.version+1;z(e);var _=q[e.name],w=_.forages;y.close();for(var R=0;R<w.length;R++){var N=w[R];N._dbInfo.db=null,N._dbInfo.version=g}var A=new d(function(C,O){var B=u.open(e.name,g);B.onerror=function(k){var oe=B.result;oe.close(),O(k)},B.onupgradeneeded=function(){var k=B.result;k.deleteObjectStore(e.storeName)},B.onsuccess=function(){var k=B.result;k.close(),C(k)}});return A.then(function(C){_.db=C;for(var O=0;O<w.length;O++){var B=w[O];B._dbInfo.db=C,F(B._dbInfo)}}).catch(function(C){throw(U(e,C)||d.resolve()).catch(function(){}),C})}}):c=x.then(function(y){z(e);var g=q[e.name],_=g.forages;y.close();for(var w=0;w<_.length;w++){var R=_[w];R._dbInfo.db=null}var N=new d(function(A,C){var O=u.deleteDatabase(e.name);O.onerror=function(){var B=O.result;B&&B.close(),C(O.error)},O.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},O.onsuccess=function(){var B=O.result;B&&B.close(),A(B)}});return N.then(function(A){g.db=A;for(var C=0;C<_.length;C++){var O=_[C];F(O._dbInfo)}}).catch(function(A){throw(U(e,A)||d.resolve()).catch(function(){}),A})})}return T(c,r),c}var gn={_driver:"asyncStorage",_initStorage:un,_support:v(),iterate:ln,getItem:dn,setItem:mn,removeItem:bn,clear:hn,length:xn,key:pn,keys:yn,dropInstance:vn};function _n(){return typeof openDatabase=="function"}var H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wn="~~local_forage_type~",Me=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",he=ue.length,xe="arbf",pe="blob",Le="si08",Ae="ui08",Ce="uic8",Ve="si16",Be="si32",Oe="ur16",We="ui32",qe="fl32",ze="fl64",Fe=he+xe.length,Ge=Object.prototype.toString;function Ue(e){var r=e.length*.75,n=e.length,i,c=0,a,x,y,g;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var _=new ArrayBuffer(r),w=new Uint8Array(_);for(i=0;i<n;i+=4)a=H.indexOf(e[i]),x=H.indexOf(e[i+1]),y=H.indexOf(e[i+2]),g=H.indexOf(e[i+3]),w[c++]=a<<2|x>>4,w[c++]=(x&15)<<4|y>>2,w[c++]=(y&3)<<6|g&63;return _}function ye(e){var r=new Uint8Array(e),n="",i;for(i=0;i<r.length;i+=3)n+=H[r[i]>>2],n+=H[(r[i]&3)<<4|r[i+1]>>4],n+=H[(r[i+1]&15)<<2|r[i+2]>>6],n+=H[r[i+2]&63];return r.length%3===2?n=n.substring(0,n.length-1)+"=":r.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function Tn(e,r){var n="";if(e&&(n=Ge.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&Ge.call(e.buffer)==="[object ArrayBuffer]")){var i,c=ue;e instanceof ArrayBuffer?(i=e,c+=xe):(i=e.buffer,n==="[object Int8Array]"?c+=Le:n==="[object Uint8Array]"?c+=Ae:n==="[object Uint8ClampedArray]"?c+=Ce:n==="[object Int16Array]"?c+=Ve:n==="[object Uint16Array]"?c+=Oe:n==="[object Int32Array]"?c+=Be:n==="[object Uint32Array]"?c+=We:n==="[object Float32Array]"?c+=qe:n==="[object Float64Array]"?c+=ze:r(new Error("Failed to get type for BinaryArray"))),r(c+ye(i))}else if(n==="[object Blob]"){var a=new FileReader;a.onload=function(){var x=wn+e.type+"~"+ye(this.result);r(ue+pe+x)},a.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(x){console.error("Couldn't convert value into a JSON string: ",e),r(null,x)}}function Sn(e){if(e.substring(0,he)!==ue)return JSON.parse(e);var r=e.substring(Fe),n=e.substring(he,Fe),i;if(n===pe&&Me.test(r)){var c=r.match(Me);i=c[1],r=r.substring(c[0].length)}var a=Ue(r);switch(n){case xe:return a;case pe:return I([a],{type:i});case Le:return new Int8Array(a);case Ae:return new Uint8Array(a);case Ce:return new Uint8ClampedArray(a);case Ve:return new Int16Array(a);case Oe:return new Uint16Array(a);case Be:return new Int32Array(a);case We:return new Uint32Array(a);case qe:return new Float32Array(a);case ze:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}}var ve={serialize:Tn,deserialize:Sn,stringToBuffer:Ue,bufferToString:ye};function Ze(e,r,n,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function En(e){var r=this,n={db:null};if(e)for(var i in e)n[i]=typeof e[i]!="string"?e[i].toString():e[i];var c=new d(function(a,x){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(y){return x(y)}n.db.transaction(function(y){Ze(y,n,function(){r._dbInfo=n,a()},function(g,_){x(_)})},x)});return n.serializer=ve,c}function $(e,r,n,i,c,a){e.executeSql(n,i,c,function(x,y){y.code===y.SYNTAX_ERR?x.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(g,_){_.rows.length?a(g,y):Ze(g,r,function(){g.executeSql(n,i,c,a)},a)},a):a(x,y)},a)}function Pn(e,r){var n=this;e=S(e);var i=new d(function(c,a){n.ready().then(function(){var x=n._dbInfo;x.db.transaction(function(y){$(y,x,"SELECT * FROM "+x.storeName+" WHERE key = ? LIMIT 1",[e],function(g,_){var w=_.rows.length?_.rows.item(0).value:null;w&&(w=x.serializer.deserialize(w)),c(w)},function(g,_){a(_)})})}).catch(a)});return T(i,r),i}function Rn(e,r){var n=this,i=new d(function(c,a){n.ready().then(function(){var x=n._dbInfo;x.db.transaction(function(y){$(y,x,"SELECT * FROM "+x.storeName,[],function(g,_){for(var w=_.rows,R=w.length,N=0;N<R;N++){var A=w.item(N),C=A.value;if(C&&(C=x.serializer.deserialize(C)),C=e(C,A.key,N+1),C!==void 0){c(C);return}}c()},function(g,_){a(_)})})}).catch(a)});return T(i,r),i}function ke(e,r,n,i){var c=this;e=S(e);var a=new d(function(x,y){c.ready().then(function(){r===void 0&&(r=null);var g=r,_=c._dbInfo;_.serializer.serialize(r,function(w,R){R?y(R):_.db.transaction(function(N){$(N,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){x(g)},function(A,C){y(C)})},function(N){if(N.code===N.QUOTA_ERR){if(i>0){x(ke.apply(c,[e,g,n,i-1]));return}y(N)}})})}).catch(y)});return T(a,n),a}function In(e,r,n){return ke.apply(this,[e,r,n,1])}function Dn(e,r){var n=this;e=S(e);var i=new d(function(c,a){n.ready().then(function(){var x=n._dbInfo;x.db.transaction(function(y){$(y,x,"DELETE FROM "+x.storeName+" WHERE key = ?",[e],function(){c()},function(g,_){a(_)})})}).catch(a)});return T(i,r),i}function Nn(e){var r=this,n=new d(function(i,c){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(x){$(x,a,"DELETE FROM "+a.storeName,[],function(){i()},function(y,g){c(g)})})}).catch(c)});return T(n,e),n}function Mn(e){var r=this,n=new d(function(i,c){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(x){$(x,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(y,g){var _=g.rows.item(0).c;i(_)},function(y,g){c(g)})})}).catch(c)});return T(n,e),n}function Ln(e,r){var n=this,i=new d(function(c,a){n.ready().then(function(){var x=n._dbInfo;x.db.transaction(function(y){$(y,x,"SELECT key FROM "+x.storeName+" WHERE id = ? LIMIT 1",[e+1],function(g,_){var w=_.rows.length?_.rows.item(0).key:null;c(w)},function(g,_){a(_)})})}).catch(a)});return T(i,r),i}function An(e){var r=this,n=new d(function(i,c){r.ready().then(function(){var a=r._dbInfo;a.db.transaction(function(x){$(x,a,"SELECT key FROM "+a.storeName,[],function(y,g){for(var _=[],w=0;w<g.rows.length;w++)_.push(g.rows.item(w).key);i(_)},function(y,g){c(g)})})}).catch(c)});return T(n,e),n}function Cn(e){return new d(function(r,n){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,a){for(var x=[],y=0;y<a.rows.length;y++)x.push(a.rows.item(y).name);r({db:e,storeNames:x})},function(c,a){n(a)})},function(i){n(i)})})}function Vn(e,r){r=P.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i=this,c;return e.name?c=new d(function(a){var x;e.name===n.name?x=i._dbInfo.db:x=openDatabase(e.name,"","",0),e.storeName?a({db:x,storeNames:[e.storeName]}):a(Cn(x))}).then(function(a){return new d(function(x,y){a.db.transaction(function(g){function _(A){return new d(function(C,O){g.executeSql("DROP TABLE IF EXISTS "+A,[],function(){C()},function(B,k){O(k)})})}for(var w=[],R=0,N=a.storeNames.length;R<N;R++)w.push(_(a.storeNames[R]));d.all(w).then(function(){x()}).catch(function(A){y(A)})},function(g){y(g)})})}):c=d.reject("Invalid arguments"),T(c,r),c}var Bn={_driver:"webSQLStorage",_initStorage:En,_support:_n(),iterate:Rn,getItem:Pn,setItem:In,removeItem:Dn,clear:Nn,length:Mn,key:Ln,keys:An,dropInstance:Vn};function On(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ye(e,r){var n=e.name+"/";return e.storeName!==r.storeName&&(n+=e.storeName+"/"),n}function Wn(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function qn(){return!Wn()||localStorage.length>0}function zn(e){var r=this,n={};if(e)for(var i in e)n[i]=e[i];return n.keyPrefix=Ye(e,r._defaultConfig),qn()?(r._dbInfo=n,n.serializer=ve,d.resolve()):d.reject()}function Fn(e){var r=this,n=r.ready().then(function(){for(var i=r._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var a=localStorage.key(c);a.indexOf(i)===0&&localStorage.removeItem(a)}});return T(n,e),n}function Gn(e,r){var n=this;e=S(e);var i=n.ready().then(function(){var c=n._dbInfo,a=localStorage.getItem(c.keyPrefix+e);return a&&(a=c.serializer.deserialize(a)),a});return T(i,r),i}function Un(e,r){var n=this,i=n.ready().then(function(){for(var c=n._dbInfo,a=c.keyPrefix,x=a.length,y=localStorage.length,g=1,_=0;_<y;_++){var w=localStorage.key(_);if(w.indexOf(a)===0){var R=localStorage.getItem(w);if(R&&(R=c.serializer.deserialize(R)),R=e(R,w.substring(x),g++),R!==void 0)return R}}});return T(i,r),i}function Zn(e,r){var n=this,i=n.ready().then(function(){var c=n._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(c.keyPrefix.length)),a});return T(i,r),i}function kn(e){var r=this,n=r.ready().then(function(){for(var i=r._dbInfo,c=localStorage.length,a=[],x=0;x<c;x++){var y=localStorage.key(x);y.indexOf(i.keyPrefix)===0&&a.push(y.substring(i.keyPrefix.length))}return a});return T(n,e),n}function Yn(e){var r=this,n=r.keys().then(function(i){return i.length});return T(n,e),n}function Kn(e,r){var n=this;e=S(e);var i=n.ready().then(function(){var c=n._dbInfo;localStorage.removeItem(c.keyPrefix+e)});return T(i,r),i}function Xn(e,r,n){var i=this;e=S(e);var c=i.ready().then(function(){r===void 0&&(r=null);var a=r;return new d(function(x,y){var g=i._dbInfo;g.serializer.serialize(r,function(_,w){if(w)y(w);else try{localStorage.setItem(g.keyPrefix+e,_),x(a)}catch(R){(R.name==="QuotaExceededError"||R.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(R),y(R)}})})});return T(c,n),c}function jn(e,r){if(r=P.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var i=this,c;return e.name?c=new d(function(a){e.storeName?a(Ye(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var x=localStorage.length-1;x>=0;x--){var y=localStorage.key(x);y.indexOf(a)===0&&localStorage.removeItem(y)}}):c=d.reject("Invalid arguments"),T(c,r),c}var Hn={_driver:"localStorageWrapper",_initStorage:zn,_support:On(),iterate:Un,getItem:Gn,setItem:Xn,removeItem:Kn,clear:Fn,length:Yn,key:Zn,keys:kn,dropInstance:jn},$n=function(r,n){return r===n||typeof r=="number"&&typeof n=="number"&&isNaN(r)&&isNaN(n)},Jn=function(r,n){for(var i=r.length,c=0;c<i;){if($n(r[c],n))return!0;c++}return!1},Ke=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},Xe={},ne={INDEXEDDB:gn,WEBSQL:Bn,LOCALSTORAGE:Hn},Qn=[ne.INDEXEDDB._driver,ne.WEBSQL._driver,ne.LOCALSTORAGE._driver],de=["dropInstance"],ge=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),et={description:"",driver:Qn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function nt(e,r){e[r]=function(){var n=arguments;return e.ready().then(function(){return e[r].apply(e,n)})}}function _e(){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var n in r)r.hasOwnProperty(n)&&(Ke(r[n])?arguments[0][n]=r[n].slice():arguments[0][n]=r[n])}return arguments[0]}var tt=function(){function e(r){m(this,e);for(var n in ne)if(ne.hasOwnProperty(n)){var i=ne[n],c=i._driver;this[n]=c,re[c]||this.defineDriver(i)}this._defaultConfig=_e({},et),this._config=_e({},this._defaultConfig,r),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":b(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in n){if(i==="storeName"&&(n[i]=n[i].replace(/\W/g,"_")),i==="version"&&typeof n[i]!="number")return new Error("Database version must be a number.");this._config[i]=n[i]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,i,c){var a=new d(function(x,y){try{var g=n._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){y(_);return}for(var w=ge.concat("_initStorage"),R=0,N=w.length;R<N;R++){var A=w[R],C=!Jn(de,A);if((C||n[A])&&typeof n[A]!="function"){y(_);return}}var O=function(){for(var oe=function(at){return function(){var it=new Error("Method "+at+" is not implemented by the current driver"),je=d.reject(it);return T(je,arguments[arguments.length-1]),je}},we=0,ot=de.length;we<ot;we++){var Te=de[we];n[Te]||(n[Te]=oe(Te))}};O();var B=function(oe){re[g]&&console.info("Redefining LocalForage driver: "+g),re[g]=n,Xe[g]=oe,x()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(B,y):B(!!n._support):B(!0)}catch(k){y(k)}});return D(a,i,c),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,i,c){var a=re[n]?d.resolve(re[n]):d.reject(new Error("Driver not found."));return D(a,i,c),a},e.prototype.getSerializer=function(n){var i=d.resolve(ve);return D(i,n),i},e.prototype.ready=function(n){var i=this,c=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return D(c,n,n),c},e.prototype.setDriver=function(n,i,c){var a=this;Ke(n)||(n=[n]);var x=this._getSupportedDrivers(n);function y(){a._config.driver=a.driver()}function g(R){return a._extend(R),y(),a._ready=a._initStorage(a._config),a._ready}function _(R){return function(){var N=0;function A(){for(;N<R.length;){var C=R[N];return N++,a._dbInfo=null,a._ready=null,a.getDriver(C).then(g).catch(A)}y();var O=new Error("No available storage method found.");return a._driverSet=d.reject(O),a._driverSet}return A()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=w.then(function(){var R=x[0];return a._dbInfo=null,a._ready=null,a.getDriver(R).then(function(N){a._driver=N._driver,y(),a._wrapLibraryMethodsWithReady(),a._initDriver=_(x)})}).catch(function(){y();var R=new Error("No available storage method found.");return a._driverSet=d.reject(R),a._driverSet}),D(this._driverSet,i,c),this._driverSet},e.prototype.supports=function(n){return!!Xe[n]},e.prototype._extend=function(n){_e(this,n)},e.prototype._getSupportedDrivers=function(n){for(var i=[],c=0,a=n.length;c<a;c++){var x=n[c];this.supports(x)&&i.push(x)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,i=ge.length;n<i;n++)nt(this,ge[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),rt=new tt;s.exports=rt},{3:3}]},{},[4])(4)})});var ie=h=>({vertices:[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}]});function Se(h,t){for(var o=h.length,f=h[o-1],s=t[0],p=t[1],b=f[0],m=f[1],l,u,v=!1,I=0;I<o;++I)f=h[I],l=f[0],u=f[1],u>p!=m>p&&s<(b-l)*(p-u)/(m-u)+l&&(v=!v),b=l,m=u;return v}var ht=2220446049250313e-31;function le(h,t,o,f){let s={};s.cIosb=function(m,l){return m-l},s.WZPoK=function(m,l){return m==l},s.Daluo=function(m,l){return m==l},s.HnLOC=function(m,l){return m<=l},s.SeRrK=function(m,l){return m<=l},s.HGRVh=function(m,l){return m*l},s.eCgHn=function(m,l){return m===l};let p=s,b=Math.abs(p.cIosb(h,t));return p.WZPoK(o,null)&&(o=ht),p.Daluo(f,null)&&(f=o),p.HnLOC(b,o)||p.SeRrK(b,p.HGRVh(f,Math.min(Math.abs(h),Math.abs(t))))?!0:p.eCgHn(h,t)}var Y=class Pe{constructor(t,o){this.x=t,this.y=o}static nmqmebbf8b2f4c37cb72409ab531ea3f14c2788d(t){return new Pe(t.x,t.y)}mknbmv5362e4a35e494f74a32bbe082111619a(){let t={};return t.x=this.x,t.y=this.y,t}zqyioluimc161e22bb92864a3aa0a3c057cde5a93e(t){let o={Wcsrj:function(s,p,b){return s(p,b)}};return le(this.x,t.x)&&o.Wcsrj(le,this.y,t.y)}sibfnxc83eff184bfe4f709939ccddc3df2520(){return[this.x,this.y]}ywkxna4248998d789489e81d226fad6f39b40(t){let o={};o.jOmTU=function(b,m){return b/m},o.FIciz=function(b,m){return b+m},o.WNVzm=function(b,m){return b/m};let f=o,s=f.jOmTU(f.FIciz(this.x,t.x),2),p=f.WNVzm(f.FIciz(this.y,t.y),2);return new Pe(s,p)}obcbhwqhs1f6c94507c5e4b9ca7955afae5d5a8cb(t){let o={};o.RSKgZ=function(b,m){return b-m},o.Kwpks=function(b,m){return b+m},o.mtMuy=function(b,m){return b*m};let f=o,s=f.RSKgZ(t.x,this.x),p=f.RSKgZ(t.y,this.y);return Math.sqrt(f.Kwpks(f.mtMuy(s,s),f.mtMuy(p,p)))}};function Ee(h,t,o){let f={};f.GcSGG=function(I,d){return I-d},f.PqcpP=function(I,d){return I*d},f.XuHrL=function(I,d){return I===d},f.SbXbU=function(I,d){return I===d},f.LmzHU=function(I,d){return I/d},f.VEqLz=function(I,d){return I*d};let s=f,p={x:s.GcSGG(h.x,t.x),y:s.GcSGG(h.y,t.y)},b={x:s.GcSGG(o.x,t.x),y:o.y-t.y},m=s.PqcpP(p.x,b.x)+s.PqcpP(p.y,b.y),l=Math.hypot(p.x,p.y),u=Math.hypot(b.x,b.y);if(s.XuHrL(l,0)||s.SbXbU(u,0))return 0;let v=Math.min(1,Math.max(-1,s.LmzHU(m,s.VEqLz(l,u))));return Math.acos(v)}var $e=class{static lfhnzkq1258a19302134035bb342ba1e8072a11(h,t,o){let f={};f.NZNHg=function(l,u){return l/u},f.dFflX=function(l,u){return l<=u};let s=f,p=t.ywkxna4248998d789489e81d226fad6f39b40(o),b=s.NZNHg(t.obcbhwqhs1f6c94507c5e4b9ca7955afae5d5a8cb(o),2),m=p.obcbhwqhs1f6c94507c5e4b9ca7955afae5d5a8cb(h);return s.dFflX(m,b)}},xt=class G{constructor(t){this.points=t,!G.anwdinzkr496e428a5c374a889713837aae053d0b(t)&&this.points.reverse()}tag="";sectionTag="";materialTag="";static nmqmebbf8b2f4c37cb72409ab531ea3f14c2788d(t){return new G(t.points.map(o=>Y.nmqmebbf8b2f4c37cb72409ab531ea3f14c2788d(o)))}mknbmv5362e4a35e494f74a32bbe082111619a(){return{points:this.points.map(t=>t.mknbmv5362e4a35e494f74a32bbe082111619a()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static anwdinzkr496e428a5c374a889713837aae053d0b(t){let o={};o.wTwYm=function(l,u){return l*u},o.VtQBV=function(l,u){return l-u},o.KbmNZ=function(l,u){return l-u},o.YoEph=function(l,u){return l*u},o.yKMZD=function(l,u){return l-u},o.RRKin=function(l,u){return l>u};let f=o,[s,p,b]=t,m=f.wTwYm(f.VtQBV(p.x,s.x),f.KbmNZ(b.y,s.y))-f.YoEph(f.yKMZD(p.y,s.y),b.x-s.x);return f.RRKin(m,0)}opvecke8d52359eb68749c59ce8e52b262b8354(t,o,f){this.tag=t,this.sectionTag=o,this.materialTag=f}vyjghjnw0a84ccc1fbf448af99b3af0ecb116064(){let t={};t.MOzjH=function(l,u){return l/u},t.whFKa=function(l,u){return l+u},t.Ooorf=function(l,u){return l+u},t.iKEmN=function(l,u){return l/u},t.HUqWN=function(l,u){return l+u};let o=t,[f,s,p]=this.points,b=o.MOzjH(o.whFKa(o.Ooorf(f.x,s.x),p.x),3),m=o.iKEmN(o.HUqWN(o.whFKa(f.y,s.y),p.y),3);return new Y(b,m)}whxitd0e3c15cdc1a49a4a1c5f2f719a9d18a(t=.1){let o={};o.ppHDl=function(u,v){return u-v},o.EeGMd=function(u,v){return u*v},o.UXVZy=function(u,v){return u*v},o.NEUvp=function(u,v){return u-v},o.OljAi=function(u,v){return u+v},o.XZcmW=function(u,v){return u*v},o.Lqvlu=function(u,v){return u/v},o.WeftS=function(u,v){return u+v},o.xLgMR=function(u,v){return u+v};let f=o,s=this.vyjghjnw0a84ccc1fbf448af99b3af0ecb116064(),p=this.points.map(u=>{let v=f.ppHDl(s.x,u.x),I=f.ppHDl(s.y,u.y);return Math.sqrt(f.EeGMd(v,v)+f.UXVZy(I,I))}),b=Math.max(...p),m=f.XZcmW(b,t);return this.points.map(u=>{let v=f.NEUvp(s.x,u.x),I=s.y-u.y,d=Math.sqrt(f.OljAi(f.XZcmW(v,v),f.UXVZy(I,I))),T=f.Lqvlu(m,d);return new Y(f.WeftS(u.x,f.XZcmW(v,T)),f.xLgMR(u.y,I*T))})}mtvao7a96c372af614f00b0b803dbccbbfedb(){let t=this.vyjghjnw0a84ccc1fbf448af99b3af0ecb116064();return[new G([this.points[0],this.points[1],t]),new G([this.points[1],this.points[2],t]),new G([this.points[2],this.points[0],t])]}rmkic57dde571edaa496e90935e19fb74c3dc(){let t={};t.gXMJm=function(u,v){return u/v},t.uKVIa=function(u,v){return u+v},t.WTvfK=function(u,v){return u/v},t.bVZdc=function(u,v){return u+v},t.yKElI=function(u,v){return u/v},t.LqPmp=function(u,v){return u/v},t.WbGGc=function(u,v){return u+v};let o=t,[f,s,p]=this.points,b=new Y(o.gXMJm(o.uKVIa(f.x,s.x),2),o.WTvfK(o.bVZdc(f.y,s.y),2)),m=new Y(o.WTvfK(s.x+p.x,2),o.yKElI(o.bVZdc(s.y,p.y),2)),l=new Y(o.LqPmp(o.WbGGc(p.x,f.x),2),o.yKElI(o.bVZdc(p.y,f.y),2));return[new G([f,b,l]),new G([b,s,m]),new G([l,m,p]),new G([b,m,l])]}qsgcdd36c621f98434407891bd9e9cee5d28f8(){let t={};t.FPyXL=function(S,P){return S+P},t.BPHpv=function(S,P){return S*P},t.vrnao=function(S,P){return S-P},t.UHeDY=function(S,P){return S*P},t.oiNyw=function(S,P){return S-P},t.ZxZwa=function(S,P){return S*P},t.MsVgP=function(S,P){return S<P},t.XlYJW=function(S,P){return S/P},t.sNbVH=function(S,P){return S+P},t.LlsJq=function(S,P){return S+P},t.taXKx=function(S,P){return S*P},t.aUDfL=function(S,P){return S*P},t.arhox=function(S,P){return S*P},t.TWiko=function(S,P){return S*P},t.VudhP=function(S,P){return S+P},t.rSdPk=function(S,P){return S*P},t.JfasO=function(S,P){return S*P},t.CyaqW=function(S,P){return S+P},t.NTlhY=function(S,P){return S*P},t.XdmtY=function(S,P){return S*P},t.oWMmS=function(S,P){return S*P},t.SKKTH=function(S,P){return S*P},t.jbRlf=function(S,P){return S*P},t.aGQUh=function(S,P){return S*P},t.ERRfA=function(S,P){return S-P};let o=t,[f,s,p]=this.points,b=f.x,m=f.y,l=s.x,u=s.y,v=p.x,I=p.y,d=2*(o.FPyXL(o.BPHpv(b,o.vrnao(u,I)),o.UHeDY(l,o.oiNyw(I,m)))+o.ZxZwa(v,o.oiNyw(m,u)));if(o.MsVgP(Math.abs(d),1e-10))return null;let T=o.XlYJW(o.sNbVH(o.sNbVH(o.LlsJq(o.taXKx(b,b),m*m)*o.oiNyw(u,I),o.ZxZwa(o.aUDfL(l,l)+o.arhox(u,u),I-m)),o.TWiko(o.VudhP(o.rSdPk(v,v),o.JfasO(I,I)),m-u)),d),D=o.VudhP(o.ZxZwa(o.CyaqW(o.NTlhY(b,b),o.XdmtY(m,m)),v-l)+o.oWMmS(o.SKKTH(l,l)+o.NTlhY(u,u),b-v),o.jbRlf(o.VudhP(v*v,o.aGQUh(I,I)),o.ERRfA(l,b)))/d;return new Y(T,D)}sngbasa5d8146df2ea346ddbae4532598f6640d(){let t={};t.WuPTN=function(s,p){return s===p};let o=t,f=this.qsgcdd36c621f98434407891bd9e9cee5d28f8();return o.WuPTN(f,null)?[]:[new G([this.points[0],this.points[1],f]),new G([this.points[1],this.points[2],f]),new G([this.points[2],this.points[0],f])]}lhfcqbsyxm48283e59110f4ae990b7294b20832e2b(){let t={};t.sWwqU=function(T,D){return T*D},t.ahEkU=function(T,D){return T+D},t.bRCoD=function(T,D){return T-D};let o=t,[f,s,p]=this.points,b=f.x,m=s.x,l=p.x,u=f.y,v=s.y,I=p.y;return o.sWwqU(.5,Math.abs(o.ahEkU(o.ahEkU(o.sWwqU(b,v-I),o.sWwqU(m,o.bRCoD(I,u))),o.sWwqU(l,o.bRCoD(u,v)))))}ztzwurhpde965035d80a145efbdc8e7cb866451dc(){let t={ZiYwG:function(f,s,p){return f(s,p)}},o=this.lhfcqbsyxm48283e59110f4ae990b7294b20832e2b();return t.ZiYwG(le,o,0)}cboeneacd981f39dbf44cf9bf31b5df99c6624d(){let t={sSSEF:function(b,m,l,u){return b(m,l,u)},rCMeL:function(b,m,l,u){return b(m,l,u)}},[o,f,s]=this.points;return[t.sSSEF(Ee,f,o,s),Ee(o,f,s),t.rCMeL(Ee,o,s,f)]}ajvshqwxfe0c119bda044161b1c4d0de5fa736df(t=15*Math.PI/180){return!!this.cboeneacd981f39dbf44cf9bf31b5df99c6624d().some(f=>f<t)}uaipcqewi3fdedfa786b04cff827a724ab1ed5457(){let t={};t.wCxta=function(s,p){return s<p},t.xIYuX=function(s,p){return s%p},t.wEfVB=function(s,p){return s+p};let o=t,f=this.qsgcdd36c621f98434407891bd9e9cee5d28f8();if(!f)return this.rzyunwacnsddd7613ed2634e98a089ec23a431fb70();for(let s=0;o.wCxta(s,3);s++){let p=this.points[s],b=this.points[o.xIYuX(o.wEfVB(s,1),3)];if($e.lfhnzkq1258a19302134035bb342ba1e8072a11(f,p,b))return this.rzyunwacnsddd7613ed2634e98a089ec23a431fb70()}return f}biuvux1c0173e76c43487e9deaf5ff37d05782(t){let[o,f,s]=this.points,p={};p.p1=o,p.p2=f;let b={};b.p1=f,b.p2=s;let m={};m.p1=s,m.p2=o;let l=[p,b,m],u=[];for(let v of l)for(let I of t)if(!this.points.some(d=>d.zqyioluimc161e22bb92864a3aa0a3c057cde5a93e(I))&&$e.lfhnzkq1258a19302134035bb342ba1e8072a11(I,v.p1,v.p2))return u.push(v.p1.ywkxna4248998d789489e81d226fad6f39b40(v.p2)),u;return u}qoemueeoob638a6d4082941b59964cafb5af748af(t){let o=this.qsgcdd36c621f98434407891bd9e9cee5d28f8();return o?t.some(f=>f.eztrjmykdyef1cdce30e5341b4af322f77ed09b5d6(o))?o:this.rzyunwacnsddd7613ed2634e98a089ec23a431fb70():this.rzyunwacnsddd7613ed2634e98a089ec23a431fb70()}rzyunwacnsddd7613ed2634e98a089ec23a431fb70(){let t={};t.algnU=function(d,T){return d>T};let o=t,[f,s,p]=this.points,b={};b.p1=f,b.p2=s;let m={};m.p1=s,m.p2=p;let l={};l.p1=p,l.p2=f;let u=[b,m,l],v=u[0],I=v.p1.obcbhwqhs1f6c94507c5e4b9ca7955afae5d5a8cb(v.p2);for(let d=1;d<u.length;d++){let T=u[d].p1.obcbhwqhs1f6c94507c5e4b9ca7955afae5d5a8cb(u[d].p2);o.algnU(T,I)&&(I=T,v=u[d])}return v.p1.ywkxna4248998d789489e81d226fad6f39b40(v.p2)}};var pt=class Je{constructor(t,o,f,s){let p="3|2|0|4|1".split("|"),b=0;for(;;){switch(p[b++]){case"0":this.sectionTag=f;continue;case"1":this.d3Polygon=t.map(m=>[m.x,m.y]);continue;case"2":this.tag=o;continue;case"3":this.points=t;continue;case"4":this.materialTag=s;continue}break}}d3Polygon;static nmqmebbf8b2f4c37cb72409ab531ea3f14c2788d(t){return new Je(t.points.map(o=>Y.nmqmebbf8b2f4c37cb72409ab531ea3f14c2788d(o)),t.tag,t.sectionTag,t.materialTag)}vkyemecd4f3f5d480d43acb86a9cdb41a4e0c2(t){let o={xaeCJ:function(f,s){return f-s},HfYHf:function(f,s){return f<s},vSSMn:function(f,s,p,b){return f(s,p,b)}};for(let f=0,s=o.xaeCJ(this.points.length,1);o.HfYHf(f,this.points.length);s=f++)if(o.vSSMn(yt,t,this.points[f],this.points[s]))return!0;return!1}eztrjmykdyef1cdce30e5341b4af322f77ed09b5d6(t){let o={LFZhR:function(s,p,b){return s(p,b)}};return this.vkyemecd4f3f5d480d43acb86a9cdb41a4e0c2(t)?!0:o.LFZhR(Se,this.d3Polygon,[t.x,t.y])}jehqjbyba731a5254c96b4cf5a0cba43a3d769b53(t,o){let f={};f.KzvdM=function(b,m){return b-m},f.ufLup=function(b,m){return b+m},f.UZEeL=function(b,m){return b*m},f.xYdDK=function(b,m){return b/m},f.fzIOG=function(b,m){return b<m},f.sTULn=function(b,m){return b/m};let s=f,p=[];for(let b=0;b<t.length;b++){let m=t[b],l=t[(b+1)%t.length],u=s.KzvdM(l.x,m.x),v=l.y-m.y,I=Math.sqrt(s.ufLup(s.UZEeL(u,u),v*v)),d=Math.floor(s.xYdDK(I,o));p.push(new Y(m.x,m.y));for(let T=1;s.fzIOG(T,d);T++){let D=s.sTULn(T*o,I),S=s.ufLup(m.x,s.UZEeL(D,u)),P=m.y+s.UZEeL(D,v);p.push(new Y(S,P))}}return p}};function yt(h,t,o){let f={};f.DSPqM=function(l,u){return l-u},f.LPNfX=function(l,u){return l-u},f.lrDWK=function(l,u){return l*u},f.DVWoA=function(l,u){return l-u},f.uiIBW=function(l,u){return l-u},f.rbBzC=function(l,u){return l-u},f.vnKrV=function(l,u){return l-u},f.iXLYl=function(l,u){return l<u},f.mNHdE=function(l,u){return l**u},f.yuWpx=function(l,u){return l>u};let s=f,p=s.DSPqM(s.LPNfX(h.y,t.y)*(o.x-t.x),s.lrDWK(s.DSPqM(h.x,t.x),s.DVWoA(o.y,t.y)));if(!le(Math.abs(p),0))return!1;let b=s.lrDWK(h.x-t.x,s.uiIBW(o.x,t.x))+s.lrDWK(s.rbBzC(h.y,t.y),s.vnKrV(o.y,t.y));if(s.iXLYl(b,0))return!1;let m=s.mNHdE(o.x-t.x,2)+s.mNHdE(o.y-t.y,2);return!s.yuWpx(b,m)}function Qe(h){let t=h.polygons.map(p=>pt.nmqmebbf8b2f4c37cb72409ab531ea3f14c2788d(p)),o=h.baseTriangles.map(p=>xt.nmqmebbf8b2f4c37cb72409ab531ea3f14c2788d(p)),f=o,s=[];for(let p of f){let b=p.vyjghjnw0a84ccc1fbf448af99b3af0ecb116064(),m=t.find(l=>l.eztrjmykdyef1cdce30e5341b4af322f77ed09b5d6(b));m&&(p.opvecke8d52359eb68749c59ce8e52b262b8354(m.tag,m.sectionTag,m.materialTag),s.push(p))}return{triangles:s.map(p=>p.mknbmv5362e4a35e494f74a32bbe082111619a())}}var Ie=bt(nn());var tn=(h,t,o="")=>`View3dModel-${h}-${t}${o}`,rn=h=>`Triangles-${h}`;var gt=2220446049250313e-31;function fe(h,t,o,f){let s=Math.abs(h-t);return o==null&&(o=gt),f==null&&(f=o),s<=o||s<=f*Math.min(Math.abs(h),Math.abs(t))?!0:h===t}var J=class extends Error{constructor(t){super(t)}};function on(h){if(h.length<3)throw new J("At least three vertices are required to form a face.");return{vertices:[...h.filter(t=>t)],results:[]}}var ce=h=>{let t=(h.points??"").trim().split(/\s+/).map(f=>f.split(",")),o=[];for(let[f,s]of t){let p=parseFloat(f),b=parseFloat(s);if(Number.isFinite(p)&&Number.isFinite(b))o.push({x:p,y:b});else throw new J("Invalid vertex coordinates")}return{vertices:o}};function an(h){let t=0,o=0,f=0,s=h.length;for(let p=0;p<s;p++){let{x:b,y:m}=h[p],{x:l,y:u}=h[(p+1)%s],v=b*u-l*m;t+=v,o+=(b+l)*v,f+=(m+u)*v}return t*=.5,t===0?{x:0,y:0}:(o/=6*t,f/=6*t,{x:o,y:f})}function*fn(h,t){let o=[...new Set(t.rectangles.map(d=>d.name).concat(t.polygons.map(d=>d.name)))],f=[];for(let d of h){let T=d.points.map(P=>Tt(P)),D=on(T);if(o.indexOf(d.name)===-1)throw new J(`Geometry name ${d.name} not found in geometry rectangles or polygons.`);f.push(D)}let s=t.supports.map(d=>St(d)),p=h.flatMap(d=>d.points).map(d=>d.x).reduce((d,T)=>Math.max(d,T),-1/0),b=h.flatMap(d=>d.points).map(d=>d.x).reduce((d,T)=>Math.min(d,T),1/0),m=h.flatMap(d=>d.points).map(d=>d.y).reduce((d,T)=>Math.max(d,T),-1/0),l=h.flatMap(d=>d.points).map(d=>d.y).reduce((d,T)=>Math.min(d,T),1/0),u=p-b,v=m-l,I=[...t.polygons.map(d=>ce(d)),...t.rectangles.map(d=>ie(d))].map(d=>d.vertices.map(T=>({x:T.x,y:T.y}))).map(d=>({points:d}));for(let d of t.loadCases)yield{faces:f,wireframeFaces:[],supports:s,borders:I,loads:wt(d,t),loadCaseTag:d.name,width:u,height:v}}function wt(h,t){let o=[];for(let f of h.pointLoads)fe(f.fx,0)||o.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"point"}),fe(f.fy,0)||o.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of h.distributedLoads){let s=t.polygons.filter(m=>m.name===f.geometryName).map(m=>ce(m)),p=t.rectangles.filter(m=>m.name===f.geometryName).map(m=>ie(m)),b=[...s,...p];for(let m of b){let l=an(m.vertices);fe(f.fx,0)||o.push({x:l.x,y:l.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),fe(f.fy,0)||o.push({x:l.x,y:l.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return o}function Tt(h){return{x:h.x,y:h.y,z:0,ux:0,uy:0,uz:0,value:0}}function St(h){return{x:h.x,y:h.y,z:0,ux:h.fixedX,uy:h.fixedY,uz:!1}}addEventListener("message",({data:h})=>{Et(h)});var Et=async h=>{let{geometry:t,uuid:o,baseTriangles:f}=h,s=t.loadCases.flatMap(D=>D.pointLoads).map(D=>({x:D.x,y:D.y})),p=t.supports.map(D=>({x:D.x,y:D.y})),b=t.resultPoints.map(D=>({x:D.x,y:D.y})),m=t.rectangles.map(D=>Dt(D)),l=t.polygons.map(D=>Nt(D)),u=m.concat(l),v={maxTriangleArea:t.meshingConfiguration.maxMeshArea,refinementPoints:t.meshingConfiguration.refinementPoints.map(D=>Pt(D))},d=Qe({polygons:u,extraPoints:s.concat(p).concat(b),meshingConfiguration:v,baseTriangles:f.map(D=>Mt(D))}).triangles.map(D=>It(D));await Ie.setItem(rn(o),d);for(let D of fn(d,t))await Ie.setItem(tn(o,D.loadCaseTag),D);postMessage({uuid:o})},Pt=h=>({radius:h.radius,maxTriangleArea:h.maxArea,center:{x:h.x,y:h.y}}),Rt=h=>({x:h.x,y:h.y}),It=h=>({points:h.points.map(o=>Rt(o)),name:h.tag,sectionTag:h.sectionTag,materialTag:h.materialTag}),Dt=h=>({points:ie(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),Nt=h=>({points:ce(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),Mt=h=>({points:h.points.map(o=>({x:o.x,y:o.y}))});
