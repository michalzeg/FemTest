var fn=Object.create;var je=Object.defineProperty;var cn=Object.getOwnPropertyDescriptor;var sn=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,dn=Object.prototype.hasOwnProperty;var ae=(x=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(x,{get:(r,a)=>(typeof require<"u"?require:r)[a]}):x)(function(x){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+x+'" is not supported')});var ln=(x,r)=>()=>(r||x((r={exports:{}}).exports,r),r.exports);var hn=(x,r,a,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let d of sn(r))!dn.call(x,d)&&d!==a&&je(x,d,{get:()=>r[d],enumerable:!(f=cn(r,d))||f.enumerable});return x};var mn=(x,r,a)=>(a=x!=null?fn(un(x)):{},hn(r||!x||!x.__esModule?je(a,"default",{value:x,enumerable:!0}):a,x));var tt=ln((et,Ie)=>{"use strict";(function(x){if(typeof et=="object"&&typeof Ie<"u")Ie.exports=x();else if(typeof define=="function"&&define.amd)define([],x);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=x()}})(function(){var x,r,a;return function f(d,b,l){function s(y,R){if(!b[y]){if(!d[y]){var u=typeof ae=="function"&&ae;if(!R&&u)return u(y,!0);if(h)return h(y,!0);var T=new Error("Cannot find module '"+y+"'");throw T.code="MODULE_NOT_FOUND",T}var E=b[y]={exports:{}};d[y][0].call(E.exports,function(P){var D=d[y][1][P];return s(D||P)},E,E.exports,f,d,b,l)}return b[y].exports}for(var h=typeof ae=="function"&&ae,m=0;m<l.length;m++)s(l[m]);return s}({1:[function(f,d,b){(function(l){"use strict";var s=l.MutationObserver||l.WebKitMutationObserver,h;if(s){var m=0,y=new s(P),R=l.document.createTextNode("");y.observe(R,{characterData:!0}),h=function(){R.data=m=++m%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var u=new l.MessageChannel;u.port1.onmessage=P,h=function(){u.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?h=function(){var O=l.document.createElement("script");O.onreadystatechange=function(){P(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},l.document.documentElement.appendChild(O)}:h=function(){setTimeout(P,0)};var T,E=[];function P(){T=!0;for(var O,K,q=E.length;q;){for(K=E,E=[],O=-1;++O<q;)K[O]();q=E.length}T=!1}d.exports=D;function D(O){E.push(O)===1&&!T&&h()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,d,b){"use strict";var l=f(1);function s(){}var h={},m=["REJECTED"],y=["FULFILLED"],R=["PENDING"];d.exports=u;function u(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=R,this.queue=[],this.outcome=void 0,S!==s&&D(this,S)}u.prototype.catch=function(S){return this.then(null,S)},u.prototype.then=function(S,C){if(typeof S!="function"&&this.state===y||typeof C!="function"&&this.state===m)return this;var A=new this.constructor(s);if(this.state!==R){var B=this.state===y?S:C;E(A,B,this.outcome)}else this.queue.push(new T(A,S,C));return A};function T(S,C,A){this.promise=S,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}T.prototype.callFulfilled=function(S){h.resolve(this.promise,S)},T.prototype.otherCallFulfilled=function(S){E(this.promise,this.onFulfilled,S)},T.prototype.callRejected=function(S){h.reject(this.promise,S)},T.prototype.otherCallRejected=function(S){E(this.promise,this.onRejected,S)};function E(S,C,A){l(function(){var B;try{B=C(A)}catch(U){return h.reject(S,U)}B===S?h.reject(S,new TypeError("Cannot resolve promise with itself")):h.resolve(S,B)})}h.resolve=function(S,C){var A=O(P,C);if(A.status==="error")return h.reject(S,A.value);var B=A.value;if(B)D(S,B);else{S.state=y,S.outcome=C;for(var U=-1,F=S.queue.length;++U<F;)S.queue[U].callFulfilled(C)}return S},h.reject=function(S,C){S.state=m,S.outcome=C;for(var A=-1,B=S.queue.length;++A<B;)S.queue[A].callRejected(C);return S};function P(S){var C=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof C=="function")return function(){C.apply(S,arguments)}}function D(S,C){var A=!1;function B(H){A||(A=!0,h.reject(S,H))}function U(H){A||(A=!0,h.resolve(S,H))}function F(){C(U,B)}var k=O(F);k.status==="error"&&B(k.value)}function O(S,C){var A={};try{A.value=S(C),A.status="success"}catch(B){A.status="error",A.value=B}return A}u.resolve=K;function K(S){return S instanceof this?S:h.resolve(new this(s),S)}u.reject=q;function q(S){var C=new this(s);return h.reject(C,S)}u.all=he;function he(S){var C=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=S.length,B=!1;if(!A)return this.resolve([]);for(var U=new Array(A),F=0,k=-1,H=new this(s);++k<A;)Y(S[k],k);return H;function Y(ne,se){C.resolve(ne).then(me,function(ee){B||(B=!0,h.reject(H,ee))});function me(ee){U[se]=ee,++F===A&&!B&&(B=!0,h.resolve(H,U))}}}u.race=J;function J(S){var C=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=S.length,B=!1;if(!A)return this.resolve([]);for(var U=-1,F=new this(s);++U<A;)k(S[U]);return F;function k(H){C.resolve(H).then(function(Y){B||(B=!0,h.resolve(F,Y))},function(Y){B||(B=!0,h.reject(F,Y))})}}},{1:1}],3:[function(f,d,b){(function(l){"use strict";typeof l.Promise!="function"&&(l.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,d,b){"use strict";var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function h(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var m=h();function y(){try{if(!m||!m.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function R(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(o){if(o.name!=="TypeError")throw o;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,c=0;c<e.length;c+=1)i.append(e[c]);return i.getBlob(n.type)}}typeof Promise>"u"&&f(3);var u=Promise;function T(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function E(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function P(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function D(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var O="local-forage-detect-blob-support",K=void 0,q={},he=Object.prototype.toString,J="readonly",S="readwrite";function C(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),c=0;c<n;c++)i[c]=e.charCodeAt(c);return t}function A(e){return new u(function(n){var t=e.transaction(O,S),i=R([""]);t.objectStore(O).put(i,"key"),t.onabort=function(c){c.preventDefault(),c.stopPropagation(),n(!1)},t.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),o=navigator.userAgent.match(/Edge\//);n(o||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function B(e){return typeof K=="boolean"?u.resolve(K):A(e).then(function(n){return K=n,K})}function U(e){var n=q[e.name],t={};t.promise=new u(function(i,c){t.resolve=i,t.reject=c}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function F(e){var n=q[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function k(e,n){var t=q[e.name],i=t.deferredOperations.pop();if(i)return i.reject(n),i.promise}function H(e,n){return new u(function(t,i){if(q[e.name]=q[e.name]||Ne(),e.db)if(n)U(e),e.db.close();else return t(e.db);var c=[e.name];n&&c.push(e.version);var o=m.open.apply(m,c);n&&(o.onupgradeneeded=function(p){var v=o.result;try{v.createObjectStore(e.storeName),p.oldVersion<=1&&v.createObjectStore(O)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw g}}),o.onerror=function(p){p.preventDefault(),i(o.error)},o.onsuccess=function(){var p=o.result;p.onversionchange=function(v){v.target.close()},t(p),F(e)}})}function Y(e){return H(e,!1)}function ne(e){return H(e,!0)}function se(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,c=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),c||t){if(t){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function me(e){return new u(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(c){var o=btoa(c.target.result||"");n({__local_forage_encoded_blob:!0,data:o,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var n=C(atob(e.data));return R([n],{type:e.type})}function De(e){return e&&e.__local_forage_encoded_blob}function ft(e){var n=this,t=n._initReady().then(function(){var i=q[n._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return E(t,e,e),t}function ct(e){U(e);for(var n=q[e.name],t=n.forages,i=0;i<t.length;i++){var c=t[i];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return e.db=null,Y(e).then(function(o){return e.db=o,se(e)?ne(e):o}).then(function(o){e.db=n.db=o;for(var p=0;p<t.length;p++)t[p]._dbInfo.db=o}).catch(function(o){throw k(e,o),o})}function Z(e,n,t,i){i===void 0&&(i=1);try{var c=e.db.transaction(e.storeName,n);t(null,c)}catch(o){if(i>0&&(!e.db||o.name==="InvalidStateError"||o.name==="NotFoundError"))return u.resolve().then(function(){if(!e.db||o.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return ct(e).then(function(){Z(e,n,t,i-1)})}).catch(t);t(o)}}function Ne(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function st(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var c=q[t.name];c||(c=Ne(),q[t.name]=c),c.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=ft);var o=[];function p(){return u.resolve()}for(var v=0;v<c.forages.length;v++){var g=c.forages[v];g!==n&&o.push(g._initReady().catch(p))}var _=c.forages.slice(0);return u.all(o).then(function(){return t.db=c.db,Y(t)}).then(function(w){return t.db=w,se(t,n._defaultConfig.version)?ne(t):w}).then(function(w){t.db=c.db=w,n._dbInfo=t;for(var I=0;I<_.length;I++){var N=_[I];N!==n&&(N._dbInfo.db=t.db,N._dbInfo.version=t.version)}})}function ut(e,n){var t=this;e=P(e);var i=new u(function(c,o){t.ready().then(function(){Z(t._dbInfo,J,function(p,v){if(p)return o(p);try{var g=v.objectStore(t._dbInfo.storeName),_=g.get(e);_.onsuccess=function(){var w=_.result;w===void 0&&(w=null),De(w)&&(w=ee(w)),c(w)},_.onerror=function(){o(_.error)}}catch(w){o(w)}})}).catch(o)});return T(i,n),i}function dt(e,n){var t=this,i=new u(function(c,o){t.ready().then(function(){Z(t._dbInfo,J,function(p,v){if(p)return o(p);try{var g=v.objectStore(t._dbInfo.storeName),_=g.openCursor(),w=1;_.onsuccess=function(){var I=_.result;if(I){var N=I.value;De(N)&&(N=ee(N));var L=e(N,I.key,w++);L!==void 0?c(L):I.continue()}else c()},_.onerror=function(){o(_.error)}}catch(I){o(I)}})}).catch(o)});return T(i,n),i}function lt(e,n,t){var i=this;e=P(e);var c=new u(function(o,p){var v;i.ready().then(function(){return v=i._dbInfo,he.call(n)==="[object Blob]"?B(v.db).then(function(g){return g?n:me(n)}):n}).then(function(g){Z(i._dbInfo,S,function(_,w){if(_)return p(_);try{var I=w.objectStore(i._dbInfo.storeName);g===null&&(g=void 0);var N=I.put(g,e);w.oncomplete=function(){g===void 0&&(g=null),o(g)},w.onabort=w.onerror=function(){var L=N.error?N.error:N.transaction.error;p(L)}}catch(L){p(L)}})}).catch(p)});return T(c,t),c}function ht(e,n){var t=this;e=P(e);var i=new u(function(c,o){t.ready().then(function(){Z(t._dbInfo,S,function(p,v){if(p)return o(p);try{var g=v.objectStore(t._dbInfo.storeName),_=g.delete(e);v.oncomplete=function(){c()},v.onerror=function(){o(_.error)},v.onabort=function(){var w=_.error?_.error:_.transaction.error;o(w)}}catch(w){o(w)}})}).catch(o)});return T(i,n),i}function mt(e){var n=this,t=new u(function(i,c){n.ready().then(function(){Z(n._dbInfo,S,function(o,p){if(o)return c(o);try{var v=p.objectStore(n._dbInfo.storeName),g=v.clear();p.oncomplete=function(){i()},p.onabort=p.onerror=function(){var _=g.error?g.error:g.transaction.error;c(_)}}catch(_){c(_)}})}).catch(c)});return T(t,e),t}function xt(e){var n=this,t=new u(function(i,c){n.ready().then(function(){Z(n._dbInfo,J,function(o,p){if(o)return c(o);try{var v=p.objectStore(n._dbInfo.storeName),g=v.count();g.onsuccess=function(){i(g.result)},g.onerror=function(){c(g.error)}}catch(_){c(_)}})}).catch(c)});return T(t,e),t}function pt(e,n){var t=this,i=new u(function(c,o){if(e<0){c(null);return}t.ready().then(function(){Z(t._dbInfo,J,function(p,v){if(p)return o(p);try{var g=v.objectStore(t._dbInfo.storeName),_=!1,w=g.openKeyCursor();w.onsuccess=function(){var I=w.result;if(!I){c(null);return}e===0||_?c(I.key):(_=!0,I.advance(e))},w.onerror=function(){o(w.error)}}catch(I){o(I)}})}).catch(o)});return T(i,n),i}function bt(e){var n=this,t=new u(function(i,c){n.ready().then(function(){Z(n._dbInfo,J,function(o,p){if(o)return c(o);try{var v=p.objectStore(n._dbInfo.storeName),g=v.openKeyCursor(),_=[];g.onsuccess=function(){var w=g.result;if(!w){i(_);return}_.push(w.key),w.continue()},g.onerror=function(){c(g.error)}}catch(w){c(w)}})}).catch(c)});return T(t,e),t}function vt(e,n){n=D.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,c;if(!e.name)c=u.reject("Invalid arguments");else{var o=e.name===t.name&&i._dbInfo.db,p=o?u.resolve(i._dbInfo.db):Y(e).then(function(v){var g=q[e.name],_=g.forages;g.db=v;for(var w=0;w<_.length;w++)_[w]._dbInfo.db=v;return v});e.storeName?c=p.then(function(v){if(v.objectStoreNames.contains(e.storeName)){var g=v.version+1;U(e);var _=q[e.name],w=_.forages;v.close();for(var I=0;I<w.length;I++){var N=w[I];N._dbInfo.db=null,N._dbInfo.version=g}var L=new u(function(M,V){var z=m.open(e.name,g);z.onerror=function(Q){var oe=z.result;oe.close(),V(Q)},z.onupgradeneeded=function(){var Q=z.result;Q.deleteObjectStore(e.storeName)},z.onsuccess=function(){var Q=z.result;Q.close(),M(Q)}});return L.then(function(M){_.db=M;for(var V=0;V<w.length;V++){var z=w[V];z._dbInfo.db=M,F(z._dbInfo)}}).catch(function(M){throw(k(e,M)||u.resolve()).catch(function(){}),M})}}):c=p.then(function(v){U(e);var g=q[e.name],_=g.forages;v.close();for(var w=0;w<_.length;w++){var I=_[w];I._dbInfo.db=null}var N=new u(function(L,M){var V=m.deleteDatabase(e.name);V.onerror=function(){var z=V.result;z&&z.close(),M(V.error)},V.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},V.onsuccess=function(){var z=V.result;z&&z.close(),L(z)}});return N.then(function(L){g.db=L;for(var M=0;M<_.length;M++){var V=_[M];F(V._dbInfo)}}).catch(function(L){throw(k(e,L)||u.resolve()).catch(function(){}),L})})}return T(c,n),c}var yt={_driver:"asyncStorage",_initStorage:st,_support:y(),iterate:dt,getItem:ut,setItem:lt,removeItem:ht,clear:mt,length:xt,key:pt,keys:bt,dropInstance:vt};function gt(){return typeof openDatabase=="function"}var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t="~~local_forage_type~",Ae=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",xe=ue.length,pe="arbf",be="blob",Ce="si08",Le="ui08",Me="uic8",Be="si16",ze="si32",Ve="ur16",Oe="ui32",qe="fl32",Ue="fl64",Fe=xe+pe.length,We=Object.prototype.toString;function ke(e){var n=e.length*.75,t=e.length,i,c=0,o,p,v,g;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var _=new ArrayBuffer(n),w=new Uint8Array(_);for(i=0;i<t;i+=4)o=j.indexOf(e[i]),p=j.indexOf(e[i+1]),v=j.indexOf(e[i+2]),g=j.indexOf(e[i+3]),w[c++]=o<<2|p>>4,w[c++]=(p&15)<<4|v>>2,w[c++]=(v&3)<<6|g&63;return _}function ve(e){var n=new Uint8Array(e),t="",i;for(i=0;i<n.length;i+=3)t+=j[n[i]>>2],t+=j[(n[i]&3)<<4|n[i+1]>>4],t+=j[(n[i+1]&15)<<2|n[i+2]>>6],t+=j[n[i+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function wt(e,n){var t="";if(e&&(t=We.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&We.call(e.buffer)==="[object ArrayBuffer]")){var i,c=ue;e instanceof ArrayBuffer?(i=e,c+=pe):(i=e.buffer,t==="[object Int8Array]"?c+=Ce:t==="[object Uint8Array]"?c+=Le:t==="[object Uint8ClampedArray]"?c+=Me:t==="[object Int16Array]"?c+=Be:t==="[object Uint16Array]"?c+=Ve:t==="[object Int32Array]"?c+=ze:t==="[object Uint32Array]"?c+=Oe:t==="[object Float32Array]"?c+=qe:t==="[object Float64Array]"?c+=Ue:n(new Error("Failed to get type for BinaryArray"))),n(c+ve(i))}else if(t==="[object Blob]"){var o=new FileReader;o.onload=function(){var p=_t+e.type+"~"+ve(this.result);n(ue+be+p)},o.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(p){console.error("Couldn't convert value into a JSON string: ",e),n(null,p)}}function Tt(e){if(e.substring(0,xe)!==ue)return JSON.parse(e);var n=e.substring(Fe),t=e.substring(xe,Fe),i;if(t===be&&Ae.test(n)){var c=n.match(Ae);i=c[1],n=n.substring(c[0].length)}var o=ke(n);switch(t){case pe:return o;case be:return R([o],{type:i});case Ce:return new Int8Array(o);case Le:return new Uint8Array(o);case Me:return new Uint8ClampedArray(o);case Be:return new Int16Array(o);case Ve:return new Uint16Array(o);case ze:return new Int32Array(o);case Oe:return new Uint32Array(o);case qe:return new Float32Array(o);case Ue:return new Float64Array(o);default:throw new Error("Unkown type: "+t)}}var ye={serialize:wt,deserialize:Tt,stringToBuffer:ke,bufferToString:ve};function He(e,n,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function St(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var c=new u(function(o,p){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(v){return p(v)}t.db.transaction(function(v){He(v,t,function(){n._dbInfo=t,o()},function(g,_){p(_)})},p)});return t.serializer=ye,c}function X(e,n,t,i,c,o){e.executeSql(t,i,c,function(p,v){v.code===v.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(g,_){_.rows.length?o(g,v):He(g,n,function(){g.executeSql(t,i,c,o)},o)},o):o(p,v)},o)}function Et(e,n){var t=this;e=P(e);var i=new u(function(c,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){X(v,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[e],function(g,_){var w=_.rows.length?_.rows.item(0).value:null;w&&(w=p.serializer.deserialize(w)),c(w)},function(g,_){o(_)})})}).catch(o)});return T(i,n),i}function Pt(e,n){var t=this,i=new u(function(c,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){X(v,p,"SELECT * FROM "+p.storeName,[],function(g,_){for(var w=_.rows,I=w.length,N=0;N<I;N++){var L=w.item(N),M=L.value;if(M&&(M=p.serializer.deserialize(M)),M=e(M,L.key,N+1),M!==void 0){c(M);return}}c()},function(g,_){o(_)})})}).catch(o)});return T(i,n),i}function Qe(e,n,t,i){var c=this;e=P(e);var o=new u(function(p,v){c.ready().then(function(){n===void 0&&(n=null);var g=n,_=c._dbInfo;_.serializer.serialize(n,function(w,I){I?v(I):_.db.transaction(function(N){X(N,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){p(g)},function(L,M){v(M)})},function(N){if(N.code===N.QUOTA_ERR){if(i>0){p(Qe.apply(c,[e,g,t,i-1]));return}v(N)}})})}).catch(v)});return T(o,t),o}function It(e,n,t){return Qe.apply(this,[e,n,t,1])}function Rt(e,n){var t=this;e=P(e);var i=new u(function(c,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){X(v,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[e],function(){c()},function(g,_){o(_)})})}).catch(o)});return T(i,n),i}function Dt(e){var n=this,t=new u(function(i,c){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(p){X(p,o,"DELETE FROM "+o.storeName,[],function(){i()},function(v,g){c(g)})})}).catch(c)});return T(t,e),t}function Nt(e){var n=this,t=new u(function(i,c){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(p){X(p,o,"SELECT COUNT(key) as c FROM "+o.storeName,[],function(v,g){var _=g.rows.item(0).c;i(_)},function(v,g){c(g)})})}).catch(c)});return T(t,e),t}function At(e,n){var t=this,i=new u(function(c,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(v){X(v,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[e+1],function(g,_){var w=_.rows.length?_.rows.item(0).key:null;c(w)},function(g,_){o(_)})})}).catch(o)});return T(i,n),i}function Ct(e){var n=this,t=new u(function(i,c){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(p){X(p,o,"SELECT key FROM "+o.storeName,[],function(v,g){for(var _=[],w=0;w<g.rows.length;w++)_.push(g.rows.item(w).key);i(_)},function(v,g){c(g)})})}).catch(c)});return T(t,e),t}function Lt(e){return new u(function(n,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,o){for(var p=[],v=0;v<o.rows.length;v++)p.push(o.rows.item(v).name);n({db:e,storeNames:p})},function(c,o){t(o)})},function(i){t(i)})})}function Mt(e,n){n=D.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,c;return e.name?c=new u(function(o){var p;e.name===t.name?p=i._dbInfo.db:p=openDatabase(e.name,"","",0),e.storeName?o({db:p,storeNames:[e.storeName]}):o(Lt(p))}).then(function(o){return new u(function(p,v){o.db.transaction(function(g){function _(L){return new u(function(M,V){g.executeSql("DROP TABLE IF EXISTS "+L,[],function(){M()},function(z,Q){V(Q)})})}for(var w=[],I=0,N=o.storeNames.length;I<N;I++)w.push(_(o.storeNames[I]));u.all(w).then(function(){p()}).catch(function(L){v(L)})},function(g){v(g)})})}):c=u.reject("Invalid arguments"),T(c,n),c}var Bt={_driver:"webSQLStorage",_initStorage:St,_support:gt(),iterate:Pt,getItem:Et,setItem:It,removeItem:Rt,clear:Dt,length:Nt,key:At,keys:Ct,dropInstance:Mt};function zt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ge(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Vt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Ot(){return!Vt()||localStorage.length>0}function qt(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=Ge(e,n._defaultConfig),Ot()?(n._dbInfo=t,t.serializer=ye,u.resolve()):u.reject()}function Ut(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var o=localStorage.key(c);o.indexOf(i)===0&&localStorage.removeItem(o)}});return T(t,e),t}function Ft(e,n){var t=this;e=P(e);var i=t.ready().then(function(){var c=t._dbInfo,o=localStorage.getItem(c.keyPrefix+e);return o&&(o=c.serializer.deserialize(o)),o});return T(i,n),i}function Wt(e,n){var t=this,i=t.ready().then(function(){for(var c=t._dbInfo,o=c.keyPrefix,p=o.length,v=localStorage.length,g=1,_=0;_<v;_++){var w=localStorage.key(_);if(w.indexOf(o)===0){var I=localStorage.getItem(w);if(I&&(I=c.serializer.deserialize(I)),I=e(I,w.substring(p),g++),I!==void 0)return I}}});return T(i,n),i}function kt(e,n){var t=this,i=t.ready().then(function(){var c=t._dbInfo,o;try{o=localStorage.key(e)}catch{o=null}return o&&(o=o.substring(c.keyPrefix.length)),o});return T(i,n),i}function Ht(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo,c=localStorage.length,o=[],p=0;p<c;p++){var v=localStorage.key(p);v.indexOf(i.keyPrefix)===0&&o.push(v.substring(i.keyPrefix.length))}return o});return T(t,e),t}function Qt(e){var n=this,t=n.keys().then(function(i){return i.length});return T(t,e),t}function Gt(e,n){var t=this;e=P(e);var i=t.ready().then(function(){var c=t._dbInfo;localStorage.removeItem(c.keyPrefix+e)});return T(i,n),i}function Kt(e,n,t){var i=this;e=P(e);var c=i.ready().then(function(){n===void 0&&(n=null);var o=n;return new u(function(p,v){var g=i._dbInfo;g.serializer.serialize(n,function(_,w){if(w)v(w);else try{localStorage.setItem(g.keyPrefix+e,_),p(o)}catch(I){(I.name==="QuotaExceededError"||I.name==="NS_ERROR_DOM_QUOTA_REACHED")&&v(I),v(I)}})})});return T(c,t),c}function Yt(e,n){if(n=D.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,c;return e.name?c=new u(function(o){e.storeName?o(Ge(e,i._defaultConfig)):o(e.name+"/")}).then(function(o){for(var p=localStorage.length-1;p>=0;p--){var v=localStorage.key(p);v.indexOf(o)===0&&localStorage.removeItem(v)}}):c=u.reject("Invalid arguments"),T(c,n),c}var Zt={_driver:"localStorageWrapper",_initStorage:qt,_support:zt(),iterate:Wt,getItem:Ft,setItem:Kt,removeItem:Gt,clear:Ut,length:Qt,key:kt,keys:Ht,dropInstance:Yt},jt=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},Xt=function(n,t){for(var i=n.length,c=0;c<i;){if(jt(n[c],t))return!0;c++}return!1},Ke=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},Ye={},te={INDEXEDDB:yt,WEBSQL:Bt,LOCALSTORAGE:Zt},$t=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],de=["dropInstance"],ge=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),Jt={description:"",driver:$t.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function en(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function _e(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Ke(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var tn=function(){function e(n){s(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],c=i._driver;this[t]=c,re[c]||this.defineDriver(i)}this._defaultConfig=_e({},Jt),this._config=_e({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":l(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,c){var o=new u(function(p,v){try{var g=t._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){v(_);return}for(var w=ge.concat("_initStorage"),I=0,N=w.length;I<N;I++){var L=w[I],M=!Xt(de,L);if((M||t[L])&&typeof t[L]!="function"){v(_);return}}var V=function(){for(var oe=function(on){return function(){var an=new Error("Method "+on+" is not implemented by the current driver"),Ze=u.reject(an);return T(Ze,arguments[arguments.length-1]),Ze}},we=0,rn=de.length;we<rn;we++){var Te=de[we];t[Te]||(t[Te]=oe(Te))}};V();var z=function(oe){re[g]&&console.info("Redefining LocalForage driver: "+g),re[g]=t,Ye[g]=oe,p()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(z,v):z(!!t._support):z(!0)}catch(Q){v(Q)}});return E(o,i,c),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,c){var o=re[t]?u.resolve(re[t]):u.reject(new Error("Driver not found."));return E(o,i,c),o},e.prototype.getSerializer=function(t){var i=u.resolve(ye);return E(i,t),i},e.prototype.ready=function(t){var i=this,c=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return E(c,t,t),c},e.prototype.setDriver=function(t,i,c){var o=this;Ke(t)||(t=[t]);var p=this._getSupportedDrivers(t);function v(){o._config.driver=o.driver()}function g(I){return o._extend(I),v(),o._ready=o._initStorage(o._config),o._ready}function _(I){return function(){var N=0;function L(){for(;N<I.length;){var M=I[N];return N++,o._dbInfo=null,o._ready=null,o.getDriver(M).then(g).catch(L)}v();var V=new Error("No available storage method found.");return o._driverSet=u.reject(V),o._driverSet}return L()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=w.then(function(){var I=p[0];return o._dbInfo=null,o._ready=null,o.getDriver(I).then(function(N){o._driver=N._driver,v(),o._wrapLibraryMethodsWithReady(),o._initDriver=_(p)})}).catch(function(){v();var I=new Error("No available storage method found.");return o._driverSet=u.reject(I),o._driverSet}),E(this._driverSet,i,c),this._driverSet},e.prototype.supports=function(t){return!!Ye[t]},e.prototype._extend=function(t){_e(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],c=0,o=t.length;c<o;c++){var p=t[c];this.supports(p)&&i.push(p)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=ge.length;t<i;t++)en(this,ge[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),nn=new tn;d.exports=nn},{3:3}]},{},[4])(4)})});var ie=x=>({vertices:[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}]});function Se(x,r){for(var a=x.length,f=x[a-1],d=r[0],b=r[1],l=f[0],s=f[1],h,m,y=!1,R=0;R<a;++R)f=x[R],h=f[0],m=f[1],m>b!=s>b&&d<(l-h)*(b-m)/(s-m)+h&&(y=!y),l=h,s=m;return y}var xn=2220446049250313e-31;function le(x,r,a,f){let d={};d.HuqKK=function(s,h){return s-h},d.jWBKM=function(s,h){return s==h},d.yaQRV=function(s,h){return s<=h},d.MTgFs=function(s,h){return s*h},d.ZCbHK=function(s,h){return s===h};let b=d,l=Math.abs(b.HuqKK(x,r));return b.jWBKM(a,null)&&(a=xn),f==null&&(f=a),b.yaQRV(l,a)||l<=b.MTgFs(f,Math.min(Math.abs(x),Math.abs(r)))?!0:b.ZCbHK(x,r)}var G=class Pe{constructor(r,a){this.x=r,this.y=a}static honhlsao20c7556f93d24f2ca1ad9183f4b3a882(r){return new Pe(r.x,r.y)}wzydtqzak0871b44dee9145809f192b6fba36325f(){let r={};return r.x=this.x,r.y=this.y,r}mmziplkcd4f21c8c0f867438bb6e1ce62a25dcf21(r){let a={QeKLH:function(d,b,l){return d(b,l)}};return a.QeKLH(le,this.x,r.x)&&a.QeKLH(le,this.y,r.y)}swsrfve2b1b42298adc4828b61ca2b05933384b(){return[this.x,this.y]}hvlrsjcbvd522bf795ee04ce2880f4379ef496777(r){let a={};a.cZySl=function(l,s){return l/s},a.hOfBh=function(l,s){return l+s};let f=a,d=f.cZySl(f.hOfBh(this.x,r.x),2),b=f.hOfBh(this.y,r.y)/2;return new Pe(d,b)}dyweu2a6880a449634c148881467dd7fa99f2(r){let a={};a.uEpHU=function(l,s){return l-s},a.tKIZl=function(l,s){return l+s},a.LIByQ=function(l,s){return l*s};let f=a,d=r.x-this.x,b=f.uEpHU(r.y,this.y);return Math.sqrt(f.tKIZl(f.LIByQ(d,d),f.LIByQ(b,b)))}};function Ee(x,r,a){let f={};f.thFHp=function(R,u){return R-u},f.dpXiw=function(R,u){return R+u},f.yuHcq=function(R,u){return R*u},f.nUQSC=function(R,u){return R*u},f.VdfhT=function(R,u){return R===u},f.yfuZM=function(R,u){return R*u};let d=f,b={x:x.x-r.x,y:d.thFHp(x.y,r.y)},l={x:d.thFHp(a.x,r.x),y:a.y-r.y},s=d.dpXiw(d.yuHcq(b.x,l.x),d.nUQSC(b.y,l.y)),h=Math.hypot(b.x,b.y),m=Math.hypot(l.x,l.y);if(d.VdfhT(h,0)||m===0)return 0;let y=Math.min(1,Math.max(-1,s/d.yfuZM(h,m)));return Math.acos(y)}var Xe=class{static gmhyou2cd8839c2b344dad94b9b0db9ac76f4a(x,r,a){let f={};f.oXjGD=function(h,m){return h/m},f.MPXga=function(h,m){return h<=m};let d=f,b=r.hvlrsjcbvd522bf795ee04ce2880f4379ef496777(a),l=d.oXjGD(r.dyweu2a6880a449634c148881467dd7fa99f2(a),2),s=b.dyweu2a6880a449634c148881467dd7fa99f2(x);return d.MPXga(s,l)}},pn=class W{constructor(r){this.points=r,!W.pqizlhe9e75e92420c4478955604d349cfad8d(r)&&this.points.reverse()}tag="";sectionTag="";materialTag="";static honhlsao20c7556f93d24f2ca1ad9183f4b3a882(r){return new W(r.points.map(a=>G.honhlsao20c7556f93d24f2ca1ad9183f4b3a882(a)))}wzydtqzak0871b44dee9145809f192b6fba36325f(){return{points:this.points.map(r=>r.wzydtqzak0871b44dee9145809f192b6fba36325f()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static pqizlhe9e75e92420c4478955604d349cfad8d(r){let a={};a.mNPeJ=function(h,m){return h-m},a.pQgIF=function(h,m){return h*m},a.wozKY=function(h,m){return h-m},a.oabsB=function(h,m){return h>m};let f=a,[d,b,l]=r,s=f.mNPeJ(b.x,d.x)*f.mNPeJ(l.y,d.y)-f.pQgIF(f.wozKY(b.y,d.y),f.mNPeJ(l.x,d.x));return f.oabsB(s,0)}vqwhvaqxnb1e216cebb8f430f8944b3edc1c90c75(r,a,f){this.tag=r,this.sectionTag=a,this.materialTag=f}iakiojtxf57ff6a568b747338e62f15025000f9d(){let r={};r.eLZoW=function(h,m){return h/m},r.UQuUU=function(h,m){return h+m},r.AAUzH=function(h,m){return h+m};let a=r,[f,d,b]=this.points,l=a.eLZoW(a.UQuUU(a.AAUzH(f.x,d.x),b.x),3),s=(f.y+d.y+b.y)/3;return new G(l,s)}mgxleuwyfbc7841252f44dc0905023cc50043b2c(r=.1){let a={};a.yQCiV=function(m,y){return m-y},a.vSGVA=function(m,y){return m+y},a.PEATy=function(m,y){return m*y},a.pCGFv=function(m,y){return m-y},a.fOkwC=function(m,y){return m+y},a.exfUZ=function(m,y){return m*y},a.Ofxgt=function(m,y){return m*y},a.qWWsE=function(m,y){return m+y},a.KKqfC=function(m,y){return m*y};let f=a,d=this.iakiojtxf57ff6a568b747338e62f15025000f9d(),b=this.points.map(m=>{let y=d.x-m.x,R=f.yQCiV(d.y,m.y);return Math.sqrt(f.vSGVA(y*y,f.PEATy(R,R)))}),l=Math.max(...b),s=f.KKqfC(l,r);return this.points.map(m=>{let y=f.pCGFv(d.x,m.x),R=d.y-m.y,u=Math.sqrt(f.fOkwC(y*y,f.exfUZ(R,R))),T=s/u;return new G(f.vSGVA(m.x,f.Ofxgt(y,T)),f.qWWsE(m.y,f.PEATy(R,T)))})}wvjecbiclzb9da621aa3724cb9b6c1e63c93b62094(){let r=this.iakiojtxf57ff6a568b747338e62f15025000f9d();return[new W([this.points[0],this.points[1],r]),new W([this.points[1],this.points[2],r]),new W([this.points[2],this.points[0],r])]}pqmeqtb500d7cb35ee453c82e5a44d605ab523(){let r={};r.NoWdZ=function(m,y){return m/y},r.HQjNi=function(m,y){return m/y},r.yqQwo=function(m,y){return m+y},r.uAreW=function(m,y){return m/y},r.ZjDLi=function(m,y){return m/y},r.uPfih=function(m,y){return m+y};let a=r,[f,d,b]=this.points,l=new G(a.NoWdZ(f.x+d.x,2),a.HQjNi(a.yqQwo(f.y,d.y),2)),s=new G(a.NoWdZ(a.yqQwo(d.x,b.x),2),a.uAreW(d.y+b.y,2)),h=new G(a.ZjDLi(a.uPfih(b.x,f.x),2),a.yqQwo(b.y,f.y)/2);return[new W([f,l,h]),new W([l,d,s]),new W([h,s,b]),new W([l,s,h])]}skngtbmc66ba7afd4ecd4085a173d4cd674e2893(){let r={};r.oicsD=function(P,D){return P*D},r.kLLQj=function(P,D){return P+D},r.DyHiv=function(P,D){return P*D},r.aHlYN=function(P,D){return P*D},r.XHlUk=function(P,D){return P-D},r.NtzWQ=function(P,D){return P-D},r.VAfAn=function(P,D){return P<D},r.KaSyA=function(P,D){return P/D},r.jlPHq=function(P,D){return P+D},r.iheNR=function(P,D){return P*D},r.XZbGf=function(P,D){return P+D},r.vXiEX=function(P,D){return P*D},r.HKazH=function(P,D){return P+D},r.znZUc=function(P,D){return P*D},r.QhvFE=function(P,D){return P-D},r.Nevps=function(P,D){return P/D},r.QCgNi=function(P,D){return P*D},r.cTQNt=function(P,D){return P*D},r.EdGCc=function(P,D){return P-D};let a=r,[f,d,b]=this.points,l=f.x,s=f.y,h=d.x,m=d.y,y=b.x,R=b.y,u=a.oicsD(2,a.kLLQj(a.DyHiv(l,m-R)+a.aHlYN(h,a.XHlUk(R,s)),a.oicsD(y,a.NtzWQ(s,m))));if(a.VAfAn(Math.abs(u),1e-10))return null;let T=a.KaSyA(a.kLLQj(a.jlPHq(a.iheNR(a.XZbGf(l*l,a.vXiEX(s,s)),m-R),a.oicsD(a.HKazH(h*h,m*m),a.XHlUk(R,s))),(a.znZUc(y,y)+a.aHlYN(R,R))*a.QhvFE(s,m)),u),E=a.Nevps(a.HKazH(a.oicsD(a.XZbGf(l*l,a.QCgNi(s,s)),a.XHlUk(y,h)),a.oicsD(h*h+m*m,l-y))+a.cTQNt(y*y+R*R,a.EdGCc(h,l)),u);return new G(T,E)}qcbbwxms7d511fef4f9c497da1d27b2c348037b6(){let r={};r.vSzEg=function(d,b){return d===b};let a=r,f=this.skngtbmc66ba7afd4ecd4085a173d4cd674e2893();return a.vSzEg(f,null)?[]:[new W([this.points[0],this.points[1],f]),new W([this.points[1],this.points[2],f]),new W([this.points[2],this.points[0],f])]}blousqb17b6c4632ab40158efcf3c0b537abda(){let r={};r.PeDZB=function(T,E){return T*E},r.CldBQ=function(T,E){return T+E},r.jbBiG=function(T,E){return T+E},r.ebZKS=function(T,E){return T*E},r.yxWvR=function(T,E){return T-E},r.ldQFb=function(T,E){return T*E};let a=r,[f,d,b]=this.points,l=f.x,s=d.x,h=b.x,m=f.y,y=d.y,R=b.y;return a.PeDZB(.5,Math.abs(a.CldBQ(a.jbBiG(a.ebZKS(l,a.yxWvR(y,R)),a.PeDZB(s,a.yxWvR(R,m))),a.ldQFb(h,m-y))))}tqohennku55ac19e9330741139f20a7bce7bc6662(){let r=this.blousqb17b6c4632ab40158efcf3c0b537abda();return le(r,0)}klwrxfvlwv0e4c35c6527945bdb9bc714d2137a21d(){let r={NlUGo:function(l,s,h,m){return l(s,h,m)}},[a,f,d]=this.points;return[Ee(f,a,d),r.NlUGo(Ee,a,f,d),r.NlUGo(Ee,a,d,f)]}xlntaeu0d2d6ee8cb674bbf8d8ae1f322346566(r=15*Math.PI/180){return!!this.klwrxfvlwv0e4c35c6527945bdb9bc714d2137a21d().some(f=>f<r)}kgbkovg6022e4f2102e4719b9dcb10f8b3a160d(){let r={};r.RHqnb=function(d,b){return d<b},r.lSrcb=function(d,b){return d%b};let a=r,f=this.skngtbmc66ba7afd4ecd4085a173d4cd674e2893();if(!f)return this.enfxr1f872fcfe00d4bc3bec9381f5a43aa8c();for(let d=0;a.RHqnb(d,3);d++){let b=this.points[d],l=this.points[a.lSrcb(d+1,3)];if(Xe.gmhyou2cd8839c2b344dad94b9b0db9ac76f4a(f,b,l))return this.enfxr1f872fcfe00d4bc3bec9381f5a43aa8c()}return f}lmmsze9f775d7c1bc54f9cb6ab8dc18385c86f(r){let[a,f,d]=this.points,b={};b.p1=a,b.p2=f;let l={};l.p1=f,l.p2=d;let s={};s.p1=d,s.p2=a;let h=[b,l,s],m=[];for(let y of h)for(let R of r)if(!this.points.some(u=>u.mmziplkcd4f21c8c0f867438bb6e1ce62a25dcf21(R))&&Xe.gmhyou2cd8839c2b344dad94b9b0db9ac76f4a(R,y.p1,y.p2))return m.push(y.p1.hvlrsjcbvd522bf795ee04ce2880f4379ef496777(y.p2)),m;return m}hprcfzx9654e302972d47e18e64eb8c43d3b10b(r){let a=this.skngtbmc66ba7afd4ecd4085a173d4cd674e2893();return a?r.some(f=>f.bmiugze8e9f49d4ed542139495d62873fd646b(a))?a:this.enfxr1f872fcfe00d4bc3bec9381f5a43aa8c():this.enfxr1f872fcfe00d4bc3bec9381f5a43aa8c()}enfxr1f872fcfe00d4bc3bec9381f5a43aa8c(){let r={};r.KgEAk=function(u,T){return u<T};let a=r,[f,d,b]=this.points,l={};l.p1=f,l.p2=d;let s={};s.p1=d,s.p2=b;let h={};h.p1=b,h.p2=f;let m=[l,s,h],y=m[0],R=y.p1.dyweu2a6880a449634c148881467dd7fa99f2(y.p2);for(let u=1;a.KgEAk(u,m.length);u++){let T=m[u].p1.dyweu2a6880a449634c148881467dd7fa99f2(m[u].p2);T>R&&(R=T,y=m[u])}return y.p1.hvlrsjcbvd522bf795ee04ce2880f4379ef496777(y.p2)}};var bn=class $e{constructor(r,a,f,d){let b={};b.lUZsH="2|3|1|4|0";let l=b,s=l.lUZsH.split("|"),h=0;for(;;){switch(s[h++]){case"0":this.d3Polygon=r.map(m=>[m.x,m.y]);continue;case"1":this.sectionTag=f;continue;case"2":this.points=r;continue;case"3":this.tag=a;continue;case"4":this.materialTag=d;continue}break}}d3Polygon;static honhlsao20c7556f93d24f2ca1ad9183f4b3a882(r){return new $e(r.points.map(a=>G.honhlsao20c7556f93d24f2ca1ad9183f4b3a882(a)),r.tag,r.sectionTag,r.materialTag)}onttg456e22c2187e4c1e9ce75b088c06da5f(r){let a={iRHeH:function(f,d,b,l){return f(d,b,l)}};for(let f=0,d=this.points.length-1;f<this.points.length;d=f++)if(a.iRHeH(vn,r,this.points[f],this.points[d]))return!0;return!1}bmiugze8e9f49d4ed542139495d62873fd646b(r){let a={rIILY:function(d,b,l){return d(b,l)}};return this.onttg456e22c2187e4c1e9ce75b088c06da5f(r)?!0:a.rIILY(Se,this.d3Polygon,[r.x,r.y])}sncjga9e615aa03c9497e8ded3a72d643122b(r,a){let f={};f.YWrOE=function(l,s){return l%s},f.oCpaW=function(l,s){return l+s},f.pvpeO=function(l,s){return l-s},f.LZOqc=function(l,s){return l-s},f.vlGZH=function(l,s){return l+s},f.BCTkC=function(l,s){return l*s},f.SWCiZ=function(l,s){return l*s},f.yeCNP=function(l,s){return l<s},f.UWZzm=function(l,s){return l/s},f.NcDWx=function(l,s){return l+s},f.BvvaA=function(l,s){return l*s},f.QdPCk=function(l,s){return l+s};let d=f,b=[];for(let l=0;l<r.length;l++){let s=r[l],h=r[d.YWrOE(d.oCpaW(l,1),r.length)],m=d.pvpeO(h.x,s.x),y=d.LZOqc(h.y,s.y),R=Math.sqrt(d.vlGZH(d.BCTkC(m,m),d.SWCiZ(y,y))),u=Math.floor(R/a);b.push(new G(s.x,s.y));for(let T=1;d.yeCNP(T,u);T++){let E=d.UWZzm(d.SWCiZ(T,a),R),P=d.NcDWx(s.x,d.BvvaA(E,m)),D=d.QdPCk(s.y,E*y);b.push(new G(P,D))}}return b}};function vn(x,r,a){let f={lbXWc:function(s,h){return s-h},DcOCC:function(s,h){return s*h},loCAB:function(s,h){return s-h},JMvLy:function(s,h){return s-h},oKyIN:function(s,h){return s-h},QvuYH:function(s,h,m){return s(h,m)},nHsaI:function(s,h){return s-h},krBdv:function(s,h){return s-h},FYHWg:function(s,h){return s<h},gQleN:function(s,h){return s+h},tQaZd:function(s,h){return s**h}},d=f.lbXWc(f.DcOCC(f.loCAB(x.y,r.y),f.JMvLy(a.x,r.x)),(x.x-r.x)*f.oKyIN(a.y,r.y));if(!f.QvuYH(le,Math.abs(d),0))return!1;let b=f.nHsaI(x.x,r.x)*f.oKyIN(a.x,r.x)+f.DcOCC(f.JMvLy(x.y,r.y),f.krBdv(a.y,r.y));if(f.FYHWg(b,0))return!1;let l=f.gQleN(f.tQaZd(a.x-r.x,2),f.loCAB(a.y,r.y)**2);return!(b>l)}function Je(x){let r=x.polygons.map(b=>bn.honhlsao20c7556f93d24f2ca1ad9183f4b3a882(b)),a=x.baseTriangles.map(b=>pn.honhlsao20c7556f93d24f2ca1ad9183f4b3a882(b)),f=a,d=[];for(let b of f){let l=b.iakiojtxf57ff6a568b747338e62f15025000f9d(),s=r.find(h=>h.bmiugze8e9f49d4ed542139495d62873fd646b(l));s&&(b.vqwhvaqxnb1e216cebb8f430f8944b3edc1c90c75(s.tag,s.sectionTag,s.materialTag),d.push(b))}return{triangles:d.map(b=>b.wzydtqzak0871b44dee9145809f192b6fba36325f())}}var Re=mn(tt());var nt=(x,r,a="")=>`View3dModel-${x}-${r}${a}`,rt=x=>`Triangles-${x}`;var gn=2220446049250313e-31;function fe(x,r,a,f){let d=Math.abs(x-r);return a==null&&(a=gn),f==null&&(f=a),d<=a||d<=f*Math.min(Math.abs(x),Math.abs(r))?!0:x===r}var $=class extends Error{constructor(r){super(r)}};function ot(x){if(x.length<3)throw new $("At least three vertices are required to form a face.");return{vertices:[...x.filter(r=>r)],results:[]}}var ce=x=>{let r=(x.points??"").trim().split(/\s+/).map(f=>f.split(",")),a=[];for(let[f,d]of r){let b=parseFloat(f),l=parseFloat(d);if(Number.isFinite(b)&&Number.isFinite(l))a.push({x:b,y:l});else throw new $("Invalid vertex coordinates")}return{vertices:a}};function at(x){let r=0,a=0,f=0,d=x.length;for(let b=0;b<d;b++){let{x:l,y:s}=x[b],{x:h,y:m}=x[(b+1)%d],y=l*m-h*s;r+=y,a+=(l+h)*y,f+=(s+m)*y}return r*=.5,r===0?{x:0,y:0}:(a/=6*r,f/=6*r,{x:a,y:f})}function*it(x,r){let a=[...new Set(r.rectangles.map(u=>u.name).concat(r.polygons.map(u=>u.name)))],f=[];for(let u of x){let T=u.points.map(D=>Tn(D)),E=ot(T);if(a.indexOf(u.name)===-1)throw new $(`Geometry name ${u.name} not found in geometry rectangles or polygons.`);f.push(E)}let d=r.supports.map(u=>Sn(u)),b=x.flatMap(u=>u.points).map(u=>u.x).reduce((u,T)=>Math.max(u,T),-1/0),l=x.flatMap(u=>u.points).map(u=>u.x).reduce((u,T)=>Math.min(u,T),1/0),s=x.flatMap(u=>u.points).map(u=>u.y).reduce((u,T)=>Math.max(u,T),-1/0),h=x.flatMap(u=>u.points).map(u=>u.y).reduce((u,T)=>Math.min(u,T),1/0),m=b-l,y=s-h,R=[...r.polygons.map(u=>ce(u)),...r.rectangles.map(u=>ie(u))].map(u=>u.vertices.map(T=>({x:T.x,y:T.y}))).map(u=>({points:u}));for(let u of r.loadCases)yield{faces:f,wireframeFaces:[],supports:d,borders:R,loads:wn(u,r),loadCaseTag:u.name,width:m,height:y}}function wn(x,r){let a=[];for(let f of x.pointLoads)fe(f.fx,0)||a.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"point"}),fe(f.fy,0)||a.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of x.distributedLoads){let d=r.polygons.filter(s=>s.name===f.geometryName).map(s=>ce(s)),b=r.rectangles.filter(s=>s.name===f.geometryName).map(s=>ie(s)),l=[...d,...b];for(let s of l){let h=at(s.vertices);fe(f.fx,0)||a.push({x:h.x,y:h.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),fe(f.fy,0)||a.push({x:h.x,y:h.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return a}function Tn(x){return{x:x.x,y:x.y,z:0,ux:0,uy:0,uz:0,value:0}}function Sn(x){return{x:x.x,y:x.y,z:0,ux:x.fixedX,uy:x.fixedY,uz:!1}}addEventListener("message",({data:x})=>{En(x)});var En=async x=>{let{geometry:r,uuid:a,baseTriangles:f}=x,d=r.loadCases.flatMap(E=>E.pointLoads).map(E=>({x:E.x,y:E.y})),b=r.supports.map(E=>({x:E.x,y:E.y})),l=r.resultPoints.map(E=>({x:E.x,y:E.y})),s=r.rectangles.map(E=>Dn(E)),h=r.polygons.map(E=>Nn(E)),m=s.concat(h),y={maxTriangleArea:r.meshingConfiguration.maxMeshArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(E=>Pn(E))},u=Je({polygons:m,extraPoints:d.concat(b).concat(l),meshingConfiguration:y,baseTriangles:f.map(E=>An(E))}).triangles.map(E=>Rn(E));await Re.setItem(rt(a),u);for(let E of it(u,r))await Re.setItem(nt(a,E.loadCaseTag),E);postMessage({uuid:a})},Pn=x=>({radius:x.radius,maxTriangleArea:x.maxArea,center:{x:x.x,y:x.y}}),In=x=>({x:x.x,y:x.y}),Rn=x=>({points:x.points.map(a=>In(a)),name:x.tag,sectionTag:x.sectionTag,materialTag:x.materialTag}),Dn=x=>({points:ie(x).vertices.map(a=>({x:a.x,y:a.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),Nn=x=>({points:ce(x).vertices.map(a=>({x:a.x,y:a.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),An=x=>({points:x.points.map(a=>({x:a.x,y:a.y}))});
