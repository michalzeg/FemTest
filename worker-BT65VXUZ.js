var vn=Object.create;var rt=Object.defineProperty;var gn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames;var wn=Object.getPrototypeOf,Tn=Object.prototype.hasOwnProperty;var ae=(h=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(h,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):h)(function(h){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+h+'" is not supported')});var Ie=(h,r)=>()=>(r||h((r={exports:{}}).exports,r),r.exports);var Sn=(h,r,o,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of _n(r))!Tn.call(h,u)&&u!==o&&rt(h,u,{get:()=>r[u],enumerable:!(f=gn(r,u))||f.enumerable});return h};var ie=(h,r,o)=>(o=h!=null?vn(wn(h)):{},Sn(r||!h||!h.__esModule?rt(o,"default",{value:h,enumerable:!0}):o,h));var me=Ie((kn,ot)=>{"use strict";var Re=Math.abs,Pn=Math.min;function he(h,r,o,f){var u=Re(h-r);return o==null&&(o=he.DBL_EPSILON),f==null&&(f=o),u<=o||u<=f*Pn(Re(h),Re(r))?!0:h===r}he.FLT_EPSILON=11920929e-14;he.DBL_EPSILON=2220446049250313e-31;ot.exports=he});var dt=Ie((ut,Be)=>{"use strict";(function(h){if(typeof ut=="object"&&typeof Be<"u")Be.exports=h();else if(typeof define=="function"&&define.amd)define([],h);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=h()}})(function(){var h,r,o;return function f(u,x,l){function c(v,A){if(!x[v]){if(!u[v]){var d=typeof ae=="function"&&ae;if(!A&&d)return d(v,!0);if(m)return m(v,!0);var w=new Error("Cannot find module '"+v+"'");throw w.code="MODULE_NOT_FOUND",w}var E=x[v]={exports:{}};u[v][0].call(E.exports,function(I){var R=u[v][1][I];return c(R||I)},E,E.exports,f,u,x,l)}return x[v].exports}for(var m=typeof ae=="function"&&ae,b=0;b<l.length;b++)c(l[b]);return c}({1:[function(f,u,x){(function(l){"use strict";var c=l.MutationObserver||l.WebKitMutationObserver,m;if(c){var b=0,v=new c(I),A=l.document.createTextNode("");v.observe(A,{characterData:!0}),m=function(){A.data=b=++b%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var d=new l.MessageChannel;d.port1.onmessage=I,m=function(){d.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?m=function(){var V=l.document.createElement("script");V.onreadystatechange=function(){I(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},l.document.documentElement.appendChild(V)}:m=function(){setTimeout(I,0)};var w,E=[];function I(){w=!0;for(var V,X,z=E.length;z;){for(X=E,E=[],V=-1;++V<z;)X[V]();z=E.length}w=!1}u.exports=R;function R(V){E.push(V)===1&&!w&&m()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,u,x){"use strict";var l=f(1);function c(){}var m={},b=["REJECTED"],v=["FULFILLED"],A=["PENDING"];u.exports=d;function d(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,S!==c&&R(this,S)}d.prototype.catch=function(S){return this.then(null,S)},d.prototype.then=function(S,N){if(typeof S!="function"&&this.state===v||typeof N!="function"&&this.state===b)return this;var M=new this.constructor(c);if(this.state!==A){var C=this.state===v?S:N;E(M,C,this.outcome)}else this.queue.push(new w(M,S,N));return M};function w(S,N,M){this.promise=S,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}w.prototype.callFulfilled=function(S){m.resolve(this.promise,S)},w.prototype.otherCallFulfilled=function(S){E(this.promise,this.onFulfilled,S)},w.prototype.callRejected=function(S){m.reject(this.promise,S)},w.prototype.otherCallRejected=function(S){E(this.promise,this.onRejected,S)};function E(S,N,M){l(function(){var C;try{C=N(M)}catch(F){return m.reject(S,F)}C===S?m.reject(S,new TypeError("Cannot resolve promise with itself")):m.resolve(S,C)})}m.resolve=function(S,N){var M=V(I,N);if(M.status==="error")return m.reject(S,M.value);var C=M.value;if(C)R(S,C);else{S.state=v,S.outcome=N;for(var F=-1,j=S.queue.length;++F<j;)S.queue[F].callFulfilled(N)}return S},m.reject=function(S,N){S.state=b,S.outcome=N;for(var M=-1,C=S.queue.length;++M<C;)S.queue[M].callRejected(N);return S};function I(S){var N=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof N=="function")return function(){N.apply(S,arguments)}}function R(S,N){var M=!1;function C(G){M||(M=!0,m.reject(S,G))}function F(G){M||(M=!0,m.resolve(S,G))}function j(){N(F,C)}var Y=V(j);Y.status==="error"&&C(Y.value)}function V(S,N){var M={};try{M.value=S(N),M.status="success"}catch(C){M.status="error",M.value=C}return M}d.resolve=X;function X(S){return S instanceof this?S:m.resolve(new this(c),S)}d.reject=z;function z(S){var N=new this(c);return m.reject(N,S)}d.all=be;function be(S){var N=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=S.length,C=!1;if(!M)return this.resolve([]);for(var F=new Array(M),j=0,Y=-1,G=new this(c);++Y<M;)U(S[Y],Y);return G;function U(ne,ue){N.resolve(ne).then(xe,function(ee){C||(C=!0,m.reject(G,ee))});function xe(ee){F[ue]=ee,++j===M&&!C&&(C=!0,m.resolve(G,F))}}}d.race=J;function J(S){var N=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=S.length,C=!1;if(!M)return this.resolve([]);for(var F=-1,j=new this(c);++F<M;)Y(S[F]);return j;function Y(G){N.resolve(G).then(function(U){C||(C=!0,m.resolve(j,U))},function(U){C||(C=!0,m.reject(j,U))})}}},{1:1}],3:[function(f,u,x){(function(l){"use strict";typeof l.Promise!="function"&&(l.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,u,x){"use strict";var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function m(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var b=m();function v(){try{if(!b||!b.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function A(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(a){if(a.name!=="TypeError")throw a;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,s=0;s<e.length;s+=1)i.append(e[s]);return i.getBlob(n.type)}}typeof Promise>"u"&&f(3);var d=Promise;function w(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function E(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function I(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function R(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var V="local-forage-detect-blob-support",X=void 0,z={},be=Object.prototype.toString,J="readonly",S="readwrite";function N(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),s=0;s<n;s++)i[s]=e.charCodeAt(s);return t}function M(e){return new d(function(n){var t=e.transaction(V,S),i=A([""]);t.objectStore(V).put(i,"key"),t.onabort=function(s){s.preventDefault(),s.stopPropagation(),n(!1)},t.oncomplete=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);n(a||!s||parseInt(s[1],10)>=43)}}).catch(function(){return!1})}function C(e){return typeof X=="boolean"?d.resolve(X):M(e).then(function(n){return X=n,X})}function F(e){var n=z[e.name],t={};t.promise=new d(function(i,s){t.resolve=i,t.reject=s}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function j(e){var n=z[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function Y(e,n){var t=z[e.name],i=t.deferredOperations.pop();if(i)return i.reject(n),i.promise}function G(e,n){return new d(function(t,i){if(z[e.name]=z[e.name]||Oe(),e.db)if(n)F(e),e.db.close();else return t(e.db);var s=[e.name];n&&s.push(e.version);var a=b.open.apply(b,s);n&&(a.onupgradeneeded=function(p){var y=a.result;try{y.createObjectStore(e.storeName),p.oldVersion<=1&&y.createObjectStore(V)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw g}}),a.onerror=function(p){p.preventDefault(),i(a.error)},a.onsuccess=function(){var p=a.result;p.onversionchange=function(y){y.target.close()},t(p),j(e)}})}function U(e){return G(e,!1)}function ne(e){return G(e,!0)}function ue(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,s=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),s||t){if(t){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function xe(e){return new d(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(s){var a=btoa(s.target.result||"");n({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var n=N(atob(e.data));return A([n],{type:e.type})}function qe(e){return e&&e.__local_forage_encoded_blob}function vt(e){var n=this,t=n._initReady().then(function(){var i=z[n._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return E(t,e,e),t}function gt(e){F(e);for(var n=z[e.name],t=n.forages,i=0;i<t.length;i++){var s=t[i];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,U(e).then(function(a){return e.db=a,ue(e)?ne(e):a}).then(function(a){e.db=n.db=a;for(var p=0;p<t.length;p++)t[p]._dbInfo.db=a}).catch(function(a){throw Y(e,a),a})}function H(e,n,t,i){i===void 0&&(i=1);try{var s=e.db.transaction(e.storeName,n);t(null,s)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return d.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return gt(e).then(function(){H(e,n,t,i-1)})}).catch(t);t(a)}}function Oe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _t(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var s=z[t.name];s||(s=Oe(),z[t.name]=s),s.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=vt);var a=[];function p(){return d.resolve()}for(var y=0;y<s.forages.length;y++){var g=s.forages[y];g!==n&&a.push(g._initReady().catch(p))}var _=s.forages.slice(0);return d.all(a).then(function(){return t.db=s.db,U(t)}).then(function(T){return t.db=T,ue(t,n._defaultConfig.version)?ne(t):T}).then(function(T){t.db=s.db=T,n._dbInfo=t;for(var P=0;P<_.length;P++){var D=_[P];D!==n&&(D._dbInfo.db=t.db,D._dbInfo.version=t.version)}})}function wt(e,n){var t=this;e=I(e);var i=new d(function(s,a){t.ready().then(function(){H(t._dbInfo,J,function(p,y){if(p)return a(p);try{var g=y.objectStore(t._dbInfo.storeName),_=g.get(e);_.onsuccess=function(){var T=_.result;T===void 0&&(T=null),qe(T)&&(T=ee(T)),s(T)},_.onerror=function(){a(_.error)}}catch(T){a(T)}})}).catch(a)});return w(i,n),i}function Tt(e,n){var t=this,i=new d(function(s,a){t.ready().then(function(){H(t._dbInfo,J,function(p,y){if(p)return a(p);try{var g=y.objectStore(t._dbInfo.storeName),_=g.openCursor(),T=1;_.onsuccess=function(){var P=_.result;if(P){var D=P.value;qe(D)&&(D=ee(D));var B=e(D,P.key,T++);B!==void 0?s(B):P.continue()}else s()},_.onerror=function(){a(_.error)}}catch(P){a(P)}})}).catch(a)});return w(i,n),i}function St(e,n,t){var i=this;e=I(e);var s=new d(function(a,p){var y;i.ready().then(function(){return y=i._dbInfo,be.call(n)==="[object Blob]"?C(y.db).then(function(g){return g?n:xe(n)}):n}).then(function(g){H(i._dbInfo,S,function(_,T){if(_)return p(_);try{var P=T.objectStore(i._dbInfo.storeName);g===null&&(g=void 0);var D=P.put(g,e);T.oncomplete=function(){g===void 0&&(g=null),a(g)},T.onabort=T.onerror=function(){var B=D.error?D.error:D.transaction.error;p(B)}}catch(B){p(B)}})}).catch(p)});return w(s,t),s}function Pt(e,n){var t=this;e=I(e);var i=new d(function(s,a){t.ready().then(function(){H(t._dbInfo,S,function(p,y){if(p)return a(p);try{var g=y.objectStore(t._dbInfo.storeName),_=g.delete(e);y.oncomplete=function(){s()},y.onerror=function(){a(_.error)},y.onabort=function(){var T=_.error?_.error:_.transaction.error;a(T)}}catch(T){a(T)}})}).catch(a)});return w(i,n),i}function Et(e){var n=this,t=new d(function(i,s){n.ready().then(function(){H(n._dbInfo,S,function(a,p){if(a)return s(a);try{var y=p.objectStore(n._dbInfo.storeName),g=y.clear();p.oncomplete=function(){i()},p.onabort=p.onerror=function(){var _=g.error?g.error:g.transaction.error;s(_)}}catch(_){s(_)}})}).catch(s)});return w(t,e),t}function It(e){var n=this,t=new d(function(i,s){n.ready().then(function(){H(n._dbInfo,J,function(a,p){if(a)return s(a);try{var y=p.objectStore(n._dbInfo.storeName),g=y.count();g.onsuccess=function(){i(g.result)},g.onerror=function(){s(g.error)}}catch(_){s(_)}})}).catch(s)});return w(t,e),t}function Rt(e,n){var t=this,i=new d(function(s,a){if(e<0){s(null);return}t.ready().then(function(){H(t._dbInfo,J,function(p,y){if(p)return a(p);try{var g=y.objectStore(t._dbInfo.storeName),_=!1,T=g.openKeyCursor();T.onsuccess=function(){var P=T.result;if(!P){s(null);return}e===0||_?s(P.key):(_=!0,P.advance(e))},T.onerror=function(){a(T.error)}}catch(P){a(P)}})}).catch(a)});return w(i,n),i}function At(e){var n=this,t=new d(function(i,s){n.ready().then(function(){H(n._dbInfo,J,function(a,p){if(a)return s(a);try{var y=p.objectStore(n._dbInfo.storeName),g=y.openKeyCursor(),_=[];g.onsuccess=function(){var T=g.result;if(!T){i(_);return}_.push(T.key),T.continue()},g.onerror=function(){s(g.error)}}catch(T){s(T)}})}).catch(s)});return w(t,e),t}function Dt(e,n){n=R.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,s;if(!e.name)s=d.reject("Invalid arguments");else{var a=e.name===t.name&&i._dbInfo.db,p=a?d.resolve(i._dbInfo.db):U(e).then(function(y){var g=z[e.name],_=g.forages;g.db=y;for(var T=0;T<_.length;T++)_[T]._dbInfo.db=y;return y});e.storeName?s=p.then(function(y){if(y.objectStoreNames.contains(e.storeName)){var g=y.version+1;F(e);var _=z[e.name],T=_.forages;y.close();for(var P=0;P<T.length;P++){var D=T[P];D._dbInfo.db=null,D._dbInfo.version=g}var B=new d(function(L,O){var q=b.open(e.name,g);q.onerror=function(k){var oe=q.result;oe.close(),O(k)},q.onupgradeneeded=function(){var k=q.result;k.deleteObjectStore(e.storeName)},q.onsuccess=function(){var k=q.result;k.close(),L(k)}});return B.then(function(L){_.db=L;for(var O=0;O<T.length;O++){var q=T[O];q._dbInfo.db=L,j(q._dbInfo)}}).catch(function(L){throw(Y(e,L)||d.resolve()).catch(function(){}),L})}}):s=p.then(function(y){F(e);var g=z[e.name],_=g.forages;y.close();for(var T=0;T<_.length;T++){var P=_[T];P._dbInfo.db=null}var D=new d(function(B,L){var O=b.deleteDatabase(e.name);O.onerror=function(){var q=O.result;q&&q.close(),L(O.error)},O.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},O.onsuccess=function(){var q=O.result;q&&q.close(),B(q)}});return D.then(function(B){g.db=B;for(var L=0;L<_.length;L++){var O=_[L];j(O._dbInfo)}}).catch(function(B){throw(Y(e,B)||d.resolve()).catch(function(){}),B})})}return w(s,n),s}var Mt={_driver:"asyncStorage",_initStorage:_t,_support:v(),iterate:Tt,getItem:wt,setItem:St,removeItem:Pt,clear:Et,length:It,key:Rt,keys:At,dropInstance:Dt};function Nt(){return typeof openDatabase=="function"}var Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bt="~~local_forage_type~",Ve=/^~~local_forage_type~([^~]+)~/,de="__lfsc__:",ye=de.length,ve="arbf",ge="blob",ze="si08",Fe="ui08",je="uic8",We="si16",Ye="si32",Ge="ur16",ke="ui32",Ke="fl32",Xe="fl64",Ue=ye+ve.length,He=Object.prototype.toString;function Qe(e){var n=e.length*.75,t=e.length,i,s=0,a,p,y,g;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var _=new ArrayBuffer(n),T=new Uint8Array(_);for(i=0;i<t;i+=4)a=Q.indexOf(e[i]),p=Q.indexOf(e[i+1]),y=Q.indexOf(e[i+2]),g=Q.indexOf(e[i+3]),T[s++]=a<<2|p>>4,T[s++]=(p&15)<<4|y>>2,T[s++]=(y&3)<<6|g&63;return _}function _e(e){var n=new Uint8Array(e),t="",i;for(i=0;i<n.length;i+=3)t+=Q[n[i]>>2],t+=Q[(n[i]&3)<<4|n[i+1]>>4],t+=Q[(n[i+1]&15)<<2|n[i+2]>>6],t+=Q[n[i+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function Lt(e,n){var t="";if(e&&(t=He.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&He.call(e.buffer)==="[object ArrayBuffer]")){var i,s=de;e instanceof ArrayBuffer?(i=e,s+=ve):(i=e.buffer,t==="[object Int8Array]"?s+=ze:t==="[object Uint8Array]"?s+=Fe:t==="[object Uint8ClampedArray]"?s+=je:t==="[object Int16Array]"?s+=We:t==="[object Uint16Array]"?s+=Ge:t==="[object Int32Array]"?s+=Ye:t==="[object Uint32Array]"?s+=ke:t==="[object Float32Array]"?s+=Ke:t==="[object Float64Array]"?s+=Xe:n(new Error("Failed to get type for BinaryArray"))),n(s+_e(i))}else if(t==="[object Blob]"){var a=new FileReader;a.onload=function(){var p=Bt+e.type+"~"+_e(this.result);n(de+ge+p)},a.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(p){console.error("Couldn't convert value into a JSON string: ",e),n(null,p)}}function Ct(e){if(e.substring(0,ye)!==de)return JSON.parse(e);var n=e.substring(Ue),t=e.substring(ye,Ue),i;if(t===ge&&Ve.test(n)){var s=n.match(Ve);i=s[1],n=n.substring(s[0].length)}var a=Qe(n);switch(t){case ve:return a;case ge:return A([a],{type:i});case ze:return new Int8Array(a);case Fe:return new Uint8Array(a);case je:return new Uint8ClampedArray(a);case We:return new Int16Array(a);case Ge:return new Uint16Array(a);case Ye:return new Int32Array(a);case ke:return new Uint32Array(a);case Ke:return new Float32Array(a);case Xe:return new Float64Array(a);default:throw new Error("Unkown type: "+t)}}var we={serialize:Lt,deserialize:Ct,stringToBuffer:Qe,bufferToString:_e};function Ze(e,n,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function qt(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var s=new d(function(a,p){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(y){return p(y)}t.db.transaction(function(y){Ze(y,t,function(){n._dbInfo=t,a()},function(g,_){p(_)})},p)});return t.serializer=we,s}function Z(e,n,t,i,s,a){e.executeSql(t,i,s,function(p,y){y.code===y.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(g,_){_.rows.length?a(g,y):Ze(g,n,function(){g.executeSql(t,i,s,a)},a)},a):a(p,y)},a)}function Ot(e,n){var t=this;e=I(e);var i=new d(function(s,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){Z(y,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[e],function(g,_){var T=_.rows.length?_.rows.item(0).value:null;T&&(T=p.serializer.deserialize(T)),s(T)},function(g,_){a(_)})})}).catch(a)});return w(i,n),i}function Vt(e,n){var t=this,i=new d(function(s,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){Z(y,p,"SELECT * FROM "+p.storeName,[],function(g,_){for(var T=_.rows,P=T.length,D=0;D<P;D++){var B=T.item(D),L=B.value;if(L&&(L=p.serializer.deserialize(L)),L=e(L,B.key,D+1),L!==void 0){s(L);return}}s()},function(g,_){a(_)})})}).catch(a)});return w(i,n),i}function $e(e,n,t,i){var s=this;e=I(e);var a=new d(function(p,y){s.ready().then(function(){n===void 0&&(n=null);var g=n,_=s._dbInfo;_.serializer.serialize(n,function(T,P){P?y(P):_.db.transaction(function(D){Z(D,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[e,T],function(){p(g)},function(B,L){y(L)})},function(D){if(D.code===D.QUOTA_ERR){if(i>0){p($e.apply(s,[e,g,t,i-1]));return}y(D)}})})}).catch(y)});return w(a,t),a}function zt(e,n,t){return $e.apply(this,[e,n,t,1])}function Ft(e,n){var t=this;e=I(e);var i=new d(function(s,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){Z(y,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[e],function(){s()},function(g,_){a(_)})})}).catch(a)});return w(i,n),i}function jt(e){var n=this,t=new d(function(i,s){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Z(p,a,"DELETE FROM "+a.storeName,[],function(){i()},function(y,g){s(g)})})}).catch(s)});return w(t,e),t}function Wt(e){var n=this,t=new d(function(i,s){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Z(p,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(y,g){var _=g.rows.item(0).c;i(_)},function(y,g){s(g)})})}).catch(s)});return w(t,e),t}function Yt(e,n){var t=this,i=new d(function(s,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){Z(y,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[e+1],function(g,_){var T=_.rows.length?_.rows.item(0).key:null;s(T)},function(g,_){a(_)})})}).catch(a)});return w(i,n),i}function Gt(e){var n=this,t=new d(function(i,s){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Z(p,a,"SELECT key FROM "+a.storeName,[],function(y,g){for(var _=[],T=0;T<g.rows.length;T++)_.push(g.rows.item(T).key);i(_)},function(y,g){s(g)})})}).catch(s)});return w(t,e),t}function kt(e){return new d(function(n,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(s,a){for(var p=[],y=0;y<a.rows.length;y++)p.push(a.rows.item(y).name);n({db:e,storeNames:p})},function(s,a){t(a)})},function(i){t(i)})})}function Kt(e,n){n=R.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,s;return e.name?s=new d(function(a){var p;e.name===t.name?p=i._dbInfo.db:p=openDatabase(e.name,"","",0),e.storeName?a({db:p,storeNames:[e.storeName]}):a(kt(p))}).then(function(a){return new d(function(p,y){a.db.transaction(function(g){function _(B){return new d(function(L,O){g.executeSql("DROP TABLE IF EXISTS "+B,[],function(){L()},function(q,k){O(k)})})}for(var T=[],P=0,D=a.storeNames.length;P<D;P++)T.push(_(a.storeNames[P]));d.all(T).then(function(){p()}).catch(function(B){y(B)})},function(g){y(g)})})}):s=d.reject("Invalid arguments"),w(s,n),s}var Xt={_driver:"webSQLStorage",_initStorage:qt,_support:Nt(),iterate:Vt,getItem:Ot,setItem:zt,removeItem:Ft,clear:jt,length:Wt,key:Yt,keys:Gt,dropInstance:Kt};function Ut(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Je(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Ht(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Qt(){return!Ht()||localStorage.length>0}function Zt(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=Je(e,n._defaultConfig),Qt()?(n._dbInfo=t,t.serializer=we,d.resolve()):d.reject()}function $t(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo.keyPrefix,s=localStorage.length-1;s>=0;s--){var a=localStorage.key(s);a.indexOf(i)===0&&localStorage.removeItem(a)}});return w(t,e),t}function Jt(e,n){var t=this;e=I(e);var i=t.ready().then(function(){var s=t._dbInfo,a=localStorage.getItem(s.keyPrefix+e);return a&&(a=s.serializer.deserialize(a)),a});return w(i,n),i}function en(e,n){var t=this,i=t.ready().then(function(){for(var s=t._dbInfo,a=s.keyPrefix,p=a.length,y=localStorage.length,g=1,_=0;_<y;_++){var T=localStorage.key(_);if(T.indexOf(a)===0){var P=localStorage.getItem(T);if(P&&(P=s.serializer.deserialize(P)),P=e(P,T.substring(p),g++),P!==void 0)return P}}});return w(i,n),i}function tn(e,n){var t=this,i=t.ready().then(function(){var s=t._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(s.keyPrefix.length)),a});return w(i,n),i}function nn(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo,s=localStorage.length,a=[],p=0;p<s;p++){var y=localStorage.key(p);y.indexOf(i.keyPrefix)===0&&a.push(y.substring(i.keyPrefix.length))}return a});return w(t,e),t}function rn(e){var n=this,t=n.keys().then(function(i){return i.length});return w(t,e),t}function on(e,n){var t=this;e=I(e);var i=t.ready().then(function(){var s=t._dbInfo;localStorage.removeItem(s.keyPrefix+e)});return w(i,n),i}function an(e,n,t){var i=this;e=I(e);var s=i.ready().then(function(){n===void 0&&(n=null);var a=n;return new d(function(p,y){var g=i._dbInfo;g.serializer.serialize(n,function(_,T){if(T)y(T);else try{localStorage.setItem(g.keyPrefix+e,_),p(a)}catch(P){(P.name==="QuotaExceededError"||P.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(P),y(P)}})})});return w(s,t),s}function fn(e,n){if(n=R.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,s;return e.name?s=new d(function(a){e.storeName?a(Je(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var p=localStorage.length-1;p>=0;p--){var y=localStorage.key(p);y.indexOf(a)===0&&localStorage.removeItem(y)}}):s=d.reject("Invalid arguments"),w(s,n),s}var sn={_driver:"localStorageWrapper",_initStorage:Zt,_support:Ut(),iterate:en,getItem:Jt,setItem:an,removeItem:on,clear:$t,length:rn,key:tn,keys:nn,dropInstance:fn},cn=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},un=function(n,t){for(var i=n.length,s=0;s<i;){if(cn(n[s],t))return!0;s++}return!1},et=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},tt={},te={INDEXEDDB:Mt,WEBSQL:Xt,LOCALSTORAGE:sn},dn=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],le=["dropInstance"],Te=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(le),ln={description:"",driver:dn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function hn(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function Se(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(et(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var mn=function(){function e(n){c(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],s=i._driver;this[t]=s,re[s]||this.defineDriver(i)}this._defaultConfig=Se({},ln),this._config=Se({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":l(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,s){var a=new d(function(p,y){try{var g=t._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){y(_);return}for(var T=Te.concat("_initStorage"),P=0,D=T.length;P<D;P++){var B=T[P],L=!un(le,B);if((L||t[B])&&typeof t[B]!="function"){y(_);return}}var O=function(){for(var oe=function(xn){return function(){var yn=new Error("Method "+xn+" is not implemented by the current driver"),nt=d.reject(yn);return w(nt,arguments[arguments.length-1]),nt}},Pe=0,bn=le.length;Pe<bn;Pe++){var Ee=le[Pe];t[Ee]||(t[Ee]=oe(Ee))}};O();var q=function(oe){re[g]&&console.info("Redefining LocalForage driver: "+g),re[g]=t,tt[g]=oe,p()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(q,y):q(!!t._support):q(!0)}catch(k){y(k)}});return E(a,i,s),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,s){var a=re[t]?d.resolve(re[t]):d.reject(new Error("Driver not found."));return E(a,i,s),a},e.prototype.getSerializer=function(t){var i=d.resolve(we);return E(i,t),i},e.prototype.ready=function(t){var i=this,s=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return E(s,t,t),s},e.prototype.setDriver=function(t,i,s){var a=this;et(t)||(t=[t]);var p=this._getSupportedDrivers(t);function y(){a._config.driver=a.driver()}function g(P){return a._extend(P),y(),a._ready=a._initStorage(a._config),a._ready}function _(P){return function(){var D=0;function B(){for(;D<P.length;){var L=P[D];return D++,a._dbInfo=null,a._ready=null,a.getDriver(L).then(g).catch(B)}y();var O=new Error("No available storage method found.");return a._driverSet=d.reject(O),a._driverSet}return B()}}var T=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=T.then(function(){var P=p[0];return a._dbInfo=null,a._ready=null,a.getDriver(P).then(function(D){a._driver=D._driver,y(),a._wrapLibraryMethodsWithReady(),a._initDriver=_(p)})}).catch(function(){y();var P=new Error("No available storage method found.");return a._driverSet=d.reject(P),a._driverSet}),E(this._driverSet,i,s),this._driverSet},e.prototype.supports=function(t){return!!tt[t]},e.prototype._extend=function(t){Se(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],s=0,a=t.length;s<a;s++){var p=t[s];this.supports(p)&&i.push(p)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=Te.length;t<i;t++)hn(this,Te[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),pn=new mn;u.exports=pn},{3:3}]},{},[4])(4)})});var bt=Ie((rr,pt)=>{"use strict";var Le=Math.abs,Mn=Math.min;function pe(h,r,o,f){var u=Le(h-r);return o==null&&(o=pe.DBL_EPSILON),f==null&&(f=o),u<=o||u<=f*Mn(Le(h),Le(r))?!0:h===r}pe.FLT_EPSILON=11920929e-14;pe.DBL_EPSILON=2220446049250313e-31;pt.exports=pe});var fe=h=>({vertices:[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}]});var Me=ie(me(),1),it=ie(me(),1);function Ae(h,r){for(var o=h.length,f=h[o-1],u=r[0],x=r[1],l=f[0],c=f[1],m,b,v=!1,A=0;A<o;++A)f=h[A],m=f[0],b=f[1],b>x!=c>x&&u<(l-m)*(x-b)/(c-b)+m&&(v=!v),l=m,c=b;return v}var ft=ie(me(),1);var K=class Ne{constructor(r,o){this.x=r,this.y=o}static hgsnlzqvob27261568bfe4336a80f3f59776018ee(r){return new Ne(r.x,r.y)}yhjfbnpwv4eddf92d110348c0905a3980bbf82475(){let r={};return r.x=this.x,r.y=this.y,r}rhocrvrn56246012da2f48f28d2b76cf8b668a65(r){let o={gBGVR:function(u,x,l){return u(x,l)}};return o.gBGVR(Me.default,this.x,r.x)&&o.gBGVR(Me.default,this.y,r.y)}ryxvhjue39148183f2c449caf75841804a59d43(){return[this.x,this.y]}selegxbi734a6dd3256c44df86bdf1483ddeff8f(r){let o={};o.Ysfhw=function(l,c){return l/c},o.OopOI=function(l,c){return l+c};let f=o,u=f.Ysfhw(f.OopOI(this.x,r.x),2),x=f.Ysfhw(f.OopOI(this.y,r.y),2);return new Ne(u,x)}bwryqx0c1e319ab16848f8965da19b1a00335e(r){let o={};o.nHZYz=function(l,c){return l-c},o.XWgPA=function(l,c){return l+c},o.fEIjI=function(l,c){return l*c};let f=o,u=f.nHZYz(r.x,this.x),x=f.nHZYz(r.y,this.y);return Math.sqrt(f.XWgPA(u*u,f.fEIjI(x,x)))}};function De(h,r,o){let f={};f.IIPTp=function(d,w){return d-w},f.MdFdk=function(d,w){return d+w},f.zlBck=function(d,w){return d*w},f.KvgFS=function(d,w){return d===w},f.seMfX=function(d,w){return d/w};let u=f,x={};x.x=h.x-r.x,x.y=h.y-r.y;let l=x,c={x:u.IIPTp(o.x,r.x),y:u.IIPTp(o.y,r.y)},m=u.MdFdk(u.zlBck(l.x,c.x),u.zlBck(l.y,c.y)),b=Math.hypot(l.x,l.y),v=Math.hypot(c.x,c.y);if(u.KvgFS(b,0)||u.KvgFS(v,0))return 0;let A=Math.min(1,Math.max(-1,u.seMfX(m,u.zlBck(b,v))));return Math.acos(A)}var at=class{static ndksdanruqc47f83b069ab459fa39529582de0774f(h,r,o){let f={};f.ssdTv=function(m,b){return m/b},f.ysKzo=function(m,b){return m<=b};let u=f,x=r.selegxbi734a6dd3256c44df86bdf1483ddeff8f(o),l=u.ssdTv(r.bwryqx0c1e319ab16848f8965da19b1a00335e(o),2),c=x.bwryqx0c1e319ab16848f8965da19b1a00335e(h);return u.ysKzo(c,l)}},En=class W{constructor(r){let o={};o.vzaXr="2|4|1|0|3";let f=o,u=f.vzaXr.split("|"),x=0;for(;;){switch(u[x++]){case"0":this.materialTag="";continue;case"1":this.sectionTag="";continue;case"2":this.points=r;continue;case"3":!W.qvctykqffu3487289687654796a8c9e59730372c36(r)&&this.points.reverse();continue;case"4":this.tag="";continue}break}}static hgsnlzqvob27261568bfe4336a80f3f59776018ee(r){return new W(r.points.map(o=>K.hgsnlzqvob27261568bfe4336a80f3f59776018ee(o)))}yhjfbnpwv4eddf92d110348c0905a3980bbf82475(){return{points:this.points.map(r=>r.yhjfbnpwv4eddf92d110348c0905a3980bbf82475()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static qvctykqffu3487289687654796a8c9e59730372c36(r){let o={};o.jQRLV=function(m,b){return m*b},o.KlaWo=function(m,b){return m-b};let f=o,[u,x,l]=r;return f.jQRLV(x.x-u.x,f.KlaWo(l.y,u.y))-f.jQRLV(f.KlaWo(x.y,u.y),f.KlaWo(l.x,u.x))>0}tqchk39de34f8a49744528fecbf1411179b9b(r,o,f){this.tag=r,this.sectionTag=o,this.materialTag=f}sqrjugcwoc9d523dc229844d41bc08cb2d4d3ea368(){let r={};r.iqpFE=function(m,b){return m+b},r.LLgpM=function(m,b){return m/b};let o=r,[f,u,x]=this.points,l=o.iqpFE(o.iqpFE(f.x,u.x),x.x)/3,c=o.LLgpM(o.iqpFE(o.iqpFE(f.y,u.y),x.y),3);return new K(l,c)}brqszrfjbbd2e8fa0ecc48cb98b024c0d181bb7f(r=.1){let o={};o.syMCY=function(b,v){return b-v},o.KZTrn=function(b,v){return b+v},o.EJBxO=function(b,v){return b*v},o.amKfh=function(b,v){return b-v},o.YHygy=function(b,v){return b*v},o.JoiZa=function(b,v){return b*v},o.YesVX=function(b,v){return b/v},o.jPGgi=function(b,v){return b*v},o.pviqP=function(b,v){return b*v};let f=o,u=this.sqrjugcwoc9d523dc229844d41bc08cb2d4d3ea368(),x=this.points.map(b=>{let v=f.syMCY(u.x,b.x),A=u.y-b.y;return Math.sqrt(f.KZTrn(v*v,f.EJBxO(A,A)))}),l=Math.max(...x),c=f.EJBxO(l,r);return this.points.map(b=>{let v=f.amKfh(u.x,b.x),A=f.amKfh(u.y,b.y),d=Math.sqrt(f.YHygy(v,v)+f.JoiZa(A,A)),w=f.YesVX(c,d);return new K(f.KZTrn(b.x,f.jPGgi(v,w)),b.y+f.pviqP(A,w))})}wlieoqa15a17d6e71654bb6bd02bd5262a43467(){let r=this.sqrjugcwoc9d523dc229844d41bc08cb2d4d3ea368();return[new W([this.points[0],this.points[1],r]),new W([this.points[1],this.points[2],r]),new W([this.points[2],this.points[0],r])]}lbrlvt6f2721fb1e524787adbce8de22527667(){let r={};r.XWgci=function(b,v){return b+v},r.UpWUB=function(b,v){return b/v},r.IYSfa=function(b,v){return b+v},r.gCVQF=function(b,v){return b/v},r.gYZNg=function(b,v){return b+v},r.WphKc=function(b,v){return b/v};let o=r,[f,u,x]=this.points,l=new K(o.XWgci(f.x,u.x)/2,o.UpWUB(o.IYSfa(f.y,u.y),2)),c=new K((u.x+x.x)/2,o.gCVQF(o.gYZNg(u.y,x.y),2)),m=new K(o.UpWUB(o.XWgci(x.x,f.x),2),o.WphKc(x.y+f.y,2));return[new W([f,l,m]),new W([l,u,c]),new W([m,c,x]),new W([l,c,m])]}ehhqtaje49c7e28c9f4f45fdbb07f75d43313047(){let r={};r.yPGph=function(I,R){return I*R},r.lYSFr=function(I,R){return I+R},r.dsBLb=function(I,R){return I-R},r.yTase=function(I,R){return I*R},r.httGW=function(I,R){return I+R},r.TiSKZ=function(I,R){return I*R},r.wLlfs=function(I,R){return I*R},r.OBlma=function(I,R){return I*R},r.pdrfy=function(I,R){return I-R},r.ztdTK=function(I,R){return I/R},r.FnFqa=function(I,R){return I*R},r.MHSMn=function(I,R){return I*R},r.kSjAU=function(I,R){return I-R},r.EKfCP=function(I,R){return I*R},r.ycboM=function(I,R){return I*R},r.sXSEk=function(I,R){return I*R},r.XzTyX=function(I,R){return I*R};let o=r,[f,u,x]=this.points,l=f.x,c=f.y,m=u.x,b=u.y,v=x.x,A=x.y,d=o.yPGph(2,o.lYSFr(o.yPGph(l,b-A),m*o.dsBLb(A,c))+o.yTase(v,o.dsBLb(c,b)));if(Math.abs(d)<1e-10)return null;let w=o.lYSFr(o.yPGph(o.httGW(o.TiSKZ(l,l),o.yPGph(c,c)),b-A)+o.wLlfs(o.httGW(m*m,b*b),o.dsBLb(A,c)),o.OBlma(o.lYSFr(o.yTase(v,v),o.TiSKZ(A,A)),o.pdrfy(c,b)))/d,E=o.ztdTK(o.lYSFr(o.TiSKZ(o.FnFqa(l,l)+o.MHSMn(c,c),o.kSjAU(v,m))+o.httGW(o.EKfCP(m,m),o.ycboM(b,b))*(l-v),o.EKfCP(o.lYSFr(o.sXSEk(v,v),o.XzTyX(A,A)),m-l)),d);return new K(w,E)}fzjyysag849d6e5cb99841809f2c8e46584d4276(){let r={};r.wWABd=function(u,x){return u===x};let o=r,f=this.ehhqtaje49c7e28c9f4f45fdbb07f75d43313047();return o.wWABd(f,null)?[]:[new W([this.points[0],this.points[1],f]),new W([this.points[1],this.points[2],f]),new W([this.points[2],this.points[0],f])]}qvnpcdue56b57d51223458b9a4cf377d185cd7c(){let r={};r.scASy=function(w,E){return w*E},r.oQpce=function(w,E){return w+E},r.FMTup=function(w,E){return w+E},r.eylRo=function(w,E){return w-E};let o=r,[f,u,x]=this.points,l=f.x,c=u.x,m=x.x,b=f.y,v=u.y,A=x.y;return o.scASy(.5,Math.abs(o.oQpce(o.FMTup(o.scASy(l,o.eylRo(v,A)),o.scASy(c,A-b)),o.scASy(m,b-v))))}ktbllh6e04b8acef9842728fcd431089621270(){let r={LjdnX:function(f,u,x){return f(u,x)}},o=this.qvnpcdue56b57d51223458b9a4cf377d185cd7c();return r.LjdnX(it.default,o,0)}zpmexc308d4c3c6e94f8984a68c64823a3b67(){let r={OXfwE:function(l,c,m,b){return l(c,m,b)}},[o,f,u]=this.points;return[r.OXfwE(De,f,o,u),De(o,f,u),De(o,u,f)]}fvqdbeok24a7a27f7911411284c00fc14fe68ea2(r=15*Math.PI/180){return!!this.zpmexc308d4c3c6e94f8984a68c64823a3b67().some(f=>f<r)}albgmaxkq5380a3d31626412b87920895190ca68b(){let r={};r.ZNfPE=function(u,x){return u%x},r.yVqPv=function(u,x){return u+x};let o=r,f=this.ehhqtaje49c7e28c9f4f45fdbb07f75d43313047();if(!f)return this.bhyyyzroqbb5fcb6694bd4805baf5dc160cb50b48();for(let u=0;u<3;u++){let x=this.points[u],l=this.points[o.ZNfPE(o.yVqPv(u,1),3)];if(at.ndksdanruqc47f83b069ab459fa39529582de0774f(f,x,l))return this.bhyyyzroqbb5fcb6694bd4805baf5dc160cb50b48()}return f}feqshdjhla864a4fb45824a7594e9a6ed490e8bd9(r){let[o,f,u]=this.points,x={};x.p1=o,x.p2=f;let l={};l.p1=f,l.p2=u;let c={};c.p1=u,c.p2=o;let m=[x,l,c],b=[];for(let v of m)for(let A of r)if(!this.points.some(d=>d.rhocrvrn56246012da2f48f28d2b76cf8b668a65(A))&&at.ndksdanruqc47f83b069ab459fa39529582de0774f(A,v.p1,v.p2))return b.push(v.p1.selegxbi734a6dd3256c44df86bdf1483ddeff8f(v.p2)),b;return b}qaatt2e4aea865dc1407eadd4c0da2c1e5d4a(r){let o=this.ehhqtaje49c7e28c9f4f45fdbb07f75d43313047();return o?r.some(f=>f.ynpnohtvseb5066493d6cd4901a6c135b9f3219655(o))?o:this.bhyyyzroqbb5fcb6694bd4805baf5dc160cb50b48():this.bhyyyzroqbb5fcb6694bd4805baf5dc160cb50b48()}bhyyyzroqbb5fcb6694bd4805baf5dc160cb50b48(){let[r,o,f]=this.points,u={};u.p1=r,u.p2=o;let x={};x.p1=o,x.p2=f;let l={};l.p1=f,l.p2=r;let c=[u,x,l],m=c[0],b=m.p1.bwryqx0c1e319ab16848f8965da19b1a00335e(m.p2);for(let v=1;v<c.length;v++){let A=c[v].p1.bwryqx0c1e319ab16848f8965da19b1a00335e(c[v].p2);A>b&&(b=A,m=c[v])}return m.p1.selegxbi734a6dd3256c44df86bdf1483ddeff8f(m.p2)}};var In=class st{constructor(r,o,f,u){let x={};x.gxMgW="3|4|1|0|2";let l=x,c=l.gxMgW.split("|"),m=0;for(;;){switch(c[m++]){case"0":this.materialTag=u;continue;case"1":this.sectionTag=f;continue;case"2":this.d3Polygon=r.map(b=>[b.x,b.y]);continue;case"3":this.points=r;continue;case"4":this.tag=o;continue}break}}static hgsnlzqvob27261568bfe4336a80f3f59776018ee(r){return new st(r.points.map(o=>K.hgsnlzqvob27261568bfe4336a80f3f59776018ee(o)),r.tag,r.sectionTag,r.materialTag)}kbleuwjb00835c0c83647be84071483093632f6(r){let o={LnVOS:function(f,u){return f-u},pHDxp:function(f,u,x,l){return f(u,x,l)}};for(let f=0,u=o.LnVOS(this.points.length,1);f<this.points.length;u=f++)if(o.pHDxp(Rn,r,this.points[f],this.points[u]))return!0;return!1}ynpnohtvseb5066493d6cd4901a6c135b9f3219655(r){let o={ecqTM:function(u,x,l){return u(x,l)}};return this.kbleuwjb00835c0c83647be84071483093632f6(r)?!0:o.ecqTM(Ae,this.d3Polygon,[r.x,r.y])}vcvdsebhble304828217c14e22b138532b937db912(r,o){let f={};f.mybGB=function(l,c){return l<c},f.jHWei=function(l,c){return l%c},f.YHGTk=function(l,c){return l+c},f.FrQxX=function(l,c){return l-c},f.WWAfI=function(l,c){return l/c},f.dVeyE=function(l,c){return l/c},f.OXDHj=function(l,c){return l*c},f.nNzPm=function(l,c){return l*c},f.fmPAe=function(l,c){return l*c};let u=f,x=[];for(let l=0;u.mybGB(l,r.length);l++){let c=r[l],m=r[u.jHWei(u.YHGTk(l,1),r.length)],b=u.FrQxX(m.x,c.x),v=m.y-c.y,A=Math.sqrt(u.YHGTk(b*b,v*v)),d=Math.floor(u.WWAfI(A,o));x.push(new K(c.x,c.y));for(let w=1;u.mybGB(w,d);w++){let E=u.dVeyE(u.OXDHj(w,o),A),I=u.YHGTk(c.x,u.nNzPm(E,b)),R=u.YHGTk(c.y,u.fmPAe(E,v));x.push(new K(I,R))}}return x}};function Rn(h,r,o){let f={lVBhv:function(c,m){return c-m},pvsgL:function(c,m){return c*m},kiZpx:function(c,m){return c-m},uaCag:function(c,m){return c*m},syvFW:function(c,m,b){return c(m,b)},QvQQq:function(c,m){return c+m},QtTEz:function(c,m){return c*m},kwyjW:function(c,m){return c-m},aPzyw:function(c,m){return c<m},EwcRK:function(c,m){return c**m},cviEN:function(c,m){return c**m},asbPa:function(c,m){return c-m},JioSA:function(c,m){return c>m}},u=f.lVBhv(f.pvsgL(f.lVBhv(h.y,r.y),f.kiZpx(o.x,r.x)),f.uaCag(h.x-r.x,f.kiZpx(o.y,r.y)));if(!f.syvFW(ft.default,Math.abs(u),0))return!1;let x=f.QvQQq(f.QtTEz(f.kiZpx(h.x,r.x),f.lVBhv(o.x,r.x)),f.kwyjW(h.y,r.y)*(o.y-r.y));if(f.aPzyw(x,0))return!1;let l=f.QvQQq(f.EwcRK(o.x-r.x,2),f.cviEN(f.asbPa(o.y,r.y),2));return!f.JioSA(x,l)}function ct(h){let r=h.polygons.map(x=>In.hgsnlzqvob27261568bfe4336a80f3f59776018ee(x)),o=h.baseTriangles.map(x=>En.hgsnlzqvob27261568bfe4336a80f3f59776018ee(x)),f=o,u=[];for(let x of f){let l=x.sqrjugcwoc9d523dc229844d41bc08cb2d4d3ea368(),c=r.find(m=>m.ynpnohtvseb5066493d6cd4901a6c135b9f3219655(l));c&&(x.tqchk39de34f8a49744528fecbf1411179b9b(c.tag,c.sectionTag,c.materialTag),u.push(x))}return{triangles:u.map(x=>x.yhjfbnpwv4eddf92d110348c0905a3980bbf82475())}}var Ce=ie(dt());var lt=(h,r,o="")=>`View3dModel-${h}-${r}${o}`,ht=h=>`Triangles-${h}`;var $=class extends Error{constructor(r){super(r)}};function mt(h){if(h.length<3)throw new $("At least three vertices are required to form a face.");return{vertices:[...h.filter(r=>r)],results:[]}}var ce=ie(bt());var se=h=>{let r=(h.points??"").trim().split(/\s+/).map(f=>f.split(",")),o=[];for(let[f,u]of r){let x=parseFloat(f),l=parseFloat(u);if(Number.isFinite(x)&&Number.isFinite(l))o.push({x,y:l});else throw new $("Invalid vertex coordinates")}return{vertices:o}};function xt(h){let r=0,o=0,f=0,u=h.length;for(let x=0;x<u;x++){let{x:l,y:c}=h[x],{x:m,y:b}=h[(x+1)%u],v=l*b-m*c;r+=v,o+=(l+m)*v,f+=(c+b)*v}return r*=.5,r===0?{x:0,y:0}:(o/=6*r,f/=6*r,{x:o,y:f})}function*yt(h,r){let o=[...new Set(r.rectangles.map(d=>d.name).concat(r.polygons.map(d=>d.name)))],f=[];for(let d of h){let w=d.points.map(R=>Bn(R)),E=mt(w);if(o.indexOf(d.name)===-1)throw new $(`Geometry name ${d.name} not found in geometry rectangles or polygons.`);f.push(E)}let u=r.supports.map(d=>Ln(d)),x=h.flatMap(d=>d.points).map(d=>d.x).reduce((d,w)=>Math.max(d,w),-1/0),l=h.flatMap(d=>d.points).map(d=>d.x).reduce((d,w)=>Math.min(d,w),1/0),c=h.flatMap(d=>d.points).map(d=>d.y).reduce((d,w)=>Math.max(d,w),-1/0),m=h.flatMap(d=>d.points).map(d=>d.y).reduce((d,w)=>Math.min(d,w),1/0),b=x-l,v=c-m,A=[...r.polygons.map(d=>se(d)),...r.rectangles.map(d=>fe(d))].map(d=>d.vertices.map(w=>({x:w.x,y:w.y}))).map(d=>({points:d}));for(let d of r.loadCases)yield{faces:f,wireframeFaces:[],supports:u,borders:A,loads:Nn(d,r),loadCaseTag:d.name,width:b,height:v}}function Nn(h,r){let o=[];for(let f of h.pointLoads)(0,ce.default)(f.fx,0)||o.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"point"}),(0,ce.default)(f.fy,0)||o.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of h.distributedLoads){let u=r.polygons.filter(c=>c.name===f.geometryName).map(c=>se(c)),x=r.rectangles.filter(c=>c.name===f.geometryName).map(c=>fe(c)),l=[...u,...x];for(let c of l){let m=xt(c.vertices);(0,ce.default)(f.fx,0)||o.push({x:m.x,y:m.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),(0,ce.default)(f.fy,0)||o.push({x:m.x,y:m.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return o}function Bn(h){return{x:h.x,y:h.y,z:0,ux:0,uy:0,uz:0,value:0}}function Ln(h){return{x:h.x,y:h.y,z:0,ux:h.fixedX,uy:h.fixedY,uz:!1}}addEventListener("message",({data:h})=>{Cn(h)});var Cn=async h=>{let{geometry:r,uuid:o,baseTriangles:f}=h,u=r.loadCases.flatMap(E=>E.pointLoads).map(E=>({x:E.x,y:E.y})),x=r.supports.map(E=>({x:E.x,y:E.y})),l=r.resultPoints.map(E=>({x:E.x,y:E.y})),c=r.rectangles.map(E=>zn(E)),m=r.polygons.map(E=>Fn(E)),b=c.concat(m),v={maxTriangleArea:r.meshingConfiguration.maxMeshArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(E=>qn(E))},d=ct({polygons:b,extraPoints:u.concat(x).concat(l),meshingConfiguration:v,baseTriangles:f.map(E=>jn(E))}).triangles.map(E=>Vn(E));await Ce.setItem(ht(o),d);for(let E of yt(d,r))await Ce.setItem(lt(o,E.loadCaseTag),E);postMessage({uuid:o})},qn=h=>({radius:h.radius,maxTriangleArea:h.maxArea,center:{x:h.x,y:h.y}}),On=h=>({x:h.x,y:h.y}),Vn=h=>({points:h.points.map(o=>On(o)),name:h.tag,sectionTag:h.sectionTag,materialTag:h.materialTag}),zn=h=>({points:fe(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),Fn=h=>({points:se(h).vertices.map(o=>({x:o.x,y:o.y})),tag:h.name,sectionTag:h.sectionName,materialTag:h.materialName}),jn=h=>({points:h.points.map(o=>({x:o.x,y:o.y}))});
