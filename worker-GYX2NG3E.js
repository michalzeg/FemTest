var ft=Object.create;var He=Object.defineProperty;var ct=Object.getOwnPropertyDescriptor;var st=Object.getOwnPropertyNames;var ut=Object.getPrototypeOf,dt=Object.prototype.hasOwnProperty;var ae=(x=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(x,{get:(r,a)=>(typeof require<"u"?require:r)[a]}):x)(function(x){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+x+'" is not supported')});var lt=(x,r)=>()=>(r||x((r={exports:{}}).exports,r),r.exports);var mt=(x,r,a,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let d of st(r))!dt.call(x,d)&&d!==a&&He(x,d,{get:()=>r[d],enumerable:!(f=ct(r,d))||f.enumerable});return x};var ht=(x,r,a)=>(a=x!=null?ft(ut(x)):{},mt(r||!x||!x.__esModule?He(a,"default",{value:x,enumerable:!0}):a,x));var nn=lt((en,Ie)=>{"use strict";(function(x){if(typeof en=="object"&&typeof Ie<"u")Ie.exports=x();else if(typeof define=="function"&&define.amd)define([],x);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=x()}})(function(){var x,r,a;return function f(d,b,m){function s(v,E){if(!b[v]){if(!d[v]){var u=typeof ae=="function"&&ae;if(!E&&u)return u(v,!0);if(l)return l(v,!0);var S=new Error("Cannot find module '"+v+"'");throw S.code="MODULE_NOT_FOUND",S}var R=b[v]={exports:{}};d[v][0].call(R.exports,function(P){var D=d[v][1][P];return s(D||P)},R,R.exports,f,d,b,m)}return b[v].exports}for(var l=typeof ae=="function"&&ae,h=0;h<m.length;h++)s(m[h]);return s}({1:[function(f,d,b){(function(m){"use strict";var s=m.MutationObserver||m.WebKitMutationObserver,l;if(s){var h=0,v=new s(P),E=m.document.createTextNode("");v.observe(E,{characterData:!0}),l=function(){E.data=h=++h%2}}else if(!m.setImmediate&&typeof m.MessageChannel<"u"){var u=new m.MessageChannel;u.port1.onmessage=P,l=function(){u.port2.postMessage(0)}}else"document"in m&&"onreadystatechange"in m.document.createElement("script")?l=function(){var V=m.document.createElement("script");V.onreadystatechange=function(){P(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},m.document.documentElement.appendChild(V)}:l=function(){setTimeout(P,0)};var S,R=[];function P(){S=!0;for(var V,Z,k=R.length;k;){for(Z=R,R=[],V=-1;++V<k;)Z[V]();k=R.length}S=!1}d.exports=D;function D(V){R.push(V)===1&&!S&&l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,d,b){"use strict";var m=f(1);function s(){}var l={},h=["REJECTED"],v=["FULFILLED"],E=["PENDING"];d.exports=u;function u(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,T!==s&&D(this,T)}u.prototype.catch=function(T){return this.then(null,T)},u.prototype.then=function(T,M){if(typeof T!="function"&&this.state===v||typeof M!="function"&&this.state===h)return this;var N=new this.constructor(s);if(this.state!==E){var z=this.state===v?T:M;R(N,z,this.outcome)}else this.queue.push(new S(N,T,M));return N};function S(T,M,N){this.promise=T,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}S.prototype.callFulfilled=function(T){l.resolve(this.promise,T)},S.prototype.otherCallFulfilled=function(T){R(this.promise,this.onFulfilled,T)},S.prototype.callRejected=function(T){l.reject(this.promise,T)},S.prototype.otherCallRejected=function(T){R(this.promise,this.onRejected,T)};function R(T,M,N){m(function(){var z;try{z=M(N)}catch(F){return l.reject(T,F)}z===T?l.reject(T,new TypeError("Cannot resolve promise with itself")):l.resolve(T,z)})}l.resolve=function(T,M){var N=V(P,M);if(N.status==="error")return l.reject(T,N.value);var z=N.value;if(z)D(T,z);else{T.state=v,T.outcome=M;for(var F=-1,W=T.queue.length;++F<W;)T.queue[F].callFulfilled(M)}return T},l.reject=function(T,M){T.state=h,T.outcome=M;for(var N=-1,z=T.queue.length;++N<z;)T.queue[N].callRejected(M);return T};function P(T){var M=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof M=="function")return function(){M.apply(T,arguments)}}function D(T,M){var N=!1;function z(j){N||(N=!0,l.reject(T,j))}function F(j){N||(N=!0,l.resolve(T,j))}function W(){M(F,z)}var G=V(W);G.status==="error"&&z(G.value)}function V(T,M){var N={};try{N.value=T(M),N.status="success"}catch(z){N.status="error",N.value=z}return N}u.resolve=Z;function Z(T){return T instanceof this?T:l.resolve(new this(s),T)}u.reject=k;function k(T){var M=new this(s);return l.reject(M,T)}u.all=me;function me(T){var M=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=T.length,z=!1;if(!N)return this.resolve([]);for(var F=new Array(N),W=0,G=-1,j=new this(s);++G<N;)q(T[G],G);return j;function q(te,se){M.resolve(te).then(he,function(ee){z||(z=!0,l.reject(j,ee))});function he(ee){F[se]=ee,++W===N&&!z&&(z=!0,l.resolve(j,F))}}}u.race=$;function $(T){var M=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=T.length,z=!1;if(!N)return this.resolve([]);for(var F=-1,W=new this(s);++F<N;)G(T[F]);return W;function G(j){M.resolve(j).then(function(q){z||(z=!0,l.resolve(W,q))},function(q){z||(z=!0,l.reject(W,q))})}}},{1:1}],3:[function(f,d,b){(function(m){"use strict";typeof m.Promise!="function"&&(m.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,d,b){"use strict";var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var h=l();function v(){try{if(!h||!h.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function E(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if(o.name!=="TypeError")throw o;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new n,c=0;c<e.length;c+=1)i.append(e[c]);return i.getBlob(t.type)}}typeof Promise>"u"&&f(3);var u=Promise;function S(e,t){t&&e.then(function(n){t(null,n)},function(n){t(n)})}function R(e,t,n){typeof t=="function"&&e.then(t),typeof n=="function"&&e.catch(n)}function P(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function D(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var V="local-forage-detect-blob-support",Z=void 0,k={},me=Object.prototype.toString,$="readonly",T="readwrite";function M(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),c=0;c<t;c++)i[c]=e.charCodeAt(c);return n}function N(e){return new u(function(t){var n=e.transaction(V,T),i=E([""]);n.objectStore(V).put(i,"key"),n.onabort=function(c){c.preventDefault(),c.stopPropagation(),t(!1)},n.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),o=navigator.userAgent.match(/Edge\//);t(o||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function z(e){return typeof Z=="boolean"?u.resolve(Z):N(e).then(function(t){return Z=t,Z})}function F(e){var t=k[e.name],n={};n.promise=new u(function(i,c){n.resolve=i,n.reject=c}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function W(e){var t=k[e.name],n=t.deferredOperations.pop();if(n)return n.resolve(),n.promise}function G(e,t){var n=k[e.name],i=n.deferredOperations.pop();if(i)return i.reject(t),i.promise}function j(e,t){return new u(function(n,i){if(k[e.name]=k[e.name]||Ae(),e.db)if(t)F(e),e.db.close();else return n(e.db);var c=[e.name];t&&c.push(e.version);var o=h.open.apply(h,c);t&&(o.onupgradeneeded=function(p){var y=o.result;try{y.createObjectStore(e.storeName),p.oldVersion<=1&&y.createObjectStore(V)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw g}}),o.onerror=function(p){p.preventDefault(),i(o.error)},o.onsuccess=function(){var p=o.result;p.onversionchange=function(y){y.target.close()},n(p),W(e)}})}function q(e){return j(e,!1)}function te(e){return j(e,!0)}function se(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,c=e.version>e.db.version;if(i&&(e.version!==t&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),c||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function he(e){return new u(function(t,n){var i=new FileReader;i.onerror=n,i.onloadend=function(c){var o=btoa(c.target.result||"");t({__local_forage_encoded_blob:!0,data:o,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var t=M(atob(e.data));return E([t],{type:e.type})}function De(e){return e&&e.__local_forage_encoded_blob}function cn(e){var t=this,n=t._initReady().then(function(){var i=k[t._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return R(n,e,e),n}function sn(e){F(e);for(var t=k[e.name],n=t.forages,i=0;i<n.length;i++){var c=n[i];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return e.db=null,q(e).then(function(o){return e.db=o,se(e)?te(e):o}).then(function(o){e.db=t.db=o;for(var p=0;p<n.length;p++)n[p]._dbInfo.db=o}).catch(function(o){throw G(e,o),o})}function K(e,t,n,i){i===void 0&&(i=1);try{var c=e.db.transaction(e.storeName,t);n(null,c)}catch(o){if(i>0&&(!e.db||o.name==="InvalidStateError"||o.name==="NotFoundError"))return u.resolve().then(function(){if(!e.db||o.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),te(e)}).then(function(){return sn(e).then(function(){K(e,t,n,i-1)})}).catch(n);n(o)}}function Ae(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function un(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=e[i];var c=k[n.name];c||(c=Ae(),k[n.name]=c),c.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=cn);var o=[];function p(){return u.resolve()}for(var y=0;y<c.forages.length;y++){var g=c.forages[y];g!==t&&o.push(g._initReady().catch(p))}var _=c.forages.slice(0);return u.all(o).then(function(){return n.db=c.db,q(n)}).then(function(w){return n.db=w,se(n,t._defaultConfig.version)?te(n):w}).then(function(w){n.db=c.db=w,t._dbInfo=n;for(var I=0;I<_.length;I++){var A=_[I];A!==t&&(A._dbInfo.db=n.db,A._dbInfo.version=n.version)}})}function dn(e,t){var n=this;e=P(e);var i=new u(function(c,o){n.ready().then(function(){K(n._dbInfo,$,function(p,y){if(p)return o(p);try{var g=y.objectStore(n._dbInfo.storeName),_=g.get(e);_.onsuccess=function(){var w=_.result;w===void 0&&(w=null),De(w)&&(w=ee(w)),c(w)},_.onerror=function(){o(_.error)}}catch(w){o(w)}})}).catch(o)});return S(i,t),i}function ln(e,t){var n=this,i=new u(function(c,o){n.ready().then(function(){K(n._dbInfo,$,function(p,y){if(p)return o(p);try{var g=y.objectStore(n._dbInfo.storeName),_=g.openCursor(),w=1;_.onsuccess=function(){var I=_.result;if(I){var A=I.value;De(A)&&(A=ee(A));var C=e(A,I.key,w++);C!==void 0?c(C):I.continue()}else c()},_.onerror=function(){o(_.error)}}catch(I){o(I)}})}).catch(o)});return S(i,t),i}function mn(e,t,n){var i=this;e=P(e);var c=new u(function(o,p){var y;i.ready().then(function(){return y=i._dbInfo,me.call(t)==="[object Blob]"?z(y.db).then(function(g){return g?t:he(t)}):t}).then(function(g){K(i._dbInfo,T,function(_,w){if(_)return p(_);try{var I=w.objectStore(i._dbInfo.storeName);g===null&&(g=void 0);var A=I.put(g,e);w.oncomplete=function(){g===void 0&&(g=null),o(g)},w.onabort=w.onerror=function(){var C=A.error?A.error:A.transaction.error;p(C)}}catch(C){p(C)}})}).catch(p)});return S(c,n),c}function hn(e,t){var n=this;e=P(e);var i=new u(function(c,o){n.ready().then(function(){K(n._dbInfo,T,function(p,y){if(p)return o(p);try{var g=y.objectStore(n._dbInfo.storeName),_=g.delete(e);y.oncomplete=function(){c()},y.onerror=function(){o(_.error)},y.onabort=function(){var w=_.error?_.error:_.transaction.error;o(w)}}catch(w){o(w)}})}).catch(o)});return S(i,t),i}function xn(e){var t=this,n=new u(function(i,c){t.ready().then(function(){K(t._dbInfo,T,function(o,p){if(o)return c(o);try{var y=p.objectStore(t._dbInfo.storeName),g=y.clear();p.oncomplete=function(){i()},p.onabort=p.onerror=function(){var _=g.error?g.error:g.transaction.error;c(_)}}catch(_){c(_)}})}).catch(c)});return S(n,e),n}function pn(e){var t=this,n=new u(function(i,c){t.ready().then(function(){K(t._dbInfo,$,function(o,p){if(o)return c(o);try{var y=p.objectStore(t._dbInfo.storeName),g=y.count();g.onsuccess=function(){i(g.result)},g.onerror=function(){c(g.error)}}catch(_){c(_)}})}).catch(c)});return S(n,e),n}function bn(e,t){var n=this,i=new u(function(c,o){if(e<0){c(null);return}n.ready().then(function(){K(n._dbInfo,$,function(p,y){if(p)return o(p);try{var g=y.objectStore(n._dbInfo.storeName),_=!1,w=g.openKeyCursor();w.onsuccess=function(){var I=w.result;if(!I){c(null);return}e===0||_?c(I.key):(_=!0,I.advance(e))},w.onerror=function(){o(w.error)}}catch(I){o(I)}})}).catch(o)});return S(i,t),i}function yn(e){var t=this,n=new u(function(i,c){t.ready().then(function(){K(t._dbInfo,$,function(o,p){if(o)return c(o);try{var y=p.objectStore(t._dbInfo.storeName),g=y.openKeyCursor(),_=[];g.onsuccess=function(){var w=g.result;if(!w){i(_);return}_.push(w.key),w.continue()},g.onerror=function(){c(g.error)}}catch(w){c(w)}})}).catch(c)});return S(n,e),n}function vn(e,t){t=D.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i=this,c;if(!e.name)c=u.reject("Invalid arguments");else{var o=e.name===n.name&&i._dbInfo.db,p=o?u.resolve(i._dbInfo.db):q(e).then(function(y){var g=k[e.name],_=g.forages;g.db=y;for(var w=0;w<_.length;w++)_[w]._dbInfo.db=y;return y});e.storeName?c=p.then(function(y){if(y.objectStoreNames.contains(e.storeName)){var g=y.version+1;F(e);var _=k[e.name],w=_.forages;y.close();for(var I=0;I<w.length;I++){var A=w[I];A._dbInfo.db=null,A._dbInfo.version=g}var C=new u(function(L,O){var B=h.open(e.name,g);B.onerror=function(X){var oe=B.result;oe.close(),O(X)},B.onupgradeneeded=function(){var X=B.result;X.deleteObjectStore(e.storeName)},B.onsuccess=function(){var X=B.result;X.close(),L(X)}});return C.then(function(L){_.db=L;for(var O=0;O<w.length;O++){var B=w[O];B._dbInfo.db=L,W(B._dbInfo)}}).catch(function(L){throw(G(e,L)||u.resolve()).catch(function(){}),L})}}):c=p.then(function(y){F(e);var g=k[e.name],_=g.forages;y.close();for(var w=0;w<_.length;w++){var I=_[w];I._dbInfo.db=null}var A=new u(function(C,L){var O=h.deleteDatabase(e.name);O.onerror=function(){var B=O.result;B&&B.close(),L(O.error)},O.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},O.onsuccess=function(){var B=O.result;B&&B.close(),C(B)}});return A.then(function(C){g.db=C;for(var L=0;L<_.length;L++){var O=_[L];W(O._dbInfo)}}).catch(function(C){throw(G(e,C)||u.resolve()).catch(function(){}),C})})}return S(c,t),c}var gn={_driver:"asyncStorage",_initStorage:un,_support:v(),iterate:ln,getItem:dn,setItem:mn,removeItem:hn,clear:xn,length:pn,key:bn,keys:yn,dropInstance:vn};function _n(){return typeof openDatabase=="function"}var H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wn="~~local_forage_type~",Ne=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",xe=ue.length,pe="arbf",be="blob",Me="si08",Ce="ui08",Le="uic8",ze="si16",Be="si32",Oe="ur16",Ve="ui32",ke="fl32",Fe="fl64",We=xe+pe.length,Ye=Object.prototype.toString;function Ge(e){var t=e.length*.75,n=e.length,i,c=0,o,p,y,g;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var _=new ArrayBuffer(t),w=new Uint8Array(_);for(i=0;i<n;i+=4)o=H.indexOf(e[i]),p=H.indexOf(e[i+1]),y=H.indexOf(e[i+2]),g=H.indexOf(e[i+3]),w[c++]=o<<2|p>>4,w[c++]=(p&15)<<4|y>>2,w[c++]=(y&3)<<6|g&63;return _}function ye(e){var t=new Uint8Array(e),n="",i;for(i=0;i<t.length;i+=3)n+=H[t[i]>>2],n+=H[(t[i]&3)<<4|t[i+1]>>4],n+=H[(t[i+1]&15)<<2|t[i+2]>>6],n+=H[t[i+2]&63];return t.length%3===2?n=n.substring(0,n.length-1)+"=":t.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function Sn(e,t){var n="";if(e&&(n=Ye.call(e)),e&&(n==="[object ArrayBuffer]"||e.buffer&&Ye.call(e.buffer)==="[object ArrayBuffer]")){var i,c=ue;e instanceof ArrayBuffer?(i=e,c+=pe):(i=e.buffer,n==="[object Int8Array]"?c+=Me:n==="[object Uint8Array]"?c+=Ce:n==="[object Uint8ClampedArray]"?c+=Le:n==="[object Int16Array]"?c+=ze:n==="[object Uint16Array]"?c+=Oe:n==="[object Int32Array]"?c+=Be:n==="[object Uint32Array]"?c+=Ve:n==="[object Float32Array]"?c+=ke:n==="[object Float64Array]"?c+=Fe:t(new Error("Failed to get type for BinaryArray"))),t(c+ye(i))}else if(n==="[object Blob]"){var o=new FileReader;o.onload=function(){var p=wn+e.type+"~"+ye(this.result);t(ue+be+p)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(p){console.error("Couldn't convert value into a JSON string: ",e),t(null,p)}}function Tn(e){if(e.substring(0,xe)!==ue)return JSON.parse(e);var t=e.substring(We),n=e.substring(xe,We),i;if(n===be&&Ne.test(t)){var c=t.match(Ne);i=c[1],t=t.substring(c[0].length)}var o=Ge(t);switch(n){case pe:return o;case be:return E([o],{type:i});case Me:return new Int8Array(o);case Ce:return new Uint8Array(o);case Le:return new Uint8ClampedArray(o);case ze:return new Int16Array(o);case Oe:return new Uint16Array(o);case Be:return new Int32Array(o);case Ve:return new Uint32Array(o);case ke:return new Float32Array(o);case Fe:return new Float64Array(o);default:throw new Error("Unkown type: "+n)}}var ve={serialize:Sn,deserialize:Tn,stringToBuffer:Ge,bufferToString:ye};function je(e,t,n,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Rn(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=typeof e[i]!="string"?e[i].toString():e[i];var c=new u(function(o,p){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(y){return p(y)}n.db.transaction(function(y){je(y,n,function(){t._dbInfo=n,o()},function(g,_){p(_)})},p)});return n.serializer=ve,c}function J(e,t,n,i,c,o){e.executeSql(n,i,c,function(p,y){y.code===y.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(g,_){_.rows.length?o(g,y):je(g,t,function(){g.executeSql(n,i,c,o)},o)},o):o(p,y)},o)}function En(e,t){var n=this;e=P(e);var i=new u(function(c,o){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(y){J(y,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[e],function(g,_){var w=_.rows.length?_.rows.item(0).value:null;w&&(w=p.serializer.deserialize(w)),c(w)},function(g,_){o(_)})})}).catch(o)});return S(i,t),i}function In(e,t){var n=this,i=new u(function(c,o){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(y){J(y,p,"SELECT * FROM "+p.storeName,[],function(g,_){for(var w=_.rows,I=w.length,A=0;A<I;A++){var C=w.item(A),L=C.value;if(L&&(L=p.serializer.deserialize(L)),L=e(L,C.key,A+1),L!==void 0){c(L);return}}c()},function(g,_){o(_)})})}).catch(o)});return S(i,t),i}function Xe(e,t,n,i){var c=this;e=P(e);var o=new u(function(p,y){c.ready().then(function(){t===void 0&&(t=null);var g=t,_=c._dbInfo;_.serializer.serialize(t,function(w,I){I?y(I):_.db.transaction(function(A){J(A,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){p(g)},function(C,L){y(L)})},function(A){if(A.code===A.QUOTA_ERR){if(i>0){p(Xe.apply(c,[e,g,n,i-1]));return}y(A)}})})}).catch(y)});return S(o,n),o}function Pn(e,t,n){return Xe.apply(this,[e,t,n,1])}function Dn(e,t){var n=this;e=P(e);var i=new u(function(c,o){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(y){J(y,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[e],function(){c()},function(g,_){o(_)})})}).catch(o)});return S(i,t),i}function An(e){var t=this,n=new u(function(i,c){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(p){J(p,o,"DELETE FROM "+o.storeName,[],function(){i()},function(y,g){c(g)})})}).catch(c)});return S(n,e),n}function Nn(e){var t=this,n=new u(function(i,c){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(p){J(p,o,"SELECT COUNT(key) as c FROM "+o.storeName,[],function(y,g){var _=g.rows.item(0).c;i(_)},function(y,g){c(g)})})}).catch(c)});return S(n,e),n}function Mn(e,t){var n=this,i=new u(function(c,o){n.ready().then(function(){var p=n._dbInfo;p.db.transaction(function(y){J(y,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[e+1],function(g,_){var w=_.rows.length?_.rows.item(0).key:null;c(w)},function(g,_){o(_)})})}).catch(o)});return S(i,t),i}function Cn(e){var t=this,n=new u(function(i,c){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(p){J(p,o,"SELECT key FROM "+o.storeName,[],function(y,g){for(var _=[],w=0;w<g.rows.length;w++)_.push(g.rows.item(w).key);i(_)},function(y,g){c(g)})})}).catch(c)});return S(n,e),n}function Ln(e){return new u(function(t,n){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,o){for(var p=[],y=0;y<o.rows.length;y++)p.push(o.rows.item(y).name);t({db:e,storeNames:p})},function(c,o){n(o)})},function(i){n(i)})})}function zn(e,t){t=D.apply(this,arguments);var n=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i=this,c;return e.name?c=new u(function(o){var p;e.name===n.name?p=i._dbInfo.db:p=openDatabase(e.name,"","",0),e.storeName?o({db:p,storeNames:[e.storeName]}):o(Ln(p))}).then(function(o){return new u(function(p,y){o.db.transaction(function(g){function _(C){return new u(function(L,O){g.executeSql("DROP TABLE IF EXISTS "+C,[],function(){L()},function(B,X){O(X)})})}for(var w=[],I=0,A=o.storeNames.length;I<A;I++)w.push(_(o.storeNames[I]));u.all(w).then(function(){p()}).catch(function(C){y(C)})},function(g){y(g)})})}):c=u.reject("Invalid arguments"),S(c,t),c}var Bn={_driver:"webSQLStorage",_initStorage:Rn,_support:_n(),iterate:In,getItem:En,setItem:Pn,removeItem:Dn,clear:An,length:Nn,key:Mn,keys:Cn,dropInstance:zn};function On(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ue(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Vn(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function kn(){return!Vn()||localStorage.length>0}function Fn(e){var t=this,n={};if(e)for(var i in e)n[i]=e[i];return n.keyPrefix=Ue(e,t._defaultConfig),kn()?(t._dbInfo=n,n.serializer=ve,u.resolve()):u.reject()}function Wn(e){var t=this,n=t.ready().then(function(){for(var i=t._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var o=localStorage.key(c);o.indexOf(i)===0&&localStorage.removeItem(o)}});return S(n,e),n}function Yn(e,t){var n=this;e=P(e);var i=n.ready().then(function(){var c=n._dbInfo,o=localStorage.getItem(c.keyPrefix+e);return o&&(o=c.serializer.deserialize(o)),o});return S(i,t),i}function Gn(e,t){var n=this,i=n.ready().then(function(){for(var c=n._dbInfo,o=c.keyPrefix,p=o.length,y=localStorage.length,g=1,_=0;_<y;_++){var w=localStorage.key(_);if(w.indexOf(o)===0){var I=localStorage.getItem(w);if(I&&(I=c.serializer.deserialize(I)),I=e(I,w.substring(p),g++),I!==void 0)return I}}});return S(i,t),i}function jn(e,t){var n=this,i=n.ready().then(function(){var c=n._dbInfo,o;try{o=localStorage.key(e)}catch{o=null}return o&&(o=o.substring(c.keyPrefix.length)),o});return S(i,t),i}function Xn(e){var t=this,n=t.ready().then(function(){for(var i=t._dbInfo,c=localStorage.length,o=[],p=0;p<c;p++){var y=localStorage.key(p);y.indexOf(i.keyPrefix)===0&&o.push(y.substring(i.keyPrefix.length))}return o});return S(n,e),n}function Un(e){var t=this,n=t.keys().then(function(i){return i.length});return S(n,e),n}function Zn(e,t){var n=this;e=P(e);var i=n.ready().then(function(){var c=n._dbInfo;localStorage.removeItem(c.keyPrefix+e)});return S(i,t),i}function qn(e,t,n){var i=this;e=P(e);var c=i.ready().then(function(){t===void 0&&(t=null);var o=t;return new u(function(p,y){var g=i._dbInfo;g.serializer.serialize(t,function(_,w){if(w)y(w);else try{localStorage.setItem(g.keyPrefix+e,_),p(o)}catch(I){(I.name==="QuotaExceededError"||I.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(I),y(I)}})})});return S(c,n),c}function Kn(e,t){if(t=D.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var i=this,c;return e.name?c=new u(function(o){e.storeName?o(Ue(e,i._defaultConfig)):o(e.name+"/")}).then(function(o){for(var p=localStorage.length-1;p>=0;p--){var y=localStorage.key(p);y.indexOf(o)===0&&localStorage.removeItem(y)}}):c=u.reject("Invalid arguments"),S(c,t),c}var Hn={_driver:"localStorageWrapper",_initStorage:Fn,_support:On(),iterate:Gn,getItem:Yn,setItem:qn,removeItem:Zn,clear:Wn,length:Un,key:jn,keys:Xn,dropInstance:Kn},Jn=function(t,n){return t===n||typeof t=="number"&&typeof n=="number"&&isNaN(t)&&isNaN(n)},Qn=function(t,n){for(var i=t.length,c=0;c<i;){if(Jn(t[c],n))return!0;c++}return!1},Ze=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},qe={},ne={INDEXEDDB:gn,WEBSQL:Bn,LOCALSTORAGE:Hn},$n=[ne.INDEXEDDB._driver,ne.WEBSQL._driver,ne.LOCALSTORAGE._driver],de=["dropInstance"],ge=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),et={description:"",driver:$n.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function nt(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function _e(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Ze(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var tt=function(){function e(t){s(this,e);for(var n in ne)if(ne.hasOwnProperty(n)){var i=ne[n],c=i._driver;this[n]=c,re[c]||this.defineDriver(i)}this._defaultConfig=_e({},et),this._config=_e({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(n){if((typeof n>"u"?"undefined":m(n))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in n){if(i==="storeName"&&(n[i]=n[i].replace(/\W/g,"_")),i==="version"&&typeof n[i]!="number")return new Error("Database version must be a number.");this._config[i]=n[i]}return"driver"in n&&n.driver?this.setDriver(this._config.driver):!0}else return typeof n=="string"?this._config[n]:this._config},e.prototype.defineDriver=function(n,i,c){var o=new u(function(p,y){try{var g=n._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n._driver){y(_);return}for(var w=ge.concat("_initStorage"),I=0,A=w.length;I<A;I++){var C=w[I],L=!Qn(de,C);if((L||n[C])&&typeof n[C]!="function"){y(_);return}}var O=function(){for(var oe=function(at){return function(){var it=new Error("Method "+at+" is not implemented by the current driver"),Ke=u.reject(it);return S(Ke,arguments[arguments.length-1]),Ke}},we=0,ot=de.length;we<ot;we++){var Se=de[we];n[Se]||(n[Se]=oe(Se))}};O();var B=function(oe){re[g]&&console.info("Redefining LocalForage driver: "+g),re[g]=n,qe[g]=oe,p()};"_support"in n?n._support&&typeof n._support=="function"?n._support().then(B,y):B(!!n._support):B(!0)}catch(X){y(X)}});return R(o,i,c),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(n,i,c){var o=re[n]?u.resolve(re[n]):u.reject(new Error("Driver not found."));return R(o,i,c),o},e.prototype.getSerializer=function(n){var i=u.resolve(ve);return R(i,n),i},e.prototype.ready=function(n){var i=this,c=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return R(c,n,n),c},e.prototype.setDriver=function(n,i,c){var o=this;Ze(n)||(n=[n]);var p=this._getSupportedDrivers(n);function y(){o._config.driver=o.driver()}function g(I){return o._extend(I),y(),o._ready=o._initStorage(o._config),o._ready}function _(I){return function(){var A=0;function C(){for(;A<I.length;){var L=I[A];return A++,o._dbInfo=null,o._ready=null,o.getDriver(L).then(g).catch(C)}y();var O=new Error("No available storage method found.");return o._driverSet=u.reject(O),o._driverSet}return C()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=w.then(function(){var I=p[0];return o._dbInfo=null,o._ready=null,o.getDriver(I).then(function(A){o._driver=A._driver,y(),o._wrapLibraryMethodsWithReady(),o._initDriver=_(p)})}).catch(function(){y();var I=new Error("No available storage method found.");return o._driverSet=u.reject(I),o._driverSet}),R(this._driverSet,i,c),this._driverSet},e.prototype.supports=function(n){return!!qe[n]},e.prototype._extend=function(n){_e(this,n)},e.prototype._getSupportedDrivers=function(n){for(var i=[],c=0,o=n.length;c<o;c++){var p=n[c];this.supports(p)&&i.push(p)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var n=0,i=ge.length;n<i;n++)nt(this,ge[n])},e.prototype.createInstance=function(n){return new e(n)},e}(),rt=new tt;d.exports=rt},{3:3}]},{},[4])(4)})});var ie=x=>({vertices:[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}]});function Te(x,r){for(var a=x.length,f=x[a-1],d=r[0],b=r[1],m=f[0],s=f[1],l,h,v=!1,E=0;E<a;++E)f=x[E],l=f[0],h=f[1],h>b!=s>b&&d<(m-l)*(b-h)/(s-h)+l&&(v=!v),m=l,s=h;return v}var xt=2220446049250313e-31;function le(x,r,a,f){let d={};d.UWBNl=function(s,l){return s==l},d.ZhasC=function(s,l){return s==l},d.iSZHj=function(s,l){return s<=l},d.yYKhS=function(s,l){return s<=l},d.KewOd=function(s,l){return s===l};let b=d,m=Math.abs(x-r);return b.UWBNl(a,null)&&(a=xt),b.ZhasC(f,null)&&(f=a),b.iSZHj(m,a)||b.yYKhS(m,f*Math.min(Math.abs(x),Math.abs(r)))?!0:b.KewOd(x,r)}var U=class Ee{constructor(r,a){this.x=r,this.y=a}static pmbdynclkr446de72b183344589c94e4fe1699d14a(r){return new Ee(r.x,r.y)}rdtzzx49f317e1b766497d80b024fff51851cb(){let r={};return r.x=this.x,r.y=this.y,r}wsfiokogddd1b9aabd324fbe9eb13b3aaa7cfd58(r){return{LCrIs:function(d,b,m){return d(b,m)}}.LCrIs(le,this.x,r.x)&&le(this.y,r.y)}gvfdl3f217a3a7ab94a25a0ba3fe4bcee54be(){return[this.x,this.y]}ngytdiyrb0a82d526dbc4f9aa853276bea5ee5bc(r){let a={};a.YvEFF=function(m,s){return m+s},a.KhOWa=function(m,s){return m/s};let f=a,d=f.YvEFF(this.x,r.x)/2,b=f.KhOWa(f.YvEFF(this.y,r.y),2);return new Ee(d,b)}iciogrql23f96c35f25b4e0994d74c0e0845e8be(r){let a={};a.rXoPM=function(m,s){return m-s},a.QOAQh=function(m,s){return m+s},a.Xhonc=function(m,s){return m*s};let f=a,d=r.x-this.x,b=f.rXoPM(r.y,this.y);return Math.sqrt(f.QOAQh(f.Xhonc(d,d),f.Xhonc(b,b)))}};function Re(x,r,a){let f={};f.PMxbv=function(E,u){return E-u},f.reEaW=function(E,u){return E-u},f.FWsvj=function(E,u){return E-u},f.XQRHV=function(E,u){return E-u},f.RemPT=function(E,u){return E*u},f.EAUnS=function(E,u){return E===u},f.JLKrQ=function(E,u){return E/u};let d=f,b={x:d.PMxbv(x.x,r.x),y:d.reEaW(x.y,r.y)},m={x:d.FWsvj(a.x,r.x),y:d.XQRHV(a.y,r.y)},s=b.x*m.x+d.RemPT(b.y,m.y),l=Math.hypot(b.x,b.y),h=Math.hypot(m.x,m.y);if(d.EAUnS(l,0)||d.EAUnS(h,0))return 0;let v=Math.min(1,Math.max(-1,d.JLKrQ(s,l*h)));return Math.acos(v)}var Je=class{static tzoyy7a354fa8ac1d408087dfab7c96d97a6d(x,r,a){let f={};f.xZItW=function(l,h){return l/h},f.EIKNh=function(l,h){return l<=h};let d=f,b=r.ngytdiyrb0a82d526dbc4f9aa853276bea5ee5bc(a),m=d.xZItW(r.iciogrql23f96c35f25b4e0994d74c0e0845e8be(a),2),s=b.iciogrql23f96c35f25b4e0994d74c0e0845e8be(x);return d.EIKNh(s,m)}},pt=class Y{constructor(r){this.points=r,!Y.pwfxxotvnca8c0ded7a8c4862ae043439113ef869(r)&&this.points.reverse()}tag="";sectionTag="";materialTag="";static pmbdynclkr446de72b183344589c94e4fe1699d14a(r){return new Y(r.points.map(a=>U.pmbdynclkr446de72b183344589c94e4fe1699d14a(a)))}rdtzzx49f317e1b766497d80b024fff51851cb(){return{points:this.points.map(r=>r.rdtzzx49f317e1b766497d80b024fff51851cb()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static pwfxxotvnca8c0ded7a8c4862ae043439113ef869(r){let a={};a.NTQva=function(l,h){return l*h},a.LeRSh=function(l,h){return l-h},a.RtBjs=function(l,h){return l-h},a.ekNNu=function(l,h){return l*h},a.EXRzw=function(l,h){return l>h};let f=a,[d,b,m]=r,s=f.NTQva(f.LeRSh(b.x,d.x),f.RtBjs(m.y,d.y))-f.ekNNu(f.LeRSh(b.y,d.y),f.LeRSh(m.x,d.x));return f.EXRzw(s,0)}elzrudc9a17ec6a1a794a479c8ab82e6f272a00(r,a,f){this.tag=r,this.sectionTag=a,this.materialTag=f}doyonzhb0ea6f0cd0ad048ecb07ad86b57049ddc(){let r={};r.ytLPY=function(l,h){return l/h},r.mNCNN=function(l,h){return l+h},r.BbWPQ=function(l,h){return l+h};let a=r,[f,d,b]=this.points,m=a.ytLPY(a.mNCNN(a.BbWPQ(f.x,d.x),b.x),3),s=a.BbWPQ(f.y+d.y,b.y)/3;return new U(m,s)}xcrwzd283ee2c638de4da8b82d6ee0e982c939(r=.1){let a={};a.hHSjo=function(h,v){return h-v},a.AlpqR=function(h,v){return h+v},a.ZmDnU=function(h,v){return h*v},a.RWqDO=function(h,v){return h/v},a.xUYlE=function(h,v){return h+v},a.ZKMjr=function(h,v){return h*v};let f=a,d=this.doyonzhb0ea6f0cd0ad048ecb07ad86b57049ddc(),b=this.points.map(h=>{let v=d.x-h.x,E=f.hHSjo(d.y,h.y);return Math.sqrt(v*v+E*E)}),m=Math.max(...b),s=f.ZKMjr(m,r);return this.points.map(h=>{let v=f.hHSjo(d.x,h.x),E=f.hHSjo(d.y,h.y),u=Math.sqrt(f.AlpqR(f.ZmDnU(v,v),E*E)),S=f.RWqDO(s,u);return new U(f.xUYlE(h.x,f.ZKMjr(v,S)),f.AlpqR(h.y,E*S))})}fhmmkodss072c355527584ec1be9144121e7e5454(){let r=this.doyonzhb0ea6f0cd0ad048ecb07ad86b57049ddc();return[new Y([this.points[0],this.points[1],r]),new Y([this.points[1],this.points[2],r]),new Y([this.points[2],this.points[0],r])]}zxmljrlu78b6e5ff15cc4e768cb013709376add9(){let r={};r.vZdIv=function(h,v){return h/v},r.ZLySn=function(h,v){return h+v},r.ZzTiE=function(h,v){return h/v},r.aoYhA=function(h,v){return h+v},r.PARKu=function(h,v){return h/v},r.aVKFV=function(h,v){return h+v},r.azwEk=function(h,v){return h/v};let a=r,[f,d,b]=this.points,m=new U(a.vZdIv(a.ZLySn(f.x,d.x),2),a.ZzTiE(a.ZLySn(f.y,d.y),2)),s=new U(a.aoYhA(d.x,b.x)/2,a.PARKu(a.aVKFV(d.y,b.y),2)),l=new U(a.azwEk(b.x+f.x,2),a.vZdIv(a.ZLySn(b.y,f.y),2));return[new Y([f,m,l]),new Y([m,d,s]),new Y([l,s,b]),new Y([m,s,l])]}nbgxlhj67a695d83e954e91b9ea4d6515700317(){let r={};r.LDfXv=function(P,D){return P*D},r.RLEGc=function(P,D){return P+D},r.kYezt=function(P,D){return P*D},r.XBTpn=function(P,D){return P-D},r.SZyFr=function(P,D){return P-D},r.KzzGx=function(P,D){return P*D},r.plAFQ=function(P,D){return P-D},r.LgzUo=function(P,D){return P+D},r.mPHhn=function(P,D){return P+D},r.wJCvA=function(P,D){return P-D},r.YTdSr=function(P,D){return P/D},r.nAaah=function(P,D){return P*D},r.cOhgc=function(P,D){return P+D},r.vHWYl=function(P,D){return P*D},r.XvAMx=function(P,D){return P*D},r.aCBoc=function(P,D){return P*D},r.CsJjN=function(P,D){return P*D};let a=r,[f,d,b]=this.points,m=f.x,s=f.y,l=d.x,h=d.y,v=b.x,E=b.y,u=a.LDfXv(2,a.RLEGc(a.RLEGc(a.kYezt(m,a.XBTpn(h,E)),l*a.SZyFr(E,s)),a.KzzGx(v,a.plAFQ(s,h))));if(Math.abs(u)<1e-10)return null;let S=a.RLEGc(a.LgzUo(a.KzzGx(a.LgzUo(a.LDfXv(m,m),s*s),a.XBTpn(h,E)),a.mPHhn(a.LDfXv(l,l),a.LDfXv(h,h))*a.XBTpn(E,s)),a.kYezt(a.LDfXv(v,v)+a.LDfXv(E,E),a.wJCvA(s,h)))/u,R=a.YTdSr(a.LgzUo(a.nAaah(a.cOhgc(a.vHWYl(m,m),s*s),a.wJCvA(v,l))+a.XvAMx(l*l+a.aCBoc(h,h),m-v),a.cOhgc(v*v,a.CsJjN(E,E))*(l-m)),u);return new U(S,R)}rhbota1e60729dff5467d8a8ea10c03aea494(){let r={};r.BhXIM=function(d,b){return d===b};let a=r,f=this.nbgxlhj67a695d83e954e91b9ea4d6515700317();return a.BhXIM(f,null)?[]:[new Y([this.points[0],this.points[1],f]),new Y([this.points[1],this.points[2],f]),new Y([this.points[2],this.points[0],f])]}lybjcovxtf3308c278509247c49ddd49eafc35f5fa(){let r={};r.PqozZ=function(S,R){return S*R},r.jySJX=function(S,R){return S+R},r.wcNHj=function(S,R){return S+R},r.couSg=function(S,R){return S-R},r.JCSPl=function(S,R){return S*R};let a=r,[f,d,b]=this.points,m=f.x,s=d.x,l=b.x,h=f.y,v=d.y,E=b.y;return a.PqozZ(.5,Math.abs(a.jySJX(a.wcNHj(a.PqozZ(m,a.couSg(v,E)),s*a.couSg(E,h)),a.JCSPl(l,a.couSg(h,v)))))}bpeaj1134a813afd642c88be57838daea1923(){let r=this.lybjcovxtf3308c278509247c49ddd49eafc35f5fa();return le(r,0)}kiwpuvd917be4d6315441929c3e5eb5430051bc(){let r={NflCI:function(m,s,l,h){return m(s,l,h)},fDatx:function(m,s,l,h){return m(s,l,h)}},[a,f,d]=this.points;return[r.NflCI(Re,f,a,d),r.fDatx(Re,a,f,d),Re(a,d,f)]}lscvuvwd54a1b96522e402e8ac56c63692eed13(r=15*Math.PI/180){return!!this.kiwpuvd917be4d6315441929c3e5eb5430051bc().some(f=>f<r)}tflduzytc3bfd0643c5354d538f46c9f50341dcc6(){let r={};r.WuqzZ=function(d,b){return d<b},r.mMPbI=function(d,b){return d%b},r.xJDnf=function(d,b){return d+b};let a=r,f=this.nbgxlhj67a695d83e954e91b9ea4d6515700317();if(!f)return this.enmhl8241384122ee4954b87dce266c3ee8ca();for(let d=0;a.WuqzZ(d,3);d++){let b=this.points[d],m=this.points[a.mMPbI(a.xJDnf(d,1),3)];if(Je.tzoyy7a354fa8ac1d408087dfab7c96d97a6d(f,b,m))return this.enmhl8241384122ee4954b87dce266c3ee8ca()}return f}vzsbhhvkkd53b1b1d6de543ad8349d45adccd6830(r){let[a,f,d]=this.points,b={};b.p1=a,b.p2=f;let m={};m.p1=f,m.p2=d;let s={};s.p1=d,s.p2=a;let l=[b,m,s],h=[];for(let v of l)for(let E of r)if(!this.points.some(u=>u.wsfiokogddd1b9aabd324fbe9eb13b3aaa7cfd58(E))&&Je.tzoyy7a354fa8ac1d408087dfab7c96d97a6d(E,v.p1,v.p2))return h.push(v.p1.ngytdiyrb0a82d526dbc4f9aa853276bea5ee5bc(v.p2)),h;return h}hgvgjglkb309638cf6e14ee3a7436b507ee34fef(r){let a=this.nbgxlhj67a695d83e954e91b9ea4d6515700317();return a?r.some(f=>f.xrxwvq728f3ae2f47944bb9317dac97242db6f(a))?a:this.enmhl8241384122ee4954b87dce266c3ee8ca():this.enmhl8241384122ee4954b87dce266c3ee8ca()}enmhl8241384122ee4954b87dce266c3ee8ca(){let r={};r.nxSTJ=function(u,S){return u<S};let a=r,[f,d,b]=this.points,m={};m.p1=f,m.p2=d;let s={};s.p1=d,s.p2=b;let l={};l.p1=b,l.p2=f;let h=[m,s,l],v=h[0],E=v.p1.iciogrql23f96c35f25b4e0994d74c0e0845e8be(v.p2);for(let u=1;a.nxSTJ(u,h.length);u++){let S=h[u].p1.iciogrql23f96c35f25b4e0994d74c0e0845e8be(h[u].p2);S>E&&(E=S,v=h[u])}return v.p1.ngytdiyrb0a82d526dbc4f9aa853276bea5ee5bc(v.p2)}};var bt=class Qe{constructor(r,a,f,d){let b={};b.vbVbw="0|1|4|2|3";let m=b,s=m.vbVbw.split("|"),l=0;for(;;){switch(s[l++]){case"0":this.points=r;continue;case"1":this.tag=a;continue;case"2":this.materialTag=d;continue;case"3":this.d3Polygon=r.map(h=>[h.x,h.y]);continue;case"4":this.sectionTag=f;continue}break}}d3Polygon;static pmbdynclkr446de72b183344589c94e4fe1699d14a(r){return new Qe(r.points.map(a=>U.pmbdynclkr446de72b183344589c94e4fe1699d14a(a)),r.tag,r.sectionTag,r.materialTag)}xmedkbc7dcc5410c34c3796b38e5e588e5860(r){let a={LZhYe:function(f,d){return f-d},HMZOZ:function(f,d,b,m){return f(d,b,m)}};for(let f=0,d=a.LZhYe(this.points.length,1);f<this.points.length;d=f++)if(a.HMZOZ(yt,r,this.points[f],this.points[d]))return!0;return!1}xrxwvq728f3ae2f47944bb9317dac97242db6f(r){let a={ElZxL:function(d,b,m){return d(b,m)}};return this.xmedkbc7dcc5410c34c3796b38e5e588e5860(r)?!0:a.ElZxL(Te,this.d3Polygon,[r.x,r.y])}sldnfbmr95493ddf71b74c68a8d5ca275575d5fb(r,a){let f={};f.SnEWh=function(m,s){return m<s},f.qZJWv=function(m,s){return m%s},f.rbJqS=function(m,s){return m+s},f.BOIFf=function(m,s){return m-s},f.xxbAG=function(m,s){return m-s},f.rIwad=function(m,s){return m+s},f.hWkxs=function(m,s){return m*s},f.paWXZ=function(m,s){return m/s},f.ULNru=function(m,s){return m<s},f.TIlJU=function(m,s){return m+s},f.qgxcr=function(m,s){return m*s},f.HJgxb=function(m,s){return m+s};let d=f,b=[];for(let m=0;d.SnEWh(m,r.length);m++){let s=r[m],l=r[d.qZJWv(d.rbJqS(m,1),r.length)],h=d.BOIFf(l.x,s.x),v=d.xxbAG(l.y,s.y),E=Math.sqrt(d.rIwad(d.hWkxs(h,h),d.hWkxs(v,v))),u=Math.floor(d.paWXZ(E,a));b.push(new U(s.x,s.y));for(let S=1;d.ULNru(S,u);S++){let R=d.hWkxs(S,a)/E,P=d.TIlJU(s.x,d.qgxcr(R,h)),D=d.HJgxb(s.y,R*v);b.push(new U(P,D))}}return b}};function yt(x,r,a){let f={fzmkd:function(s,l){return s-l},FXdfV:function(s,l){return s-l},Mkfwm:function(s,l){return s*l},hoBKo:function(s,l,h){return s(l,h)},CYbUE:function(s,l){return s+l},oNThd:function(s,l){return s-l},AbMzG:function(s,l){return s*l},BzCRK:function(s,l){return s-l},jrJCJ:function(s,l){return s<l},BXwEC:function(s,l){return s+l},ivHFH:function(s,l){return s**l},SaAhX:function(s,l){return s>l}},d=f.fzmkd(f.fzmkd(x.y,r.y)*f.FXdfV(a.x,r.x),f.Mkfwm(x.x-r.x,f.fzmkd(a.y,r.y)));if(!f.hoBKo(le,Math.abs(d),0))return!1;let b=f.CYbUE(f.Mkfwm(f.oNThd(x.x,r.x),a.x-r.x),f.AbMzG(f.fzmkd(x.y,r.y),f.BzCRK(a.y,r.y)));if(f.jrJCJ(b,0))return!1;let m=f.BXwEC(f.fzmkd(a.x,r.x)**2,f.ivHFH(f.BzCRK(a.y,r.y),2));return!f.SaAhX(b,m)}function $e(x){let r=x.polygons.map(b=>bt.pmbdynclkr446de72b183344589c94e4fe1699d14a(b)),a=x.baseTriangles.map(b=>pt.pmbdynclkr446de72b183344589c94e4fe1699d14a(b)),f=a,d=[];for(let b of f){let m=b.doyonzhb0ea6f0cd0ad048ecb07ad86b57049ddc(),s=r.find(l=>l.xrxwvq728f3ae2f47944bb9317dac97242db6f(m));s&&(b.elzrudc9a17ec6a1a794a479c8ab82e6f272a00(s.tag,s.sectionTag,s.materialTag),d.push(b))}return{triangles:d.map(b=>b.rdtzzx49f317e1b766497d80b024fff51851cb())}}var Pe=ht(nn());var tn=(x,r,a="")=>`View3dModel-${x}-${r}${a}`,rn=x=>`Triangles-${x}`;var gt=2220446049250313e-31;function fe(x,r,a,f){let d=Math.abs(x-r);return a==null&&(a=gt),f==null&&(f=a),d<=a||d<=f*Math.min(Math.abs(x),Math.abs(r))?!0:x===r}var Q=class extends Error{constructor(r){super(r)}};function on(x){if(x.length<3)throw new Q("At least three vertices are required to form a face.");return{vertices:[...x.filter(r=>r)],results:[]}}var ce=x=>{let r=(x.points??"").trim().split(/\s+/).map(f=>f.split(",")),a=[];for(let[f,d]of r){let b=parseFloat(f),m=parseFloat(d);if(Number.isFinite(b)&&Number.isFinite(m))a.push({x:b,y:m});else throw new Q("Invalid vertex coordinates")}return{vertices:a}};function an(x){let r=0,a=0,f=0,d=x.length;for(let b=0;b<d;b++){let{x:m,y:s}=x[b],{x:l,y:h}=x[(b+1)%d],v=m*h-l*s;r+=v,a+=(m+l)*v,f+=(s+h)*v}return r*=.5,r===0?{x:0,y:0}:(a/=6*r,f/=6*r,{x:a,y:f})}function*fn(x,r){let a=[...new Set(r.rectangles.map(u=>u.name).concat(r.polygons.map(u=>u.name)))],f=[];for(let u of x){let S=u.points.map(D=>St(D)),R=on(S);if(a.indexOf(u.name)===-1)throw new Q(`Geometry name ${u.name} not found in geometry rectangles or polygons.`);f.push(R)}let d=r.supports.map(u=>Tt(u)),b=x.flatMap(u=>u.points).map(u=>u.x).reduce((u,S)=>Math.max(u,S),-1/0),m=x.flatMap(u=>u.points).map(u=>u.x).reduce((u,S)=>Math.min(u,S),1/0),s=x.flatMap(u=>u.points).map(u=>u.y).reduce((u,S)=>Math.max(u,S),-1/0),l=x.flatMap(u=>u.points).map(u=>u.y).reduce((u,S)=>Math.min(u,S),1/0),h=b-m,v=s-l,E=[...r.polygons.map(u=>ce(u)),...r.rectangles.map(u=>ie(u))].map(u=>u.vertices.map(S=>({x:S.x,y:S.y}))).map(u=>({points:u}));for(let u of r.loadCases)yield{faces:f,wireframeFaces:[],supports:d,borders:E,loads:wt(u,r),loadCaseTag:u.name,width:h,height:v}}function wt(x,r){let a=[];for(let f of x.pointLoads)fe(f.fx,0)||a.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"point"}),fe(f.fy,0)||a.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of x.distributedLoads){let d=r.polygons.filter(s=>s.name===f.geometryName).map(s=>ce(s)),b=r.rectangles.filter(s=>s.name===f.geometryName).map(s=>ie(s)),m=[...d,...b];for(let s of m){let l=an(s.vertices);fe(f.fx,0)||a.push({x:l.x,y:l.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),fe(f.fy,0)||a.push({x:l.x,y:l.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return a}function St(x){return{x:x.x,y:x.y,z:0,ux:0,uy:0,uz:0,value:0}}function Tt(x){return{x:x.x,y:x.y,z:0,ux:x.fixedX,uy:x.fixedY,uz:!1}}addEventListener("message",({data:x})=>{Rt(x)});var Rt=async x=>{let{geometry:r,uuid:a,baseTriangles:f}=x,d=r.loadCases.flatMap(R=>R.pointLoads).map(R=>({x:R.x,y:R.y})),b=r.supports.map(R=>({x:R.x,y:R.y})),m=r.resultPoints.map(R=>({x:R.x,y:R.y})),s=r.rectangles.map(R=>Dt(R)),l=r.polygons.map(R=>At(R)),h=s.concat(l),v={maxTriangleArea:r.meshingConfiguration.maxMeshArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(R=>Et(R))},u=$e({polygons:h,extraPoints:d.concat(b).concat(m),meshingConfiguration:v,baseTriangles:f.map(R=>Nt(R))}).triangles.map(R=>Pt(R));await Pe.setItem(rn(a),u);for(let R of fn(u,r))await Pe.setItem(tn(a,R.loadCaseTag),R);postMessage({uuid:a})},Et=x=>({radius:x.radius,maxTriangleArea:x.maxArea,center:{x:x.x,y:x.y}}),It=x=>({x:x.x,y:x.y}),Pt=x=>({points:x.points.map(a=>It(a)),name:x.tag,sectionTag:x.sectionTag,materialTag:x.materialTag}),Dt=x=>({points:ie(x).vertices.map(a=>({x:a.x,y:a.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),At=x=>({points:ce(x).vertices.map(a=>({x:a.x,y:a.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),Nt=x=>({points:x.points.map(a=>({x:a.x,y:a.y}))});
