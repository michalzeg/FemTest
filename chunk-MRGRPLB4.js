import{A as Or,a as fi,b as Ri,c as ki,d as Bp,e as Bt,f as ic,g as dn,h as Gp,i as Vp,j as Wp,k as $p,l as Up,m as Kp,n as rc,o as Yp,p as qp,q as jp,s as nb,t as Hp,u as ib,v as zp,w as Ls,y as Xp,z as Jp}from"./chunk-MCE3IMBC.js";import{$ as pi,Aa as Gs,Ba as Vs,Ca as Ws,Da as ft,Ea as pt,Fa as mt,Ga as dt,Ha as ht,Ia as gt,Ka as _t,La as $s,Ma as yt,Na as lm,Oa as wt,Pa as cm,Qa as bt,Ra as um,Sa as Ct,T as Zp,Ta as fm,U as Qp,Ua as vt,V as em,Va as St,W as tm,Wa as Us,X as nm,Xa as xt,Y as Je,Z as Ze,_ as Rs,aa as mi,ba as Qe,ca as im,d as Rp,da as et,e as kp,ea as ks,fa as tt,g as Dp,ga as Ds,ha as nt,ia as rm,ja as it,ka as di,l as Fp,la as rt,ma as Fs,na as ot,qa as st,ra as Nr,sa as at,ta as om,ua as lt,va as sm,wa as am,xa as ct,ya as ut,za as Bs}from"./chunk-HQFSOGSK.js";import{$a as Ep,Ab as q,B as Sp,Ba as ci,Bc as rn,Db as Op,F as xp,Fb as Li,Gb as Ot,Hb as Nt,I as As,Ia as Tp,Ib as Pt,Jb as b,Kb as w,Lb as oe,Pb as je,Tb as V,Ub as W,a as Pi,ab as R,ac as Np,b as wp,bc as Pp,ca as Mp,da as nn,dc as D,e as tb,ea as Be,ec as Ne,f as nc,fc as Is,g as Se,h as O,hc as Z,ib as Ap,ic as Q,jc as ee,lc as Os,mc as Lp,n as bp,nb as Xe,oa as Ae,pb as Ip,rb as ui,t as Cp,tb as mn,u as vp,uc as Ns,vc as Ps,wc as Ir,xa as F,ya as B,z as fo}from"./chunk-MP4TZIKU.js";var mm=tb((Pr,po)=>{"use strict";(function(){var r,i="4.17.21",n=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",_=1,T=2,x=4,S=1,I=2,G=1,M=2,L=4,U=8,K=16,j=32,te=64,J=128,se=256,be=512,H=30,ke="...",xn=800,Jn=16,Pe=1,Ro=2,fd=3,vi=1/0,Zn=9007199254740991,pd=17976931348623157e292,ko=NaN,Mn=4294967295,md=Mn-1,dd=Mn>>>1,hd=[["ary",J],["bind",G],["bindKey",M],["curry",U],["curryRight",K],["flip",be],["partial",j],["partialRight",te],["rearg",se]],dr="[object Arguments]",Do="[object Array]",gd="[object AsyncFunction]",Ur="[object Boolean]",Kr="[object Date]",_d="[object DOMException]",Fo="[object Error]",Bo="[object Function]",Wc="[object GeneratorFunction]",an="[object Map]",Yr="[object Number]",yd="[object Null]",kn="[object Object]",$c="[object Promise]",wd="[object Proxy]",qr="[object RegExp]",ln="[object Set]",jr="[object String]",Go="[object Symbol]",bd="[object Undefined]",Hr="[object WeakMap]",Cd="[object WeakSet]",zr="[object ArrayBuffer]",hr="[object DataView]",ka="[object Float32Array]",Da="[object Float64Array]",Fa="[object Int8Array]",Ba="[object Int16Array]",Ga="[object Int32Array]",Va="[object Uint8Array]",Wa="[object Uint8ClampedArray]",$a="[object Uint16Array]",Ua="[object Uint32Array]",vd=/\b__p \+= '';/g,Sd=/\b(__p \+=) '' \+/g,xd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Uc=/&(?:amp|lt|gt|quot|#39);/g,Kc=/[&<>"']/g,Md=RegExp(Uc.source),Td=RegExp(Kc.source),Ed=/<%-([\s\S]+?)%>/g,Ad=/<%([\s\S]+?)%>/g,Yc=/<%=([\s\S]+?)%>/g,Id=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Od=/^\w*$/,Nd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ka=/[\\^$.*+?()[\]{}|]/g,Pd=RegExp(Ka.source),Ya=/^\s+/,Ld=/\s/,Rd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kd=/\{\n\/\* \[wrapped with (.+)\] \*/,Dd=/,? & /,Fd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bd=/[()=,{}\[\]\/\s]/,Gd=/\\(\\)?/g,Vd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qc=/\w*$/,Wd=/^[-+]0x[0-9a-f]+$/i,$d=/^0b[01]+$/i,Ud=/^\[object .+?Constructor\]$/,Kd=/^0o[0-7]+$/i,Yd=/^(?:0|[1-9]\d*)$/,qd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Vo=/($^)/,jd=/['\n\r\u2028\u2029\\]/g,Wo="\\ud800-\\udfff",Hd="\\u0300-\\u036f",zd="\\ufe20-\\ufe2f",Xd="\\u20d0-\\u20ff",jc=Hd+zd+Xd,Hc="\\u2700-\\u27bf",zc="a-z\\xdf-\\xf6\\xf8-\\xff",Jd="\\xac\\xb1\\xd7\\xf7",Zd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qd="\\u2000-\\u206f",eh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xc="A-Z\\xc0-\\xd6\\xd8-\\xde",Jc="\\ufe0e\\ufe0f",Zc=Jd+Zd+Qd+eh,qa="['\u2019]",th="["+Wo+"]",Qc="["+Zc+"]",$o="["+jc+"]",eu="\\d+",nh="["+Hc+"]",tu="["+zc+"]",nu="[^"+Wo+Zc+eu+Hc+zc+Xc+"]",ja="\\ud83c[\\udffb-\\udfff]",ih="(?:"+$o+"|"+ja+")",iu="[^"+Wo+"]",Ha="(?:\\ud83c[\\udde6-\\uddff]){2}",za="[\\ud800-\\udbff][\\udc00-\\udfff]",gr="["+Xc+"]",ru="\\u200d",ou="(?:"+tu+"|"+nu+")",rh="(?:"+gr+"|"+nu+")",su="(?:"+qa+"(?:d|ll|m|re|s|t|ve))?",au="(?:"+qa+"(?:D|LL|M|RE|S|T|VE))?",lu=ih+"?",cu="["+Jc+"]?",oh="(?:"+ru+"(?:"+[iu,Ha,za].join("|")+")"+cu+lu+")*",sh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ah="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",uu=cu+lu+oh,lh="(?:"+[nh,Ha,za].join("|")+")"+uu,ch="(?:"+[iu+$o+"?",$o,Ha,za,th].join("|")+")",uh=RegExp(qa,"g"),fh=RegExp($o,"g"),Xa=RegExp(ja+"(?="+ja+")|"+ch+uu,"g"),ph=RegExp([gr+"?"+tu+"+"+su+"(?="+[Qc,gr,"$"].join("|")+")",rh+"+"+au+"(?="+[Qc,gr+ou,"$"].join("|")+")",gr+"?"+ou+"+"+su,gr+"+"+au,ah,sh,eu,lh].join("|"),"g"),mh=RegExp("["+ru+Wo+jc+Jc+"]"),dh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gh=-1,Ee={};Ee[ka]=Ee[Da]=Ee[Fa]=Ee[Ba]=Ee[Ga]=Ee[Va]=Ee[Wa]=Ee[$a]=Ee[Ua]=!0,Ee[dr]=Ee[Do]=Ee[zr]=Ee[Ur]=Ee[hr]=Ee[Kr]=Ee[Fo]=Ee[Bo]=Ee[an]=Ee[Yr]=Ee[kn]=Ee[qr]=Ee[ln]=Ee[jr]=Ee[Hr]=!1;var Te={};Te[dr]=Te[Do]=Te[zr]=Te[hr]=Te[Ur]=Te[Kr]=Te[ka]=Te[Da]=Te[Fa]=Te[Ba]=Te[Ga]=Te[an]=Te[Yr]=Te[kn]=Te[qr]=Te[ln]=Te[jr]=Te[Go]=Te[Va]=Te[Wa]=Te[$a]=Te[Ua]=!0,Te[Fo]=Te[Bo]=Te[Hr]=!1;var _h={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},yh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ch=parseFloat,vh=parseInt,fu=typeof global=="object"&&global&&global.Object===Object&&global,Sh=typeof self=="object"&&self&&self.Object===Object&&self,Ke=fu||Sh||Function("return this")(),Ja=typeof Pr=="object"&&Pr&&!Pr.nodeType&&Pr,Si=Ja&&typeof po=="object"&&po&&!po.nodeType&&po,pu=Si&&Si.exports===Ja,Za=pu&&fu.process,Ht=function(){try{var C=Si&&Si.require&&Si.require("util").types;return C||Za&&Za.binding&&Za.binding("util")}catch{}}(),mu=Ht&&Ht.isArrayBuffer,du=Ht&&Ht.isDate,hu=Ht&&Ht.isMap,gu=Ht&&Ht.isRegExp,_u=Ht&&Ht.isSet,yu=Ht&&Ht.isTypedArray;function Wt(C,A,E){switch(E.length){case 0:return C.call(A);case 1:return C.call(A,E[0]);case 2:return C.call(A,E[0],E[1]);case 3:return C.call(A,E[0],E[1],E[2])}return C.apply(A,E)}function xh(C,A,E,Y){for(var ae=-1,ye=C==null?0:C.length;++ae<ye;){var Ve=C[ae];A(Y,Ve,E(Ve),C)}return Y}function zt(C,A){for(var E=-1,Y=C==null?0:C.length;++E<Y&&A(C[E],E,C)!==!1;);return C}function Mh(C,A){for(var E=C==null?0:C.length;E--&&A(C[E],E,C)!==!1;);return C}function wu(C,A){for(var E=-1,Y=C==null?0:C.length;++E<Y;)if(!A(C[E],E,C))return!1;return!0}function Qn(C,A){for(var E=-1,Y=C==null?0:C.length,ae=0,ye=[];++E<Y;){var Ve=C[E];A(Ve,E,C)&&(ye[ae++]=Ve)}return ye}function Uo(C,A){var E=C==null?0:C.length;return!!E&&_r(C,A,0)>-1}function Qa(C,A,E){for(var Y=-1,ae=C==null?0:C.length;++Y<ae;)if(E(A,C[Y]))return!0;return!1}function Ie(C,A){for(var E=-1,Y=C==null?0:C.length,ae=Array(Y);++E<Y;)ae[E]=A(C[E],E,C);return ae}function ei(C,A){for(var E=-1,Y=A.length,ae=C.length;++E<Y;)C[ae+E]=A[E];return C}function el(C,A,E,Y){var ae=-1,ye=C==null?0:C.length;for(Y&&ye&&(E=C[++ae]);++ae<ye;)E=A(E,C[ae],ae,C);return E}function Th(C,A,E,Y){var ae=C==null?0:C.length;for(Y&&ae&&(E=C[--ae]);ae--;)E=A(E,C[ae],ae,C);return E}function tl(C,A){for(var E=-1,Y=C==null?0:C.length;++E<Y;)if(A(C[E],E,C))return!0;return!1}var Eh=nl("length");function Ah(C){return C.split("")}function Ih(C){return C.match(Fd)||[]}function bu(C,A,E){var Y;return E(C,function(ae,ye,Ve){if(A(ae,ye,Ve))return Y=ye,!1}),Y}function Ko(C,A,E,Y){for(var ae=C.length,ye=E+(Y?1:-1);Y?ye--:++ye<ae;)if(A(C[ye],ye,C))return ye;return-1}function _r(C,A,E){return A===A?Wh(C,A,E):Ko(C,Cu,E)}function Oh(C,A,E,Y){for(var ae=E-1,ye=C.length;++ae<ye;)if(Y(C[ae],A))return ae;return-1}function Cu(C){return C!==C}function vu(C,A){var E=C==null?0:C.length;return E?rl(C,A)/E:ko}function nl(C){return function(A){return A==null?r:A[C]}}function il(C){return function(A){return C==null?r:C[A]}}function Su(C,A,E,Y,ae){return ae(C,function(ye,Ve,Me){E=Y?(Y=!1,ye):A(E,ye,Ve,Me)}),E}function Nh(C,A){var E=C.length;for(C.sort(A);E--;)C[E]=C[E].value;return C}function rl(C,A){for(var E,Y=-1,ae=C.length;++Y<ae;){var ye=A(C[Y]);ye!==r&&(E=E===r?ye:E+ye)}return E}function ol(C,A){for(var E=-1,Y=Array(C);++E<C;)Y[E]=A(E);return Y}function Ph(C,A){return Ie(A,function(E){return[E,C[E]]})}function xu(C){return C&&C.slice(0,Au(C)+1).replace(Ya,"")}function $t(C){return function(A){return C(A)}}function sl(C,A){return Ie(A,function(E){return C[E]})}function Xr(C,A){return C.has(A)}function Mu(C,A){for(var E=-1,Y=C.length;++E<Y&&_r(A,C[E],0)>-1;);return E}function Tu(C,A){for(var E=C.length;E--&&_r(A,C[E],0)>-1;);return E}function Lh(C,A){for(var E=C.length,Y=0;E--;)C[E]===A&&++Y;return Y}var Rh=il(_h),kh=il(yh);function Dh(C){return"\\"+bh[C]}function Fh(C,A){return C==null?r:C[A]}function yr(C){return mh.test(C)}function Bh(C){return dh.test(C)}function Gh(C){for(var A,E=[];!(A=C.next()).done;)E.push(A.value);return E}function al(C){var A=-1,E=Array(C.size);return C.forEach(function(Y,ae){E[++A]=[ae,Y]}),E}function Eu(C,A){return function(E){return C(A(E))}}function ti(C,A){for(var E=-1,Y=C.length,ae=0,ye=[];++E<Y;){var Ve=C[E];(Ve===A||Ve===h)&&(C[E]=h,ye[ae++]=E)}return ye}function Yo(C){var A=-1,E=Array(C.size);return C.forEach(function(Y){E[++A]=Y}),E}function Vh(C){var A=-1,E=Array(C.size);return C.forEach(function(Y){E[++A]=[Y,Y]}),E}function Wh(C,A,E){for(var Y=E-1,ae=C.length;++Y<ae;)if(C[Y]===A)return Y;return-1}function $h(C,A,E){for(var Y=E+1;Y--;)if(C[Y]===A)return Y;return Y}function wr(C){return yr(C)?Kh(C):Eh(C)}function cn(C){return yr(C)?Yh(C):Ah(C)}function Au(C){for(var A=C.length;A--&&Ld.test(C.charAt(A)););return A}var Uh=il(wh);function Kh(C){for(var A=Xa.lastIndex=0;Xa.test(C);)++A;return A}function Yh(C){return C.match(Xa)||[]}function qh(C){return C.match(ph)||[]}var jh=function C(A){A=A==null?Ke:ni.defaults(Ke.Object(),A,ni.pick(Ke,hh));var E=A.Array,Y=A.Date,ae=A.Error,ye=A.Function,Ve=A.Math,Me=A.Object,ll=A.RegExp,Hh=A.String,Xt=A.TypeError,qo=E.prototype,zh=ye.prototype,br=Me.prototype,jo=A["__core-js_shared__"],Ho=zh.toString,ve=br.hasOwnProperty,Xh=0,Iu=function(){var e=/[^.]+$/.exec(jo&&jo.keys&&jo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),zo=br.toString,Jh=Ho.call(Me),Zh=Ke._,Qh=ll("^"+Ho.call(ve).replace(Ka,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xo=pu?A.Buffer:r,ii=A.Symbol,Jo=A.Uint8Array,Ou=Xo?Xo.allocUnsafe:r,Zo=Eu(Me.getPrototypeOf,Me),Nu=Me.create,Pu=br.propertyIsEnumerable,Qo=qo.splice,Lu=ii?ii.isConcatSpreadable:r,Jr=ii?ii.iterator:r,xi=ii?ii.toStringTag:r,es=function(){try{var e=Ii(Me,"defineProperty");return e({},"",{}),e}catch{}}(),eg=A.clearTimeout!==Ke.clearTimeout&&A.clearTimeout,tg=Y&&Y.now!==Ke.Date.now&&Y.now,ng=A.setTimeout!==Ke.setTimeout&&A.setTimeout,ts=Ve.ceil,ns=Ve.floor,cl=Me.getOwnPropertySymbols,ig=Xo?Xo.isBuffer:r,Ru=A.isFinite,rg=qo.join,og=Eu(Me.keys,Me),We=Ve.max,He=Ve.min,sg=Y.now,ag=A.parseInt,ku=Ve.random,lg=qo.reverse,ul=Ii(A,"DataView"),Zr=Ii(A,"Map"),fl=Ii(A,"Promise"),Cr=Ii(A,"Set"),Qr=Ii(A,"WeakMap"),eo=Ii(Me,"create"),is=Qr&&new Qr,vr={},cg=Oi(ul),ug=Oi(Zr),fg=Oi(fl),pg=Oi(Cr),mg=Oi(Qr),rs=ii?ii.prototype:r,to=rs?rs.valueOf:r,Du=rs?rs.toString:r;function p(e){if(Le(e)&&!le(e)&&!(e instanceof de)){if(e instanceof Jt)return e;if(ve.call(e,"__wrapped__"))return Bf(e)}return new Jt(e)}var Sr=function(){function e(){}return function(t){if(!Oe(t))return{};if(Nu)return Nu(t);e.prototype=t;var a=new e;return e.prototype=r,a}}();function os(){}function Jt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}p.templateSettings={escape:Ed,evaluate:Ad,interpolate:Yc,variable:"",imports:{_:p}},p.prototype=os.prototype,p.prototype.constructor=p,Jt.prototype=Sr(os.prototype),Jt.prototype.constructor=Jt;function de(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Mn,this.__views__=[]}function dg(){var e=new de(this.__wrapped__);return e.__actions__=Rt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Rt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Rt(this.__views__),e}function hg(){if(this.__filtered__){var e=new de(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function gg(){var e=this.__wrapped__.value(),t=this.__dir__,a=le(e),c=t<0,f=a?e.length:0,m=A0(0,f,this.__views__),g=m.start,y=m.end,v=y-g,N=c?y:g-1,P=this.__iteratees__,k=P.length,$=0,z=He(v,this.__takeCount__);if(!a||!c&&f==v&&z==v)return af(e,this.__actions__);var ie=[];e:for(;v--&&$<z;){N+=t;for(var fe=-1,re=e[N];++fe<k;){var me=P[fe],ge=me.iteratee,Yt=me.type,It=ge(re);if(Yt==Ro)re=It;else if(!It){if(Yt==Pe)continue e;break e}}ie[$++]=re}return ie}de.prototype=Sr(os.prototype),de.prototype.constructor=de;function Mi(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function _g(){this.__data__=eo?eo(null):{},this.size=0}function yg(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function wg(e){var t=this.__data__;if(eo){var a=t[e];return a===u?r:a}return ve.call(t,e)?t[e]:r}function bg(e){var t=this.__data__;return eo?t[e]!==r:ve.call(t,e)}function Cg(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=eo&&t===r?u:t,this}Mi.prototype.clear=_g,Mi.prototype.delete=yg,Mi.prototype.get=wg,Mi.prototype.has=bg,Mi.prototype.set=Cg;function Dn(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function vg(){this.__data__=[],this.size=0}function Sg(e){var t=this.__data__,a=ss(t,e);if(a<0)return!1;var c=t.length-1;return a==c?t.pop():Qo.call(t,a,1),--this.size,!0}function xg(e){var t=this.__data__,a=ss(t,e);return a<0?r:t[a][1]}function Mg(e){return ss(this.__data__,e)>-1}function Tg(e,t){var a=this.__data__,c=ss(a,e);return c<0?(++this.size,a.push([e,t])):a[c][1]=t,this}Dn.prototype.clear=vg,Dn.prototype.delete=Sg,Dn.prototype.get=xg,Dn.prototype.has=Mg,Dn.prototype.set=Tg;function Fn(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var c=e[t];this.set(c[0],c[1])}}function Eg(){this.size=0,this.__data__={hash:new Mi,map:new(Zr||Dn),string:new Mi}}function Ag(e){var t=ys(this,e).delete(e);return this.size-=t?1:0,t}function Ig(e){return ys(this,e).get(e)}function Og(e){return ys(this,e).has(e)}function Ng(e,t){var a=ys(this,e),c=a.size;return a.set(e,t),this.size+=a.size==c?0:1,this}Fn.prototype.clear=Eg,Fn.prototype.delete=Ag,Fn.prototype.get=Ig,Fn.prototype.has=Og,Fn.prototype.set=Ng;function Ti(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new Fn;++t<a;)this.add(e[t])}function Pg(e){return this.__data__.set(e,u),this}function Lg(e){return this.__data__.has(e)}Ti.prototype.add=Ti.prototype.push=Pg,Ti.prototype.has=Lg;function un(e){var t=this.__data__=new Dn(e);this.size=t.size}function Rg(){this.__data__=new Dn,this.size=0}function kg(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function Dg(e){return this.__data__.get(e)}function Fg(e){return this.__data__.has(e)}function Bg(e,t){var a=this.__data__;if(a instanceof Dn){var c=a.__data__;if(!Zr||c.length<n-1)return c.push([e,t]),this.size=++a.size,this;a=this.__data__=new Fn(c)}return a.set(e,t),this.size=a.size,this}un.prototype.clear=Rg,un.prototype.delete=kg,un.prototype.get=Dg,un.prototype.has=Fg,un.prototype.set=Bg;function Fu(e,t){var a=le(e),c=!a&&Ni(e),f=!a&&!c&&li(e),m=!a&&!c&&!f&&Er(e),g=a||c||f||m,y=g?ol(e.length,Hh):[],v=y.length;for(var N in e)(t||ve.call(e,N))&&!(g&&(N=="length"||f&&(N=="offset"||N=="parent")||m&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||Wn(N,v)))&&y.push(N);return y}function Bu(e){var t=e.length;return t?e[vl(0,t-1)]:r}function Gg(e,t){return ws(Rt(e),Ei(t,0,e.length))}function Vg(e){return ws(Rt(e))}function pl(e,t,a){(a!==r&&!fn(e[t],a)||a===r&&!(t in e))&&Bn(e,t,a)}function no(e,t,a){var c=e[t];(!(ve.call(e,t)&&fn(c,a))||a===r&&!(t in e))&&Bn(e,t,a)}function ss(e,t){for(var a=e.length;a--;)if(fn(e[a][0],t))return a;return-1}function Wg(e,t,a,c){return ri(e,function(f,m,g){t(c,f,a(f),g)}),c}function Gu(e,t){return e&&En(t,Ye(t),e)}function $g(e,t){return e&&En(t,Dt(t),e)}function Bn(e,t,a){t=="__proto__"&&es?es(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function ml(e,t){for(var a=-1,c=t.length,f=E(c),m=e==null;++a<c;)f[a]=m?r:jl(e,t[a]);return f}function Ei(e,t,a){return e===e&&(a!==r&&(e=e<=a?e:a),t!==r&&(e=e>=t?e:t)),e}function Zt(e,t,a,c,f,m){var g,y=t&_,v=t&T,N=t&x;if(a&&(g=f?a(e,c,f,m):a(e)),g!==r)return g;if(!Oe(e))return e;var P=le(e);if(P){if(g=O0(e),!y)return Rt(e,g)}else{var k=ze(e),$=k==Bo||k==Wc;if(li(e))return uf(e,y);if(k==kn||k==dr||$&&!f){if(g=v||$?{}:If(e),!y)return v?w0(e,$g(g,e)):y0(e,Gu(g,e))}else{if(!Te[k])return f?e:{};g=N0(e,k,y)}}m||(m=new un);var z=m.get(e);if(z)return z;m.set(e,g),rp(e)?e.forEach(function(re){g.add(Zt(re,t,a,re,e,m))}):np(e)&&e.forEach(function(re,me){g.set(me,Zt(re,t,a,me,e,m))});var ie=N?v?Ll:Pl:v?Dt:Ye,fe=P?r:ie(e);return zt(fe||e,function(re,me){fe&&(me=re,re=e[me]),no(g,me,Zt(re,t,a,me,e,m))}),g}function Ug(e){var t=Ye(e);return function(a){return Vu(a,e,t)}}function Vu(e,t,a){var c=a.length;if(e==null)return!c;for(e=Me(e);c--;){var f=a[c],m=t[f],g=e[f];if(g===r&&!(f in e)||!m(g))return!1}return!0}function Wu(e,t,a){if(typeof e!="function")throw new Xt(s);return co(function(){e.apply(r,a)},t)}function io(e,t,a,c){var f=-1,m=Uo,g=!0,y=e.length,v=[],N=t.length;if(!y)return v;a&&(t=Ie(t,$t(a))),c?(m=Qa,g=!1):t.length>=n&&(m=Xr,g=!1,t=new Ti(t));e:for(;++f<y;){var P=e[f],k=a==null?P:a(P);if(P=c||P!==0?P:0,g&&k===k){for(var $=N;$--;)if(t[$]===k)continue e;v.push(P)}else m(t,k,c)||v.push(P)}return v}var ri=hf(Tn),$u=hf(hl,!0);function Kg(e,t){var a=!0;return ri(e,function(c,f,m){return a=!!t(c,f,m),a}),a}function as(e,t,a){for(var c=-1,f=e.length;++c<f;){var m=e[c],g=t(m);if(g!=null&&(y===r?g===g&&!Kt(g):a(g,y)))var y=g,v=m}return v}function Yg(e,t,a,c){var f=e.length;for(a=ce(a),a<0&&(a=-a>f?0:f+a),c=c===r||c>f?f:ce(c),c<0&&(c+=f),c=a>c?0:sp(c);a<c;)e[a++]=t;return e}function Uu(e,t){var a=[];return ri(e,function(c,f,m){t(c,f,m)&&a.push(c)}),a}function qe(e,t,a,c,f){var m=-1,g=e.length;for(a||(a=L0),f||(f=[]);++m<g;){var y=e[m];t>0&&a(y)?t>1?qe(y,t-1,a,c,f):ei(f,y):c||(f[f.length]=y)}return f}var dl=gf(),Ku=gf(!0);function Tn(e,t){return e&&dl(e,t,Ye)}function hl(e,t){return e&&Ku(e,t,Ye)}function ls(e,t){return Qn(t,function(a){return $n(e[a])})}function Ai(e,t){t=si(t,e);for(var a=0,c=t.length;e!=null&&a<c;)e=e[An(t[a++])];return a&&a==c?e:r}function Yu(e,t,a){var c=t(e);return le(e)?c:ei(c,a(e))}function Et(e){return e==null?e===r?bd:yd:xi&&xi in Me(e)?E0(e):V0(e)}function gl(e,t){return e>t}function qg(e,t){return e!=null&&ve.call(e,t)}function jg(e,t){return e!=null&&t in Me(e)}function Hg(e,t,a){return e>=He(t,a)&&e<We(t,a)}function _l(e,t,a){for(var c=a?Qa:Uo,f=e[0].length,m=e.length,g=m,y=E(m),v=1/0,N=[];g--;){var P=e[g];g&&t&&(P=Ie(P,$t(t))),v=He(P.length,v),y[g]=!a&&(t||f>=120&&P.length>=120)?new Ti(g&&P):r}P=e[0];var k=-1,$=y[0];e:for(;++k<f&&N.length<v;){var z=P[k],ie=t?t(z):z;if(z=a||z!==0?z:0,!($?Xr($,ie):c(N,ie,a))){for(g=m;--g;){var fe=y[g];if(!(fe?Xr(fe,ie):c(e[g],ie,a)))continue e}$&&$.push(ie),N.push(z)}}return N}function zg(e,t,a,c){return Tn(e,function(f,m,g){t(c,a(f),m,g)}),c}function ro(e,t,a){t=si(t,e),e=Lf(e,t);var c=e==null?e:e[An(en(t))];return c==null?r:Wt(c,e,a)}function qu(e){return Le(e)&&Et(e)==dr}function Xg(e){return Le(e)&&Et(e)==zr}function Jg(e){return Le(e)&&Et(e)==Kr}function oo(e,t,a,c,f){return e===t?!0:e==null||t==null||!Le(e)&&!Le(t)?e!==e&&t!==t:Zg(e,t,a,c,oo,f)}function Zg(e,t,a,c,f,m){var g=le(e),y=le(t),v=g?Do:ze(e),N=y?Do:ze(t);v=v==dr?kn:v,N=N==dr?kn:N;var P=v==kn,k=N==kn,$=v==N;if($&&li(e)){if(!li(t))return!1;g=!0,P=!1}if($&&!P)return m||(m=new un),g||Er(e)?Tf(e,t,a,c,f,m):M0(e,t,v,a,c,f,m);if(!(a&S)){var z=P&&ve.call(e,"__wrapped__"),ie=k&&ve.call(t,"__wrapped__");if(z||ie){var fe=z?e.value():e,re=ie?t.value():t;return m||(m=new un),f(fe,re,a,c,m)}}return $?(m||(m=new un),T0(e,t,a,c,f,m)):!1}function Qg(e){return Le(e)&&ze(e)==an}function yl(e,t,a,c){var f=a.length,m=f,g=!c;if(e==null)return!m;for(e=Me(e);f--;){var y=a[f];if(g&&y[2]?y[1]!==e[y[0]]:!(y[0]in e))return!1}for(;++f<m;){y=a[f];var v=y[0],N=e[v],P=y[1];if(g&&y[2]){if(N===r&&!(v in e))return!1}else{var k=new un;if(c)var $=c(N,P,v,e,t,k);if(!($===r?oo(P,N,S|I,c,k):$))return!1}}return!0}function ju(e){if(!Oe(e)||k0(e))return!1;var t=$n(e)?Qh:Ud;return t.test(Oi(e))}function e0(e){return Le(e)&&Et(e)==qr}function t0(e){return Le(e)&&ze(e)==ln}function n0(e){return Le(e)&&Ms(e.length)&&!!Ee[Et(e)]}function Hu(e){return typeof e=="function"?e:e==null?Ft:typeof e=="object"?le(e)?Ju(e[0],e[1]):Xu(e):_p(e)}function wl(e){if(!lo(e))return og(e);var t=[];for(var a in Me(e))ve.call(e,a)&&a!="constructor"&&t.push(a);return t}function i0(e){if(!Oe(e))return G0(e);var t=lo(e),a=[];for(var c in e)c=="constructor"&&(t||!ve.call(e,c))||a.push(c);return a}function bl(e,t){return e<t}function zu(e,t){var a=-1,c=kt(e)?E(e.length):[];return ri(e,function(f,m,g){c[++a]=t(f,m,g)}),c}function Xu(e){var t=kl(e);return t.length==1&&t[0][2]?Nf(t[0][0],t[0][1]):function(a){return a===e||yl(a,e,t)}}function Ju(e,t){return Fl(e)&&Of(t)?Nf(An(e),t):function(a){var c=jl(a,e);return c===r&&c===t?Hl(a,e):oo(t,c,S|I)}}function cs(e,t,a,c,f){e!==t&&dl(t,function(m,g){if(f||(f=new un),Oe(m))r0(e,t,g,a,cs,c,f);else{var y=c?c(Gl(e,g),m,g+"",e,t,f):r;y===r&&(y=m),pl(e,g,y)}},Dt)}function r0(e,t,a,c,f,m,g){var y=Gl(e,a),v=Gl(t,a),N=g.get(v);if(N){pl(e,a,N);return}var P=m?m(y,v,a+"",e,t,g):r,k=P===r;if(k){var $=le(v),z=!$&&li(v),ie=!$&&!z&&Er(v);P=v,$||z||ie?le(y)?P=y:De(y)?P=Rt(y):z?(k=!1,P=uf(v,!0)):ie?(k=!1,P=ff(v,!0)):P=[]:uo(v)||Ni(v)?(P=y,Ni(y)?P=ap(y):(!Oe(y)||$n(y))&&(P=If(v))):k=!1}k&&(g.set(v,P),f(P,v,c,m,g),g.delete(v)),pl(e,a,P)}function Zu(e,t){var a=e.length;if(a)return t+=t<0?a:0,Wn(t,a)?e[t]:r}function Qu(e,t,a){t.length?t=Ie(t,function(m){return le(m)?function(g){return Ai(g,m.length===1?m[0]:m)}:m}):t=[Ft];var c=-1;t=Ie(t,$t(ne()));var f=zu(e,function(m,g,y){var v=Ie(t,function(N){return N(m)});return{criteria:v,index:++c,value:m}});return Nh(f,function(m,g){return _0(m,g,a)})}function o0(e,t){return ef(e,t,function(a,c){return Hl(e,c)})}function ef(e,t,a){for(var c=-1,f=t.length,m={};++c<f;){var g=t[c],y=Ai(e,g);a(y,g)&&so(m,si(g,e),y)}return m}function s0(e){return function(t){return Ai(t,e)}}function Cl(e,t,a,c){var f=c?Oh:_r,m=-1,g=t.length,y=e;for(e===t&&(t=Rt(t)),a&&(y=Ie(e,$t(a)));++m<g;)for(var v=0,N=t[m],P=a?a(N):N;(v=f(y,P,v,c))>-1;)y!==e&&Qo.call(y,v,1),Qo.call(e,v,1);return e}function tf(e,t){for(var a=e?t.length:0,c=a-1;a--;){var f=t[a];if(a==c||f!==m){var m=f;Wn(f)?Qo.call(e,f,1):Ml(e,f)}}return e}function vl(e,t){return e+ns(ku()*(t-e+1))}function a0(e,t,a,c){for(var f=-1,m=We(ts((t-e)/(a||1)),0),g=E(m);m--;)g[c?m:++f]=e,e+=a;return g}function Sl(e,t){var a="";if(!e||t<1||t>Zn)return a;do t%2&&(a+=e),t=ns(t/2),t&&(e+=e);while(t);return a}function pe(e,t){return Vl(Pf(e,t,Ft),e+"")}function l0(e){return Bu(Ar(e))}function c0(e,t){var a=Ar(e);return ws(a,Ei(t,0,a.length))}function so(e,t,a,c){if(!Oe(e))return e;t=si(t,e);for(var f=-1,m=t.length,g=m-1,y=e;y!=null&&++f<m;){var v=An(t[f]),N=a;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;if(f!=g){var P=y[v];N=c?c(P,v,y):r,N===r&&(N=Oe(P)?P:Wn(t[f+1])?[]:{})}no(y,v,N),y=y[v]}return e}var nf=is?function(e,t){return is.set(e,t),e}:Ft,u0=es?function(e,t){return es(e,"toString",{configurable:!0,enumerable:!1,value:Xl(t),writable:!0})}:Ft;function f0(e){return ws(Ar(e))}function Qt(e,t,a){var c=-1,f=e.length;t<0&&(t=-t>f?0:f+t),a=a>f?f:a,a<0&&(a+=f),f=t>a?0:a-t>>>0,t>>>=0;for(var m=E(f);++c<f;)m[c]=e[c+t];return m}function p0(e,t){var a;return ri(e,function(c,f,m){return a=t(c,f,m),!a}),!!a}function us(e,t,a){var c=0,f=e==null?c:e.length;if(typeof t=="number"&&t===t&&f<=dd){for(;c<f;){var m=c+f>>>1,g=e[m];g!==null&&!Kt(g)&&(a?g<=t:g<t)?c=m+1:f=m}return f}return xl(e,t,Ft,a)}function xl(e,t,a,c){var f=0,m=e==null?0:e.length;if(m===0)return 0;t=a(t);for(var g=t!==t,y=t===null,v=Kt(t),N=t===r;f<m;){var P=ns((f+m)/2),k=a(e[P]),$=k!==r,z=k===null,ie=k===k,fe=Kt(k);if(g)var re=c||ie;else N?re=ie&&(c||$):y?re=ie&&$&&(c||!z):v?re=ie&&$&&!z&&(c||!fe):z||fe?re=!1:re=c?k<=t:k<t;re?f=P+1:m=P}return He(m,md)}function rf(e,t){for(var a=-1,c=e.length,f=0,m=[];++a<c;){var g=e[a],y=t?t(g):g;if(!a||!fn(y,v)){var v=y;m[f++]=g===0?0:g}}return m}function of(e){return typeof e=="number"?e:Kt(e)?ko:+e}function Ut(e){if(typeof e=="string")return e;if(le(e))return Ie(e,Ut)+"";if(Kt(e))return Du?Du.call(e):"";var t=e+"";return t=="0"&&1/e==-vi?"-0":t}function oi(e,t,a){var c=-1,f=Uo,m=e.length,g=!0,y=[],v=y;if(a)g=!1,f=Qa;else if(m>=n){var N=t?null:S0(e);if(N)return Yo(N);g=!1,f=Xr,v=new Ti}else v=t?[]:y;e:for(;++c<m;){var P=e[c],k=t?t(P):P;if(P=a||P!==0?P:0,g&&k===k){for(var $=v.length;$--;)if(v[$]===k)continue e;t&&v.push(k),y.push(P)}else f(v,k,a)||(v!==y&&v.push(k),y.push(P))}return y}function Ml(e,t){return t=si(t,e),e=Lf(e,t),e==null||delete e[An(en(t))]}function sf(e,t,a,c){return so(e,t,a(Ai(e,t)),c)}function fs(e,t,a,c){for(var f=e.length,m=c?f:-1;(c?m--:++m<f)&&t(e[m],m,e););return a?Qt(e,c?0:m,c?m+1:f):Qt(e,c?m+1:0,c?f:m)}function af(e,t){var a=e;return a instanceof de&&(a=a.value()),el(t,function(c,f){return f.func.apply(f.thisArg,ei([c],f.args))},a)}function Tl(e,t,a){var c=e.length;if(c<2)return c?oi(e[0]):[];for(var f=-1,m=E(c);++f<c;)for(var g=e[f],y=-1;++y<c;)y!=f&&(m[f]=io(m[f]||g,e[y],t,a));return oi(qe(m,1),t,a)}function lf(e,t,a){for(var c=-1,f=e.length,m=t.length,g={};++c<f;){var y=c<m?t[c]:r;a(g,e[c],y)}return g}function El(e){return De(e)?e:[]}function Al(e){return typeof e=="function"?e:Ft}function si(e,t){return le(e)?e:Fl(e,t)?[e]:Ff(Ce(e))}var m0=pe;function ai(e,t,a){var c=e.length;return a=a===r?c:a,!t&&a>=c?e:Qt(e,t,a)}var cf=eg||function(e){return Ke.clearTimeout(e)};function uf(e,t){if(t)return e.slice();var a=e.length,c=Ou?Ou(a):new e.constructor(a);return e.copy(c),c}function Il(e){var t=new e.constructor(e.byteLength);return new Jo(t).set(new Jo(e)),t}function d0(e,t){var a=t?Il(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function h0(e){var t=new e.constructor(e.source,qc.exec(e));return t.lastIndex=e.lastIndex,t}function g0(e){return to?Me(to.call(e)):{}}function ff(e,t){var a=t?Il(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function pf(e,t){if(e!==t){var a=e!==r,c=e===null,f=e===e,m=Kt(e),g=t!==r,y=t===null,v=t===t,N=Kt(t);if(!y&&!N&&!m&&e>t||m&&g&&v&&!y&&!N||c&&g&&v||!a&&v||!f)return 1;if(!c&&!m&&!N&&e<t||N&&a&&f&&!c&&!m||y&&a&&f||!g&&f||!v)return-1}return 0}function _0(e,t,a){for(var c=-1,f=e.criteria,m=t.criteria,g=f.length,y=a.length;++c<g;){var v=pf(f[c],m[c]);if(v){if(c>=y)return v;var N=a[c];return v*(N=="desc"?-1:1)}}return e.index-t.index}function mf(e,t,a,c){for(var f=-1,m=e.length,g=a.length,y=-1,v=t.length,N=We(m-g,0),P=E(v+N),k=!c;++y<v;)P[y]=t[y];for(;++f<g;)(k||f<m)&&(P[a[f]]=e[f]);for(;N--;)P[y++]=e[f++];return P}function df(e,t,a,c){for(var f=-1,m=e.length,g=-1,y=a.length,v=-1,N=t.length,P=We(m-y,0),k=E(P+N),$=!c;++f<P;)k[f]=e[f];for(var z=f;++v<N;)k[z+v]=t[v];for(;++g<y;)($||f<m)&&(k[z+a[g]]=e[f++]);return k}function Rt(e,t){var a=-1,c=e.length;for(t||(t=E(c));++a<c;)t[a]=e[a];return t}function En(e,t,a,c){var f=!a;a||(a={});for(var m=-1,g=t.length;++m<g;){var y=t[m],v=c?c(a[y],e[y],y,a,e):r;v===r&&(v=e[y]),f?Bn(a,y,v):no(a,y,v)}return a}function y0(e,t){return En(e,Dl(e),t)}function w0(e,t){return En(e,Ef(e),t)}function ps(e,t){return function(a,c){var f=le(a)?xh:Wg,m=t?t():{};return f(a,e,ne(c,2),m)}}function xr(e){return pe(function(t,a){var c=-1,f=a.length,m=f>1?a[f-1]:r,g=f>2?a[2]:r;for(m=e.length>3&&typeof m=="function"?(f--,m):r,g&&At(a[0],a[1],g)&&(m=f<3?r:m,f=1),t=Me(t);++c<f;){var y=a[c];y&&e(t,y,c,m)}return t})}function hf(e,t){return function(a,c){if(a==null)return a;if(!kt(a))return e(a,c);for(var f=a.length,m=t?f:-1,g=Me(a);(t?m--:++m<f)&&c(g[m],m,g)!==!1;);return a}}function gf(e){return function(t,a,c){for(var f=-1,m=Me(t),g=c(t),y=g.length;y--;){var v=g[e?y:++f];if(a(m[v],v,m)===!1)break}return t}}function b0(e,t,a){var c=t&G,f=ao(e);function m(){var g=this&&this!==Ke&&this instanceof m?f:e;return g.apply(c?a:this,arguments)}return m}function _f(e){return function(t){t=Ce(t);var a=yr(t)?cn(t):r,c=a?a[0]:t.charAt(0),f=a?ai(a,1).join(""):t.slice(1);return c[e]()+f}}function Mr(e){return function(t){return el(hp(dp(t).replace(uh,"")),e,"")}}function ao(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var a=Sr(e.prototype),c=e.apply(a,t);return Oe(c)?c:a}}function C0(e,t,a){var c=ao(e);function f(){for(var m=arguments.length,g=E(m),y=m,v=Tr(f);y--;)g[y]=arguments[y];var N=m<3&&g[0]!==v&&g[m-1]!==v?[]:ti(g,v);if(m-=N.length,m<a)return vf(e,t,ms,f.placeholder,r,g,N,r,r,a-m);var P=this&&this!==Ke&&this instanceof f?c:e;return Wt(P,this,g)}return f}function yf(e){return function(t,a,c){var f=Me(t);if(!kt(t)){var m=ne(a,3);t=Ye(t),a=function(y){return m(f[y],y,f)}}var g=e(t,a,c);return g>-1?f[m?t[g]:g]:r}}function wf(e){return Vn(function(t){var a=t.length,c=a,f=Jt.prototype.thru;for(e&&t.reverse();c--;){var m=t[c];if(typeof m!="function")throw new Xt(s);if(f&&!g&&_s(m)=="wrapper")var g=new Jt([],!0)}for(c=g?c:a;++c<a;){m=t[c];var y=_s(m),v=y=="wrapper"?Rl(m):r;v&&Bl(v[0])&&v[1]==(J|U|j|se)&&!v[4].length&&v[9]==1?g=g[_s(v[0])].apply(g,v[3]):g=m.length==1&&Bl(m)?g[y]():g.thru(m)}return function(){var N=arguments,P=N[0];if(g&&N.length==1&&le(P))return g.plant(P).value();for(var k=0,$=a?t[k].apply(this,N):P;++k<a;)$=t[k].call(this,$);return $}})}function ms(e,t,a,c,f,m,g,y,v,N){var P=t&J,k=t&G,$=t&M,z=t&(U|K),ie=t&be,fe=$?r:ao(e);function re(){for(var me=arguments.length,ge=E(me),Yt=me;Yt--;)ge[Yt]=arguments[Yt];if(z)var It=Tr(re),qt=Lh(ge,It);if(c&&(ge=mf(ge,c,f,z)),m&&(ge=df(ge,m,g,z)),me-=qt,z&&me<N){var Fe=ti(ge,It);return vf(e,t,ms,re.placeholder,a,ge,Fe,y,v,N-me)}var pn=k?a:this,Kn=$?pn[e]:e;return me=ge.length,y?ge=W0(ge,y):ie&&me>1&&ge.reverse(),P&&v<me&&(ge.length=v),this&&this!==Ke&&this instanceof re&&(Kn=fe||ao(Kn)),Kn.apply(pn,ge)}return re}function bf(e,t){return function(a,c){return zg(a,e,t(c),{})}}function ds(e,t){return function(a,c){var f;if(a===r&&c===r)return t;if(a!==r&&(f=a),c!==r){if(f===r)return c;typeof a=="string"||typeof c=="string"?(a=Ut(a),c=Ut(c)):(a=of(a),c=of(c)),f=e(a,c)}return f}}function Ol(e){return Vn(function(t){return t=Ie(t,$t(ne())),pe(function(a){var c=this;return e(t,function(f){return Wt(f,c,a)})})})}function hs(e,t){t=t===r?" ":Ut(t);var a=t.length;if(a<2)return a?Sl(t,e):t;var c=Sl(t,ts(e/wr(t)));return yr(t)?ai(cn(c),0,e).join(""):c.slice(0,e)}function v0(e,t,a,c){var f=t&G,m=ao(e);function g(){for(var y=-1,v=arguments.length,N=-1,P=c.length,k=E(P+v),$=this&&this!==Ke&&this instanceof g?m:e;++N<P;)k[N]=c[N];for(;v--;)k[N++]=arguments[++y];return Wt($,f?a:this,k)}return g}function Cf(e){return function(t,a,c){return c&&typeof c!="number"&&At(t,a,c)&&(a=c=r),t=Un(t),a===r?(a=t,t=0):a=Un(a),c=c===r?t<a?1:-1:Un(c),a0(t,a,c,e)}}function gs(e){return function(t,a){return typeof t=="string"&&typeof a=="string"||(t=tn(t),a=tn(a)),e(t,a)}}function vf(e,t,a,c,f,m,g,y,v,N){var P=t&U,k=P?g:r,$=P?r:g,z=P?m:r,ie=P?r:m;t|=P?j:te,t&=~(P?te:j),t&L||(t&=~(G|M));var fe=[e,t,f,z,k,ie,$,y,v,N],re=a.apply(r,fe);return Bl(e)&&Rf(re,fe),re.placeholder=c,kf(re,e,t)}function Nl(e){var t=Ve[e];return function(a,c){if(a=tn(a),c=c==null?0:He(ce(c),292),c&&Ru(a)){var f=(Ce(a)+"e").split("e"),m=t(f[0]+"e"+(+f[1]+c));return f=(Ce(m)+"e").split("e"),+(f[0]+"e"+(+f[1]-c))}return t(a)}}var S0=Cr&&1/Yo(new Cr([,-0]))[1]==vi?function(e){return new Cr(e)}:Ql;function Sf(e){return function(t){var a=ze(t);return a==an?al(t):a==ln?Vh(t):Ph(t,e(t))}}function Gn(e,t,a,c,f,m,g,y){var v=t&M;if(!v&&typeof e!="function")throw new Xt(s);var N=c?c.length:0;if(N||(t&=~(j|te),c=f=r),g=g===r?g:We(ce(g),0),y=y===r?y:ce(y),N-=f?f.length:0,t&te){var P=c,k=f;c=f=r}var $=v?r:Rl(e),z=[e,t,a,c,f,P,k,m,g,y];if($&&B0(z,$),e=z[0],t=z[1],a=z[2],c=z[3],f=z[4],y=z[9]=z[9]===r?v?0:e.length:We(z[9]-N,0),!y&&t&(U|K)&&(t&=~(U|K)),!t||t==G)var ie=b0(e,t,a);else t==U||t==K?ie=C0(e,t,y):(t==j||t==(G|j))&&!f.length?ie=v0(e,t,a,c):ie=ms.apply(r,z);var fe=$?nf:Rf;return kf(fe(ie,z),e,t)}function xf(e,t,a,c){return e===r||fn(e,br[a])&&!ve.call(c,a)?t:e}function Mf(e,t,a,c,f,m){return Oe(e)&&Oe(t)&&(m.set(t,e),cs(e,t,r,Mf,m),m.delete(t)),e}function x0(e){return uo(e)?r:e}function Tf(e,t,a,c,f,m){var g=a&S,y=e.length,v=t.length;if(y!=v&&!(g&&v>y))return!1;var N=m.get(e),P=m.get(t);if(N&&P)return N==t&&P==e;var k=-1,$=!0,z=a&I?new Ti:r;for(m.set(e,t),m.set(t,e);++k<y;){var ie=e[k],fe=t[k];if(c)var re=g?c(fe,ie,k,t,e,m):c(ie,fe,k,e,t,m);if(re!==r){if(re)continue;$=!1;break}if(z){if(!tl(t,function(me,ge){if(!Xr(z,ge)&&(ie===me||f(ie,me,a,c,m)))return z.push(ge)})){$=!1;break}}else if(!(ie===fe||f(ie,fe,a,c,m))){$=!1;break}}return m.delete(e),m.delete(t),$}function M0(e,t,a,c,f,m,g){switch(a){case hr:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zr:return!(e.byteLength!=t.byteLength||!m(new Jo(e),new Jo(t)));case Ur:case Kr:case Yr:return fn(+e,+t);case Fo:return e.name==t.name&&e.message==t.message;case qr:case jr:return e==t+"";case an:var y=al;case ln:var v=c&S;if(y||(y=Yo),e.size!=t.size&&!v)return!1;var N=g.get(e);if(N)return N==t;c|=I,g.set(e,t);var P=Tf(y(e),y(t),c,f,m,g);return g.delete(e),P;case Go:if(to)return to.call(e)==to.call(t)}return!1}function T0(e,t,a,c,f,m){var g=a&S,y=Pl(e),v=y.length,N=Pl(t),P=N.length;if(v!=P&&!g)return!1;for(var k=v;k--;){var $=y[k];if(!(g?$ in t:ve.call(t,$)))return!1}var z=m.get(e),ie=m.get(t);if(z&&ie)return z==t&&ie==e;var fe=!0;m.set(e,t),m.set(t,e);for(var re=g;++k<v;){$=y[k];var me=e[$],ge=t[$];if(c)var Yt=g?c(ge,me,$,t,e,m):c(me,ge,$,e,t,m);if(!(Yt===r?me===ge||f(me,ge,a,c,m):Yt)){fe=!1;break}re||(re=$=="constructor")}if(fe&&!re){var It=e.constructor,qt=t.constructor;It!=qt&&"constructor"in e&&"constructor"in t&&!(typeof It=="function"&&It instanceof It&&typeof qt=="function"&&qt instanceof qt)&&(fe=!1)}return m.delete(e),m.delete(t),fe}function Vn(e){return Vl(Pf(e,r,Wf),e+"")}function Pl(e){return Yu(e,Ye,Dl)}function Ll(e){return Yu(e,Dt,Ef)}var Rl=is?function(e){return is.get(e)}:Ql;function _s(e){for(var t=e.name+"",a=vr[t],c=ve.call(vr,t)?a.length:0;c--;){var f=a[c],m=f.func;if(m==null||m==e)return f.name}return t}function Tr(e){var t=ve.call(p,"placeholder")?p:e;return t.placeholder}function ne(){var e=p.iteratee||Jl;return e=e===Jl?Hu:e,arguments.length?e(arguments[0],arguments[1]):e}function ys(e,t){var a=e.__data__;return R0(t)?a[typeof t=="string"?"string":"hash"]:a.map}function kl(e){for(var t=Ye(e),a=t.length;a--;){var c=t[a],f=e[c];t[a]=[c,f,Of(f)]}return t}function Ii(e,t){var a=Fh(e,t);return ju(a)?a:r}function E0(e){var t=ve.call(e,xi),a=e[xi];try{e[xi]=r;var c=!0}catch{}var f=zo.call(e);return c&&(t?e[xi]=a:delete e[xi]),f}var Dl=cl?function(e){return e==null?[]:(e=Me(e),Qn(cl(e),function(t){return Pu.call(e,t)}))}:ec,Ef=cl?function(e){for(var t=[];e;)ei(t,Dl(e)),e=Zo(e);return t}:ec,ze=Et;(ul&&ze(new ul(new ArrayBuffer(1)))!=hr||Zr&&ze(new Zr)!=an||fl&&ze(fl.resolve())!=$c||Cr&&ze(new Cr)!=ln||Qr&&ze(new Qr)!=Hr)&&(ze=function(e){var t=Et(e),a=t==kn?e.constructor:r,c=a?Oi(a):"";if(c)switch(c){case cg:return hr;case ug:return an;case fg:return $c;case pg:return ln;case mg:return Hr}return t});function A0(e,t,a){for(var c=-1,f=a.length;++c<f;){var m=a[c],g=m.size;switch(m.type){case"drop":e+=g;break;case"dropRight":t-=g;break;case"take":t=He(t,e+g);break;case"takeRight":e=We(e,t-g);break}}return{start:e,end:t}}function I0(e){var t=e.match(kd);return t?t[1].split(Dd):[]}function Af(e,t,a){t=si(t,e);for(var c=-1,f=t.length,m=!1;++c<f;){var g=An(t[c]);if(!(m=e!=null&&a(e,g)))break;e=e[g]}return m||++c!=f?m:(f=e==null?0:e.length,!!f&&Ms(f)&&Wn(g,f)&&(le(e)||Ni(e)))}function O0(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&ve.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function If(e){return typeof e.constructor=="function"&&!lo(e)?Sr(Zo(e)):{}}function N0(e,t,a){var c=e.constructor;switch(t){case zr:return Il(e);case Ur:case Kr:return new c(+e);case hr:return d0(e,a);case ka:case Da:case Fa:case Ba:case Ga:case Va:case Wa:case $a:case Ua:return ff(e,a);case an:return new c;case Yr:case jr:return new c(e);case qr:return h0(e);case ln:return new c;case Go:return g0(e)}}function P0(e,t){var a=t.length;if(!a)return e;var c=a-1;return t[c]=(a>1?"& ":"")+t[c],t=t.join(a>2?", ":" "),e.replace(Rd,`{
/* [wrapped with `+t+`] */
`)}function L0(e){return le(e)||Ni(e)||!!(Lu&&e&&e[Lu])}function Wn(e,t){var a=typeof e;return t=t??Zn,!!t&&(a=="number"||a!="symbol"&&Yd.test(e))&&e>-1&&e%1==0&&e<t}function At(e,t,a){if(!Oe(a))return!1;var c=typeof t;return(c=="number"?kt(a)&&Wn(t,a.length):c=="string"&&t in a)?fn(a[t],e):!1}function Fl(e,t){if(le(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||Kt(e)?!0:Od.test(e)||!Id.test(e)||t!=null&&e in Me(t)}function R0(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Bl(e){var t=_s(e),a=p[t];if(typeof a!="function"||!(t in de.prototype))return!1;if(e===a)return!0;var c=Rl(a);return!!c&&e===c[0]}function k0(e){return!!Iu&&Iu in e}var D0=jo?$n:tc;function lo(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||br;return e===a}function Of(e){return e===e&&!Oe(e)}function Nf(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==r||e in Me(a))}}function F0(e){var t=Ss(e,function(c){return a.size===d&&a.clear(),c}),a=t.cache;return t}function B0(e,t){var a=e[1],c=t[1],f=a|c,m=f<(G|M|J),g=c==J&&a==U||c==J&&a==se&&e[7].length<=t[8]||c==(J|se)&&t[7].length<=t[8]&&a==U;if(!(m||g))return e;c&G&&(e[2]=t[2],f|=a&G?0:L);var y=t[3];if(y){var v=e[3];e[3]=v?mf(v,y,t[4]):y,e[4]=v?ti(e[3],h):t[4]}return y=t[5],y&&(v=e[5],e[5]=v?df(v,y,t[6]):y,e[6]=v?ti(e[5],h):t[6]),y=t[7],y&&(e[7]=y),c&J&&(e[8]=e[8]==null?t[8]:He(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=f,e}function G0(e){var t=[];if(e!=null)for(var a in Me(e))t.push(a);return t}function V0(e){return zo.call(e)}function Pf(e,t,a){return t=We(t===r?e.length-1:t,0),function(){for(var c=arguments,f=-1,m=We(c.length-t,0),g=E(m);++f<m;)g[f]=c[t+f];f=-1;for(var y=E(t+1);++f<t;)y[f]=c[f];return y[t]=a(g),Wt(e,this,y)}}function Lf(e,t){return t.length<2?e:Ai(e,Qt(t,0,-1))}function W0(e,t){for(var a=e.length,c=He(t.length,a),f=Rt(e);c--;){var m=t[c];e[c]=Wn(m,a)?f[m]:r}return e}function Gl(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Rf=Df(nf),co=ng||function(e,t){return Ke.setTimeout(e,t)},Vl=Df(u0);function kf(e,t,a){var c=t+"";return Vl(e,P0(c,$0(I0(c),a)))}function Df(e){var t=0,a=0;return function(){var c=sg(),f=Jn-(c-a);if(a=c,f>0){if(++t>=xn)return arguments[0]}else t=0;return e.apply(r,arguments)}}function ws(e,t){var a=-1,c=e.length,f=c-1;for(t=t===r?c:t;++a<t;){var m=vl(a,f),g=e[m];e[m]=e[a],e[a]=g}return e.length=t,e}var Ff=F0(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Nd,function(a,c,f,m){t.push(f?m.replace(Gd,"$1"):c||a)}),t});function An(e){if(typeof e=="string"||Kt(e))return e;var t=e+"";return t=="0"&&1/e==-vi?"-0":t}function Oi(e){if(e!=null){try{return Ho.call(e)}catch{}try{return e+""}catch{}}return""}function $0(e,t){return zt(hd,function(a){var c="_."+a[0];t&a[1]&&!Uo(e,c)&&e.push(c)}),e.sort()}function Bf(e){if(e instanceof de)return e.clone();var t=new Jt(e.__wrapped__,e.__chain__);return t.__actions__=Rt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function U0(e,t,a){(a?At(e,t,a):t===r)?t=1:t=We(ce(t),0);var c=e==null?0:e.length;if(!c||t<1)return[];for(var f=0,m=0,g=E(ts(c/t));f<c;)g[m++]=Qt(e,f,f+=t);return g}function K0(e){for(var t=-1,a=e==null?0:e.length,c=0,f=[];++t<a;){var m=e[t];m&&(f[c++]=m)}return f}function Y0(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),a=arguments[0],c=e;c--;)t[c-1]=arguments[c];return ei(le(a)?Rt(a):[a],qe(t,1))}var q0=pe(function(e,t){return De(e)?io(e,qe(t,1,De,!0)):[]}),j0=pe(function(e,t){var a=en(t);return De(a)&&(a=r),De(e)?io(e,qe(t,1,De,!0),ne(a,2)):[]}),H0=pe(function(e,t){var a=en(t);return De(a)&&(a=r),De(e)?io(e,qe(t,1,De,!0),r,a):[]});function z0(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:ce(t),Qt(e,t<0?0:t,c)):[]}function X0(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:ce(t),t=c-t,Qt(e,0,t<0?0:t)):[]}function J0(e,t){return e&&e.length?fs(e,ne(t,3),!0,!0):[]}function Z0(e,t){return e&&e.length?fs(e,ne(t,3),!0):[]}function Q0(e,t,a,c){var f=e==null?0:e.length;return f?(a&&typeof a!="number"&&At(e,t,a)&&(a=0,c=f),Yg(e,t,a,c)):[]}function Gf(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=a==null?0:ce(a);return f<0&&(f=We(c+f,0)),Ko(e,ne(t,3),f)}function Vf(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=c-1;return a!==r&&(f=ce(a),f=a<0?We(c+f,0):He(f,c-1)),Ko(e,ne(t,3),f,!0)}function Wf(e){var t=e==null?0:e.length;return t?qe(e,1):[]}function e_(e){var t=e==null?0:e.length;return t?qe(e,vi):[]}function t_(e,t){var a=e==null?0:e.length;return a?(t=t===r?1:ce(t),qe(e,t)):[]}function n_(e){for(var t=-1,a=e==null?0:e.length,c={};++t<a;){var f=e[t];c[f[0]]=f[1]}return c}function $f(e){return e&&e.length?e[0]:r}function i_(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=a==null?0:ce(a);return f<0&&(f=We(c+f,0)),_r(e,t,f)}function r_(e){var t=e==null?0:e.length;return t?Qt(e,0,-1):[]}var o_=pe(function(e){var t=Ie(e,El);return t.length&&t[0]===e[0]?_l(t):[]}),s_=pe(function(e){var t=en(e),a=Ie(e,El);return t===en(a)?t=r:a.pop(),a.length&&a[0]===e[0]?_l(a,ne(t,2)):[]}),a_=pe(function(e){var t=en(e),a=Ie(e,El);return t=typeof t=="function"?t:r,t&&a.pop(),a.length&&a[0]===e[0]?_l(a,r,t):[]});function l_(e,t){return e==null?"":rg.call(e,t)}function en(e){var t=e==null?0:e.length;return t?e[t-1]:r}function c_(e,t,a){var c=e==null?0:e.length;if(!c)return-1;var f=c;return a!==r&&(f=ce(a),f=f<0?We(c+f,0):He(f,c-1)),t===t?$h(e,t,f):Ko(e,Cu,f,!0)}function u_(e,t){return e&&e.length?Zu(e,ce(t)):r}var f_=pe(Uf);function Uf(e,t){return e&&e.length&&t&&t.length?Cl(e,t):e}function p_(e,t,a){return e&&e.length&&t&&t.length?Cl(e,t,ne(a,2)):e}function m_(e,t,a){return e&&e.length&&t&&t.length?Cl(e,t,r,a):e}var d_=Vn(function(e,t){var a=e==null?0:e.length,c=ml(e,t);return tf(e,Ie(t,function(f){return Wn(f,a)?+f:f}).sort(pf)),c});function h_(e,t){var a=[];if(!(e&&e.length))return a;var c=-1,f=[],m=e.length;for(t=ne(t,3);++c<m;){var g=e[c];t(g,c,e)&&(a.push(g),f.push(c))}return tf(e,f),a}function Wl(e){return e==null?e:lg.call(e)}function g_(e,t,a){var c=e==null?0:e.length;return c?(a&&typeof a!="number"&&At(e,t,a)?(t=0,a=c):(t=t==null?0:ce(t),a=a===r?c:ce(a)),Qt(e,t,a)):[]}function __(e,t){return us(e,t)}function y_(e,t,a){return xl(e,t,ne(a,2))}function w_(e,t){var a=e==null?0:e.length;if(a){var c=us(e,t);if(c<a&&fn(e[c],t))return c}return-1}function b_(e,t){return us(e,t,!0)}function C_(e,t,a){return xl(e,t,ne(a,2),!0)}function v_(e,t){var a=e==null?0:e.length;if(a){var c=us(e,t,!0)-1;if(fn(e[c],t))return c}return-1}function S_(e){return e&&e.length?rf(e):[]}function x_(e,t){return e&&e.length?rf(e,ne(t,2)):[]}function M_(e){var t=e==null?0:e.length;return t?Qt(e,1,t):[]}function T_(e,t,a){return e&&e.length?(t=a||t===r?1:ce(t),Qt(e,0,t<0?0:t)):[]}function E_(e,t,a){var c=e==null?0:e.length;return c?(t=a||t===r?1:ce(t),t=c-t,Qt(e,t<0?0:t,c)):[]}function A_(e,t){return e&&e.length?fs(e,ne(t,3),!1,!0):[]}function I_(e,t){return e&&e.length?fs(e,ne(t,3)):[]}var O_=pe(function(e){return oi(qe(e,1,De,!0))}),N_=pe(function(e){var t=en(e);return De(t)&&(t=r),oi(qe(e,1,De,!0),ne(t,2))}),P_=pe(function(e){var t=en(e);return t=typeof t=="function"?t:r,oi(qe(e,1,De,!0),r,t)});function L_(e){return e&&e.length?oi(e):[]}function R_(e,t){return e&&e.length?oi(e,ne(t,2)):[]}function k_(e,t){return t=typeof t=="function"?t:r,e&&e.length?oi(e,r,t):[]}function $l(e){if(!(e&&e.length))return[];var t=0;return e=Qn(e,function(a){if(De(a))return t=We(a.length,t),!0}),ol(t,function(a){return Ie(e,nl(a))})}function Kf(e,t){if(!(e&&e.length))return[];var a=$l(e);return t==null?a:Ie(a,function(c){return Wt(t,r,c)})}var D_=pe(function(e,t){return De(e)?io(e,t):[]}),F_=pe(function(e){return Tl(Qn(e,De))}),B_=pe(function(e){var t=en(e);return De(t)&&(t=r),Tl(Qn(e,De),ne(t,2))}),G_=pe(function(e){var t=en(e);return t=typeof t=="function"?t:r,Tl(Qn(e,De),r,t)}),V_=pe($l);function W_(e,t){return lf(e||[],t||[],no)}function $_(e,t){return lf(e||[],t||[],so)}var U_=pe(function(e){var t=e.length,a=t>1?e[t-1]:r;return a=typeof a=="function"?(e.pop(),a):r,Kf(e,a)});function Yf(e){var t=p(e);return t.__chain__=!0,t}function K_(e,t){return t(e),e}function bs(e,t){return t(e)}var Y_=Vn(function(e){var t=e.length,a=t?e[0]:0,c=this.__wrapped__,f=function(m){return ml(m,e)};return t>1||this.__actions__.length||!(c instanceof de)||!Wn(a)?this.thru(f):(c=c.slice(a,+a+(t?1:0)),c.__actions__.push({func:bs,args:[f],thisArg:r}),new Jt(c,this.__chain__).thru(function(m){return t&&!m.length&&m.push(r),m}))});function q_(){return Yf(this)}function j_(){return new Jt(this.value(),this.__chain__)}function H_(){this.__values__===r&&(this.__values__=op(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function z_(){return this}function X_(e){for(var t,a=this;a instanceof os;){var c=Bf(a);c.__index__=0,c.__values__=r,t?f.__wrapped__=c:t=c;var f=c;a=a.__wrapped__}return f.__wrapped__=e,t}function J_(){var e=this.__wrapped__;if(e instanceof de){var t=e;return this.__actions__.length&&(t=new de(this)),t=t.reverse(),t.__actions__.push({func:bs,args:[Wl],thisArg:r}),new Jt(t,this.__chain__)}return this.thru(Wl)}function Z_(){return af(this.__wrapped__,this.__actions__)}var Q_=ps(function(e,t,a){ve.call(e,a)?++e[a]:Bn(e,a,1)});function ey(e,t,a){var c=le(e)?wu:Kg;return a&&At(e,t,a)&&(t=r),c(e,ne(t,3))}function ty(e,t){var a=le(e)?Qn:Uu;return a(e,ne(t,3))}var ny=yf(Gf),iy=yf(Vf);function ry(e,t){return qe(Cs(e,t),1)}function oy(e,t){return qe(Cs(e,t),vi)}function sy(e,t,a){return a=a===r?1:ce(a),qe(Cs(e,t),a)}function qf(e,t){var a=le(e)?zt:ri;return a(e,ne(t,3))}function jf(e,t){var a=le(e)?Mh:$u;return a(e,ne(t,3))}var ay=ps(function(e,t,a){ve.call(e,a)?e[a].push(t):Bn(e,a,[t])});function ly(e,t,a,c){e=kt(e)?e:Ar(e),a=a&&!c?ce(a):0;var f=e.length;return a<0&&(a=We(f+a,0)),Ts(e)?a<=f&&e.indexOf(t,a)>-1:!!f&&_r(e,t,a)>-1}var cy=pe(function(e,t,a){var c=-1,f=typeof t=="function",m=kt(e)?E(e.length):[];return ri(e,function(g){m[++c]=f?Wt(t,g,a):ro(g,t,a)}),m}),uy=ps(function(e,t,a){Bn(e,a,t)});function Cs(e,t){var a=le(e)?Ie:zu;return a(e,ne(t,3))}function fy(e,t,a,c){return e==null?[]:(le(t)||(t=t==null?[]:[t]),a=c?r:a,le(a)||(a=a==null?[]:[a]),Qu(e,t,a))}var py=ps(function(e,t,a){e[a?0:1].push(t)},function(){return[[],[]]});function my(e,t,a){var c=le(e)?el:Su,f=arguments.length<3;return c(e,ne(t,4),a,f,ri)}function dy(e,t,a){var c=le(e)?Th:Su,f=arguments.length<3;return c(e,ne(t,4),a,f,$u)}function hy(e,t){var a=le(e)?Qn:Uu;return a(e,xs(ne(t,3)))}function gy(e){var t=le(e)?Bu:l0;return t(e)}function _y(e,t,a){(a?At(e,t,a):t===r)?t=1:t=ce(t);var c=le(e)?Gg:c0;return c(e,t)}function yy(e){var t=le(e)?Vg:f0;return t(e)}function wy(e){if(e==null)return 0;if(kt(e))return Ts(e)?wr(e):e.length;var t=ze(e);return t==an||t==ln?e.size:wl(e).length}function by(e,t,a){var c=le(e)?tl:p0;return a&&At(e,t,a)&&(t=r),c(e,ne(t,3))}var Cy=pe(function(e,t){if(e==null)return[];var a=t.length;return a>1&&At(e,t[0],t[1])?t=[]:a>2&&At(t[0],t[1],t[2])&&(t=[t[0]]),Qu(e,qe(t,1),[])}),vs=tg||function(){return Ke.Date.now()};function vy(e,t){if(typeof t!="function")throw new Xt(s);return e=ce(e),function(){if(--e<1)return t.apply(this,arguments)}}function Hf(e,t,a){return t=a?r:t,t=e&&t==null?e.length:t,Gn(e,J,r,r,r,r,t)}function zf(e,t){var a;if(typeof t!="function")throw new Xt(s);return e=ce(e),function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=r),a}}var Ul=pe(function(e,t,a){var c=G;if(a.length){var f=ti(a,Tr(Ul));c|=j}return Gn(e,c,t,a,f)}),Xf=pe(function(e,t,a){var c=G|M;if(a.length){var f=ti(a,Tr(Xf));c|=j}return Gn(t,c,e,a,f)});function Jf(e,t,a){t=a?r:t;var c=Gn(e,U,r,r,r,r,r,t);return c.placeholder=Jf.placeholder,c}function Zf(e,t,a){t=a?r:t;var c=Gn(e,K,r,r,r,r,r,t);return c.placeholder=Zf.placeholder,c}function Qf(e,t,a){var c,f,m,g,y,v,N=0,P=!1,k=!1,$=!0;if(typeof e!="function")throw new Xt(s);t=tn(t)||0,Oe(a)&&(P=!!a.leading,k="maxWait"in a,m=k?We(tn(a.maxWait)||0,t):m,$="trailing"in a?!!a.trailing:$);function z(Fe){var pn=c,Kn=f;return c=f=r,N=Fe,g=e.apply(Kn,pn),g}function ie(Fe){return N=Fe,y=co(me,t),P?z(Fe):g}function fe(Fe){var pn=Fe-v,Kn=Fe-N,yp=t-pn;return k?He(yp,m-Kn):yp}function re(Fe){var pn=Fe-v,Kn=Fe-N;return v===r||pn>=t||pn<0||k&&Kn>=m}function me(){var Fe=vs();if(re(Fe))return ge(Fe);y=co(me,fe(Fe))}function ge(Fe){return y=r,$&&c?z(Fe):(c=f=r,g)}function Yt(){y!==r&&cf(y),N=0,c=v=f=y=r}function It(){return y===r?g:ge(vs())}function qt(){var Fe=vs(),pn=re(Fe);if(c=arguments,f=this,v=Fe,pn){if(y===r)return ie(v);if(k)return cf(y),y=co(me,t),z(v)}return y===r&&(y=co(me,t)),g}return qt.cancel=Yt,qt.flush=It,qt}var Sy=pe(function(e,t){return Wu(e,1,t)}),xy=pe(function(e,t,a){return Wu(e,tn(t)||0,a)});function My(e){return Gn(e,be)}function Ss(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Xt(s);var a=function(){var c=arguments,f=t?t.apply(this,c):c[0],m=a.cache;if(m.has(f))return m.get(f);var g=e.apply(this,c);return a.cache=m.set(f,g)||m,g};return a.cache=new(Ss.Cache||Fn),a}Ss.Cache=Fn;function xs(e){if(typeof e!="function")throw new Xt(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ty(e){return zf(2,e)}var Ey=m0(function(e,t){t=t.length==1&&le(t[0])?Ie(t[0],$t(ne())):Ie(qe(t,1),$t(ne()));var a=t.length;return pe(function(c){for(var f=-1,m=He(c.length,a);++f<m;)c[f]=t[f].call(this,c[f]);return Wt(e,this,c)})}),Kl=pe(function(e,t){var a=ti(t,Tr(Kl));return Gn(e,j,r,t,a)}),ep=pe(function(e,t){var a=ti(t,Tr(ep));return Gn(e,te,r,t,a)}),Ay=Vn(function(e,t){return Gn(e,se,r,r,r,t)});function Iy(e,t){if(typeof e!="function")throw new Xt(s);return t=t===r?t:ce(t),pe(e,t)}function Oy(e,t){if(typeof e!="function")throw new Xt(s);return t=t==null?0:We(ce(t),0),pe(function(a){var c=a[t],f=ai(a,0,t);return c&&ei(f,c),Wt(e,this,f)})}function Ny(e,t,a){var c=!0,f=!0;if(typeof e!="function")throw new Xt(s);return Oe(a)&&(c="leading"in a?!!a.leading:c,f="trailing"in a?!!a.trailing:f),Qf(e,t,{leading:c,maxWait:t,trailing:f})}function Py(e){return Hf(e,1)}function Ly(e,t){return Kl(Al(t),e)}function Ry(){if(!arguments.length)return[];var e=arguments[0];return le(e)?e:[e]}function ky(e){return Zt(e,x)}function Dy(e,t){return t=typeof t=="function"?t:r,Zt(e,x,t)}function Fy(e){return Zt(e,_|x)}function By(e,t){return t=typeof t=="function"?t:r,Zt(e,_|x,t)}function Gy(e,t){return t==null||Vu(e,t,Ye(t))}function fn(e,t){return e===t||e!==e&&t!==t}var Vy=gs(gl),Wy=gs(function(e,t){return e>=t}),Ni=qu(function(){return arguments}())?qu:function(e){return Le(e)&&ve.call(e,"callee")&&!Pu.call(e,"callee")},le=E.isArray,$y=mu?$t(mu):Xg;function kt(e){return e!=null&&Ms(e.length)&&!$n(e)}function De(e){return Le(e)&&kt(e)}function Uy(e){return e===!0||e===!1||Le(e)&&Et(e)==Ur}var li=ig||tc,Ky=du?$t(du):Jg;function Yy(e){return Le(e)&&e.nodeType===1&&!uo(e)}function qy(e){if(e==null)return!0;if(kt(e)&&(le(e)||typeof e=="string"||typeof e.splice=="function"||li(e)||Er(e)||Ni(e)))return!e.length;var t=ze(e);if(t==an||t==ln)return!e.size;if(lo(e))return!wl(e).length;for(var a in e)if(ve.call(e,a))return!1;return!0}function jy(e,t){return oo(e,t)}function Hy(e,t,a){a=typeof a=="function"?a:r;var c=a?a(e,t):r;return c===r?oo(e,t,r,a):!!c}function Yl(e){if(!Le(e))return!1;var t=Et(e);return t==Fo||t==_d||typeof e.message=="string"&&typeof e.name=="string"&&!uo(e)}function zy(e){return typeof e=="number"&&Ru(e)}function $n(e){if(!Oe(e))return!1;var t=Et(e);return t==Bo||t==Wc||t==gd||t==wd}function tp(e){return typeof e=="number"&&e==ce(e)}function Ms(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Zn}function Oe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Le(e){return e!=null&&typeof e=="object"}var np=hu?$t(hu):Qg;function Xy(e,t){return e===t||yl(e,t,kl(t))}function Jy(e,t,a){return a=typeof a=="function"?a:r,yl(e,t,kl(t),a)}function Zy(e){return ip(e)&&e!=+e}function Qy(e){if(D0(e))throw new ae(o);return ju(e)}function e1(e){return e===null}function t1(e){return e==null}function ip(e){return typeof e=="number"||Le(e)&&Et(e)==Yr}function uo(e){if(!Le(e)||Et(e)!=kn)return!1;var t=Zo(e);if(t===null)return!0;var a=ve.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&Ho.call(a)==Jh}var ql=gu?$t(gu):e0;function n1(e){return tp(e)&&e>=-Zn&&e<=Zn}var rp=_u?$t(_u):t0;function Ts(e){return typeof e=="string"||!le(e)&&Le(e)&&Et(e)==jr}function Kt(e){return typeof e=="symbol"||Le(e)&&Et(e)==Go}var Er=yu?$t(yu):n0;function i1(e){return e===r}function r1(e){return Le(e)&&ze(e)==Hr}function o1(e){return Le(e)&&Et(e)==Cd}var s1=gs(bl),a1=gs(function(e,t){return e<=t});function op(e){if(!e)return[];if(kt(e))return Ts(e)?cn(e):Rt(e);if(Jr&&e[Jr])return Gh(e[Jr]());var t=ze(e),a=t==an?al:t==ln?Yo:Ar;return a(e)}function Un(e){if(!e)return e===0?e:0;if(e=tn(e),e===vi||e===-vi){var t=e<0?-1:1;return t*pd}return e===e?e:0}function ce(e){var t=Un(e),a=t%1;return t===t?a?t-a:t:0}function sp(e){return e?Ei(ce(e),0,Mn):0}function tn(e){if(typeof e=="number")return e;if(Kt(e))return ko;if(Oe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Oe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xu(e);var a=$d.test(e);return a||Kd.test(e)?vh(e.slice(2),a?2:8):Wd.test(e)?ko:+e}function ap(e){return En(e,Dt(e))}function l1(e){return e?Ei(ce(e),-Zn,Zn):e===0?e:0}function Ce(e){return e==null?"":Ut(e)}var c1=xr(function(e,t){if(lo(t)||kt(t)){En(t,Ye(t),e);return}for(var a in t)ve.call(t,a)&&no(e,a,t[a])}),lp=xr(function(e,t){En(t,Dt(t),e)}),Es=xr(function(e,t,a,c){En(t,Dt(t),e,c)}),u1=xr(function(e,t,a,c){En(t,Ye(t),e,c)}),f1=Vn(ml);function p1(e,t){var a=Sr(e);return t==null?a:Gu(a,t)}var m1=pe(function(e,t){e=Me(e);var a=-1,c=t.length,f=c>2?t[2]:r;for(f&&At(t[0],t[1],f)&&(c=1);++a<c;)for(var m=t[a],g=Dt(m),y=-1,v=g.length;++y<v;){var N=g[y],P=e[N];(P===r||fn(P,br[N])&&!ve.call(e,N))&&(e[N]=m[N])}return e}),d1=pe(function(e){return e.push(r,Mf),Wt(cp,r,e)});function h1(e,t){return bu(e,ne(t,3),Tn)}function g1(e,t){return bu(e,ne(t,3),hl)}function _1(e,t){return e==null?e:dl(e,ne(t,3),Dt)}function y1(e,t){return e==null?e:Ku(e,ne(t,3),Dt)}function w1(e,t){return e&&Tn(e,ne(t,3))}function b1(e,t){return e&&hl(e,ne(t,3))}function C1(e){return e==null?[]:ls(e,Ye(e))}function v1(e){return e==null?[]:ls(e,Dt(e))}function jl(e,t,a){var c=e==null?r:Ai(e,t);return c===r?a:c}function S1(e,t){return e!=null&&Af(e,t,qg)}function Hl(e,t){return e!=null&&Af(e,t,jg)}var x1=bf(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=zo.call(t)),e[t]=a},Xl(Ft)),M1=bf(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=zo.call(t)),ve.call(e,t)?e[t].push(a):e[t]=[a]},ne),T1=pe(ro);function Ye(e){return kt(e)?Fu(e):wl(e)}function Dt(e){return kt(e)?Fu(e,!0):i0(e)}function E1(e,t){var a={};return t=ne(t,3),Tn(e,function(c,f,m){Bn(a,t(c,f,m),c)}),a}function A1(e,t){var a={};return t=ne(t,3),Tn(e,function(c,f,m){Bn(a,f,t(c,f,m))}),a}var I1=xr(function(e,t,a){cs(e,t,a)}),cp=xr(function(e,t,a,c){cs(e,t,a,c)}),O1=Vn(function(e,t){var a={};if(e==null)return a;var c=!1;t=Ie(t,function(m){return m=si(m,e),c||(c=m.length>1),m}),En(e,Ll(e),a),c&&(a=Zt(a,_|T|x,x0));for(var f=t.length;f--;)Ml(a,t[f]);return a});function N1(e,t){return up(e,xs(ne(t)))}var P1=Vn(function(e,t){return e==null?{}:o0(e,t)});function up(e,t){if(e==null)return{};var a=Ie(Ll(e),function(c){return[c]});return t=ne(t),ef(e,a,function(c,f){return t(c,f[0])})}function L1(e,t,a){t=si(t,e);var c=-1,f=t.length;for(f||(f=1,e=r);++c<f;){var m=e==null?r:e[An(t[c])];m===r&&(c=f,m=a),e=$n(m)?m.call(e):m}return e}function R1(e,t,a){return e==null?e:so(e,t,a)}function k1(e,t,a,c){return c=typeof c=="function"?c:r,e==null?e:so(e,t,a,c)}var fp=Sf(Ye),pp=Sf(Dt);function D1(e,t,a){var c=le(e),f=c||li(e)||Er(e);if(t=ne(t,4),a==null){var m=e&&e.constructor;f?a=c?new m:[]:Oe(e)?a=$n(m)?Sr(Zo(e)):{}:a={}}return(f?zt:Tn)(e,function(g,y,v){return t(a,g,y,v)}),a}function F1(e,t){return e==null?!0:Ml(e,t)}function B1(e,t,a){return e==null?e:sf(e,t,Al(a))}function G1(e,t,a,c){return c=typeof c=="function"?c:r,e==null?e:sf(e,t,Al(a),c)}function Ar(e){return e==null?[]:sl(e,Ye(e))}function V1(e){return e==null?[]:sl(e,Dt(e))}function W1(e,t,a){return a===r&&(a=t,t=r),a!==r&&(a=tn(a),a=a===a?a:0),t!==r&&(t=tn(t),t=t===t?t:0),Ei(tn(e),t,a)}function $1(e,t,a){return t=Un(t),a===r?(a=t,t=0):a=Un(a),e=tn(e),Hg(e,t,a)}function U1(e,t,a){if(a&&typeof a!="boolean"&&At(e,t,a)&&(t=a=r),a===r&&(typeof t=="boolean"?(a=t,t=r):typeof e=="boolean"&&(a=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Un(e),t===r?(t=e,e=0):t=Un(t)),e>t){var c=e;e=t,t=c}if(a||e%1||t%1){var f=ku();return He(e+f*(t-e+Ch("1e-"+((f+"").length-1))),t)}return vl(e,t)}var K1=Mr(function(e,t,a){return t=t.toLowerCase(),e+(a?mp(t):t)});function mp(e){return zl(Ce(e).toLowerCase())}function dp(e){return e=Ce(e),e&&e.replace(qd,Rh).replace(fh,"")}function Y1(e,t,a){e=Ce(e),t=Ut(t);var c=e.length;a=a===r?c:Ei(ce(a),0,c);var f=a;return a-=t.length,a>=0&&e.slice(a,f)==t}function q1(e){return e=Ce(e),e&&Td.test(e)?e.replace(Kc,kh):e}function j1(e){return e=Ce(e),e&&Pd.test(e)?e.replace(Ka,"\\$&"):e}var H1=Mr(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}),z1=Mr(function(e,t,a){return e+(a?" ":"")+t.toLowerCase()}),X1=_f("toLowerCase");function J1(e,t,a){e=Ce(e),t=ce(t);var c=t?wr(e):0;if(!t||c>=t)return e;var f=(t-c)/2;return hs(ns(f),a)+e+hs(ts(f),a)}function Z1(e,t,a){e=Ce(e),t=ce(t);var c=t?wr(e):0;return t&&c<t?e+hs(t-c,a):e}function Q1(e,t,a){e=Ce(e),t=ce(t);var c=t?wr(e):0;return t&&c<t?hs(t-c,a)+e:e}function ew(e,t,a){return a||t==null?t=0:t&&(t=+t),ag(Ce(e).replace(Ya,""),t||0)}function tw(e,t,a){return(a?At(e,t,a):t===r)?t=1:t=ce(t),Sl(Ce(e),t)}function nw(){var e=arguments,t=Ce(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var iw=Mr(function(e,t,a){return e+(a?"_":"")+t.toLowerCase()});function rw(e,t,a){return a&&typeof a!="number"&&At(e,t,a)&&(t=a=r),a=a===r?Mn:a>>>0,a?(e=Ce(e),e&&(typeof t=="string"||t!=null&&!ql(t))&&(t=Ut(t),!t&&yr(e))?ai(cn(e),0,a):e.split(t,a)):[]}var ow=Mr(function(e,t,a){return e+(a?" ":"")+zl(t)});function sw(e,t,a){return e=Ce(e),a=a==null?0:Ei(ce(a),0,e.length),t=Ut(t),e.slice(a,a+t.length)==t}function aw(e,t,a){var c=p.templateSettings;a&&At(e,t,a)&&(t=r),e=Ce(e),t=Es({},t,c,xf);var f=Es({},t.imports,c.imports,xf),m=Ye(f),g=sl(f,m),y,v,N=0,P=t.interpolate||Vo,k="__p += '",$=ll((t.escape||Vo).source+"|"+P.source+"|"+(P===Yc?Vd:Vo).source+"|"+(t.evaluate||Vo).source+"|$","g"),z="//# sourceURL="+(ve.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gh+"]")+`
`;e.replace($,function(re,me,ge,Yt,It,qt){return ge||(ge=Yt),k+=e.slice(N,qt).replace(jd,Dh),me&&(y=!0,k+=`' +
__e(`+me+`) +
'`),It&&(v=!0,k+=`';
`+It+`;
__p += '`),ge&&(k+=`' +
((__t = (`+ge+`)) == null ? '' : __t) +
'`),N=qt+re.length,re}),k+=`';
`;var ie=ve.call(t,"variable")&&t.variable;if(!ie)k=`with (obj) {
`+k+`
}
`;else if(Bd.test(ie))throw new ae(l);k=(v?k.replace(vd,""):k).replace(Sd,"$1").replace(xd,"$1;"),k="function("+(ie||"obj")+`) {
`+(ie?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(y?", __e = _.escape":"")+(v?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+k+`return __p
}`;var fe=gp(function(){return ye(m,z+"return "+k).apply(r,g)});if(fe.source=k,Yl(fe))throw fe;return fe}function lw(e){return Ce(e).toLowerCase()}function cw(e){return Ce(e).toUpperCase()}function uw(e,t,a){if(e=Ce(e),e&&(a||t===r))return xu(e);if(!e||!(t=Ut(t)))return e;var c=cn(e),f=cn(t),m=Mu(c,f),g=Tu(c,f)+1;return ai(c,m,g).join("")}function fw(e,t,a){if(e=Ce(e),e&&(a||t===r))return e.slice(0,Au(e)+1);if(!e||!(t=Ut(t)))return e;var c=cn(e),f=Tu(c,cn(t))+1;return ai(c,0,f).join("")}function pw(e,t,a){if(e=Ce(e),e&&(a||t===r))return e.replace(Ya,"");if(!e||!(t=Ut(t)))return e;var c=cn(e),f=Mu(c,cn(t));return ai(c,f).join("")}function mw(e,t){var a=H,c=ke;if(Oe(t)){var f="separator"in t?t.separator:f;a="length"in t?ce(t.length):a,c="omission"in t?Ut(t.omission):c}e=Ce(e);var m=e.length;if(yr(e)){var g=cn(e);m=g.length}if(a>=m)return e;var y=a-wr(c);if(y<1)return c;var v=g?ai(g,0,y).join(""):e.slice(0,y);if(f===r)return v+c;if(g&&(y+=v.length-y),ql(f)){if(e.slice(y).search(f)){var N,P=v;for(f.global||(f=ll(f.source,Ce(qc.exec(f))+"g")),f.lastIndex=0;N=f.exec(P);)var k=N.index;v=v.slice(0,k===r?y:k)}}else if(e.indexOf(Ut(f),y)!=y){var $=v.lastIndexOf(f);$>-1&&(v=v.slice(0,$))}return v+c}function dw(e){return e=Ce(e),e&&Md.test(e)?e.replace(Uc,Uh):e}var hw=Mr(function(e,t,a){return e+(a?" ":"")+t.toUpperCase()}),zl=_f("toUpperCase");function hp(e,t,a){return e=Ce(e),t=a?r:t,t===r?Bh(e)?qh(e):Ih(e):e.match(t)||[]}var gp=pe(function(e,t){try{return Wt(e,r,t)}catch(a){return Yl(a)?a:new ae(a)}}),gw=Vn(function(e,t){return zt(t,function(a){a=An(a),Bn(e,a,Ul(e[a],e))}),e});function _w(e){var t=e==null?0:e.length,a=ne();return e=t?Ie(e,function(c){if(typeof c[1]!="function")throw new Xt(s);return[a(c[0]),c[1]]}):[],pe(function(c){for(var f=-1;++f<t;){var m=e[f];if(Wt(m[0],this,c))return Wt(m[1],this,c)}})}function yw(e){return Ug(Zt(e,_))}function Xl(e){return function(){return e}}function ww(e,t){return e==null||e!==e?t:e}var bw=wf(),Cw=wf(!0);function Ft(e){return e}function Jl(e){return Hu(typeof e=="function"?e:Zt(e,_))}function vw(e){return Xu(Zt(e,_))}function Sw(e,t){return Ju(e,Zt(t,_))}var xw=pe(function(e,t){return function(a){return ro(a,e,t)}}),Mw=pe(function(e,t){return function(a){return ro(e,a,t)}});function Zl(e,t,a){var c=Ye(t),f=ls(t,c);a==null&&!(Oe(t)&&(f.length||!c.length))&&(a=t,t=e,e=this,f=ls(t,Ye(t)));var m=!(Oe(a)&&"chain"in a)||!!a.chain,g=$n(e);return zt(f,function(y){var v=t[y];e[y]=v,g&&(e.prototype[y]=function(){var N=this.__chain__;if(m||N){var P=e(this.__wrapped__),k=P.__actions__=Rt(this.__actions__);return k.push({func:v,args:arguments,thisArg:e}),P.__chain__=N,P}return v.apply(e,ei([this.value()],arguments))})}),e}function Tw(){return Ke._===this&&(Ke._=Zh),this}function Ql(){}function Ew(e){return e=ce(e),pe(function(t){return Zu(t,e)})}var Aw=Ol(Ie),Iw=Ol(wu),Ow=Ol(tl);function _p(e){return Fl(e)?nl(An(e)):s0(e)}function Nw(e){return function(t){return e==null?r:Ai(e,t)}}var Pw=Cf(),Lw=Cf(!0);function ec(){return[]}function tc(){return!1}function Rw(){return{}}function kw(){return""}function Dw(){return!0}function Fw(e,t){if(e=ce(e),e<1||e>Zn)return[];var a=Mn,c=He(e,Mn);t=ne(t),e-=Mn;for(var f=ol(c,t);++a<e;)t(a);return f}function Bw(e){return le(e)?Ie(e,An):Kt(e)?[e]:Rt(Ff(Ce(e)))}function Gw(e){var t=++Xh;return Ce(e)+t}var Vw=ds(function(e,t){return e+t},0),Ww=Nl("ceil"),$w=ds(function(e,t){return e/t},1),Uw=Nl("floor");function Kw(e){return e&&e.length?as(e,Ft,gl):r}function Yw(e,t){return e&&e.length?as(e,ne(t,2),gl):r}function qw(e){return vu(e,Ft)}function jw(e,t){return vu(e,ne(t,2))}function Hw(e){return e&&e.length?as(e,Ft,bl):r}function zw(e,t){return e&&e.length?as(e,ne(t,2),bl):r}var Xw=ds(function(e,t){return e*t},1),Jw=Nl("round"),Zw=ds(function(e,t){return e-t},0);function Qw(e){return e&&e.length?rl(e,Ft):0}function eb(e,t){return e&&e.length?rl(e,ne(t,2)):0}return p.after=vy,p.ary=Hf,p.assign=c1,p.assignIn=lp,p.assignInWith=Es,p.assignWith=u1,p.at=f1,p.before=zf,p.bind=Ul,p.bindAll=gw,p.bindKey=Xf,p.castArray=Ry,p.chain=Yf,p.chunk=U0,p.compact=K0,p.concat=Y0,p.cond=_w,p.conforms=yw,p.constant=Xl,p.countBy=Q_,p.create=p1,p.curry=Jf,p.curryRight=Zf,p.debounce=Qf,p.defaults=m1,p.defaultsDeep=d1,p.defer=Sy,p.delay=xy,p.difference=q0,p.differenceBy=j0,p.differenceWith=H0,p.drop=z0,p.dropRight=X0,p.dropRightWhile=J0,p.dropWhile=Z0,p.fill=Q0,p.filter=ty,p.flatMap=ry,p.flatMapDeep=oy,p.flatMapDepth=sy,p.flatten=Wf,p.flattenDeep=e_,p.flattenDepth=t_,p.flip=My,p.flow=bw,p.flowRight=Cw,p.fromPairs=n_,p.functions=C1,p.functionsIn=v1,p.groupBy=ay,p.initial=r_,p.intersection=o_,p.intersectionBy=s_,p.intersectionWith=a_,p.invert=x1,p.invertBy=M1,p.invokeMap=cy,p.iteratee=Jl,p.keyBy=uy,p.keys=Ye,p.keysIn=Dt,p.map=Cs,p.mapKeys=E1,p.mapValues=A1,p.matches=vw,p.matchesProperty=Sw,p.memoize=Ss,p.merge=I1,p.mergeWith=cp,p.method=xw,p.methodOf=Mw,p.mixin=Zl,p.negate=xs,p.nthArg=Ew,p.omit=O1,p.omitBy=N1,p.once=Ty,p.orderBy=fy,p.over=Aw,p.overArgs=Ey,p.overEvery=Iw,p.overSome=Ow,p.partial=Kl,p.partialRight=ep,p.partition=py,p.pick=P1,p.pickBy=up,p.property=_p,p.propertyOf=Nw,p.pull=f_,p.pullAll=Uf,p.pullAllBy=p_,p.pullAllWith=m_,p.pullAt=d_,p.range=Pw,p.rangeRight=Lw,p.rearg=Ay,p.reject=hy,p.remove=h_,p.rest=Iy,p.reverse=Wl,p.sampleSize=_y,p.set=R1,p.setWith=k1,p.shuffle=yy,p.slice=g_,p.sortBy=Cy,p.sortedUniq=S_,p.sortedUniqBy=x_,p.split=rw,p.spread=Oy,p.tail=M_,p.take=T_,p.takeRight=E_,p.takeRightWhile=A_,p.takeWhile=I_,p.tap=K_,p.throttle=Ny,p.thru=bs,p.toArray=op,p.toPairs=fp,p.toPairsIn=pp,p.toPath=Bw,p.toPlainObject=ap,p.transform=D1,p.unary=Py,p.union=O_,p.unionBy=N_,p.unionWith=P_,p.uniq=L_,p.uniqBy=R_,p.uniqWith=k_,p.unset=F1,p.unzip=$l,p.unzipWith=Kf,p.update=B1,p.updateWith=G1,p.values=Ar,p.valuesIn=V1,p.without=D_,p.words=hp,p.wrap=Ly,p.xor=F_,p.xorBy=B_,p.xorWith=G_,p.zip=V_,p.zipObject=W_,p.zipObjectDeep=$_,p.zipWith=U_,p.entries=fp,p.entriesIn=pp,p.extend=lp,p.extendWith=Es,Zl(p,p),p.add=Vw,p.attempt=gp,p.camelCase=K1,p.capitalize=mp,p.ceil=Ww,p.clamp=W1,p.clone=ky,p.cloneDeep=Fy,p.cloneDeepWith=By,p.cloneWith=Dy,p.conformsTo=Gy,p.deburr=dp,p.defaultTo=ww,p.divide=$w,p.endsWith=Y1,p.eq=fn,p.escape=q1,p.escapeRegExp=j1,p.every=ey,p.find=ny,p.findIndex=Gf,p.findKey=h1,p.findLast=iy,p.findLastIndex=Vf,p.findLastKey=g1,p.floor=Uw,p.forEach=qf,p.forEachRight=jf,p.forIn=_1,p.forInRight=y1,p.forOwn=w1,p.forOwnRight=b1,p.get=jl,p.gt=Vy,p.gte=Wy,p.has=S1,p.hasIn=Hl,p.head=$f,p.identity=Ft,p.includes=ly,p.indexOf=i_,p.inRange=$1,p.invoke=T1,p.isArguments=Ni,p.isArray=le,p.isArrayBuffer=$y,p.isArrayLike=kt,p.isArrayLikeObject=De,p.isBoolean=Uy,p.isBuffer=li,p.isDate=Ky,p.isElement=Yy,p.isEmpty=qy,p.isEqual=jy,p.isEqualWith=Hy,p.isError=Yl,p.isFinite=zy,p.isFunction=$n,p.isInteger=tp,p.isLength=Ms,p.isMap=np,p.isMatch=Xy,p.isMatchWith=Jy,p.isNaN=Zy,p.isNative=Qy,p.isNil=t1,p.isNull=e1,p.isNumber=ip,p.isObject=Oe,p.isObjectLike=Le,p.isPlainObject=uo,p.isRegExp=ql,p.isSafeInteger=n1,p.isSet=rp,p.isString=Ts,p.isSymbol=Kt,p.isTypedArray=Er,p.isUndefined=i1,p.isWeakMap=r1,p.isWeakSet=o1,p.join=l_,p.kebabCase=H1,p.last=en,p.lastIndexOf=c_,p.lowerCase=z1,p.lowerFirst=X1,p.lt=s1,p.lte=a1,p.max=Kw,p.maxBy=Yw,p.mean=qw,p.meanBy=jw,p.min=Hw,p.minBy=zw,p.stubArray=ec,p.stubFalse=tc,p.stubObject=Rw,p.stubString=kw,p.stubTrue=Dw,p.multiply=Xw,p.nth=u_,p.noConflict=Tw,p.noop=Ql,p.now=vs,p.pad=J1,p.padEnd=Z1,p.padStart=Q1,p.parseInt=ew,p.random=U1,p.reduce=my,p.reduceRight=dy,p.repeat=tw,p.replace=nw,p.result=L1,p.round=Jw,p.runInContext=C,p.sample=gy,p.size=wy,p.snakeCase=iw,p.some=by,p.sortedIndex=__,p.sortedIndexBy=y_,p.sortedIndexOf=w_,p.sortedLastIndex=b_,p.sortedLastIndexBy=C_,p.sortedLastIndexOf=v_,p.startCase=ow,p.startsWith=sw,p.subtract=Zw,p.sum=Qw,p.sumBy=eb,p.template=aw,p.times=Fw,p.toFinite=Un,p.toInteger=ce,p.toLength=sp,p.toLower=lw,p.toNumber=tn,p.toSafeInteger=l1,p.toString=Ce,p.toUpper=cw,p.trim=uw,p.trimEnd=fw,p.trimStart=pw,p.truncate=mw,p.unescape=dw,p.uniqueId=Gw,p.upperCase=hw,p.upperFirst=zl,p.each=qf,p.eachRight=jf,p.first=$f,Zl(p,function(){var e={};return Tn(p,function(t,a){ve.call(p.prototype,a)||(e[a]=t)}),e}(),{chain:!1}),p.VERSION=i,zt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),zt(["drop","take"],function(e,t){de.prototype[e]=function(a){a=a===r?1:We(ce(a),0);var c=this.__filtered__&&!t?new de(this):this.clone();return c.__filtered__?c.__takeCount__=He(a,c.__takeCount__):c.__views__.push({size:He(a,Mn),type:e+(c.__dir__<0?"Right":"")}),c},de.prototype[e+"Right"]=function(a){return this.reverse()[e](a).reverse()}}),zt(["filter","map","takeWhile"],function(e,t){var a=t+1,c=a==Pe||a==fd;de.prototype[e]=function(f){var m=this.clone();return m.__iteratees__.push({iteratee:ne(f,3),type:a}),m.__filtered__=m.__filtered__||c,m}}),zt(["head","last"],function(e,t){var a="take"+(t?"Right":"");de.prototype[e]=function(){return this[a](1).value()[0]}}),zt(["initial","tail"],function(e,t){var a="drop"+(t?"":"Right");de.prototype[e]=function(){return this.__filtered__?new de(this):this[a](1)}}),de.prototype.compact=function(){return this.filter(Ft)},de.prototype.find=function(e){return this.filter(e).head()},de.prototype.findLast=function(e){return this.reverse().find(e)},de.prototype.invokeMap=pe(function(e,t){return typeof e=="function"?new de(this):this.map(function(a){return ro(a,e,t)})}),de.prototype.reject=function(e){return this.filter(xs(ne(e)))},de.prototype.slice=function(e,t){e=ce(e);var a=this;return a.__filtered__&&(e>0||t<0)?new de(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),t!==r&&(t=ce(t),a=t<0?a.dropRight(-t):a.take(t-e)),a)},de.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},de.prototype.toArray=function(){return this.take(Mn)},Tn(de.prototype,function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),c=/^(?:head|last)$/.test(t),f=p[c?"take"+(t=="last"?"Right":""):t],m=c||/^find/.test(t);f&&(p.prototype[t]=function(){var g=this.__wrapped__,y=c?[1]:arguments,v=g instanceof de,N=y[0],P=v||le(g),k=function(me){var ge=f.apply(p,ei([me],y));return c&&$?ge[0]:ge};P&&a&&typeof N=="function"&&N.length!=1&&(v=P=!1);var $=this.__chain__,z=!!this.__actions__.length,ie=m&&!$,fe=v&&!z;if(!m&&P){g=fe?g:new de(this);var re=e.apply(g,y);return re.__actions__.push({func:bs,args:[k],thisArg:r}),new Jt(re,$)}return ie&&fe?e.apply(this,y):(re=this.thru(k),ie?c?re.value()[0]:re.value():re)})}),zt(["pop","push","shift","sort","splice","unshift"],function(e){var t=qo[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",c=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var f=arguments;if(c&&!this.__chain__){var m=this.value();return t.apply(le(m)?m:[],f)}return this[a](function(g){return t.apply(le(g)?g:[],f)})}}),Tn(de.prototype,function(e,t){var a=p[t];if(a){var c=a.name+"";ve.call(vr,c)||(vr[c]=[]),vr[c].push({name:t,func:a})}}),vr[ms(r,M).name]=[{name:"wrapper",func:r}],de.prototype.clone=dg,de.prototype.reverse=hg,de.prototype.value=gg,p.prototype.at=Y_,p.prototype.chain=q_,p.prototype.commit=j_,p.prototype.next=H_,p.prototype.plant=X_,p.prototype.reverse=J_,p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=Z_,p.prototype.first=p.prototype.head,Jr&&(p.prototype[Jr]=z_),p},ni=jh();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ke._=ni,define(function(){return ni})):Si?((Si.exports=ni)._=ni,Ja._=ni):Ke._=ni}).call(Pr)});var Ks={name:"default-section",thickness:1};var pm={name:"default-material",modulusOfElasticity:21e10,poissonsRatio:.3,weight:78.5};var dm=nc(mm());var In=class r{destroyed$=new bp;ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static \u0275fac=function(n){return new(n||r)};static \u0275dir=Ip({type:r})};var Yn=class r{static stringify(i,n=""){return r._stringifyInternal(i,n,!0)}static stringifyRaw(i,n=""){return r._stringifyInternal(i,n,!1)}static parse(i){return r._parseInternal(i,!0)}static parseRaw(i){return r._parseInternal(i,!1)}static _stringifyInternal(i,n,o){let s=[];for(let l of Object.keys(i)){let u=i[l],d=n?`${n}[${l}]`:l;if(Array.isArray(u))u.forEach((h,_)=>{let T=`${d}[${_}]`;if(h!==null&&typeof h=="object")s.push(r._stringifyInternal(h,T,o));else{let x=o?encodeURIComponent(T):T,S=o?encodeURIComponent(String(h)):String(h);s.push(`${x}=${S}`)}});else if(u!==null&&typeof u=="object")s.push(r._stringifyInternal(u,d,o));else{let h=o?encodeURIComponent(d):d,_=o?encodeURIComponent(String(u)):String(u);s.push(`${h}=${_}`)}}return s.join(`&
`)}static _parseInternal(i,n){let o={};if(!i)return o;let l=i.replace(/(\r\n|\n|\r)/gm,"").split("&").map(u=>u.trim()).filter(u=>u);for(let u of l){let[d,h]=u.split("=");if(!d)continue;let _=n?decodeURIComponent(d):d,T=n?decodeURIComponent(h||""):h||"";r.assignNested(o,_,T)}return o}static assignNested(i,n,o){let s=n.split(/\[|\]/).filter(u=>u!==""),l=i;for(let u=0;u<s.length;u++){let d=s[u],h=u===s.length-1,_=isNaN(Number(d))?d:Number(d);h?l[_]=r.parseValue(o):(_ in l||(l[_]=typeof s[u+1]=="number"||!isNaN(Number(s[u+1]))?[]:{}),l=l[_])}}static parseValue(i){return i==="true"?!0:i==="false"?!1:!isNaN(Number(i))&&i.trim()!==""?Number(i):i}};var rb=()=>["0","1","2","3","4","5","6","7","8"];function ob(r,i){if(r&1){let n=je();oe(0,"div",14),b(1,"div",3)(2,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.x,s)||(l.x=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(3,"div",3)(4,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.y,s)||(l.y=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(5,"div",3)(6,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.radius,s)||(l.radius=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(7,"div",3)(8,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.maxArea,s)||(l.maxArea=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),oe(9,"div",3),b(10,"div",14)(11,"p-button",28),V("onClick",function(){let s=F(n).$index,l=W();return B(l.removeRefinementPoint(s))}),w()()}if(r&2){let n=i.$implicit;R(2),Z("ngModel",n.x),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.y),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.radius),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.maxArea),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(3),q("outlined",!0)}}function sb(r,i){if(r&1){let n=je();b(0,"div",14)(1,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.x,s)||(l.x=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(2,"div",14)(3,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.y,s)||(l.y=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(4,"div",3)(5,"input",29),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.name,s)||(l.name=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),oe(6,"div",22),b(7,"div",14)(8,"p-button",28),V("onClick",function(){let s=F(n).$index,l=W();return B(l.removeResultPoint(s))}),w()()}if(r&2){let n=i.$implicit;R(),Z("ngModel",n.x),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.y),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.name),R(3),q("outlined",!0)}}function ab(r,i){if(r&1){let n=je();b(0,"div",3)(1,"input",29),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.name,s)||(l.name=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(2,"div",15)(3,"p-inputnumber",30),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.modulusOfElasticity,s)||(l.modulusOfElasticity=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(4,"div",3)(5,"p-inputnumber",30),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.weight,s)||(l.weight=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(6,"div",3)(7,"p-inputnumber",31),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.poissonsRatio,s)||(l.poissonsRatio=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),oe(8,"div",3),b(9,"div",14)(10,"p-button",32),V("onClick",function(){let s=F(n).$index,l=W();return B(l.removeMaterialAndThickeness(s))}),w()()}if(r&2){let n=i.$implicit,o=W();R(),Z("ngModel",n.name),R(2),Z("ngModel",n.modulusOfElasticity),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1)("min",1e-5),R(2),Z("ngModel",n.weight),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1)("min",1e-5),R(2),Z("ngModel",n.poissonsRatio),q("showButtons",!1)("min",1e-5)("minFractionDigits",1)("max",1)("step",.1),R(3),q("outlined",!0)("disabled",o.model.materials.length<=1)}}function lb(r,i){if(r&1){let n=je();b(0,"div",3)(1,"p-inputnumber",30),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.thickness,s)||(l.thickness=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(2,"div",3)(3,"input",29),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.name,s)||(l.name=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),oe(4,"div",22),b(5,"div",14)(6,"p-button",32),V("onClick",function(){let s=F(n).$index,l=W();return B(l.removeMaterialAndThickeness(s))}),w()()}if(r&2){let n=i.$implicit,o=W();R(),Z("ngModel",n.thickness),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1)("min",1e-5),R(2),Z("ngModel",n.name),R(3),q("outlined",!0)("disabled",o.model.sectionProperties.length<=1)}}function cb(r,i){if(r&1){let n=je();b(0,"div",14)(1,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.x,s)||(l.x=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(2,"div",14)(3,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.y,s)||(l.y=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(4,"div",14)(5,"p-inputnumber",30),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.width,s)||(l.width=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(6,"div",14)(7,"p-inputnumber",33),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.height,s)||(l.height=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(8,"div",3)(9,"p-select",34),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.sectionName,s)||(l.sectionName=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(10,"div",3)(11,"p-select",34),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.materialName,s)||(l.materialName=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(12,"div",3)(13,"input",29),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.name,s)||(l.name=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),oe(14,"div",14),b(15,"div",14)(16,"p-button",28),V("onClick",function(){let s=F(n).$index,l=W();return B(l.removeRectangleGeometry(s))}),w()()}if(r&2){let n=i.$implicit,o=W();R(),Z("ngModel",n.x),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.y),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.width),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1)("min",1e-5),R(2),Z("ngModel",n.height),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1)("min",1e-5),R(2),q("options",o.model.sectionProperties),Z("ngModel",n.sectionName),R(2),q("options",o.model.materials),Z("ngModel",n.materialName),R(2),Z("ngModel",n.name),R(3),q("outlined",!0)}}function ub(r,i){if(r&1){let n=je();b(0,"div",5)(1,"input",29),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.points,s)||(l.points=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(2,"div",3)(3,"p-select",34),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.sectionName,s)||(l.sectionName=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(4,"div",3)(5,"p-select",34),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.materialName,s)||(l.materialName=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(6,"div",3)(7,"input",29),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.name,s)||(l.name=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),oe(8,"div",14),b(9,"div",14)(10,"p-button",28),V("onClick",function(){let s=F(n).$index,l=W();return B(l.removePolygonGeometry(s))}),w()()}if(r&2){let n=i.$implicit,o=W();R(),Z("ngModel",n.points),R(2),q("options",o.model.sectionProperties),Z("ngModel",n.sectionName),R(2),q("options",o.model.materials),Z("ngModel",n.materialName),R(2),Z("ngModel",n.name),R(3),q("outlined",!0)}}function fb(r,i){if(r&1){let n=je();b(0,"div",3)(1,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.x,s)||(l.x=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(2,"div",3)(3,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.y,s)||(l.y=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(4,"div",14)(5,"p-checkbox",35),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.fixedX,s)||(l.fixedX=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),b(6,"div",14)(7,"p-checkbox",35),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.fixedY,s)||(l.fixedY=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),oe(8,"div",25),b(9,"div",14)(10,"p-button",32),V("onClick",function(){let s=F(n).$index,l=W();return B(l.removeRestraint(s))}),w()()}if(r&2){let n=i.$implicit,o=W();R(),Z("ngModel",n.x),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.y),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.fixedX),q("binary",!0),R(2),Z("ngModel",n.fixedY),q("binary",!0),R(3),q("outlined",!0)("disabled",o.model.supports.length<=1)}}function pb(r,i){if(r&1){let n=je();b(0,"div",41)(1,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.x,s)||(l.x=s),B(s)}),V("ngModelChange",function(){F(n);let s=W(2);return B(s.onChange())}),w()(),b(2,"div",3)(3,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.y,s)||(l.y=s),B(s)}),V("ngModelChange",function(){F(n);let s=W(2);return B(s.onChange())}),w()(),b(4,"div",3)(5,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.fx,s)||(l.fx=s),B(s)}),V("ngModelChange",function(){F(n);let s=W(2);return B(s.onChange())}),w()(),b(6,"div",3)(7,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.fy,s)||(l.fy=s),B(s)}),V("ngModelChange",function(){F(n);let s=W(2);return B(s.onChange())}),w()(),oe(8,"div",3),b(9,"div",14)(10,"p-button",28),V("onClick",function(){let s=F(n).$index,l=W().$index,u=W();return B(u.removePointLoad(l,s))}),w()()}if(r&2){let n=i.$implicit;R(),Z("ngModel",n.x),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.y),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.fx),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.fy),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(3),q("outlined",!0)}}function mb(r,i){if(r&1){let n=je();b(0,"div",42)(1,"p-select",45),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.geometryName,s)||(l.geometryName=s),B(s)}),V("ngModelChange",function(){F(n);let s=W(2);return B(s.onChange())}),w()(),b(2,"div",3)(3,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.fx,s)||(l.fx=s),B(s)}),V("ngModelChange",function(){F(n);let s=W(2);return B(s.onChange())}),w()(),b(4,"div",3)(5,"p-inputnumber",27),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.fy,s)||(l.fy=s),B(s)}),V("ngModelChange",function(){F(n);let s=W(2);return B(s.onChange())}),w()(),oe(6,"div",15),b(7,"div",14)(8,"p-button",28),V("onClick",function(){let s=F(n).$index,l=W().$index,u=W();return B(u.removeDistributedLoad(l,s))}),w()()}if(r&2){let n=i.$implicit,o=W(2);R(),q("options",o.geometries),Z("ngModel",n.geometryName),R(2),Z("ngModel",n.fx),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(2),Z("ngModel",n.fy),q("minFractionDigits",0)("maxFractionDigits",5)("showButtons",!1),R(3),q("outlined",!0)}}function db(r,i){if(r&1){let n=je();b(0,"div",15)(1,"input",29),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.name,s)||(l.name=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),oe(2,"div",12),b(3,"div",14)(4,"p-button",32),V("onClick",function(){let s=F(n).$index,l=W();return B(l.removeLoadCase(s))}),w()(),b(5,"div",36)(6,"div",37)(7,"p",4),D(8,"Dead Load"),w()(),b(9,"div",14)(10,"p-toggleswitch",38),ee("ngModelChange",function(s){let l=F(n).$implicit;return Q(l.includeDeadLoad,s)||(l.includeDeadLoad=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w()(),oe(11,"div",12),b(12,"div",39)(13,"p",4),D(14,"Point loads"),w()(),oe(15,"div",40),b(16,"div",41)(17,"p",4),D(18,"X"),w()(),b(19,"div",3)(20,"p",4),D(21,"Y"),w()(),b(22,"div",3)(23,"p",4),D(24,"FX"),w()(),b(25,"div",3)(26,"p",4),D(27,"FY"),w()(),oe(28,"div",5),Nt(29,pb,11,17,null,null,Ot),b(31,"div",42)(32,"p-button",43),V("onClick",function(){let s=F(n).$index,l=W();return B(l.addPointLoad(s))}),w()()(),b(33,"div",36)(34,"div",39)(35,"p",4),D(36,"Distributed loads"),w()(),oe(37,"div",40),b(38,"div",42)(39,"p",4),D(40,"Geometry name"),w()(),b(41,"div",3)(42,"p",4),D(43,"FX"),w()(),b(44,"div",3)(45,"p",4),D(46,"FY"),w()(),oe(47,"div",15),Nt(48,mb,9,11,null,null,Ot),b(50,"div",42)(51,"p-button",44),V("onClick",function(){let s=F(n).$index,l=W();return B(l.addDistributedLoad(s))}),w()()()}if(r&2){let n=i.$implicit,o=W();R(),Z("ngModel",n.name),R(3),q("outlined",!0)("disabled",o.model.loadCases.length<=1),R(6),Z("ngModel",n.includeDeadLoad),R(19),Pt(n.pointLoads),R(19),Pt(n.distributedLoads)}}var Ys=class r extends In{membraneMessageService=Ae(fi);membraneService=Ae(Or);detector=Ae(rn);route=Ae(Fp);ngOnInit(){this.membraneMessageService.updateGeometry(this.model),this.membraneMessageService.geometryChanged.pipe(nn(this.destroyed$)).subscribe(i=>{this.model=i,this.detector.detectChanges()}),this.route.queryParamMap.subscribe(i=>{if(i.keys.length===0)return;let n=i.keys.map(s=>`${s}=${i.get(s)}`).join("&"),o=Yn.parseRaw(n||"");this.membraneService.updateGeometry(o)})}rectangles=["0,0,300,100,rec1","300,300,100,100,rec2"];model={solverConfiguration:{solverType:"lusolve"},meshingConfiguration:{maxTriangleArea:.05,refinementPoints:[{x:0,y:0,radius:.4,maxArea:.002},{x:1.5,y:0,radius:.4,maxArea:.002},{x:2,y:1,radius:.4,maxArea:.001}]},resultPoints:[{x:1,y:.5,name:"p1"}],sectionProperties:[Pi({},Ks),wp(Pi({},Ks),{name:"thickness-2",thickness:.5})],materials:[Pi({},pm)],rectangles:[{name:"geo1",x:0,y:0,width:2,height:1,sectionName:"default-section",materialName:"default-material"},{name:"geo2",x:3,y:1,width:2,height:2,sectionName:"default-section",materialName:"default-material"},{name:"geo3",x:6,y:0,width:2,height:1,sectionName:"default-section",materialName:"default-material"},{name:"geo4",x:3.45,y:3,width:1,height:.28,sectionName:"default-section",materialName:"default-material"}],polygons:[{name:"pol1",points:"2,0 3,1 3,3 2,1",sectionName:"default-section",materialName:"default-material"},{name:"pol2",points:"5,1 6,0 6,1 5,3",sectionName:"default-section",materialName:"default-material"}],supports:[{x:2,y:0,fixedX:!0,fixedY:!0},{x:6,y:0,fixedX:!1,fixedY:!0}],loadCases:[{name:"loadCase1",includeDeadLoad:!1,pointLoads:[{x:1,y:.48,fx:0,fy:0},{x:2,y:0,fx:0,fy:-1}],distributedLoads:[{geometryName:"geo1",fx:0,fy:-.5}]},{name:"loadCase2",includeDeadLoad:!1,pointLoads:[{x:.72,y:.5,fx:0,fy:0},{x:.5,y:.54,fx:0,fy:0}],distributedLoads:[{geometryName:"geo2",fx:0,fy:-1},{geometryName:"geo2",fx:0,fy:-1}]}]};get geometries(){let i=this.model.rectangles.map(o=>o.name),n=this.model.polygons?.map(o=>o.name)??[];return dm.uniq([...i,...n])}removeMaterialAndThickeness(i){return Se(this,null,function*(){this.model.sectionProperties.splice(i,1),yield this.onChange()})}addMaterialAndThickeness(){return Se(this,null,function*(){this.model.sectionProperties.push(Pi({},Ks)),yield this.onChange()})}addResultPoint(){return Se(this,null,function*(){this.model.resultPoints.push({x:0,y:0,name:`p${this.model.resultPoints.length+1}`}),yield this.onChange()})}removeRectangleGeometry(i){return Se(this,null,function*(){this.model.rectangles.splice(i,1),yield this.onChange()})}removePolygonGeometry(i){return Se(this,null,function*(){this.model.polygons.splice(i,1),yield this.onChange()})}removeResultPoint(i){return Se(this,null,function*(){this.model.resultPoints.splice(i,1),yield this.onChange()})}addRectangleGeometry(){return Se(this,null,function*(){this.model.rectangles.push(Pi({},Jp)),yield this.onChange()})}addPolygonGeometry(){return Se(this,null,function*(){this.model.polygons.push(Pi({},Xp)),yield this.onChange()})}removeRestraint(i){return Se(this,null,function*(){this.model.supports.splice(i,1),yield this.onChange()})}removeRefinementPoint(i){return Se(this,null,function*(){this.model.meshingConfiguration.refinementPoints.splice(i,1),yield this.onChange()})}addRefinementPoint(){return Se(this,null,function*(){this.model.meshingConfiguration.refinementPoints.push({x:0,y:0,radius:.1,maxArea:.001}),yield this.onChange()})}addRestraint(){return Se(this,null,function*(){this.model.supports.push({x:0,y:0,fixedX:!0,fixedY:!0}),yield this.onChange()})}addLoadCase(){return Se(this,null,function*(){this.model.loadCases.push({name:`loadCase${this.model.loadCases.length+1}`,pointLoads:[],distributedLoads:[],includeDeadLoad:!1}),yield this.onChange()})}removeLoadCase(i){return Se(this,null,function*(){this.model.loadCases.splice(i,1),yield this.onChange()})}addPointLoad(i){return Se(this,null,function*(){this.model.loadCases[i].pointLoads.push({x:0,y:0,fx:0,fy:0}),yield this.onChange()})}removePointLoad(i,n){return Se(this,null,function*(){this.model.loadCases[i].pointLoads.splice(n,1),yield this.onChange()})}addDistributedLoad(i){return Se(this,null,function*(){this.model.loadCases[i].distributedLoads.push({geometryName:"",fx:0,fy:0}),yield this.onChange()})}removeDistributedLoad(i,n){return Se(this,null,function*(){this.model.loadCases[i].distributedLoads.splice(n,1),yield this.onChange()})}onChange(){return Se(this,null,function*(){yield Promise.resolve(),this.membraneService.updateGeometry(this.model),this.detector.detectChanges()})}static \u0275fac=(()=>{let i;return function(o){return(i||(i=ci(r)))(o||r)}})();static \u0275cmp=Xe({type:r,selectors:[["app-geometry"]],features:[ui],decls:210,vars:8,consts:[[3,"value","multiple"],["value","0"],[1,"grid","grid-cols-12","gap-2","auto-rows-max","mt-1","mb-1"],[1,"col-span-2"],[1,"font-semibold"],[1,"col-span-4"],["name","lusolve1","value","lusolve","inputId","lusolve1",3,"ngModelChange","ngModel"],["for","lusolve1",1,"ml-2"],["name","iterative1","value","iterative","inputId","iterative",3,"ngModelChange","ngModel"],["for","iterative1",1,"ml-2"],["value","1"],["mode","decimal",3,"ngModelChange","ngModel","maxFractionDigits","showButtons"],[1,"col-span-8"],[1,"col-span-12"],[1,"col-span-1"],[1,"col-span-3"],[1,"col-span-1","col-start-2"],["severity","secondary","size","small","icon","pi pi-plus","label","Add",3,"onClick"],["value","5"],[1,"mt-2"],["value","3"],["value","4"],[1,"col-span-7"],["value","6"],["value","7"],[1,"col-span-5"],["value","8"],["mode","decimal",3,"ngModelChange","ngModel","minFractionDigits","maxFractionDigits","showButtons"],["severity","secondary","icon","pi pi-times","severity","danger",3,"onClick","outlined"],["type","text","pInputText","",3,"ngModelChange","ngModel"],["mode","decimal",3,"ngModelChange","ngModel","minFractionDigits","maxFractionDigits","showButtons","min"],["mode","decimal",3,"ngModelChange","ngModel","showButtons","min","minFractionDigits","max","step"],["severity","secondary","icon","pi pi-times","severity","danger",3,"onClick","outlined","disabled"],[3,"ngModelChange","ngModel","minFractionDigits","maxFractionDigits","showButtons","min"],["optionLabel","name","placeholder","Select material and thickness","optionValue","name",3,"ngModelChange","options","ngModel"],[3,"ngModelChange","ngModel","binary"],[1,"col-span-12","grid","grid-cols-subgrid","gap-2"],[1,"col-start-2","col-span-2"],[3,"ngModelChange","ngModel"],[1,"col-span-4","col-start-2"],[1,"col-span-6"],[1,"col-span-2","col-start-2"],[1,"col-span-3","col-start-2"],["severity","secondary","icon","pi pi-plus","size","small","label","Add point load",3,"onClick"],["severity","secondary","size","small","icon","pi pi-plus","label","Add distributed load",3,"onClick"],["placeholder","Select geometry",3,"ngModelChange","options","ngModel"]],template:function(n,o){n&1&&(b(0,"p-accordion",0)(1,"p-accordion-panel",1)(2,"p-accordion-header"),D(3,"Solver Configuration"),w(),b(4,"p-accordion-content")(5,"p-fluid")(6,"div",2)(7,"div",3)(8,"p",4),D(9,"Solver type"),w()(),b(10,"div",5)(11,"p-radiobutton",6),ee("ngModelChange",function(l){return Q(o.model.solverConfiguration.solverType,l)||(o.model.solverConfiguration.solverType=l),l}),V("ngModelChange",function(){return o.onChange()}),w(),b(12,"label",7),D(13,"Lu Solve"),w()(),b(14,"div",5)(15,"p-radiobutton",8),ee("ngModelChange",function(l){return Q(o.model.solverConfiguration.solverType,l)||(o.model.solverConfiguration.solverType=l),l}),V("ngModelChange",function(){return o.onChange()}),w(),b(16,"label",9),D(17,"Iterative"),w()(),oe(18,"div",3),w()()()(),b(19,"p-accordion-panel",10)(20,"p-accordion-header"),D(21,"Meshing Configuration"),w(),b(22,"p-accordion-content")(23,"p-fluid")(24,"div",2)(25,"div",3)(26,"p",4),D(27,"Max mesh size"),w()(),b(28,"div",3)(29,"p-inputnumber",11),ee("ngModelChange",function(l){return Q(o.model.meshingConfiguration.maxTriangleArea,l)||(o.model.meshingConfiguration.maxTriangleArea=l),l}),V("ngModelChange",function(){return o.onChange()}),w()(),oe(30,"div",12),b(31,"div",13)(32,"p",4),D(33,"Refinement Points"),w()(),oe(34,"div",14),b(35,"div",3)(36,"p",4),D(37,"X"),w()(),b(38,"div",3)(39,"p",4),D(40,"Y"),w()(),b(41,"div",3)(42,"p",4),D(43,"Radious"),w()(),b(44,"div",3)(45,"p",4),D(46,"Max mesh size"),w()(),oe(47,"div",15),Nt(48,ob,12,17,null,null,Ot),b(50,"div",16)(51,"p-button",17),V("onClick",function(){return o.addRefinementPoint()}),w()()()()()(),b(52,"p-accordion-panel",18)(53,"p-accordion-header"),D(54,"Result points"),w(),b(55,"p-accordion-content")(56,"p-fluid")(57,"div",2)(58,"div",14)(59,"p",4),D(60,"x"),w()(),b(61,"div",14)(62,"p",4),D(63,"y"),w()(),b(64,"div",3)(65,"p",4),D(66,"Name"),w()(),oe(67,"div",12),Nt(68,sb,9,10,null,null,Ot),w()(),b(70,"div",19)(71,"p-button",17),V("onClick",function(){return o.addResultPoint()}),w()()()(),b(72,"p-accordion-panel",20)(73,"p-accordion-header"),D(74,"Material"),w(),b(75,"p-accordion-content")(76,"p-fluid")(77,"div",2)(78,"div",3)(79,"p",4),D(80,"Name"),w()(),b(81,"div",15)(82,"p",4),D(83,"Modulus of elasticity"),w()(),b(84,"div",3)(85,"p",4),D(86,"Weight"),w()(),b(87,"div",3)(88,"p",4),D(89,"Poison's ratio"),w()(),oe(90,"div",3)(91,"div",14),Nt(92,ab,11,19,null,null,Ot),w()(),b(94,"div",19)(95,"p-button",17),V("onClick",function(){return o.addMaterialAndThickeness()}),w()()()(),b(96,"p-accordion-panel",21)(97,"p-accordion-header"),D(98,"Section"),w(),b(99,"p-accordion-content")(100,"p-fluid")(101,"div",2)(102,"div",3)(103,"p",4),D(104,"Thickness"),w()(),b(105,"div",3)(106,"p",4),D(107,"Name"),w()(),oe(108,"div",22)(109,"div",14),Nt(110,lb,7,8,null,null,Ot),w()(),b(112,"div",19)(113,"p-button",17),V("onClick",function(){return o.addMaterialAndThickeness()}),w()()()(),b(114,"p-accordion-panel",18)(115,"p-accordion-header"),D(116,"Rectangle geometry"),w(),b(117,"p-accordion-content")(118,"p-fluid")(119,"div",2)(120,"div",14)(121,"p",4),D(122,"x0"),w()(),b(123,"div",14)(124,"p",4),D(125,"y0"),w()(),b(126,"div",14)(127,"p",4),D(128,"Width"),w()(),b(129,"div",14)(130,"p",4),D(131,"Height"),w()(),b(132,"div",3)(133,"p",4),D(134,"Section"),w()(),b(135,"div",3)(136,"p",4),D(137,"Material"),w()(),b(138,"div",3)(139,"p",4),D(140,"Name"),w()(),oe(141,"div",14)(142,"div",14),Nt(143,cb,17,24,null,null,Ot),w()(),b(145,"div",19)(146,"p-button",17),V("onClick",function(){return o.addRectangleGeometry()}),w()()()(),b(147,"p-accordion-panel",23)(148,"p-accordion-header"),D(149,"Polygon geometry"),w(),b(150,"p-accordion-content")(151,"p-fluid")(152,"div",2)(153,"div",5)(154,"p",4),D(155,"Coordinates (x1,y1 x2,y2 ..)"),w()(),b(156,"div",3)(157,"p",4),D(158,"Section"),w()(),b(159,"div",3)(160,"p",4),D(161,"Material"),w()(),b(162,"div",3)(163,"p",4),D(164,"Name"),w()(),oe(165,"div",14)(166,"div",14),Nt(167,ub,11,7,null,null,Ot),w()(),b(169,"div",19)(170,"p-button",17),V("onClick",function(){return o.addPolygonGeometry()}),w()()()(),b(171,"p-accordion-panel",24)(172,"p-accordion-header"),D(173,"Supports"),w(),b(174,"p-accordion-content")(175,"p-fluid")(176,"div",2)(177,"div",3)(178,"p",4),D(179,"X"),w()(),b(180,"div",3)(181,"p",4),D(182,"Y"),w()(),b(183,"div",14)(184,"p",4),D(185,"Fixed X"),w()(),b(186,"div",14)(187,"p",4),D(188,"Fixed Y"),w()(),oe(189,"div",25)(190,"div",14),Nt(191,fb,11,14,null,null,Ot),w()(),b(193,"div",19)(194,"p-button",17),V("onClick",function(){return o.addRestraint()}),w()()()(),b(195,"p-accordion-panel",26)(196,"p-accordion-header"),D(197,"Load cases"),w(),b(198,"p-accordion-content")(199,"p-fluid")(200,"div",2)(201,"div",15)(202,"p",4),D(203,"Name"),w()(),oe(204,"div",12)(205,"div",14),Nt(206,db,52,4,null,null,Ot),w()(),b(208,"div",19)(209,"p-button",17),V("onClick",function(){return o.addLoadCase()}),w()()()()()),n&2&&(q("value",Os(7,rb))("multiple",!0),R(11),Z("ngModel",o.model.solverConfiguration.solverType),R(4),Z("ngModel",o.model.solverConfiguration.solverType),R(14),Z("ngModel",o.model.meshingConfiguration.maxTriangleArea),q("maxFractionDigits",5)("showButtons",!1),R(19),Pt(o.model.meshingConfiguration.refinementPoints),R(20),Pt(o.model.resultPoints),R(24),Pt(o.model.materials),R(18),Pt(o.model.sectionProperties),R(33),Pt(o.model.rectangles),R(24),Pt(o.model.polygons),R(24),Pt(o.model.supports),R(15),Pt(o.model.loadCases))},dependencies:[Je,Ze,tt,ks,Ds,ct,et,im,ot,Fs,ut,Qe,Rs,pi,mi,ft,Ws,Bs,Gs,Vs,st,pt,mt,at,Nr,rt,di,dt,ht,gt,_t,yt,$s,wt,lt,om,nt,bt,Ct,vt,it,St,xt],encapsulation:2,changeDetection:0})};var _m=nc(ib());var hb=["LoadCase","GeometryName","ElementIndex","NodeIndex","ResultPoint","NodeX","NodeY","uX","uY","ReactionX","ReactionY","Sxx","Syy","Sxy"];function hm(r){if(!r||r.length===0)return"";let i=r.flatMap(n=>n.details.map(o=>[n.loadCase,o.geometryName??"",o.elementIndex,o.nodeIndex,o.resultPointName,o.nodeX,o.nodeY,o.uX,o.uY,o.reactionX===0?"":o.reactionX,o.reactionY===0?"":o.reactionY,o.sxx,o.syy,o.sxy]));return[hb.join(","),...i.map(n=>n.join(","))].join(`
`)}var oc=nc(nb()),gb=(r,i)=>(0,oc.default)(r.x,i.x)&&(0,oc.default)(r.y,i.y);var gm=(r,i)=>r.some(n=>gb(n,i));var _b=()=>({width:"100%"});function yb(r,i){r&1&&(b(0,"tr"),oe(1,"th",10),b(2,"th"),D(3,"Geometry Name"),w(),b(4,"th"),D(5,"Node index"),w(),b(6,"th"),D(7,"Result Point Name"),w(),b(8,"th"),D(9,"NodeX"),w(),b(10,"th"),D(11,"NodeY"),w()())}function wb(r,i){if(r&1&&(b(0,"tr")(1,"td"),oe(2,"p-button",11),w(),b(3,"td"),D(4),w(),b(5,"td"),D(6),w(),b(7,"td"),D(8),w(),b(9,"td"),D(10),w(),b(11,"td"),D(12),w()()),r&2){let n=i.$implicit,o=i.expanded;R(2),q("pRowToggler",n)("text",!0)("rounded",!0)("icon",o?"pi pi-chevron-down":"pi pi-chevron-right"),R(2),Ne(n.geometryName),R(2),Ne(n.nodeIndex),R(2),Ne(n.resultPointName),R(2),Ne(n.nodeX),R(2),Ne(n.nodeY)}}function bb(r,i){if(r&1&&(b(0,"tr")(1,"th"),D(2,"uX"),w(),b(3,"td"),D(4),w()(),b(5,"tr")(6,"th"),D(7,"uY"),w(),b(8,"td"),D(9),w()(),b(10,"tr")(11,"th"),D(12,"Rx"),w(),b(13,"td"),D(14),w()(),b(15,"tr")(16,"th"),D(17,"Ry"),w(),b(18,"td"),D(19),w()(),b(20,"tr")(21,"th"),D(22,"Sxx"),w(),b(23,"td"),D(24),w()(),b(25,"tr")(26,"th"),D(27,"Syy"),w(),b(28,"td"),D(29),w()(),b(30,"tr")(31,"th"),D(32,"Sxy"),w(),b(33,"td"),D(34),w()(),oe(35,"tr")),r&2){let n=i.$implicit;R(4),Ne(n.uX),R(5),Ne(n.uY),R(5),Ne(n.reactionX),R(5),Ne(n.reactionY),R(5),Ne(n.sxx),R(5),Ne(n.syy),R(5),Ne(n.sxy)}}function Cb(r,i){if(r&1&&(b(0,"p-accordion-panel",8)(1,"p-accordion-header"),D(2),w(),b(3,"p-accordion-content")(4,"p-table",9),mn(5,yb,12,0,"ng-template",null,0,Ir)(7,wb,13,9,"ng-template",null,1,Ir)(9,bb,36,7,"ng-template",null,2,Ir),w()()()),r&2){let n=i.$implicit,o=i.$index,s=W(3);q("value",o),R(2),Ne(n.loadCase),R(2),q("value",n.details)("expandedRowKeys",s.expandedRows)("tableStyle",Os(7,_b))("size","small")("scrollable",!0)}}function vb(r,i){if(r&1&&(b(0,"p-accordion",8),Nt(1,Cb,11,8,"p-accordion-panel",8,Ot),w()),r&2){let n=W(2);q("value",0),R(),Pt(n.resultPointsResults)}}function Sb(r,i){if(r&1){let n=je();b(0,"p-multiselect",3),ee("ngModelChange",function(s){F(n);let l=W();return Q(l.selectedGeometries,s)||(l.selectedGeometries=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w(),b(1,"p-multiselect",4),ee("ngModelChange",function(s){F(n);let l=W();return Q(l.selectedLoadCases,s)||(l.selectedLoadCases=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w(),b(2,"label",5),D(3,"Result Points only"),w(),b(4,"p-toggleswitch",6),ee("ngModelChange",function(s){F(n);let l=W();return Q(l.resultPointsSelected,s)||(l.resultPointsSelected=s),B(s)}),V("ngModelChange",function(){F(n);let s=W();return B(s.onChange())}),w(),b(5,"p"),D(6),w(),b(7,"p-button",7),V("onClick",function(){F(n);let s=W();return B(s.exportCsv())}),w(),mn(8,vb,3,1,"p-accordion",8)}if(r&2){let n=W();q("options",n.geometries),Z("ngModel",n.selectedGeometries),R(),q("options",n.loadCases),Z("ngModel",n.selectedLoadCases),R(3),Z("ngModel",n.resultPointsSelected),R(2),Ne(n.uuid),R(2),Li(n.resultPointsSelected?8:-1)}}var qs=class r extends In{messageService=Ae(fi);changeDetector=Ae(rn);expandedRows={};visible=!1;loadCases=[];selectedLoadCases=[];geometries=[];selectedGeometries=[];geometry;resultPointsSelected=!1;uuid;results=[];resultPointsResults=[];ngOnInit(){this.messageService.resultsChanged.pipe(nn(this.destroyed$),Be(i=>this.uuid=i)).subscribe(()=>this.changeDetector.detectChanges()),this.messageService.geometryChanged.pipe(nn(this.destroyed$),Be(i=>this.loadCases=this.selectedLoadCases=i.loadCases.map(n=>n.name)),Be(i=>this.geometries=this.selectedGeometries=i.rectangles.map(n=>n.name)),Be(i=>this.geometry=i)).subscribe(()=>this.changeDetector.detectChanges()),this.messageService.resultsChanged.pipe(nn(this.destroyed$),fo(i=>i!==""),Be(i=>this.visible=i)).subscribe(()=>this.changeDetector.detectChanges()),this.messageService.resultsChanged.pipe(nn(this.destroyed$),As(i=>i!==""),Mp(i=>vp({uuid:i,loadcases:[...this.loadCases]}).pipe(Sp(n=>xp([...n.loadcases.map(o=>Cp(_m.getItem(zp(n.uuid,o))))])),fo(n=>n.filter(o=>o).map(o=>o)))),Be(i=>this.results=i??[])).subscribe(()=>this.changeDetector.detectChanges())}onChange(){this.resultPointsSelected&&(this.resultPointsResults=this.filterResults()),this.changeDetector.detectChanges()}exportCsv(){let i=this.resultPointsSelected?this.filterResults():this.results,n=hm(i),o=`results_${new Date().toLocaleTimeString()}_${this.uuid}.csv`,s=new Blob([n],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),u=document.createElement("a");u.href=l,u.setAttribute("download",o),document.body.appendChild(u),u.click(),document.body.removeChild(u)}filterResults(){return this.results.filter(n=>this.selectedLoadCases.includes(n.loadCase)).filter(n=>n.details.some(o=>this.selectedGeometries.includes(o.geometryName))).map(n=>({details:n.details.filter(s=>this.geometry?.resultPoints?.length===0||gm(this.geometry.resultPoints,{x:s.nodeX,y:s.nodeY})),loadCase:n.loadCase}))}static \u0275fac=(()=>{let i;return function(o){return(i||(i=ci(r)))(o||r)}})();static \u0275cmp=Xe({type:r,selectors:[["app-results"]],features:[ui],decls:1,vars:1,consts:[["header",""],["body",""],["expandedrow",""],["placeholder","Select geometry",1,"w-full","md:w-80",3,"ngModelChange","options","ngModel"],["placeholder","Select load cases",1,"w-full","md:w-80",3,"ngModelChange","options","ngModel"],["for","resultPointsToggle",1,"p-mr-2"],["id","resultPointsToggle",3,"ngModelChange","ngModel"],["label","Export to csv",3,"onClick"],[3,"value"],["dataKey","resultIdentity","scrollHeight","400px",3,"value","expandedRowKeys","tableStyle","size","scrollable"],[2,"width","5rem"],["type","button","pRipple","","severity","secondary",3,"pRowToggler","text","rounded","icon"]],template:function(n,o){n&1&&mn(0,Sb,9,7),n&2&&Li(o.visible?0:-1)},dependencies:[Je,Ze,tt,ct,sm,am,et,ot,ut,Qe,pi,mi,ft,Ws,Bs,Gs,Vs,st,pt,mt,at,rt,di,dt,ht,gt,_t,yt,$s,wt,lt,nt,bt,cm,Ct,vt,it,St,xt],styles:["canvas[_ngcontent-%COMP%]{width:800px;height:600px;border:1px solid black}"],changeDetection:0})};var ym={type:"change"},ac={type:"start"},bm={type:"end"},js=new Gp,wm=new Up,xb=Math.cos(70*Bp.DEG2RAD),$e=new dn,Gt=2*Math.PI,xe={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},sc=1e-6,Hs=class extends qp{constructor(i,n=null){super(i,n),this.state=xe.NONE,this.target=new dn,this.cursor=new dn,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Ri.ROTATE,MIDDLE:Ri.DOLLY,RIGHT:Ri.PAN},this.touches={ONE:ki.ROTATE,TWO:ki.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new dn,this._lastQuaternion=new ic,this._lastTargetPosition=new dn,this._quat=new ic().setFromUnitVectors(i.up,new dn(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new rc,this._sphericalDelta=new rc,this._scale=1,this._panOffset=new dn,this._rotateStart=new Bt,this._rotateEnd=new Bt,this._rotateDelta=new Bt,this._panStart=new Bt,this._panEnd=new Bt,this._panDelta=new Bt,this._dollyStart=new Bt,this._dollyEnd=new Bt,this._dollyDelta=new Bt,this._dollyDirection=new dn,this._mouse=new Bt,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Tb.bind(this),this._onPointerDown=Mb.bind(this),this._onPointerUp=Eb.bind(this),this._onContextMenu=Rb.bind(this),this._onMouseWheel=Ob.bind(this),this._onKeyDown=Nb.bind(this),this._onTouchStart=Pb.bind(this),this._onTouchMove=Lb.bind(this),this._onMouseDown=Ab.bind(this),this._onMouseMove=Ib.bind(this),this._interceptControlDown=kb.bind(this),this._interceptControlUp=Db.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(i){super.connect(i),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(i){i.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=i}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(ym),this.update(),this.state=xe.NONE}update(i=null){let n=this.object.position;$e.copy(n).sub(this.target),$e.applyQuaternion(this._quat),this._spherical.setFromVector3($e),this.autoRotate&&this.state===xe.NONE&&this._rotateLeft(this._getAutoRotationAngle(i)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let o=this.minAzimuthAngle,s=this.maxAzimuthAngle;isFinite(o)&&isFinite(s)&&(o<-Math.PI?o+=Gt:o>Math.PI&&(o-=Gt),s<-Math.PI?s+=Gt:s>Math.PI&&(s-=Gt),o<=s?this._spherical.theta=Math.max(o,Math.min(s,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(o+s)/2?Math.max(o,this._spherical.theta):Math.min(s,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let l=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{let u=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),l=u!=this._spherical.radius}if($e.setFromSpherical(this._spherical),$e.applyQuaternion(this._quatInverse),n.copy(this.target).add($e),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let u=null;if(this.object.isPerspectiveCamera){let d=$e.length();u=this._clampDistance(d*this._scale);let h=d-u;this.object.position.addScaledVector(this._dollyDirection,h),this.object.updateMatrixWorld(),l=!!h}else if(this.object.isOrthographicCamera){let d=new dn(this._mouse.x,this._mouse.y,0);d.unproject(this.object);let h=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),l=h!==this.object.zoom;let _=new dn(this._mouse.x,this._mouse.y,0);_.unproject(this.object),this.object.position.sub(_).add(d),this.object.updateMatrixWorld(),u=$e.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;u!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(u).add(this.object.position):(js.origin.copy(this.object.position),js.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(js.direction))<xb?this.object.lookAt(this.target):(wm.setFromNormalAndCoplanarPoint(this.object.up,this.target),js.intersectPlane(wm,this.target))))}else if(this.object.isOrthographicCamera){let u=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),u!==this.object.zoom&&(this.object.updateProjectionMatrix(),l=!0)}return this._scale=1,this._performCursorZoom=!1,l||this._lastPosition.distanceToSquared(this.object.position)>sc||8*(1-this._lastQuaternion.dot(this.object.quaternion))>sc||this._lastTargetPosition.distanceToSquared(this.target)>sc?(this.dispatchEvent(ym),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(i){return i!==null?Gt/60*this.autoRotateSpeed*i:Gt/60/60*this.autoRotateSpeed}_getZoomScale(i){let n=Math.abs(i*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(i){this._sphericalDelta.theta-=i}_rotateUp(i){this._sphericalDelta.phi-=i}_panLeft(i,n){$e.setFromMatrixColumn(n,0),$e.multiplyScalar(-i),this._panOffset.add($e)}_panUp(i,n){this.screenSpacePanning===!0?$e.setFromMatrixColumn(n,1):($e.setFromMatrixColumn(n,0),$e.crossVectors(this.object.up,$e)),$e.multiplyScalar(i),this._panOffset.add($e)}_pan(i,n){let o=this.domElement;if(this.object.isPerspectiveCamera){let s=this.object.position;$e.copy(s).sub(this.target);let l=$e.length();l*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*i*l/o.clientHeight,this.object.matrix),this._panUp(2*n*l/o.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(i*(this.object.right-this.object.left)/this.object.zoom/o.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/o.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(i){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=i:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(i){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=i:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(i,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;let o=this.domElement.getBoundingClientRect(),s=i-o.left,l=n-o.top,u=o.width,d=o.height;this._mouse.x=s/u*2-1,this._mouse.y=-(l/d)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(i){return Math.max(this.minDistance,Math.min(this.maxDistance,i))}_handleMouseDownRotate(i){this._rotateStart.set(i.clientX,i.clientY)}_handleMouseDownDolly(i){this._updateZoomParameters(i.clientX,i.clientX),this._dollyStart.set(i.clientX,i.clientY)}_handleMouseDownPan(i){this._panStart.set(i.clientX,i.clientY)}_handleMouseMoveRotate(i){this._rotateEnd.set(i.clientX,i.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let n=this.domElement;this._rotateLeft(Gt*this._rotateDelta.x/n.clientHeight),this._rotateUp(Gt*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(i){this._dollyEnd.set(i.clientX,i.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(i){this._panEnd.set(i.clientX,i.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(i){this._updateZoomParameters(i.clientX,i.clientY),i.deltaY<0?this._dollyIn(this._getZoomScale(i.deltaY)):i.deltaY>0&&this._dollyOut(this._getZoomScale(i.deltaY)),this.update()}_handleKeyDown(i){let n=!1;switch(i.code){case this.keys.UP:i.ctrlKey||i.metaKey||i.shiftKey?this.enableRotate&&this._rotateUp(Gt*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:i.ctrlKey||i.metaKey||i.shiftKey?this.enableRotate&&this._rotateUp(-Gt*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:i.ctrlKey||i.metaKey||i.shiftKey?this.enableRotate&&this._rotateLeft(Gt*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:i.ctrlKey||i.metaKey||i.shiftKey?this.enableRotate&&this._rotateLeft(-Gt*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(i.preventDefault(),this.update())}_handleTouchStartRotate(i){if(this._pointers.length===1)this._rotateStart.set(i.pageX,i.pageY);else{let n=this._getSecondPointerPosition(i),o=.5*(i.pageX+n.x),s=.5*(i.pageY+n.y);this._rotateStart.set(o,s)}}_handleTouchStartPan(i){if(this._pointers.length===1)this._panStart.set(i.pageX,i.pageY);else{let n=this._getSecondPointerPosition(i),o=.5*(i.pageX+n.x),s=.5*(i.pageY+n.y);this._panStart.set(o,s)}}_handleTouchStartDolly(i){let n=this._getSecondPointerPosition(i),o=i.pageX-n.x,s=i.pageY-n.y,l=Math.sqrt(o*o+s*s);this._dollyStart.set(0,l)}_handleTouchStartDollyPan(i){this.enableZoom&&this._handleTouchStartDolly(i),this.enablePan&&this._handleTouchStartPan(i)}_handleTouchStartDollyRotate(i){this.enableZoom&&this._handleTouchStartDolly(i),this.enableRotate&&this._handleTouchStartRotate(i)}_handleTouchMoveRotate(i){if(this._pointers.length==1)this._rotateEnd.set(i.pageX,i.pageY);else{let o=this._getSecondPointerPosition(i),s=.5*(i.pageX+o.x),l=.5*(i.pageY+o.y);this._rotateEnd.set(s,l)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let n=this.domElement;this._rotateLeft(Gt*this._rotateDelta.x/n.clientHeight),this._rotateUp(Gt*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(i){if(this._pointers.length===1)this._panEnd.set(i.pageX,i.pageY);else{let n=this._getSecondPointerPosition(i),o=.5*(i.pageX+n.x),s=.5*(i.pageY+n.y);this._panEnd.set(o,s)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(i){let n=this._getSecondPointerPosition(i),o=i.pageX-n.x,s=i.pageY-n.y,l=Math.sqrt(o*o+s*s);this._dollyEnd.set(0,l),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);let u=(i.pageX+n.x)*.5,d=(i.pageY+n.y)*.5;this._updateZoomParameters(u,d)}_handleTouchMoveDollyPan(i){this.enableZoom&&this._handleTouchMoveDolly(i),this.enablePan&&this._handleTouchMovePan(i)}_handleTouchMoveDollyRotate(i){this.enableZoom&&this._handleTouchMoveDolly(i),this.enableRotate&&this._handleTouchMoveRotate(i)}_addPointer(i){this._pointers.push(i.pointerId)}_removePointer(i){delete this._pointerPositions[i.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==i.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(i){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==i.pointerId)return!0;return!1}_trackPointer(i){let n=this._pointerPositions[i.pointerId];n===void 0&&(n=new Bt,this._pointerPositions[i.pointerId]=n),n.set(i.pageX,i.pageY)}_getSecondPointerPosition(i){let n=i.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(i){let n=i.deltaMode,o={clientX:i.clientX,clientY:i.clientY,deltaY:i.deltaY};switch(n){case 1:o.deltaY*=16;break;case 2:o.deltaY*=100;break}return i.ctrlKey&&!this._controlActive&&(o.deltaY*=10),o}};function Mb(r){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(r.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(r)&&(this._addPointer(r),r.pointerType==="touch"?this._onTouchStart(r):this._onMouseDown(r)))}function Tb(r){this.enabled!==!1&&(r.pointerType==="touch"?this._onTouchMove(r):this._onMouseMove(r))}function Eb(r){switch(this._removePointer(r),this._pointers.length){case 0:this.domElement.releasePointerCapture(r.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(bm),this.state=xe.NONE;break;case 1:let i=this._pointers[0],n=this._pointerPositions[i];this._onTouchStart({pointerId:i,pageX:n.x,pageY:n.y});break}}function Ab(r){let i;switch(r.button){case 0:i=this.mouseButtons.LEFT;break;case 1:i=this.mouseButtons.MIDDLE;break;case 2:i=this.mouseButtons.RIGHT;break;default:i=-1}switch(i){case Ri.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(r),this.state=xe.DOLLY;break;case Ri.ROTATE:if(r.ctrlKey||r.metaKey||r.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(r),this.state=xe.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(r),this.state=xe.ROTATE}break;case Ri.PAN:if(r.ctrlKey||r.metaKey||r.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(r),this.state=xe.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(r),this.state=xe.PAN}break;default:this.state=xe.NONE}this.state!==xe.NONE&&this.dispatchEvent(ac)}function Ib(r){switch(this.state){case xe.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(r);break;case xe.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(r);break;case xe.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(r);break}}function Ob(r){this.enabled===!1||this.enableZoom===!1||this.state!==xe.NONE||(r.preventDefault(),this.dispatchEvent(ac),this._handleMouseWheel(this._customWheelEvent(r)),this.dispatchEvent(bm))}function Nb(r){this.enabled!==!1&&this._handleKeyDown(r)}function Pb(r){switch(this._trackPointer(r),this._pointers.length){case 1:switch(this.touches.ONE){case ki.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(r),this.state=xe.TOUCH_ROTATE;break;case ki.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(r),this.state=xe.TOUCH_PAN;break;default:this.state=xe.NONE}break;case 2:switch(this.touches.TWO){case ki.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(r),this.state=xe.TOUCH_DOLLY_PAN;break;case ki.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(r),this.state=xe.TOUCH_DOLLY_ROTATE;break;default:this.state=xe.NONE}break;default:this.state=xe.NONE}this.state!==xe.NONE&&this.dispatchEvent(ac)}function Lb(r){switch(this._trackPointer(r),this.state){case xe.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(r),this.update();break;case xe.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(r),this.update();break;case xe.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(r),this.update();break;case xe.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(r),this.update();break;default:this.state=xe.NONE}}function Rb(r){this.enabled!==!1&&r.preventDefault()}function kb(r){r.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Db(r){r.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}var Fb=r=>({background:r});function Bb(r,i){if(r&1&&(b(0,"div",1)(1,"div")(2,"p"),D(3),w()(),b(4,"div",2),oe(5,"div",3),b(6,"div",4)(7,"div"),D(8),Ns(9,"number"),w(),b(10,"div"),D(11),Ns(12,"number"),w(),b(13,"div"),D(14),Ns(15,"number"),w()()()()),r&2){let n=W();R(3),Is("Max disp: ",n.maxDisp,""),R(2),q("ngStyle",Lp(14,Fb,n.gradient)),R(3),Ne(Ps(9,5,n.max,"1.2-2")),R(3),Ne(Ps(12,8,n.middle,"1.2-2")),R(3),Ne(Ps(15,11,n.min,"1.2-2"))}}var zs=class r{subscription;colorService=Ae(Hp);detector=Ae(rn);gradient="";min=0;middle=0;max=0;maxDisp=0;visible=!1;constructor(){}ngOnDestroy(){this.subscription?.unsubscribe()}ngOnInit(){this.subscription=this.colorService.valuesChanges.pipe(Be(i=>this.visible=!(i.maxStress===0&&i.minStress==0)),Be(()=>this.detector.detectChanges()),As(i=>i.maxStress!==0&&i.minStress!==0),Be(i=>this.max=i.maxStress),Be(i=>this.min=i.minStress),Be(i=>this.middle=(i.maxStress+i.minStress)/2),Be(i=>this.maxDisp=i.maxDisp),fo(()=>this.colorService.getColorRange()),Be(i=>this.buildGradient(i)),Be(()=>this.detector.detectChanges())).subscribe(),this.detector.detectChanges()}buildGradient(i){let n=i.reverse().join(", ");this.gradient=`linear-gradient(to bottom, ${n})`}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Xe({type:r,selectors:[["app-legend"]],decls:1,vars:1,consts:[["class","legend",4,"ngIf"],[1,"legend"],[1,"flex"],[1,"gradient-map",3,"ngStyle"],[1,"flex","justify-between","flex-col","mx-1"]],template:function(n,o){n&1&&mn(0,Bb,16,16,"div",0),n&2&&q("ngIf",o.visible)},dependencies:[Je,Ze,tt,ct,et,ot,ut,Qe,ft,st,pt,mt,at,rt,dt,ht,gt,_t,yt,wt,lt,nt,bt,Ct,vt,it,St,xt,Dp,kp,Rp],styles:[".legend[_ngcontent-%COMP%]{position:relative}.legend[_ngcontent-%COMP%]   .gradient-map[_ngcontent-%COMP%]{height:300px;width:50px}"],changeDetection:0})};var Xs=class r{detector=Ae(rn);view3dService=Ae(Ls);sub;config;model={selectedLoadCase:this.config?.loadCases?this.config.loadCases[0]:"",selectedResultType:this.config?.resultTypes?this.config.resultTypes[0]:null,displacementScaleFactor:1,smoothingFactor:0};ngOnInit(){return Se(this,null,function*(){this.sub=this.view3dService.menuConfigurationChanged.subscribe(i=>{this.config=i,this.model.selectedLoadCase=this.config.loadCases[0],this.model.selectedResultType=this.config.resultTypes?this.config.resultTypes[0]:null,this.detector.detectChanges()}),yield this.onChange()})}ngOnDestroy(){this.sub?.unsubscribe()}onChange(){return Se(this,null,function*(){yield this.view3dService.setConfiguration(this.model)})}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Xe({type:r,selectors:[["app-view3d-menu"]],decls:21,vars:13,consts:[[1,"grid","grid-cols-12","gap-2","auto-rows-max","mt-1","mb-1"],[1,"col-span-3"],["for","in_result_type",1,"font-semibold"],["id","in_result_type","placeholder","Select result",3,"ngModelChange","options","ngModel"],["for","in_load_case",1,"font-semibold"],["id","in_load_case","placeholder","Select load case",3,"ngModelChange","options","ngModel"],[1,"font-semibold"],["id","Displacement_scale","mode","decimal","inputId","minmax-buttons",3,"ngModelChange","ngModel","showButtons","min","max"],["for","Smoothing",1,"font-semibold"],["id","Smoothing","mode","decimal","inputId","minmax-buttons",3,"ngModelChange","ngModel","showButtons","min","max","step"]],template:function(n,o){n&1&&(b(0,"div",0)(1,"div",1)(2,"p-fluid")(3,"p",2),D(4,"Result type"),w(),b(5,"p-select",3),ee("ngModelChange",function(l){return Q(o.model.selectedResultType,l)||(o.model.selectedResultType=l),l}),V("ngModelChange",function(){return o.onChange()}),w()()(),b(6,"div",1)(7,"p-fluid")(8,"p",4),D(9,"Load Case"),w(),b(10,"p-select",5),ee("ngModelChange",function(l){return Q(o.model.selectedLoadCase,l)||(o.model.selectedLoadCase=l),l}),V("ngModelChange",function(){return o.onChange()}),w()()(),b(11,"div",1)(12,"p-fluid")(13,"p",6),D(14,"Displacement scale"),w(),b(15,"p-inputnumber",7),ee("ngModelChange",function(l){return Q(o.model.displacementScaleFactor,l)||(o.model.displacementScaleFactor=l),l}),V("ngModelChange",function(){return o.onChange()}),w()()(),b(16,"div",1)(17,"p-fluid")(18,"p",8),D(19,"Smoothing"),w(),b(20,"p-inputnumber",9),ee("ngModelChange",function(l){return Q(o.model.smoothingFactor,l)||(o.model.smoothingFactor=l),l}),V("ngModelChange",function(){return o.onChange()}),w()()()()),n&2&&(R(5),q("options",o.config==null?null:o.config.resultTypes),Z("ngModel",o.model.selectedResultType),R(5),q("options",o.config==null?null:o.config.loadCases),Z("ngModel",o.model.selectedLoadCase),R(5),Z("ngModel",o.model.displacementScaleFactor),q("showButtons",!0)("min",0)("max",100),R(5),Z("ngModel",o.model.smoothingFactor),q("showButtons",!0)("min",0)("max",100)("step",.25))},dependencies:[Je,Ze,tt,ks,Ds,ct,et,ot,ut,Qe,pi,mi,ft,st,pt,mt,at,Nr,rt,dt,ht,gt,_t,yt,wt,lt,nt,bt,Ct,vt,it,St,xt],encapsulation:2,changeDetection:0})};var Gb=["canvasView3d"],Vb="white",Js=class r{canvasContainer=Ap("canvasView3d");tooltip;view3DService=Ae(Ls);zone=Ae(Tp);frameId;scene;camera;renderer;orbitControls;raycaster=new Kp;ngAfterViewInit(){this.initThreeJs(),this.animate()}ngOnInit(){}ngOnDestroy(){cancelAnimationFrame(this.frameId),this.renderer?.dispose()}onResize(){let i=this.canvasContainer();if(!i){console.error("Canvas element not found");return}let n=i.nativeElement.clientWidth,o=i.nativeElement.clientHeight;this.camera.aspect=n/o,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,o)}onMouseMove(i){let n=this.view3DService.getMeshForRaycasting();if(!n)return;let o=this.renderer.domElement.getBoundingClientRect(),s=new Bt;s.x=(i.clientX-o.left)/o.width*2-1,s.y=-((i.clientY-o.top)/o.height)*2+1,this.raycaster.setFromCamera(s,this.camera);let l=this.raycaster.intersectObject(n);if(l.length>0){let u=l[0],d=Math.floor(u.faceIndex/1),_=this.view3DService.getResults(d).map(T=>`<b>${T.nodeIndex}: ${T.value}</b><br/> `).reduce((T,x)=>`${T}${x}`,"");this.tooltip.style.display="block",this.tooltip.style.left=`${i.clientX+8}px`,this.tooltip.style.top=`${i.clientY+8}px`,this.tooltip.innerHTML=_}else this.tooltip.style.display="none"}initThreeJs(){this.scene=new $p;let i=this.canvasContainer();if(!i){console.error("Canvas element not found");return}let n=i.nativeElement,o=1,s=n.clientWidth-1,l=o*n.clientWidth;this.camera=new Wp(75,s/l,.01,1e6),this.camera.position.z=10,this.camera.position.x=0,this.camera.position.y=0,this.renderer=new jp,this.scene.background=new Vp(Vb),this.renderer.setSize(s,l),i.nativeElement.appendChild(this.renderer.domElement);let u=new Yp(500);this.scene.add(u),this.orbitControls=new Hs(this.camera,this.renderer.domElement),this.view3DService.injectScene(this.scene),this.tooltip=document.createElement("div"),this.tooltip.style.position="absolute",this.tooltip.style.background="rgba(0,0,0,0.8)",this.tooltip.style.color="#fff",this.tooltip.style.padding="4px 8px",this.tooltip.style.borderRadius="4px",this.tooltip.style.pointerEvents="none",this.tooltip.style.display="none",this.tooltip.style.fontFamily="monospace",document.body.appendChild(this.tooltip)}animate=()=>{this.frameId=this.zone.runOutsideAngular(()=>requestAnimationFrame(this.animate)),this.orbitControls.update(),this.renderer.render(this.scene,this.camera)};static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Xe({type:r,selectors:[["app-view3d"]],viewQuery:function(n,o){n&1&&Np(o.canvasContainer,Gb,5),n&2&&Pp()},hostBindings:function(n,o){n&1&&V("resize",function(){return o.onResize()},!1,Ep)},decls:6,vars:0,consts:[["canvasView3d",""],[1,"container",2,"width","100%","height","90vh","display","flex",3,"mousemove"],[1,"legend"]],template:function(n,o){if(n&1){let s=je();b(0,"div"),oe(1,"app-view3d-menu"),w(),b(2,"div",1,0),V("mousemove",function(u){return F(s),B(o.onMouseMove(u))}),b(4,"div",2),oe(5,"app-legend"),w()()}},dependencies:[zs,Xs,Je,Ze,tt,ct,et,ot,ut,Qe,ft,st,pt,mt,at,rt,dt,ht,gt,_t,yt,wt,lt,nt,bt,Ct,vt,it,St,xt],styles:[".container[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{position:absolute;top:0;left:0}"]})};var Zs=Symbol.for("yaml.alias"),Qs=Symbol.for("yaml.document"),hn=Symbol.for("yaml.map"),lc=Symbol.for("yaml.pair"),jt=Symbol.for("yaml.scalar"),qn=Symbol.for("yaml.seq"),Lt=Symbol.for("yaml.node.type"),on=r=>!!r&&typeof r=="object"&&r[Lt]===Zs,gn=r=>!!r&&typeof r=="object"&&r[Lt]===Qs,_n=r=>!!r&&typeof r=="object"&&r[Lt]===hn,he=r=>!!r&&typeof r=="object"&&r[Lt]===lc,ue=r=>!!r&&typeof r=="object"&&r[Lt]===jt,yn=r=>!!r&&typeof r=="object"&&r[Lt]===qn;function we(r){if(r&&typeof r=="object")switch(r[Lt]){case hn:case qn:return!0}return!1}function _e(r){if(r&&typeof r=="object")switch(r[Lt]){case Zs:case hn:case jt:case qn:return!0}return!1}var ea=r=>(ue(r)||we(r))&&!!r.anchor;var Vt=Symbol("break visit"),Cm=Symbol("skip children"),On=Symbol("remove node");function Nn(r,i){let n=vm(i);gn(r)?Lr(null,r.contents,n,Object.freeze([r]))===On&&(r.contents=null):Lr(null,r,n,Object.freeze([]))}Nn.BREAK=Vt;Nn.SKIP=Cm;Nn.REMOVE=On;function Lr(r,i,n,o){let s=Sm(r,i,n,o);if(_e(s)||he(s))return xm(r,o,s),Lr(r,s,n,o);if(typeof s!="symbol"){if(we(i)){o=Object.freeze(o.concat(i));for(let l=0;l<i.items.length;++l){let u=Lr(l,i.items[l],n,o);if(typeof u=="number")l=u-1;else{if(u===Vt)return Vt;u===On&&(i.items.splice(l,1),l-=1)}}}else if(he(i)){o=Object.freeze(o.concat(i));let l=Lr("key",i.key,n,o);if(l===Vt)return Vt;l===On&&(i.key=null);let u=Lr("value",i.value,n,o);if(u===Vt)return Vt;u===On&&(i.value=null)}}return s}function ta(r,i){return Se(this,null,function*(){let n=vm(i);gn(r)?(yield Rr(null,r.contents,n,Object.freeze([r])))===On&&(r.contents=null):yield Rr(null,r,n,Object.freeze([]))})}ta.BREAK=Vt;ta.SKIP=Cm;ta.REMOVE=On;function Rr(r,i,n,o){return Se(this,null,function*(){let s=yield Sm(r,i,n,o);if(_e(s)||he(s))return xm(r,o,s),Rr(r,s,n,o);if(typeof s!="symbol"){if(we(i)){o=Object.freeze(o.concat(i));for(let l=0;l<i.items.length;++l){let u=yield Rr(l,i.items[l],n,o);if(typeof u=="number")l=u-1;else{if(u===Vt)return Vt;u===On&&(i.items.splice(l,1),l-=1)}}}else if(he(i)){o=Object.freeze(o.concat(i));let l=yield Rr("key",i.key,n,o);if(l===Vt)return Vt;l===On&&(i.key=null);let u=yield Rr("value",i.value,n,o);if(u===Vt)return Vt;u===On&&(i.value=null)}}return s})}function vm(r){return typeof r=="object"&&(r.Collection||r.Node||r.Value)?Object.assign({Alias:r.Node,Map:r.Node,Scalar:r.Node,Seq:r.Node},r.Value&&{Map:r.Value,Scalar:r.Value,Seq:r.Value},r.Collection&&{Map:r.Collection,Seq:r.Collection},r):r}function Sm(r,i,n,o){if(typeof n=="function")return n(r,i,o);if(_n(i))return n.Map?.(r,i,o);if(yn(i))return n.Seq?.(r,i,o);if(he(i))return n.Pair?.(r,i,o);if(ue(i))return n.Scalar?.(r,i,o);if(on(i))return n.Alias?.(r,i,o)}function xm(r,i,n){let o=i[i.length-1];if(we(o))o.items[r]=n;else if(he(o))r==="key"?o.key=n:o.value=n;else if(gn(o))o.contents=n;else{let s=on(o)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}var Wb={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},$b=r=>r.replace(/[!,[\]{}]/g,i=>Wb[i]),kr=(()=>{class r{constructor(n,o){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},r.defaultYaml,n),this.tags=Object.assign({},r.defaultTags,o)}clone(){let n=new r(this.yaml,this.tags);return n.docStart=this.docStart,n}atDocument(){let n=new r(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:r.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},r.defaultTags);break}return n}add(n,o){this.atNextDocument&&(this.yaml={explicit:r.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},r.defaultTags),this.atNextDocument=!1);let s=n.trim().split(/[ \t]+/),l=s.shift();switch(l){case"%TAG":{if(s.length!==2&&(o(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;let[u,d]=s;return this.tags[u]=d,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return o(0,"%YAML directive should contain exactly one part"),!1;let[u]=s;if(u==="1.1"||u==="1.2")return this.yaml.version=u,!0;{let d=/^\d+\.\d+$/.test(u);return o(6,`Unsupported YAML version ${u}`,d),!1}}default:return o(0,`Unknown directive ${l}`,!0),!1}}tagName(n,o){if(n==="!")return"!";if(n[0]!=="!")return o(`Not a valid tag: ${n}`),null;if(n[1]==="<"){let d=n.slice(2,-1);return d==="!"||d==="!!"?(o(`Verbatim tags aren't resolved, so ${n} is invalid.`),null):(n[n.length-1]!==">"&&o("Verbatim tags must end with a >"),d)}let[,s,l]=n.match(/^(.*!)([^!]*)$/s);l||o(`The ${n} tag has no suffix`);let u=this.tags[s];if(u)try{return u+decodeURIComponent(l)}catch(d){return o(String(d)),null}return s==="!"?n:(o(`Could not resolve tag: ${n}`),null)}tagString(n){for(let[o,s]of Object.entries(this.tags))if(n.startsWith(s))return o+$b(n.substring(s.length));return n[0]==="!"?n:`!<${n}>`}toString(n){let o=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags),l;if(n&&s.length>0&&_e(n.contents)){let u={};Nn(n.contents,(d,h)=>{_e(h)&&h.tag&&(u[h.tag]=!0)}),l=Object.keys(u)}else l=[];for(let[u,d]of s)u==="!!"&&d==="tag:yaml.org,2002:"||(!n||l.some(h=>h.startsWith(d)))&&o.push(`%TAG ${u} ${d}`);return o.join(`
`)}}return r.defaultYaml={explicit:!1,version:"1.2"},r.defaultTags={"!!":"tag:yaml.org,2002:"},r})();function na(r){if(/[\x00-\x19\s,[\]{}]/.test(r)){let n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(r)}`;throw new Error(n)}return!0}function cc(r){let i=new Set;return Nn(r,{Value(n,o){o.anchor&&i.add(o.anchor)}}),i}function uc(r,i){for(let n=1;;++n){let o=`${r}${n}`;if(!i.has(o))return o}}function Mm(r,i){let n=[],o=new Map,s=null;return{onAnchor:l=>{n.push(l),s??(s=cc(r));let u=uc(i,s);return s.add(u),u},setAnchors:()=>{for(let l of n){let u=o.get(l);if(typeof u=="object"&&u.anchor&&(ue(u.node)||we(u.node)))u.node.anchor=u.anchor;else{let d=new Error("Failed to resolve repeated object (this should not happen)");throw d.source=l,d}}},sourceObjects:o}}function gi(r,i,n,o){if(o&&typeof o=="object")if(Array.isArray(o))for(let s=0,l=o.length;s<l;++s){let u=o[s],d=gi(r,o,String(s),u);d===void 0?delete o[s]:d!==u&&(o[s]=d)}else if(o instanceof Map)for(let s of Array.from(o.keys())){let l=o.get(s),u=gi(r,o,s,l);u===void 0?o.delete(s):u!==l&&o.set(s,u)}else if(o instanceof Set)for(let s of Array.from(o)){let l=gi(r,o,s,s);l===void 0?o.delete(s):l!==s&&(o.delete(s),o.add(l))}else for(let[s,l]of Object.entries(o)){let u=gi(r,o,s,l);u===void 0?delete o[s]:u!==l&&(o[s]=u)}return r.call(i,n,o)}function Ue(r,i,n){if(Array.isArray(r))return r.map((o,s)=>Ue(o,String(s),n));if(r&&typeof r.toJSON=="function"){if(!n||!ea(r))return r.toJSON(i,n);let o={aliasCount:0,count:1,res:void 0};n.anchors.set(r,o),n.onCreate=l=>{o.res=l,delete n.onCreate};let s=r.toJSON(i,n);return n.onCreate&&n.onCreate(s),s}return typeof r=="bigint"&&!n?.keep?Number(r):r}var _i=class{constructor(i){Object.defineProperty(this,Lt,{value:i})}clone(){let i=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(i.range=this.range.slice()),i}toJS(i,{mapAsMap:n,maxAliasCount:o,onAnchor:s,reviver:l}={}){if(!gn(i))throw new TypeError("A document argument is required");let u={anchors:new Map,doc:i,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof o=="number"?o:100},d=Ue(this,"",u);if(typeof s=="function")for(let{count:h,res:_}of u.anchors.values())s(_,h);return typeof l=="function"?gi(l,{"":d},"",d):d}};var jn=class extends _i{constructor(i){super(Zs),this.source=i,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(i,n){let o;n?.aliasResolveCache?o=n.aliasResolveCache:(o=[],Nn(i,{Node:(l,u)=>{(on(u)||ea(u))&&o.push(u)}}),n&&(n.aliasResolveCache=o));let s;for(let l of o){if(l===this)break;l.anchor===this.source&&(s=l)}return s}toJSON(i,n){if(!n)return{source:this.source};let{anchors:o,doc:s,maxAliasCount:l}=n,u=this.resolve(s,n);if(!u){let h=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(h)}let d=o.get(u);if(d||(Ue(u,null,n),d=o.get(u)),!d||d.res===void 0){let h="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(h)}if(l>=0&&(d.count+=1,d.aliasCount===0&&(d.aliasCount=ia(s,u,o)),d.count*d.aliasCount>l)){let h="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(h)}return d.res}toString(i,n,o){let s=`*${this.source}`;if(i){if(na(this.source),i.options.verifyAliasOrder&&!i.anchors.has(this.source)){let l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(l)}if(i.implicitKey)return`${s} `}return s}};function ia(r,i,n){if(on(i)){let o=i.resolve(r),s=n&&o&&n.get(o);return s?s.count*s.aliasCount:0}else if(we(i)){let o=0;for(let s of i.items){let l=ia(r,s,n);l>o&&(o=l)}return o}else if(he(i)){let o=ia(r,i.key,n),s=ia(r,i.value,n);return Math.max(o,s)}return 1}var ra=r=>!r||typeof r!="function"&&typeof r!="object",X=(()=>{class r extends _i{constructor(n){super(jt),this.value=n}toJSON(n,o){return o?.keep?this.value:Ue(this.value,n,o)}toString(){return String(this.value)}}return r.BLOCK_FOLDED="BLOCK_FOLDED",r.BLOCK_LITERAL="BLOCK_LITERAL",r.PLAIN="PLAIN",r.QUOTE_DOUBLE="QUOTE_DOUBLE",r.QUOTE_SINGLE="QUOTE_SINGLE",r})();var Ub="tag:yaml.org,2002:";function Kb(r,i,n){if(i){let o=n.filter(l=>l.tag===i),s=o.find(l=>!l.format)??o[0];if(!s)throw new Error(`Tag ${i} not found`);return s}return n.find(o=>o.identify?.(r)&&!o.format)}function Hn(r,i,n){if(gn(r)&&(r=r.contents),_e(r))return r;if(he(r)){let x=n.schema[hn].createNode?.(n.schema,null,n);return x.items.push(r),x}(r instanceof String||r instanceof Number||r instanceof Boolean||typeof BigInt<"u"&&r instanceof BigInt)&&(r=r.valueOf());let{aliasDuplicateObjects:o,onAnchor:s,onTagObj:l,schema:u,sourceObjects:d}=n,h;if(o&&r&&typeof r=="object"){if(h=d.get(r),h)return h.anchor??(h.anchor=s(r)),new jn(h.anchor);h={anchor:null,node:null},d.set(r,h)}i?.startsWith("!!")&&(i=Ub+i.slice(2));let _=Kb(r,i,u.tags);if(!_){if(r&&typeof r.toJSON=="function"&&(r=r.toJSON()),!r||typeof r!="object"){let x=new X(r);return h&&(h.node=x),x}_=r instanceof Map?u[hn]:Symbol.iterator in Object(r)?u[qn]:u[hn]}l&&(l(_),delete n.onTagObj);let T=_?.createNode?_.createNode(n.schema,r,n):typeof _?.nodeClass?.from=="function"?_.nodeClass.from(n.schema,r,n):new X(r);return i?T.tag=i:_.default||(T.tag=_.tag),h&&(h.node=T),T}function mo(r,i,n){let o=n;for(let s=i.length-1;s>=0;--s){let l=i[s];if(typeof l=="number"&&Number.isInteger(l)&&l>=0){let u=[];u[l]=o,o=u}else o=new Map([[l,o]])}return Hn(o,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:r,sourceObjects:new Map})}var Fr=r=>r==null||typeof r=="object"&&!!r[Symbol.iterator]().next().done,Dr=class extends _i{constructor(i,n){super(i),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(i){let n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return i&&(n.schema=i),n.items=n.items.map(o=>_e(o)||he(o)?o.clone(i):o),this.range&&(n.range=this.range.slice()),n}addIn(i,n){if(Fr(i))this.add(n);else{let[o,...s]=i,l=this.get(o,!0);if(we(l))l.addIn(s,n);else if(l===void 0&&this.schema)this.set(o,mo(this.schema,s,n));else throw new Error(`Expected YAML collection at ${o}. Remaining path: ${s}`)}}deleteIn(i){let[n,...o]=i;if(o.length===0)return this.delete(n);let s=this.get(n,!0);if(we(s))return s.deleteIn(o);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${o}`)}getIn(i,n){let[o,...s]=i,l=this.get(o,!0);return s.length===0?!n&&ue(l)?l.value:l:we(l)?l.getIn(s,n):void 0}hasAllNullValues(i){return this.items.every(n=>{if(!he(n))return!1;let o=n.value;return o==null||i&&ue(o)&&o.value==null&&!o.commentBefore&&!o.comment&&!o.tag})}hasIn(i){let[n,...o]=i;if(o.length===0)return this.has(n);let s=this.get(n,!0);return we(s)?s.hasIn(o):!1}setIn(i,n){let[o,...s]=i;if(s.length===0)this.set(o,n);else{let l=this.get(o,!0);if(we(l))l.setIn(s,n);else if(l===void 0&&this.schema)this.set(o,mo(this.schema,s,n));else throw new Error(`Expected YAML collection at ${o}. Remaining path: ${s}`)}}};var Tm=r=>r.replace(/^(?!$)(?: $)?/gm,"#");function sn(r,i){return/^\n+$/.test(r)?r.substring(1):i?r.replace(/^(?! *$)/gm,i):r}var Pn=(r,i,n)=>r.endsWith(`
`)?sn(n,i):n.includes(`
`)?`
`+sn(n,i):(r.endsWith(" ")?"":" ")+n;var fc="flow",oa="block",ho="quoted";function go(r,i,n="flow",{indentAtStart:o,lineWidth:s=80,minContentWidth:l=20,onFold:u,onOverflow:d}={}){if(!s||s<0)return r;s<l&&(l=0);let h=Math.max(1+l,1+s-i.length);if(r.length<=h)return r;let _=[],T={},x=s-i.length;typeof o=="number"&&(o>s-Math.max(2,l)?_.push(0):x=s-o);let S,I,G=!1,M=-1,L=-1,U=-1;n===oa&&(M=Em(r,M,i.length),M!==-1&&(x=M+h));for(let j;j=r[M+=1];){if(n===ho&&j==="\\"){switch(L=M,r[M+1]){case"x":M+=3;break;case"u":M+=5;break;case"U":M+=9;break;default:M+=1}U=M}if(j===`
`)n===oa&&(M=Em(r,M,i.length)),x=M+i.length+h,S=void 0;else{if(j===" "&&I&&I!==" "&&I!==`
`&&I!=="	"){let te=r[M+1];te&&te!==" "&&te!==`
`&&te!=="	"&&(S=M)}if(M>=x)if(S)_.push(S),x=S+h,S=void 0;else if(n===ho){for(;I===" "||I==="	";)I=j,j=r[M+=1],G=!0;let te=M>U+1?M-2:L-1;if(T[te])return r;_.push(te),T[te]=!0,x=te+h,S=void 0}else G=!0}I=j}if(G&&d&&d(),_.length===0)return r;u&&u();let K=r.slice(0,_[0]);for(let j=0;j<_.length;++j){let te=_[j],J=_[j+1]||r.length;te===0?K=`
${i}${r.slice(0,J)}`:(n===ho&&T[te]&&(K+=`${r[te]}\\`),K+=`
${i}${r.slice(te+1,J)}`)}return K}function Em(r,i,n){let o=i,s=i+1,l=r[s];for(;l===" "||l==="	";)if(i<s+n)l=r[++i];else{do l=r[++i];while(l&&l!==`
`);o=i,s=i+1,l=r[s]}return o}var aa=(r,i)=>({indentAtStart:i?r.indent.length:r.indentAtStart,lineWidth:r.options.lineWidth,minContentWidth:r.options.minContentWidth}),la=r=>/^(%|---|\.\.\.)/m.test(r);function Yb(r,i,n){if(!i||i<0)return!1;let o=i-n,s=r.length;if(s<=o)return!1;for(let l=0,u=0;l<s;++l)if(r[l]===`
`){if(l-u>o)return!0;if(u=l+1,s-u<=o)return!1}return!0}function _o(r,i){let n=JSON.stringify(r);if(i.options.doubleQuotedAsJSON)return n;let{implicitKey:o}=i,s=i.options.doubleQuotedMinMultiLineLength,l=i.indent||(la(r)?"  ":""),u="",d=0;for(let h=0,_=n[h];_;_=n[++h])if(_===" "&&n[h+1]==="\\"&&n[h+2]==="n"&&(u+=n.slice(d,h)+"\\ ",h+=1,d=h,_="\\"),_==="\\")switch(n[h+1]){case"u":{u+=n.slice(d,h);let T=n.substr(h+2,4);switch(T){case"0000":u+="\\0";break;case"0007":u+="\\a";break;case"000b":u+="\\v";break;case"001b":u+="\\e";break;case"0085":u+="\\N";break;case"00a0":u+="\\_";break;case"2028":u+="\\L";break;case"2029":u+="\\P";break;default:T.substr(0,2)==="00"?u+="\\x"+T.substr(2):u+=n.substr(h,6)}h+=5,d=h+1}break;case"n":if(o||n[h+2]==='"'||n.length<s)h+=1;else{for(u+=n.slice(d,h)+`

`;n[h+2]==="\\"&&n[h+3]==="n"&&n[h+4]!=='"';)u+=`
`,h+=2;u+=l,n[h+2]===" "&&(u+="\\"),h+=1,d=h+1}break;default:h+=1}return u=d?u+n.slice(d):n,o?u:go(u,l,ho,aa(i,!1))}function pc(r,i){if(i.options.singleQuote===!1||i.implicitKey&&r.includes(`
`)||/[ \t]\n|\n[ \t]/.test(r))return _o(r,i);let n=i.indent||(la(r)?"  ":""),o="'"+r.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return i.implicitKey?o:go(o,n,fc,aa(i,!1))}function Br(r,i){let{singleQuote:n}=i.options,o;if(n===!1)o=_o;else{let s=r.includes('"'),l=r.includes("'");s&&!l?o=pc:l&&!s?o=_o:o=n?pc:_o}return o(r,i)}var mc;try{mc=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{mc=/\n+(?!\n|$)/g}function sa({comment:r,type:i,value:n},o,s,l){let{blockQuote:u,commentString:d,lineWidth:h}=o.options;if(!u||/\n[\t ]+$/.test(n))return Br(n,o);let _=o.indent||(o.forceBlockIndent||la(n)?"  ":""),T=u==="literal"?!0:u==="folded"||i===X.BLOCK_FOLDED?!1:i===X.BLOCK_LITERAL?!0:!Yb(n,h,_.length);if(!n)return T?`|
`:`>
`;let x,S;for(S=n.length;S>0;--S){let J=n[S-1];if(J!==`
`&&J!=="	"&&J!==" ")break}let I=n.substring(S),G=I.indexOf(`
`);G===-1?x="-":n===I||G!==I.length-1?(x="+",l&&l()):x="",I&&(n=n.slice(0,-I.length),I[I.length-1]===`
`&&(I=I.slice(0,-1)),I=I.replace(mc,`$&${_}`));let M=!1,L,U=-1;for(L=0;L<n.length;++L){let J=n[L];if(J===" ")M=!0;else if(J===`
`)U=L;else break}let K=n.substring(0,U<L?U+1:L);K&&(n=n.substring(K.length),K=K.replace(/\n+/g,`$&${_}`));let te=(M?_?"2":"1":"")+x;if(r&&(te+=" "+d(r.replace(/ ?[\r\n]+/g," ")),s&&s()),!T){let J=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${_}`),se=!1,be=aa(o,!0);u!=="folded"&&i!==X.BLOCK_FOLDED&&(be.onOverflow=()=>{se=!0});let H=go(`${K}${J}${I}`,_,oa,be);if(!se)return`>${te}
${_}${H}`}return n=n.replace(/\n+/g,`$&${_}`),`|${te}
${_}${K}${n}${I}`}function qb(r,i,n,o){let{type:s,value:l}=r,{actualString:u,implicitKey:d,indent:h,indentStep:_,inFlow:T}=i;if(d&&l.includes(`
`)||T&&/[[\]{},]/.test(l))return Br(l,i);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(l))return d||T||!l.includes(`
`)?Br(l,i):sa(r,i,n,o);if(!d&&!T&&s!==X.PLAIN&&l.includes(`
`))return sa(r,i,n,o);if(la(l)){if(h==="")return i.forceBlockIndent=!0,sa(r,i,n,o);if(d&&h===_)return Br(l,i)}let x=l.replace(/\n+/g,`$&
${h}`);if(u){let S=M=>M.default&&M.tag!=="tag:yaml.org,2002:str"&&M.test?.test(x),{compat:I,tags:G}=i.doc.schema;if(G.some(S)||I?.some(S))return Br(l,i)}return d?x:go(x,h,fc,aa(i,!1))}function fr(r,i,n,o){let{implicitKey:s,inFlow:l}=i,u=typeof r.value=="string"?r:Object.assign({},r,{value:String(r.value)}),{type:d}=r;d!==X.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(u.value)&&(d=X.QUOTE_DOUBLE);let h=T=>{switch(T){case X.BLOCK_FOLDED:case X.BLOCK_LITERAL:return s||l?Br(u.value,i):sa(u,i,n,o);case X.QUOTE_DOUBLE:return _o(u.value,i);case X.QUOTE_SINGLE:return pc(u.value,i);case X.PLAIN:return qb(u,i,n,o);default:return null}},_=h(d);if(_===null){let{defaultKeyType:T,defaultStringType:x}=i.options,S=s&&T||x;if(_=h(S),_===null)throw new Error(`Unsupported default string type ${S}`)}return _}function ca(r,i){let n=Object.assign({blockQuote:!0,commentString:Tm,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},r.schema.toStringOptions,i),o;switch(n.collectionStyle){case"block":o=!1;break;case"flow":o=!0;break;default:o=null}return{anchors:new Set,doc:r,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:o,options:n}}function jb(r,i){if(i.tag){let s=r.filter(l=>l.tag===i.tag);if(s.length>0)return s.find(l=>l.format===i.format)??s[0]}let n,o;if(ue(i)){o=i.value;let s=r.filter(l=>l.identify?.(o));if(s.length>1){let l=s.filter(u=>u.test);l.length>0&&(s=l)}n=s.find(l=>l.format===i.format)??s.find(l=>!l.format)}else o=i,n=r.find(s=>s.nodeClass&&o instanceof s.nodeClass);if(!n){let s=o?.constructor?.name??(o===null?"null":typeof o);throw new Error(`Tag not resolved for ${s} value`)}return n}function Hb(r,i,{anchors:n,doc:o}){if(!o.directives)return"";let s=[],l=(ue(r)||we(r))&&r.anchor;l&&na(l)&&(n.add(l),s.push(`&${l}`));let u=r.tag??(i.default?null:i.tag);return u&&s.push(o.directives.tagString(u)),s.join(" ")}function zn(r,i,n,o){if(he(r))return r.toString(i,n,o);if(on(r)){if(i.doc.directives)return r.toString(i);if(i.resolvedAliases?.has(r))throw new TypeError("Cannot stringify circular structure without alias nodes");i.resolvedAliases?i.resolvedAliases.add(r):i.resolvedAliases=new Set([r]),r=r.resolve(i.doc)}let s,l=_e(r)?r:i.doc.createNode(r,{onTagObj:h=>s=h});s??(s=jb(i.doc.schema.tags,l));let u=Hb(l,s,i);u.length>0&&(i.indentAtStart=(i.indentAtStart??0)+u.length+1);let d=typeof s.stringify=="function"?s.stringify(l,i,n,o):ue(l)?fr(l,i,n,o):l.toString(i,n,o);return u?ue(l)||d[0]==="{"||d[0]==="["?`${u} ${d}`:`${u}
${i.indent}${d}`:d}function Am({key:r,value:i},n,o,s){let{allNullValues:l,doc:u,indent:d,indentStep:h,options:{commentString:_,indentSeq:T,simpleKeys:x}}=n,S=_e(r)&&r.comment||null;if(x){if(S)throw new Error("With simple keys, key nodes cannot have comments");if(we(r)||!_e(r)&&typeof r=="object"){let be="With simple keys, collection cannot be used as a key value";throw new Error(be)}}let I=!x&&(!r||S&&i==null&&!n.inFlow||we(r)||(ue(r)?r.type===X.BLOCK_FOLDED||r.type===X.BLOCK_LITERAL:typeof r=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!I&&(x||!l),indent:d+h});let G=!1,M=!1,L=zn(r,n,()=>G=!0,()=>M=!0);if(!I&&!n.inFlow&&L.length>1024){if(x)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");I=!0}if(n.inFlow){if(l||i==null)return G&&o&&o(),L===""?"?":I?`? ${L}`:L}else if(l&&!x||i==null&&I)return L=`? ${L}`,S&&!G?L+=Pn(L,n.indent,_(S)):M&&s&&s(),L;G&&(S=null),I?(S&&(L+=Pn(L,n.indent,_(S))),L=`? ${L}
${d}:`):(L=`${L}:`,S&&(L+=Pn(L,n.indent,_(S))));let U,K,j;_e(i)?(U=!!i.spaceBefore,K=i.commentBefore,j=i.comment):(U=!1,K=null,j=null,i&&typeof i=="object"&&(i=u.createNode(i))),n.implicitKey=!1,!I&&!S&&ue(i)&&(n.indentAtStart=L.length+1),M=!1,!T&&h.length>=2&&!n.inFlow&&!I&&yn(i)&&!i.flow&&!i.tag&&!i.anchor&&(n.indent=n.indent.substring(2));let te=!1,J=zn(i,n,()=>te=!0,()=>M=!0),se=" ";if(S||U||K){if(se=U?`
`:"",K){let be=_(K);se+=`
${sn(be,n.indent)}`}J===""&&!n.inFlow?se===`
`&&(se=`

`):se+=`
${n.indent}`}else if(!I&&we(i)){let be=J[0],H=J.indexOf(`
`),ke=H!==-1,xn=n.inFlow??i.flow??i.items.length===0;if(ke||!xn){let Jn=!1;if(ke&&(be==="&"||be==="!")){let Pe=J.indexOf(" ");be==="&"&&Pe!==-1&&Pe<H&&J[Pe+1]==="!"&&(Pe=J.indexOf(" ",Pe+1)),(Pe===-1||H<Pe)&&(Jn=!0)}Jn||(se=`
${n.indent}`)}}else(J===""||J[0]===`
`)&&(se="");return L+=se+J,n.inFlow?te&&o&&o():j&&!te?L+=Pn(L,n.indent,_(j)):M&&s&&s(),L}function ua(r,i){(r==="debug"||r==="warn")&&console.warn(i)}var fa="<<",wn={identify:r=>r===fa||typeof r=="symbol"&&r.description===fa,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new X(Symbol(fa)),{addToJSMap:hc}),stringify:()=>fa},Im=(r,i)=>(wn.identify(i)||ue(i)&&(!i.type||i.type===X.PLAIN)&&wn.identify(i.value))&&r?.doc.schema.tags.some(n=>n.tag===wn.tag&&n.default);function hc(r,i,n){if(n=r&&on(n)?n.resolve(r.doc):n,yn(n))for(let o of n.items)dc(r,i,o);else if(Array.isArray(n))for(let o of n)dc(r,i,o);else dc(r,i,n)}function dc(r,i,n){let o=r&&on(n)?n.resolve(r.doc):n;if(!_n(o))throw new Error("Merge sources must be maps or map aliases");let s=o.toJSON(null,r,Map);for(let[l,u]of s)i instanceof Map?i.has(l)||i.set(l,u):i instanceof Set?i.add(l):Object.prototype.hasOwnProperty.call(i,l)||Object.defineProperty(i,l,{value:u,writable:!0,enumerable:!0,configurable:!0});return i}function pa(r,i,{key:n,value:o}){if(_e(n)&&n.addToJSMap)n.addToJSMap(r,i,o);else if(Im(r,n))hc(r,i,o);else{let s=Ue(n,"",r);if(i instanceof Map)i.set(s,Ue(o,s,r));else if(i instanceof Set)i.add(s);else{let l=zb(n,s,r),u=Ue(o,l,r);l in i?Object.defineProperty(i,l,{value:u,writable:!0,enumerable:!0,configurable:!0}):i[l]=u}}return i}function zb(r,i,n){if(i===null)return"";if(typeof i!="object")return String(i);if(_e(r)&&n?.doc){let o=ca(n.doc,{});o.anchors=new Set;for(let l of n.anchors.keys())o.anchors.add(l.anchor);o.inFlow=!0,o.inStringifyKey=!0;let s=r.toString(o);if(!n.mapKeyWarned){let l=JSON.stringify(s);l.length>40&&(l=l.substring(0,36)+'..."'),ua(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${l}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(i)}function Gr(r,i,n){let o=Hn(r,void 0,n),s=Hn(i,void 0,n);return new Re(o,s)}var Re=class r{constructor(i,n=null){Object.defineProperty(this,Lt,{value:lc}),this.key=i,this.value=n}clone(i){let{key:n,value:o}=this;return _e(n)&&(n=n.clone(i)),_e(o)&&(o=o.clone(i)),new r(n,o)}toJSON(i,n){let o=n?.mapAsMap?new Map:{};return pa(n,o,this)}toString(i,n,o){return i?.doc?Am(this,i,n,o):JSON.stringify(this)}};function da(r,i,n){return(i.inFlow??r.flow?Jb:Xb)(r,i,n)}function Xb({comment:r,items:i},n,{blockItemPrefix:o,flowChars:s,itemIndent:l,onChompKeep:u,onComment:d}){let{indent:h,options:{commentString:_}}=n,T=Object.assign({},n,{indent:l,type:null}),x=!1,S=[];for(let G=0;G<i.length;++G){let M=i[G],L=null;if(_e(M))!x&&M.spaceBefore&&S.push(""),ma(n,S,M.commentBefore,x),M.comment&&(L=M.comment);else if(he(M)){let K=_e(M.key)?M.key:null;K&&(!x&&K.spaceBefore&&S.push(""),ma(n,S,K.commentBefore,x))}x=!1;let U=zn(M,T,()=>L=null,()=>x=!0);L&&(U+=Pn(U,l,_(L))),x&&L&&(x=!1),S.push(o+U)}let I;if(S.length===0)I=s.start+s.end;else{I=S[0];for(let G=1;G<S.length;++G){let M=S[G];I+=M?`
${h}${M}`:`
`}}return r?(I+=`
`+sn(_(r),h),d&&d()):x&&u&&u(),I}function Jb({items:r},i,{flowChars:n,itemIndent:o}){let{indent:s,indentStep:l,flowCollectionPadding:u,options:{commentString:d}}=i;o+=l;let h=Object.assign({},i,{indent:o,inFlow:!0,type:null}),_=!1,T=0,x=[];for(let G=0;G<r.length;++G){let M=r[G],L=null;if(_e(M))M.spaceBefore&&x.push(""),ma(i,x,M.commentBefore,!1),M.comment&&(L=M.comment);else if(he(M)){let K=_e(M.key)?M.key:null;K&&(K.spaceBefore&&x.push(""),ma(i,x,K.commentBefore,!1),K.comment&&(_=!0));let j=_e(M.value)?M.value:null;j?(j.comment&&(L=j.comment),j.commentBefore&&(_=!0)):M.value==null&&K?.comment&&(L=K.comment)}L&&(_=!0);let U=zn(M,h,()=>L=null);G<r.length-1&&(U+=","),L&&(U+=Pn(U,o,d(L))),!_&&(x.length>T||U.includes(`
`))&&(_=!0),x.push(U),T=x.length}let{start:S,end:I}=n;if(x.length===0)return S+I;if(!_){let G=x.reduce((M,L)=>M+L.length+2,2);_=i.options.lineWidth>0&&G>i.options.lineWidth}if(_){let G=S;for(let M of x)G+=M?`
${l}${s}${M}`:`
`;return`${G}
${s}${I}`}else return`${S}${u}${x.join(" ")}${u}${I}`}function ma({indent:r,options:{commentString:i}},n,o,s){if(o&&s&&(o=o.replace(/^\n+/,"")),o){let l=sn(i(o),r);n.push(l.trimStart())}}function yi(r,i){let n=ue(i)?i.value:i;for(let o of r)if(he(o)&&(o.key===i||o.key===n||ue(o.key)&&o.key.value===n))return o}var Ge=class extends Dr{static get tagName(){return"tag:yaml.org,2002:map"}constructor(i){super(hn,i),this.items=[]}static from(i,n,o){let{keepUndefined:s,replacer:l}=o,u=new this(i),d=(h,_)=>{if(typeof l=="function")_=l.call(n,h,_);else if(Array.isArray(l)&&!l.includes(h))return;(_!==void 0||s)&&u.items.push(Gr(h,_,o))};if(n instanceof Map)for(let[h,_]of n)d(h,_);else if(n&&typeof n=="object")for(let h of Object.keys(n))d(h,n[h]);return typeof i.sortMapEntries=="function"&&u.items.sort(i.sortMapEntries),u}add(i,n){let o;he(i)?o=i:!i||typeof i!="object"||!("key"in i)?o=new Re(i,i?.value):o=new Re(i.key,i.value);let s=yi(this.items,o.key),l=this.schema?.sortMapEntries;if(s){if(!n)throw new Error(`Key ${o.key} already set`);ue(s.value)&&ra(o.value)?s.value.value=o.value:s.value=o.value}else if(l){let u=this.items.findIndex(d=>l(o,d)<0);u===-1?this.items.push(o):this.items.splice(u,0,o)}else this.items.push(o)}delete(i){let n=yi(this.items,i);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(i,n){let s=yi(this.items,i)?.value;return(!n&&ue(s)?s.value:s)??void 0}has(i){return!!yi(this.items,i)}set(i,n){this.add(new Re(i,n),!0)}toJSON(i,n,o){let s=o?new o:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(s);for(let l of this.items)pa(n,s,l);return s}toString(i,n,o){if(!i)return JSON.stringify(this);for(let s of this.items)if(!he(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!i.allNullValues&&this.hasAllNullValues(!1)&&(i=Object.assign({},i,{allNullValues:!0})),da(this,i,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:i.indent||"",onChompKeep:o,onComment:n})}};var bn={collection:"map",default:!0,nodeClass:Ge,tag:"tag:yaml.org,2002:map",resolve(r,i){return _n(r)||i("Expected a mapping for this tag"),r},createNode:(r,i,n)=>Ge.from(r,i,n)};var Mt=class extends Dr{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(i){super(qn,i),this.items=[]}add(i){this.items.push(i)}delete(i){let n=ha(i);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(i,n){let o=ha(i);if(typeof o!="number")return;let s=this.items[o];return!n&&ue(s)?s.value:s}has(i){let n=ha(i);return typeof n=="number"&&n<this.items.length}set(i,n){let o=ha(i);if(typeof o!="number")throw new Error(`Expected a valid index, not ${i}.`);let s=this.items[o];ue(s)&&ra(n)?s.value=n:this.items[o]=n}toJSON(i,n){let o=[];n?.onCreate&&n.onCreate(o);let s=0;for(let l of this.items)o.push(Ue(l,String(s++),n));return o}toString(i,n,o){return i?da(this,i,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(i.indent||"")+"  ",onChompKeep:o,onComment:n}):JSON.stringify(this)}static from(i,n,o){let{replacer:s}=o,l=new this(i);if(n&&Symbol.iterator in Object(n)){let u=0;for(let d of n){if(typeof s=="function"){let h=n instanceof Set?d:String(u++);d=s.call(n,h,d)}l.items.push(Hn(d,void 0,o))}}return l}};function ha(r){let i=ue(r)?r.value:r;return i&&typeof i=="string"&&(i=Number(i)),typeof i=="number"&&Number.isInteger(i)&&i>=0?i:null}var Cn={collection:"seq",default:!0,nodeClass:Mt,tag:"tag:yaml.org,2002:seq",resolve(r,i){return yn(r)||i("Expected a sequence for this tag"),r},createNode:(r,i,n)=>Mt.from(r,i,n)};var wi={identify:r=>typeof r=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:r=>r,stringify(r,i,n,o){return i=Object.assign({actualString:!0},i),fr(r,i,n,o)}};var pr={identify:r=>r==null,createNode:()=>new X(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new X(null),stringify:({source:r},i)=>typeof r=="string"&&pr.test.test(r)?r:i.options.nullStr};var yo={identify:r=>typeof r=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:r=>new X(r[0]==="t"||r[0]==="T"),stringify({source:r,value:i},n){if(r&&yo.test.test(r)){let o=r[0]==="t"||r[0]==="T";if(i===o)return r}return i?n.options.trueStr:n.options.falseStr}};function Tt({format:r,minFractionDigits:i,tag:n,value:o}){if(typeof o=="bigint")return String(o);let s=typeof o=="number"?o:Number(o);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let l=JSON.stringify(o);if(!r&&i&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(l)){let u=l.indexOf(".");u<0&&(u=l.length,l+=".");let d=i-(l.length-u-1);for(;d-- >0;)l+="0"}return l}var ga={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:r=>r.slice(-3).toLowerCase()==="nan"?NaN:r[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Tt},_a={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:r=>parseFloat(r),stringify(r){let i=Number(r.value);return isFinite(i)?i.toExponential():Tt(r)}},ya={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(r){let i=new X(parseFloat(r)),n=r.indexOf(".");return n!==-1&&r[r.length-1]==="0"&&(i.minFractionDigits=r.length-n-1),i},stringify:Tt};var wa=r=>typeof r=="bigint"||Number.isInteger(r),gc=(r,i,n,{intAsBigInt:o})=>o?BigInt(r):parseInt(r.substring(i),n);function Om(r,i,n){let{value:o}=r;return wa(o)&&o>=0?n+o.toString(i):Tt(r)}var ba={identify:r=>wa(r)&&r>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(r,i,n)=>gc(r,2,8,n),stringify:r=>Om(r,8,"0o")},Ca={identify:wa,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(r,i,n)=>gc(r,0,10,n),stringify:Tt},va={identify:r=>wa(r)&&r>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(r,i,n)=>gc(r,2,16,n),stringify:r=>Om(r,16,"0x")};var Nm=[bn,Cn,wi,pr,yo,ba,Ca,va,ga,_a,ya];function Pm(r){return typeof r=="bigint"||Number.isInteger(r)}var Sa=({value:r})=>JSON.stringify(r),Zb=[{identify:r=>typeof r=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:r=>r,stringify:Sa},{identify:r=>r==null,createNode:()=>new X(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Sa},{identify:r=>typeof r=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:r=>r==="true",stringify:Sa},{identify:Pm,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(r,i,{intAsBigInt:n})=>n?BigInt(r):parseInt(r,10),stringify:({value:r})=>Pm(r)?r.toString():JSON.stringify(r)},{identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:r=>parseFloat(r),stringify:Sa}],Qb={default:!0,tag:"",test:/^/,resolve(r,i){return i(`Unresolved plain scalar ${JSON.stringify(r)}`),r}},Lm=[bn,Cn].concat(Zb,Qb);var wo={identify:r=>r instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(r,i){if(typeof atob=="function"){let n=atob(r.replace(/[\n\r]/g,"")),o=new Uint8Array(n.length);for(let s=0;s<n.length;++s)o[s]=n.charCodeAt(s);return o}else return i("This environment does not support reading binary tags; either Buffer or atob is required"),r},stringify({comment:r,type:i,value:n},o,s,l){if(!n)return"";let u=n,d;if(typeof btoa=="function"){let h="";for(let _=0;_<u.length;++_)h+=String.fromCharCode(u[_]);d=btoa(h)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(i??(i=X.BLOCK_LITERAL),i!==X.QUOTE_DOUBLE){let h=Math.max(o.options.lineWidth-o.indent.length,o.options.minContentWidth),_=Math.ceil(d.length/h),T=new Array(_);for(let x=0,S=0;x<_;++x,S+=h)T[x]=d.substr(S,h);d=T.join(i===X.BLOCK_LITERAL?`
`:" ")}return fr({comment:r,type:i,value:d},o,s,l)}};function _c(r,i){if(yn(r))for(let n=0;n<r.items.length;++n){let o=r.items[n];if(!he(o)){if(_n(o)){o.items.length>1&&i("Each pair must have its own sequence indicator");let s=o.items[0]||new Re(new X(null));if(o.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${o.commentBefore}
${s.key.commentBefore}`:o.commentBefore),o.comment){let l=s.value??s.key;l.comment=l.comment?`${o.comment}
${l.comment}`:o.comment}o=s}r.items[n]=he(o)?o:new Re(o)}}else i("Expected a sequence for this tag");return r}function yc(r,i,n){let{replacer:o}=n,s=new Mt(r);s.tag="tag:yaml.org,2002:pairs";let l=0;if(i&&Symbol.iterator in Object(i))for(let u of i){typeof o=="function"&&(u=o.call(i,String(l++),u));let d,h;if(Array.isArray(u))if(u.length===2)d=u[0],h=u[1];else throw new TypeError(`Expected [key, value] tuple: ${u}`);else if(u&&u instanceof Object){let _=Object.keys(u);if(_.length===1)d=_[0],h=u[d];else throw new TypeError(`Expected tuple with one key, not ${_.length} keys`)}else d=u;s.items.push(Gr(d,h,n))}return s}var bo={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:_c,createNode:yc};var wc=(()=>{class r extends Mt{constructor(){super(),this.add=Ge.prototype.add.bind(this),this.delete=Ge.prototype.delete.bind(this),this.get=Ge.prototype.get.bind(this),this.has=Ge.prototype.has.bind(this),this.set=Ge.prototype.set.bind(this),this.tag=r.tag}toJSON(n,o){if(!o)return super.toJSON(n);let s=new Map;o?.onCreate&&o.onCreate(s);for(let l of this.items){let u,d;if(he(l)?(u=Ue(l.key,"",o),d=Ue(l.value,u,o)):u=Ue(l,"",o),s.has(u))throw new Error("Ordered maps must not include duplicate keys");s.set(u,d)}return s}static from(n,o,s){let l=yc(n,o,s),u=new this;return u.items=l.items,u}}return r.tag="tag:yaml.org,2002:omap",r})(),Co={collection:"seq",identify:r=>r instanceof Map,nodeClass:wc,default:!1,tag:"tag:yaml.org,2002:omap",resolve(r,i){let n=_c(r,i),o=[];for(let{key:s}of n.items)ue(s)&&(o.includes(s.value)?i(`Ordered maps must not include duplicate keys: ${s.value}`):o.push(s.value));return Object.assign(new wc,n)},createNode:(r,i,n)=>wc.from(r,i,n)};function Rm({value:r,source:i},n){return i&&(r?bc:Cc).test.test(i)?i:r?n.options.trueStr:n.options.falseStr}var bc={identify:r=>r===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new X(!0),stringify:Rm},Cc={identify:r=>r===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new X(!1),stringify:Rm};var km={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:r=>r.slice(-3).toLowerCase()==="nan"?NaN:r[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Tt},Dm={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:r=>parseFloat(r.replace(/_/g,"")),stringify(r){let i=Number(r.value);return isFinite(i)?i.toExponential():Tt(r)}},Fm={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(r){let i=new X(parseFloat(r.replace(/_/g,""))),n=r.indexOf(".");if(n!==-1){let o=r.substring(n+1).replace(/_/g,"");o[o.length-1]==="0"&&(i.minFractionDigits=o.length)}return i},stringify:Tt};var vo=r=>typeof r=="bigint"||Number.isInteger(r);function xa(r,i,n,{intAsBigInt:o}){let s=r[0];if((s==="-"||s==="+")&&(i+=1),r=r.substring(i).replace(/_/g,""),o){switch(n){case 2:r=`0b${r}`;break;case 8:r=`0o${r}`;break;case 16:r=`0x${r}`;break}let u=BigInt(r);return s==="-"?BigInt(-1)*u:u}let l=parseInt(r,n);return s==="-"?-1*l:l}function vc(r,i,n){let{value:o}=r;if(vo(o)){let s=o.toString(i);return o<0?"-"+n+s.substr(1):n+s}return Tt(r)}var Bm={identify:vo,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(r,i,n)=>xa(r,2,2,n),stringify:r=>vc(r,2,"0b")},Gm={identify:vo,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(r,i,n)=>xa(r,1,8,n),stringify:r=>vc(r,8,"0")},Vm={identify:vo,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(r,i,n)=>xa(r,0,10,n),stringify:Tt},Wm={identify:vo,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(r,i,n)=>xa(r,2,16,n),stringify:r=>vc(r,16,"0x")};var Sc=(()=>{class r extends Ge{constructor(n){super(n),this.tag=r.tag}add(n){let o;he(n)?o=n:n&&typeof n=="object"&&"key"in n&&"value"in n&&n.value===null?o=new Re(n.key,null):o=new Re(n,null),yi(this.items,o.key)||this.items.push(o)}get(n,o){let s=yi(this.items,n);return!o&&he(s)?ue(s.key)?s.key.value:s.key:s}set(n,o){if(typeof o!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof o}`);let s=yi(this.items,n);s&&!o?this.items.splice(this.items.indexOf(s),1):!s&&o&&this.items.push(new Re(n))}toJSON(n,o){return super.toJSON(n,o,Set)}toString(n,o,s){if(!n)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},n,{allNullValues:!0}),o,s);throw new Error("Set items must all have null values")}static from(n,o,s){let{replacer:l}=s,u=new this(n);if(o&&Symbol.iterator in Object(o))for(let d of o)typeof l=="function"&&(d=l.call(o,d,d)),u.items.push(Gr(d,null,s));return u}}return r.tag="tag:yaml.org,2002:set",r})(),So={collection:"map",identify:r=>r instanceof Set,nodeClass:Sc,default:!1,tag:"tag:yaml.org,2002:set",createNode:(r,i,n)=>Sc.from(r,i,n),resolve(r,i){if(_n(r)){if(r.hasAllNullValues(!0))return Object.assign(new Sc,r);i("Set items must all have null values")}else i("Expected a mapping for this tag");return r}};function xc(r,i){let n=r[0],o=n==="-"||n==="+"?r.substring(1):r,s=u=>i?BigInt(u):Number(u),l=o.replace(/_/g,"").split(":").reduce((u,d)=>u*s(60)+s(d),s(0));return n==="-"?s(-1)*l:l}function $m(r){let{value:i}=r,n=u=>u;if(typeof i=="bigint")n=u=>BigInt(u);else if(isNaN(i)||!isFinite(i))return Tt(r);let o="";i<0&&(o="-",i*=n(-1));let s=n(60),l=[i%s];return i<60?l.unshift(0):(i=(i-l[0])/s,l.unshift(i%s),i>=60&&(i=(i-l[0])/s,l.unshift(i))),o+l.map(u=>String(u).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var Ma={identify:r=>typeof r=="bigint"||Number.isInteger(r),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(r,i,{intAsBigInt:n})=>xc(r,n),stringify:$m},Ta={identify:r=>typeof r=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:r=>xc(r,!1),stringify:$m},Vr={identify:r=>r instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(r){let i=r.match(Vr.test);if(!i)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,o,s,l,u,d]=i.map(Number),h=i[7]?Number((i[7]+"00").substr(1,3)):0,_=Date.UTC(n,o-1,s,l||0,u||0,d||0,h),T=i[8];if(T&&T!=="Z"){let x=xc(T,!1);Math.abs(x)<30&&(x*=60),_-=6e4*x}return new Date(_)},stringify:({value:r})=>r?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};var Mc=[bn,Cn,wi,pr,bc,Cc,Bm,Gm,Vm,Wm,km,Dm,Fm,wo,wn,Co,bo,So,Ma,Ta,Vr];var Um=new Map([["core",Nm],["failsafe",[bn,Cn,wi]],["json",Lm],["yaml11",Mc],["yaml-1.1",Mc]]),Km={binary:wo,bool:yo,float:ya,floatExp:_a,floatNaN:ga,floatTime:Ta,int:Ca,intHex:va,intOct:ba,intTime:Ma,map:bn,merge:wn,null:pr,omap:Co,pairs:bo,seq:Cn,set:So,timestamp:Vr},Ym={"tag:yaml.org,2002:binary":wo,"tag:yaml.org,2002:merge":wn,"tag:yaml.org,2002:omap":Co,"tag:yaml.org,2002:pairs":bo,"tag:yaml.org,2002:set":So,"tag:yaml.org,2002:timestamp":Vr};function Ea(r,i,n){let o=Um.get(i);if(o&&!r)return n&&!o.includes(wn)?o.concat(wn):o.slice();let s=o;if(!s)if(Array.isArray(r))s=[];else{let l=Array.from(Um.keys()).filter(u=>u!=="yaml11").map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown schema "${i}"; use one of ${l} or define customTags array`)}if(Array.isArray(r))for(let l of r)s=s.concat(l);else typeof r=="function"&&(s=r(s.slice()));return n&&(s=s.concat(wn)),s.reduce((l,u)=>{let d=typeof u=="string"?Km[u]:u;if(!d){let h=JSON.stringify(u),_=Object.keys(Km).map(T=>JSON.stringify(T)).join(", ");throw new Error(`Unknown custom tag ${h}; use one of ${_}`)}return l.includes(d)||l.push(d),l},[])}var eC=(r,i)=>r.key<i.key?-1:r.key>i.key?1:0,xo=class r{constructor({compat:i,customTags:n,merge:o,resolveKnownTags:s,schema:l,sortMapEntries:u,toStringDefaults:d}){this.compat=Array.isArray(i)?Ea(i,"compat"):i?Ea(null,i):null,this.name=typeof l=="string"&&l||"core",this.knownTags=s?Ym:{},this.tags=Ea(n,this.name,o),this.toStringOptions=d??null,Object.defineProperty(this,hn,{value:bn}),Object.defineProperty(this,jt,{value:wi}),Object.defineProperty(this,qn,{value:Cn}),this.sortMapEntries=typeof u=="function"?u:u===!0?eC:null}clone(){let i=Object.create(r.prototype,Object.getOwnPropertyDescriptors(this));return i.tags=this.tags.slice(),i}};function qm(r,i){let n=[],o=i.directives===!0;if(i.directives!==!1&&r.directives){let h=r.directives.toString(r);h?(n.push(h),o=!0):r.directives.docStart&&(o=!0)}o&&n.push("---");let s=ca(r,i),{commentString:l}=s.options;if(r.commentBefore){n.length!==1&&n.unshift("");let h=l(r.commentBefore);n.unshift(sn(h,""))}let u=!1,d=null;if(r.contents){if(_e(r.contents)){if(r.contents.spaceBefore&&o&&n.push(""),r.contents.commentBefore){let T=l(r.contents.commentBefore);n.push(sn(T,""))}s.forceBlockIndent=!!r.comment,d=r.contents.comment}let h=d?void 0:()=>u=!0,_=zn(r.contents,s,()=>d=null,h);d&&(_+=Pn(_,"",l(d))),(_[0]==="|"||_[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${_}`:n.push(_)}else n.push(zn(r.contents,s));if(r.directives?.docEnd)if(r.comment){let h=l(r.comment);h.includes(`
`)?(n.push("..."),n.push(sn(h,""))):n.push(`... ${h}`)}else n.push("...");else{let h=r.comment;h&&u&&(h=h.replace(/^\n+/,"")),h&&((!u||d)&&n[n.length-1]!==""&&n.push(""),n.push(sn(l(h),"")))}return n.join(`
`)+`
`}var Xn=class r{constructor(i,n,o){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Lt,{value:Qs});let s=null;typeof n=="function"||Array.isArray(n)?s=n:o===void 0&&n&&(o=n,n=void 0);let l=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},o);this.options=l;let{version:u}=l;o?._directives?(this.directives=o._directives.atDocument(),this.directives.yaml.explicit&&(u=this.directives.yaml.version)):this.directives=new kr({version:u}),this.setSchema(u,o),this.contents=i===void 0?null:this.createNode(i,s,o)}clone(){let i=Object.create(r.prototype,{[Lt]:{value:Qs}});return i.commentBefore=this.commentBefore,i.comment=this.comment,i.errors=this.errors.slice(),i.warnings=this.warnings.slice(),i.options=Object.assign({},this.options),this.directives&&(i.directives=this.directives.clone()),i.schema=this.schema.clone(),i.contents=_e(this.contents)?this.contents.clone(i.schema):this.contents,this.range&&(i.range=this.range.slice()),i}add(i){Wr(this.contents)&&this.contents.add(i)}addIn(i,n){Wr(this.contents)&&this.contents.addIn(i,n)}createAlias(i,n){if(!i.anchor){let o=cc(this);i.anchor=!n||o.has(n)?uc(n||"a",o):n}return new jn(i.anchor)}createNode(i,n,o){let s;if(typeof n=="function")i=n.call({"":i},"",i),s=n;else if(Array.isArray(n)){let L=K=>typeof K=="number"||K instanceof String||K instanceof Number,U=n.filter(L).map(String);U.length>0&&(n=n.concat(U)),s=n}else o===void 0&&n&&(o=n,n=void 0);let{aliasDuplicateObjects:l,anchorPrefix:u,flow:d,keepUndefined:h,onTagObj:_,tag:T}=o??{},{onAnchor:x,setAnchors:S,sourceObjects:I}=Mm(this,u||"a"),G={aliasDuplicateObjects:l??!0,keepUndefined:h??!1,onAnchor:x,onTagObj:_,replacer:s,schema:this.schema,sourceObjects:I},M=Hn(i,T,G);return d&&we(M)&&(M.flow=!0),S(),M}createPair(i,n,o={}){let s=this.createNode(i,null,o),l=this.createNode(n,null,o);return new Re(s,l)}delete(i){return Wr(this.contents)?this.contents.delete(i):!1}deleteIn(i){return Fr(i)?this.contents==null?!1:(this.contents=null,!0):Wr(this.contents)?this.contents.deleteIn(i):!1}get(i,n){return we(this.contents)?this.contents.get(i,n):void 0}getIn(i,n){return Fr(i)?!n&&ue(this.contents)?this.contents.value:this.contents:we(this.contents)?this.contents.getIn(i,n):void 0}has(i){return we(this.contents)?this.contents.has(i):!1}hasIn(i){return Fr(i)?this.contents!==void 0:we(this.contents)?this.contents.hasIn(i):!1}set(i,n){this.contents==null?this.contents=mo(this.schema,[i],n):Wr(this.contents)&&this.contents.set(i,n)}setIn(i,n){Fr(i)?this.contents=n:this.contents==null?this.contents=mo(this.schema,Array.from(i),n):Wr(this.contents)&&this.contents.setIn(i,n)}setSchema(i,n={}){typeof i=="number"&&(i=String(i));let o;switch(i){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new kr({version:"1.1"}),o={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=i:this.directives=new kr({version:i}),o={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,o=null;break;default:{let s=JSON.stringify(i);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(o)this.schema=new xo(Object.assign(o,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:i,jsonArg:n,mapAsMap:o,maxAliasCount:s,onAnchor:l,reviver:u}={}){let d={anchors:new Map,doc:this,keep:!i,mapAsMap:o===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},h=Ue(this.contents,n??"",d);if(typeof l=="function")for(let{count:_,res:T}of d.anchors.values())l(T,_);return typeof u=="function"?gi(u,{"":h},"",h):h}toJSON(i,n){return this.toJS({json:!0,jsonArg:i,mapAsMap:!1,onAnchor:n})}toString(i={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in i&&(!Number.isInteger(i.indent)||Number(i.indent)<=0)){let n=JSON.stringify(i.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return qm(this,i)}};function Wr(r){if(we(r))return!0;throw new Error("Expected a YAML collection as document contents")}var Mo=class extends Error{constructor(i,n,o,s){super(),this.name=i,this.code=o,this.message=s,this.pos=n}},vn=class extends Mo{constructor(i,n,o){super("YAMLParseError",i,n,o)}},To=class extends Mo{constructor(i,n,o){super("YAMLWarning",i,n,o)}},Tc=(r,i)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(d=>i.linePos(d));let{line:o,col:s}=n.linePos[0];n.message+=` at line ${o}, column ${s}`;let l=s-1,u=r.substring(i.lineStarts[o-1],i.lineStarts[o]).replace(/[\n\r]+$/,"");if(l>=60&&u.length>80){let d=Math.min(l-39,u.length-79);u="\u2026"+u.substring(d),l-=d-1}if(u.length>80&&(u=u.substring(0,79)+"\u2026"),o>1&&/^ *$/.test(u.substring(0,l))){let d=r.substring(i.lineStarts[o-2],i.lineStarts[o-1]);d.length>80&&(d=d.substring(0,79)+`\u2026
`),u=d+u}if(/[^ ]/.test(u)){let d=1,h=n.linePos[1];h&&h.line===o&&h.col>s&&(d=Math.max(1,Math.min(h.col-s,80-l)));let _=" ".repeat(l)+"^".repeat(d);n.message+=`:

${u}
${_}
`}};function Ln(r,{flow:i,indicator:n,next:o,offset:s,onError:l,parentIndent:u,startOnNewline:d}){let h=!1,_=d,T=d,x="",S="",I=!1,G=!1,M=null,L=null,U=null,K=null,j=null,te=null,J=null;for(let H of r)switch(G&&(H.type!=="space"&&H.type!=="newline"&&H.type!=="comma"&&l(H.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),G=!1),M&&(_&&H.type!=="comment"&&H.type!=="newline"&&l(M,"TAB_AS_INDENT","Tabs are not allowed as indentation"),M=null),H.type){case"space":!i&&(n!=="doc-start"||o?.type!=="flow-collection")&&H.source.includes("	")&&(M=H),T=!0;break;case"comment":{T||l(H,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let ke=H.source.substring(1)||" ";x?x+=S+ke:x=ke,S="",_=!1;break}case"newline":_?x?x+=H.source:(!te||n!=="seq-item-ind")&&(h=!0):S+=H.source,_=!0,I=!0,(L||U)&&(K=H),T=!0;break;case"anchor":L&&l(H,"MULTIPLE_ANCHORS","A node can have at most one anchor"),H.source.endsWith(":")&&l(H.offset+H.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),L=H,J??(J=H.offset),_=!1,T=!1,G=!0;break;case"tag":{U&&l(H,"MULTIPLE_TAGS","A node can have at most one tag"),U=H,J??(J=H.offset),_=!1,T=!1,G=!0;break}case n:(L||U)&&l(H,"BAD_PROP_ORDER",`Anchors and tags must be after the ${H.source} indicator`),te&&l(H,"UNEXPECTED_TOKEN",`Unexpected ${H.source} in ${i??"collection"}`),te=H,_=n==="seq-item-ind"||n==="explicit-key-ind",T=!1;break;case"comma":if(i){j&&l(H,"UNEXPECTED_TOKEN",`Unexpected , in ${i}`),j=H,_=!1,T=!1;break}default:l(H,"UNEXPECTED_TOKEN",`Unexpected ${H.type} token`),_=!1,T=!1}let se=r[r.length-1],be=se?se.offset+se.source.length:s;return G&&o&&o.type!=="space"&&o.type!=="newline"&&o.type!=="comma"&&(o.type!=="scalar"||o.source!=="")&&l(o.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),M&&(_&&M.indent<=u||o?.type==="block-map"||o?.type==="block-seq")&&l(M,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:j,found:te,spaceBefore:h,comment:x,hasNewline:I,anchor:L,tag:U,newlineAfterProp:K,end:be,start:J??be}}function bi(r){if(!r)return null;switch(r.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(r.source.includes(`
`))return!0;if(r.end){for(let i of r.end)if(i.type==="newline")return!0}return!1;case"flow-collection":for(let i of r.items){for(let n of i.start)if(n.type==="newline")return!0;if(i.sep){for(let n of i.sep)if(n.type==="newline")return!0}if(bi(i.key)||bi(i.value))return!0}return!1;default:return!0}}function Eo(r,i,n){if(i?.type==="flow-collection"){let o=i.end[0];o.indent===r&&(o.source==="]"||o.source==="}")&&bi(i)&&n(o,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Aa(r,i,n){let{uniqueKeys:o}=r.options;if(o===!1)return!1;let s=typeof o=="function"?o:(l,u)=>l===u||ue(l)&&ue(u)&&l.value===u.value;return i.some(l=>s(l.key,n))}var jm="All mapping items must start at the same column";function Hm({composeNode:r,composeEmptyNode:i},n,o,s,l){let u=l?.nodeClass??Ge,d=new u(n.schema);n.atRoot&&(n.atRoot=!1);let h=o.offset,_=null;for(let T of o.items){let{start:x,key:S,sep:I,value:G}=T,M=Ln(x,{indicator:"explicit-key-ind",next:S??I?.[0],offset:h,onError:s,parentIndent:o.indent,startOnNewline:!0}),L=!M.found;if(L){if(S&&(S.type==="block-seq"?s(h,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in S&&S.indent!==o.indent&&s(h,"BAD_INDENT",jm)),!M.anchor&&!M.tag&&!I){_=M.end,M.comment&&(d.comment?d.comment+=`
`+M.comment:d.comment=M.comment);continue}(M.newlineAfterProp||bi(S))&&s(S??x[x.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else M.found?.indent!==o.indent&&s(h,"BAD_INDENT",jm);n.atKey=!0;let U=M.end,K=S?r(n,S,M,s):i(n,U,x,null,M,s);n.schema.compat&&Eo(o.indent,S,s),n.atKey=!1,Aa(n,d.items,K)&&s(U,"DUPLICATE_KEY","Map keys must be unique");let j=Ln(I??[],{indicator:"map-value-ind",next:G,offset:K.range[2],onError:s,parentIndent:o.indent,startOnNewline:!S||S.type==="block-scalar"});if(h=j.end,j.found){L&&(G?.type==="block-map"&&!j.hasNewline&&s(h,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&M.start<j.found.offset-1024&&s(K.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let te=G?r(n,G,j,s):i(n,h,I,null,j,s);n.schema.compat&&Eo(o.indent,G,s),h=te.range[2];let J=new Re(K,te);n.options.keepSourceTokens&&(J.srcToken=T),d.items.push(J)}else{L&&s(K.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),j.comment&&(K.comment?K.comment+=`
`+j.comment:K.comment=j.comment);let te=new Re(K);n.options.keepSourceTokens&&(te.srcToken=T),d.items.push(te)}}return _&&_<h&&s(_,"IMPOSSIBLE","Map comment with trailing content"),d.range=[o.offset,h,_??h],d}function zm({composeNode:r,composeEmptyNode:i},n,o,s,l){let u=l?.nodeClass??Mt,d=new u(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let h=o.offset,_=null;for(let{start:T,value:x}of o.items){let S=Ln(T,{indicator:"seq-item-ind",next:x,offset:h,onError:s,parentIndent:o.indent,startOnNewline:!0});if(!S.found)if(S.anchor||S.tag||x)x&&x.type==="block-seq"?s(S.end,"BAD_INDENT","All sequence items must start at the same column"):s(h,"MISSING_CHAR","Sequence item without - indicator");else{_=S.end,S.comment&&(d.comment=S.comment);continue}let I=x?r(n,x,S,s):i(n,S.end,T,null,S,s);n.schema.compat&&Eo(o.indent,x,s),h=I.range[2],d.items.push(I)}return d.range=[o.offset,h,_??h],d}function Rn(r,i,n,o){let s="";if(r){let l=!1,u="";for(let d of r){let{source:h,type:_}=d;switch(_){case"space":l=!0;break;case"comment":{n&&!l&&o(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let T=h.substring(1)||" ";s?s+=u+T:s=T,u="";break}case"newline":s&&(u+=h),l=!0;break;default:o(d,"UNEXPECTED_TOKEN",`Unexpected ${_} at node end`)}i+=h.length}}return{comment:s,offset:i}}var Ec="Block collections are not allowed within flow collections",Ac=r=>r&&(r.type==="block-map"||r.type==="block-seq");function Xm({composeNode:r,composeEmptyNode:i},n,o,s,l){let u=o.start.source==="{",d=u?"flow map":"flow sequence",h=l?.nodeClass??(u?Ge:Mt),_=new h(n.schema);_.flow=!0;let T=n.atRoot;T&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let x=o.offset+o.start.source.length;for(let L=0;L<o.items.length;++L){let U=o.items[L],{start:K,key:j,sep:te,value:J}=U,se=Ln(K,{flow:d,indicator:"explicit-key-ind",next:j??te?.[0],offset:x,onError:s,parentIndent:o.indent,startOnNewline:!1});if(!se.found){if(!se.anchor&&!se.tag&&!te&&!J){L===0&&se.comma?s(se.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${d}`):L<o.items.length-1&&s(se.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${d}`),se.comment&&(_.comment?_.comment+=`
`+se.comment:_.comment=se.comment),x=se.end;continue}!u&&n.options.strict&&bi(j)&&s(j,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(L===0)se.comma&&s(se.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${d}`);else if(se.comma||s(se.start,"MISSING_CHAR",`Missing , between ${d} items`),se.comment){let be="";e:for(let H of K)switch(H.type){case"comma":case"space":break;case"comment":be=H.source.substring(1);break e;default:break e}if(be){let H=_.items[_.items.length-1];he(H)&&(H=H.value??H.key),H.comment?H.comment+=`
`+be:H.comment=be,se.comment=se.comment.substring(be.length+1)}}if(!u&&!te&&!se.found){let be=J?r(n,J,se,s):i(n,se.end,te,null,se,s);_.items.push(be),x=be.range[2],Ac(J)&&s(be.range,"BLOCK_IN_FLOW",Ec)}else{n.atKey=!0;let be=se.end,H=j?r(n,j,se,s):i(n,be,K,null,se,s);Ac(j)&&s(H.range,"BLOCK_IN_FLOW",Ec),n.atKey=!1;let ke=Ln(te??[],{flow:d,indicator:"map-value-ind",next:J,offset:H.range[2],onError:s,parentIndent:o.indent,startOnNewline:!1});if(ke.found){if(!u&&!se.found&&n.options.strict){if(te)for(let Pe of te){if(Pe===ke.found)break;if(Pe.type==="newline"){s(Pe,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}se.start<ke.found.offset-1024&&s(ke.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else J&&("source"in J&&J.source&&J.source[0]===":"?s(J,"MISSING_CHAR",`Missing space after : in ${d}`):s(ke.start,"MISSING_CHAR",`Missing , or : between ${d} items`));let xn=J?r(n,J,ke,s):ke.found?i(n,ke.end,te,null,ke,s):null;xn?Ac(J)&&s(xn.range,"BLOCK_IN_FLOW",Ec):ke.comment&&(H.comment?H.comment+=`
`+ke.comment:H.comment=ke.comment);let Jn=new Re(H,xn);if(n.options.keepSourceTokens&&(Jn.srcToken=U),u){let Pe=_;Aa(n,Pe.items,H)&&s(be,"DUPLICATE_KEY","Map keys must be unique"),Pe.items.push(Jn)}else{let Pe=new Ge(n.schema);Pe.flow=!0,Pe.items.push(Jn);let Ro=(xn??H).range;Pe.range=[H.range[0],Ro[1],Ro[2]],_.items.push(Pe)}x=xn?xn.range[2]:ke.end}}let S=u?"}":"]",[I,...G]=o.end,M=x;if(I&&I.source===S)M=I.offset+I.source.length;else{let L=d[0].toUpperCase()+d.substring(1),U=T?`${L} must end with a ${S}`:`${L} in block collection must be sufficiently indented and end with a ${S}`;s(x,T?"MISSING_CHAR":"BAD_INDENT",U),I&&I.source.length!==1&&G.unshift(I)}if(G.length>0){let L=Rn(G,M,n.options.strict,s);L.comment&&(_.comment?_.comment+=`
`+L.comment:_.comment=L.comment),_.range=[o.offset,M,L.offset]}else _.range=[o.offset,M,M];return _}function Ic(r,i,n,o,s,l){let u=n.type==="block-map"?Hm(r,i,n,o,l):n.type==="block-seq"?zm(r,i,n,o,l):Xm(r,i,n,o,l),d=u.constructor;return s==="!"||s===d.tagName?(u.tag=d.tagName,u):(s&&(u.tag=s),u)}function Jm(r,i,n,o,s){let l=o.tag,u=l?i.directives.tagName(l.source,S=>s(l,"TAG_RESOLVE_FAILED",S)):null;if(n.type==="block-seq"){let{anchor:S,newlineAfterProp:I}=o,G=S&&l?S.offset>l.offset?S:l:S??l;G&&(!I||I.offset<G.offset)&&s(G,"MISSING_CHAR","Missing newline after block sequence props")}let d=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!l||!u||u==="!"||u===Ge.tagName&&d==="map"||u===Mt.tagName&&d==="seq")return Ic(r,i,n,s,u);let h=i.schema.tags.find(S=>S.tag===u&&S.collection===d);if(!h){let S=i.schema.knownTags[u];if(S&&S.collection===d)i.schema.tags.push(Object.assign({},S,{default:!1})),h=S;else return S?s(l,"BAD_COLLECTION_TYPE",`${S.tag} used for ${d} collection, but expects ${S.collection??"scalar"}`,!0):s(l,"TAG_RESOLVE_FAILED",`Unresolved tag: ${u}`,!0),Ic(r,i,n,s,u)}let _=Ic(r,i,n,s,u,h),T=h.resolve?.(_,S=>s(l,"TAG_RESOLVE_FAILED",S),i.options)??_,x=_e(T)?T:new X(T);return x.range=_.range,x.tag=u,h?.format&&(x.format=h.format),x}function Oc(r,i,n){let o=i.offset,s=tC(i,r.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[o,o,o]};let l=s.mode===">"?X.BLOCK_FOLDED:X.BLOCK_LITERAL,u=i.source?nC(i.source):[],d=u.length;for(let M=u.length-1;M>=0;--M){let L=u[M][1];if(L===""||L==="\r")d=M;else break}if(d===0){let M=s.chomp==="+"&&u.length>0?`
`.repeat(Math.max(1,u.length-1)):"",L=o+s.length;return i.source&&(L+=i.source.length),{value:M,type:l,comment:s.comment,range:[o,L,L]}}let h=i.indent+s.indent,_=i.offset+s.length,T=0;for(let M=0;M<d;++M){let[L,U]=u[M];if(U===""||U==="\r")s.indent===0&&L.length>h&&(h=L.length);else{L.length<h&&n(_+L.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(h=L.length),T=M,h===0&&!r.atRoot&&n(_,"BAD_INDENT","Block scalar values in collections must be indented");break}_+=L.length+U.length+1}for(let M=u.length-1;M>=d;--M)u[M][0].length>h&&(d=M+1);let x="",S="",I=!1;for(let M=0;M<T;++M)x+=u[M][0].slice(h)+`
`;for(let M=T;M<d;++M){let[L,U]=u[M];_+=L.length+U.length+1;let K=U[U.length-1]==="\r";if(K&&(U=U.slice(0,-1)),U&&L.length<h){let te=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(_-U.length-(K?2:1),"BAD_INDENT",te),L=""}l===X.BLOCK_LITERAL?(x+=S+L.slice(h)+U,S=`
`):L.length>h||U[0]==="	"?(S===" "?S=`
`:!I&&S===`
`&&(S=`

`),x+=S+L.slice(h)+U,S=`
`,I=!0):U===""?S===`
`?x+=`
`:S=`
`:(x+=S+U,S=" ",I=!1)}switch(s.chomp){case"-":break;case"+":for(let M=d;M<u.length;++M)x+=`
`+u[M][0].slice(h);x[x.length-1]!==`
`&&(x+=`
`);break;default:x+=`
`}let G=o+s.length+i.source.length;return{value:x,type:l,comment:s.comment,range:[o,G,G]}}function tC({offset:r,props:i},n,o){if(i[0].type!=="block-scalar-header")return o(i[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:s}=i[0],l=s[0],u=0,d="",h=-1;for(let S=1;S<s.length;++S){let I=s[S];if(!d&&(I==="-"||I==="+"))d=I;else{let G=Number(I);!u&&G?u=G:h===-1&&(h=r+S)}}h!==-1&&o(h,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let _=!1,T="",x=s.length;for(let S=1;S<i.length;++S){let I=i[S];switch(I.type){case"space":_=!0;case"newline":x+=I.source.length;break;case"comment":n&&!_&&o(I,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),x+=I.source.length,T=I.source.substring(1);break;case"error":o(I,"UNEXPECTED_TOKEN",I.message),x+=I.source.length;break;default:{let G=`Unexpected token in block scalar header: ${I.type}`;o(I,"UNEXPECTED_TOKEN",G);let M=I.source;M&&typeof M=="string"&&(x+=M.length)}}}return{mode:l,indent:u,chomp:d,comment:T,length:x}}function nC(r){let i=r.split(/\n( *)/),n=i[0],o=n.match(/^( *)/),l=[o?.[1]?[o[1],n.slice(o[1].length)]:["",n]];for(let u=1;u<i.length;u+=2)l.push([i[u],i[u+1]]);return l}function Nc(r,i,n){let{offset:o,type:s,source:l,end:u}=r,d,h,_=(S,I,G)=>n(o+S,I,G);switch(s){case"scalar":d=X.PLAIN,h=iC(l,_);break;case"single-quoted-scalar":d=X.QUOTE_SINGLE,h=rC(l,_);break;case"double-quoted-scalar":d=X.QUOTE_DOUBLE,h=oC(l,_);break;default:return n(r,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[o,o+l.length,o+l.length]}}let T=o+l.length,x=Rn(u,T,i,n);return{value:h,type:d,comment:x.comment,range:[o,T,x.offset]}}function iC(r,i){let n="";switch(r[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${r[0]}`;break}case"@":case"`":{n=`reserved character ${r[0]}`;break}}return n&&i(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Zm(r)}function rC(r,i){return(r[r.length-1]!=="'"||r.length===1)&&i(r.length,"MISSING_CHAR","Missing closing 'quote"),Zm(r.slice(1,-1)).replace(/''/g,"'")}function Zm(r){let i,n;try{i=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{i=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let o=i.exec(r);if(!o)return r;let s=o[1],l=" ",u=i.lastIndex;for(n.lastIndex=u;o=n.exec(r);)o[1]===""?l===`
`?s+=l:l=`
`:(s+=l+o[1],l=" "),u=n.lastIndex;let d=/[ \t]*(.*)/sy;return d.lastIndex=u,o=d.exec(r),s+l+(o?.[1]??"")}function oC(r,i){let n="";for(let o=1;o<r.length-1;++o){let s=r[o];if(!(s==="\r"&&r[o+1]===`
`))if(s===`
`){let{fold:l,offset:u}=sC(r,o);n+=l,o=u}else if(s==="\\"){let l=r[++o],u=aC[l];if(u)n+=u;else if(l===`
`)for(l=r[o+1];l===" "||l==="	";)l=r[++o+1];else if(l==="\r"&&r[o+1]===`
`)for(l=r[++o+1];l===" "||l==="	";)l=r[++o+1];else if(l==="x"||l==="u"||l==="U"){let d={x:2,u:4,U:8}[l];n+=lC(r,o+1,d,i),o+=d}else{let d=r.substr(o-1,2);i(o-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${d}`),n+=d}}else if(s===" "||s==="	"){let l=o,u=r[o+1];for(;u===" "||u==="	";)u=r[++o+1];u!==`
`&&!(u==="\r"&&r[o+2]===`
`)&&(n+=o>l?r.slice(l,o+1):s)}else n+=s}return(r[r.length-1]!=='"'||r.length===1)&&i(r.length,"MISSING_CHAR",'Missing closing "quote'),n}function sC(r,i){let n="",o=r[i+1];for(;(o===" "||o==="	"||o===`
`||o==="\r")&&!(o==="\r"&&r[i+2]!==`
`);)o===`
`&&(n+=`
`),i+=1,o=r[i+1];return n||(n=" "),{fold:n,offset:i}}var aC={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function lC(r,i,n,o){let s=r.substr(i,n),u=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(u)){let d=r.substr(i-2,n+2);return o(i-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${d}`),d}return String.fromCodePoint(u)}function Pc(r,i,n,o){let{value:s,type:l,comment:u,range:d}=i.type==="block-scalar"?Oc(r,i,o):Nc(i,r.options.strict,o),h=n?r.directives.tagName(n.source,x=>o(n,"TAG_RESOLVE_FAILED",x)):null,_;r.options.stringKeys&&r.atKey?_=r.schema[jt]:h?_=cC(r.schema,s,h,n,o):i.type==="scalar"?_=uC(r,s,i,o):_=r.schema[jt];let T;try{let x=_.resolve(s,S=>o(n??i,"TAG_RESOLVE_FAILED",S),r.options);T=ue(x)?x:new X(x)}catch(x){let S=x instanceof Error?x.message:String(x);o(n??i,"TAG_RESOLVE_FAILED",S),T=new X(s)}return T.range=d,T.source=s,l&&(T.type=l),h&&(T.tag=h),_.format&&(T.format=_.format),u&&(T.comment=u),T}function cC(r,i,n,o,s){if(n==="!")return r[jt];let l=[];for(let d of r.tags)if(!d.collection&&d.tag===n)if(d.default&&d.test)l.push(d);else return d;for(let d of l)if(d.test?.test(i))return d;let u=r.knownTags[n];return u&&!u.collection?(r.tags.push(Object.assign({},u,{default:!1,test:void 0})),u):(s(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),r[jt])}function uC({atKey:r,directives:i,schema:n},o,s,l){let u=n.tags.find(d=>(d.default===!0||r&&d.default==="key")&&d.test?.test(o))||n[jt];if(n.compat){let d=n.compat.find(h=>h.default&&h.test?.test(o))??n[jt];if(u.tag!==d.tag){let h=i.tagString(u.tag),_=i.tagString(d.tag),T=`Value may be parsed as either ${h} or ${_}`;l(s,"TAG_RESOLVE_FAILED",T,!0)}}return u}function Qm(r,i,n){if(i){n??(n=i.length);for(let o=n-1;o>=0;--o){let s=i[o];switch(s.type){case"space":case"comment":case"newline":r-=s.source.length;continue}for(s=i[++o];s?.type==="space";)r+=s.source.length,s=i[++o];break}}return r}var fC={composeNode:Lc,composeEmptyNode:Ia};function Lc(r,i,n,o){let s=r.atKey,{spaceBefore:l,comment:u,anchor:d,tag:h}=n,_,T=!0;switch(i.type){case"alias":_=pC(r,i,o),(d||h)&&o(i,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":_=Pc(r,i,h,o),d&&(_.anchor=d.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":_=Jm(fC,r,i,n,o),d&&(_.anchor=d.source.substring(1));break;default:{let x=i.type==="error"?i.message:`Unsupported token (type: ${i.type})`;o(i,"UNEXPECTED_TOKEN",x),_=Ia(r,i.offset,void 0,null,n,o),T=!1}}return d&&_.anchor===""&&o(d,"BAD_ALIAS","Anchor cannot be an empty string"),s&&r.options.stringKeys&&(!ue(_)||typeof _.value!="string"||_.tag&&_.tag!=="tag:yaml.org,2002:str")&&o(h??i,"NON_STRING_KEY","With stringKeys, all keys must be strings"),l&&(_.spaceBefore=!0),u&&(i.type==="scalar"&&i.source===""?_.comment=u:_.commentBefore=u),r.options.keepSourceTokens&&T&&(_.srcToken=i),_}function Ia(r,i,n,o,{spaceBefore:s,comment:l,anchor:u,tag:d,end:h},_){let T={type:"scalar",offset:Qm(i,n,o),indent:-1,source:""},x=Pc(r,T,d,_);return u&&(x.anchor=u.source.substring(1),x.anchor===""&&_(u,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(x.spaceBefore=!0),l&&(x.comment=l,x.range[2]=h),x}function pC({options:r},{offset:i,source:n,end:o},s){let l=new jn(n.substring(1));l.source===""&&s(i,"BAD_ALIAS","Alias cannot be an empty string"),l.source.endsWith(":")&&s(i+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let u=i+n.length,d=Rn(o,u,r.strict,s);return l.range=[i,u,d.offset],d.comment&&(l.comment=d.comment),l}function ed(r,i,{offset:n,start:o,value:s,end:l},u){let d=Object.assign({_directives:i},r),h=new Xn(void 0,d),_={atKey:!1,atRoot:!0,directives:h.directives,options:h.options,schema:h.schema},T=Ln(o,{indicator:"doc-start",next:s??l?.[0],offset:n,onError:u,parentIndent:0,startOnNewline:!0});T.found&&(h.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!T.hasNewline&&u(T.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),h.contents=s?Lc(_,s,T,u):Ia(_,T.end,o,null,T,u);let x=h.contents.range[2],S=Rn(l,x,!1,u);return S.comment&&(h.comment=S.comment),h.range=[n,x,S.offset],h}function Ao(r){if(typeof r=="number")return[r,r+1];if(Array.isArray(r))return r.length===2?r:[r[0],r[1]];let{offset:i,source:n}=r;return[i,i+(typeof n=="string"?n.length:1)]}function td(r){let i="",n=!1,o=!1;for(let s=0;s<r.length;++s){let l=r[s];switch(l[0]){case"#":i+=(i===""?"":o?`

`:`
`)+(l.substring(1)||" "),n=!0,o=!1;break;case"%":r[s+1]?.[0]!=="#"&&(s+=1),n=!1;break;default:n||(o=!0),n=!1}}return{comment:i,afterEmptyLine:o}}var Io=class{constructor(i={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,o,s,l)=>{let u=Ao(n);l?this.warnings.push(new To(u,o,s)):this.errors.push(new vn(u,o,s))},this.directives=new kr({version:i.version||"1.2"}),this.options=i}decorate(i,n){let{comment:o,afterEmptyLine:s}=td(this.prelude);if(o){let l=i.contents;if(n)i.comment=i.comment?`${i.comment}
${o}`:o;else if(s||i.directives.docStart||!l)i.commentBefore=o;else if(we(l)&&!l.flow&&l.items.length>0){let u=l.items[0];he(u)&&(u=u.key);let d=u.commentBefore;u.commentBefore=d?`${o}
${d}`:o}else{let u=l.commentBefore;l.commentBefore=u?`${o}
${u}`:o}}n?(Array.prototype.push.apply(i.errors,this.errors),Array.prototype.push.apply(i.warnings,this.warnings)):(i.errors=this.errors,i.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:td(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(i,n=!1,o=-1){for(let s of i)yield*O(this.next(s));yield*O(this.end(n,o))}*next(i){switch(i.type){case"directive":this.directives.add(i.source,(n,o,s)=>{let l=Ao(i);l[0]+=n,this.onError(l,"BAD_DIRECTIVE",o,s)}),this.prelude.push(i.source),this.atDirectives=!0;break;case"document":{let n=ed(this.options,this.directives,i,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(i,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(i.source);break;case"error":{let n=i.source?`${i.message}: ${JSON.stringify(i.source)}`:i.message,o=new vn(Ao(i),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(o):this.doc.errors.push(o);break}case"doc-end":{if(!this.doc){let o="Unexpected doc-end without preceding document";this.errors.push(new vn(Ao(i),"UNEXPECTED_TOKEN",o));break}this.doc.directives.docEnd=!0;let n=Rn(i.end,i.offset+i.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){let o=this.doc.comment;this.doc.comment=o?`${o}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new vn(Ao(i),"UNEXPECTED_TOKEN",`Unsupported token ${i.type}`))}}*end(i=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(i){let o=Object.assign({_directives:this.directives},this.options),s=new Xn(void 0,o);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}};var Rc=Symbol("break visit"),mC=Symbol("skip children"),nd=Symbol("remove item");function mr(r,i){"type"in r&&r.type==="document"&&(r={start:r.start,value:r.value}),id(Object.freeze([]),r,i)}mr.BREAK=Rc;mr.SKIP=mC;mr.REMOVE=nd;mr.itemAtPath=(r,i)=>{let n=r;for(let[o,s]of i){let l=n?.[o];if(l&&"items"in l)n=l.items[s];else return}return n};mr.parentCollection=(r,i)=>{let n=mr.itemAtPath(r,i.slice(0,-1)),o=i[i.length-1][0],s=n?.[o];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function id(r,i,n){let o=n(i,r);if(typeof o=="symbol")return o;for(let s of["key","value"]){let l=i[s];if(l&&"items"in l){for(let u=0;u<l.items.length;++u){let d=id(Object.freeze(r.concat([[s,u]])),l.items[u],n);if(typeof d=="number")u=d-1;else{if(d===Rc)return Rc;d===nd&&(l.items.splice(u,1),u-=1)}}typeof o=="function"&&s==="key"&&(o=o(i,r))}}return typeof o=="function"?o(i,r):o}var kc="\uFEFF",Dc="",Fc="",Oa="";function rd(r){switch(r){case kc:return"byte-order-mark";case Dc:return"doc-mode";case Fc:return"flow-error-end";case Oa:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(r[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Sn(r){switch(r){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var od=new Set("0123456789ABCDEFabcdef"),hC=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Na=new Set(",[]{}"),gC=new Set(` ,[]{}
\r	`),Bc=r=>!r||gC.has(r),Oo=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(i,n=!1){if(i){if(typeof i!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+i:i,this.lineEndPos=null}this.atEnd=!n;let o=this.next??"stream";for(;o&&(n||this.hasChars(1));)o=yield*O(this.parseNext(o))}atLineEnd(){let i=this.pos,n=this.buffer[i];for(;n===" "||n==="	";)n=this.buffer[++i];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[i+1]===`
`:!1}charAt(i){return this.buffer[this.pos+i]}continueScalar(i){let n=this.buffer[i];if(this.indentNext>0){let o=0;for(;n===" ";)n=this.buffer[++o+i];if(n==="\r"){let s=this.buffer[o+i+1];if(s===`
`||!s&&!this.atEnd)return i+o+1}return n===`
`||o>=this.indentNext||!n&&!this.atEnd?i+o:-1}if(n==="-"||n==="."){let o=this.buffer.substr(i,3);if((o==="---"||o==="...")&&Sn(this.buffer[i+3]))return-1}return i}getLine(){let i=this.lineEndPos;return(typeof i!="number"||i!==-1&&i<this.pos)&&(i=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=i),i===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[i-1]==="\r"&&(i-=1),this.buffer.substring(this.pos,i))}hasChars(i){return this.pos+i<=this.buffer.length}setNext(i){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=i,null}peek(i){return this.buffer.substr(this.pos,i)}*parseNext(i){switch(i){case"stream":return yield*O(this.parseStream());case"line-start":return yield*O(this.parseLineStart());case"block-start":return yield*O(this.parseBlockStart());case"doc":return yield*O(this.parseDocument());case"flow":return yield*O(this.parseFlowCollection());case"quoted-scalar":return yield*O(this.parseQuotedScalar());case"block-scalar":return yield*O(this.parseBlockScalar());case"plain-scalar":return yield*O(this.parsePlainScalar())}}*parseStream(){let i=this.getLine();if(i===null)return this.setNext("stream");if(i[0]===kc&&(yield*O(this.pushCount(1)),i=i.substring(1)),i[0]==="%"){let n=i.length,o=i.indexOf("#");for(;o!==-1;){let l=i[o-1];if(l===" "||l==="	"){n=o-1;break}else o=i.indexOf("#",o+1)}for(;;){let l=i[n-1];if(l===" "||l==="	")n-=1;else break}let s=(yield*O(this.pushCount(n)))+(yield*O(this.pushSpaces(!0)));return yield*O(this.pushCount(i.length-s)),this.pushNewline(),"stream"}if(this.atLineEnd()){let n=yield*O(this.pushSpaces(!0));return yield*O(this.pushCount(i.length-n)),yield*O(this.pushNewline()),"stream"}return yield Dc,yield*O(this.parseLineStart())}*parseLineStart(){let i=this.charAt(0);if(!i&&!this.atEnd)return this.setNext("line-start");if(i==="-"||i==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let n=this.peek(3);if((n==="---"||n==="...")&&Sn(this.charAt(3)))return yield*O(this.pushCount(3)),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*O(this.pushSpaces(!1)),this.indentNext>this.indentValue&&!Sn(this.charAt(1))&&(this.indentNext=this.indentValue),yield*O(this.parseBlockStart())}*parseBlockStart(){let[i,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((i==="-"||i==="?"||i===":")&&Sn(n)){let o=(yield*O(this.pushCount(1)))+(yield*O(this.pushSpaces(!0)));return this.indentNext=this.indentValue+1,this.indentValue+=o,yield*O(this.parseBlockStart())}return"doc"}*parseDocument(){yield*O(this.pushSpaces(!0));let i=this.getLine();if(i===null)return this.setNext("doc");let n=yield*O(this.pushIndicators());switch(i[n]){case"#":yield*O(this.pushCount(i.length-n));case void 0:return yield*O(this.pushNewline()),yield*O(this.parseLineStart());case"{":case"[":return yield*O(this.pushCount(1)),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*O(this.pushCount(1)),"doc";case"*":return yield*O(this.pushUntil(Bc)),"doc";case'"':case"'":return yield*O(this.parseQuotedScalar());case"|":case">":return n+=yield*O(this.parseBlockScalarHeader()),n+=yield*O(this.pushSpaces(!0)),yield*O(this.pushCount(i.length-n)),yield*O(this.pushNewline()),yield*O(this.parseBlockScalar());default:return yield*O(this.parsePlainScalar())}}*parseFlowCollection(){let i,n,o=-1;do i=yield*O(this.pushNewline()),i>0?(n=yield*O(this.pushSpaces(!1)),this.indentValue=o=n):n=0,n+=yield*O(this.pushSpaces(!0));while(i+n>0);let s=this.getLine();if(s===null)return this.setNext("flow");if((o!==-1&&o<this.indentNext&&s[0]!=="#"||o===0&&(s.startsWith("---")||s.startsWith("..."))&&Sn(s[3]))&&!(o===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield Fc,yield*O(this.parseLineStart());let l=0;for(;s[l]===",";)l+=yield*O(this.pushCount(1)),l+=yield*O(this.pushSpaces(!0)),this.flowKey=!1;switch(l+=yield*O(this.pushIndicators()),s[l]){case void 0:return"flow";case"#":return yield*O(this.pushCount(s.length-l)),"flow";case"{":case"[":return yield*O(this.pushCount(1)),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*O(this.pushCount(1)),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*O(this.pushUntil(Bc)),"flow";case'"':case"'":return this.flowKey=!0,yield*O(this.parseQuotedScalar());case":":{let u=this.charAt(1);if(this.flowKey||Sn(u)||u===",")return this.flowKey=!1,yield*O(this.pushCount(1)),yield*O(this.pushSpaces(!0)),"flow"}default:return this.flowKey=!1,yield*O(this.parsePlainScalar())}}*parseQuotedScalar(){let i=this.charAt(0),n=this.buffer.indexOf(i,this.pos+1);if(i==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let l=0;for(;this.buffer[n-1-l]==="\\";)l+=1;if(l%2===0)break;n=this.buffer.indexOf('"',n+1)}let o=this.buffer.substring(0,n),s=o.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){let l=this.continueScalar(s+1);if(l===-1)break;s=o.indexOf(`
`,l)}s!==-1&&(n=s-(o[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*O(this.pushToIndex(n+1,!1)),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let i=this.pos;for(;;){let n=this.buffer[++i];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*O(this.pushUntil(n=>Sn(n)||n==="#"))}*parseBlockScalar(){let i=this.pos-1,n=0,o;e:for(let l=this.pos;o=this.buffer[l];++l)switch(o){case" ":n+=1;break;case`
`:i=l,n=0;break;case"\r":{let u=this.buffer[l+1];if(!u&&!this.atEnd)return this.setNext("block-scalar");if(u===`
`)break}default:break e}if(!o&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let l=this.continueScalar(i+1);if(l===-1)break;i=this.buffer.indexOf(`
`,l)}while(i!==-1);if(i===-1){if(!this.atEnd)return this.setNext("block-scalar");i=this.buffer.length}}let s=i+1;for(o=this.buffer[s];o===" ";)o=this.buffer[++s];if(o==="	"){for(;o==="	"||o===" "||o==="\r"||o===`
`;)o=this.buffer[++s];i=s-1}else if(!this.blockScalarKeep)do{let l=i-1,u=this.buffer[l];u==="\r"&&(u=this.buffer[--l]);let d=l;for(;u===" ";)u=this.buffer[--l];if(u===`
`&&l>=this.pos&&l+1+n>d)i=l;else break}while(!0);return yield Oa,yield*O(this.pushToIndex(i+1,!0)),yield*O(this.parseLineStart())}*parsePlainScalar(){let i=this.flowLevel>0,n=this.pos-1,o=this.pos-1,s;for(;s=this.buffer[++o];)if(s===":"){let l=this.buffer[o+1];if(Sn(l)||i&&Na.has(l))break;n=o}else if(Sn(s)){let l=this.buffer[o+1];if(s==="\r"&&(l===`
`?(o+=1,s=`
`,l=this.buffer[o+1]):n=o),l==="#"||i&&Na.has(l))break;if(s===`
`){let u=this.continueScalar(o+1);if(u===-1)break;o=Math.max(o,u-2)}}else{if(i&&Na.has(s))break;n=o}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield Oa,yield*O(this.pushToIndex(n+1,!0)),i?"flow":"doc")}*pushCount(i){return i>0?(yield this.buffer.substr(this.pos,i),this.pos+=i,i):0}*pushToIndex(i,n){let o=this.buffer.slice(this.pos,i);return o?(yield o,this.pos+=o.length,o.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*O(this.pushTag()))+(yield*O(this.pushSpaces(!0)))+(yield*O(this.pushIndicators()));case"&":return(yield*O(this.pushUntil(Bc)))+(yield*O(this.pushSpaces(!0)))+(yield*O(this.pushIndicators()));case"-":case"?":case":":{let i=this.flowLevel>0,n=this.charAt(1);if(Sn(n)||i&&Na.has(n))return i?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*O(this.pushCount(1)))+(yield*O(this.pushSpaces(!0)))+(yield*O(this.pushIndicators()))}}return 0}*pushTag(){if(this.charAt(1)==="<"){let i=this.pos+2,n=this.buffer[i];for(;!Sn(n)&&n!==">";)n=this.buffer[++i];return yield*O(this.pushToIndex(n===">"?i+1:i,!1))}else{let i=this.pos+1,n=this.buffer[i];for(;n;)if(hC.has(n))n=this.buffer[++i];else if(n==="%"&&od.has(this.buffer[i+1])&&od.has(this.buffer[i+2]))n=this.buffer[i+=3];else break;return yield*O(this.pushToIndex(i,!1))}}*pushNewline(){let i=this.buffer[this.pos];return i===`
`?yield*O(this.pushCount(1)):i==="\r"&&this.charAt(1)===`
`?yield*O(this.pushCount(2)):0}*pushSpaces(i){let n=this.pos-1,o;do o=this.buffer[++n];while(o===" "||i&&o==="	");let s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(i){let n=this.pos,o=this.buffer[n];for(;!i(o);)o=this.buffer[++n];return yield*O(this.pushToIndex(n,!1))}};var No=class{constructor(){this.lineStarts=[],this.addNewLine=i=>this.lineStarts.push(i),this.linePos=i=>{let n=0,o=this.lineStarts.length;for(;n<o;){let l=n+o>>1;this.lineStarts[l]<i?n=l+1:o=l}if(this.lineStarts[n]===i)return{line:n+1,col:1};if(n===0)return{line:0,col:i};let s=this.lineStarts[n-1];return{line:n,col:i-s+1}}}};function Ci(r,i){for(let n=0;n<r.length;++n)if(r[n].type===i)return!0;return!1}function sd(r){for(let i=0;i<r.length;++i)switch(r[i].type){case"space":case"comment":case"newline":break;default:return i}return-1}function ld(r){switch(r?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Pa(r){switch(r.type){case"document":return r.start;case"block-map":{let i=r.items[r.items.length-1];return i.sep??i.start}case"block-seq":return r.items[r.items.length-1].start;default:return[]}}function $r(r){if(r.length===0)return[];let i=r.length;e:for(;--i>=0;)switch(r[i].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;r[++i]?.type==="space";);return r.splice(i,r.length)}function ad(r){if(r.start.type==="flow-seq-start")for(let i of r.items)i.sep&&!i.value&&!Ci(i.start,"explicit-key-ind")&&!Ci(i.sep,"map-value-ind")&&(i.key&&(i.value=i.key),delete i.key,ld(i.value)?i.value.end?Array.prototype.push.apply(i.value.end,i.sep):i.value.end=i.sep:Array.prototype.push.apply(i.start,i.sep),delete i.sep)}var Po=class{constructor(i){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Oo,this.onNewLine=i}*parse(i,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let o of this.lexer.lex(i,n))yield*O(this.next(o));n||(yield*O(this.end()))}*next(i){if(this.source=i,this.atScalar){this.atScalar=!1,yield*O(this.step()),this.offset+=i.length;return}let n=rd(i);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*O(this.step()),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+i.length);break;case"space":this.atNewLine&&i[0]===" "&&(this.indent+=i.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=i.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=i.length}else{let o=`Not a YAML token: ${i}`;yield*O(this.pop({type:"error",offset:this.offset,message:o,source:i})),this.offset+=i.length}}*end(){for(;this.stack.length>0;)yield*O(this.pop())}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let i=this.peek(1);if(this.type==="doc-end"&&(!i||i.type!=="doc-end")){for(;this.stack.length>0;)yield*O(this.pop());this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!i)return yield*O(this.stream());switch(i.type){case"document":return yield*O(this.document(i));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*O(this.scalar(i));case"block-scalar":return yield*O(this.blockScalar(i));case"block-map":return yield*O(this.blockMap(i));case"block-seq":return yield*O(this.blockSequence(i));case"flow-collection":return yield*O(this.flowCollection(i));case"doc-end":return yield*O(this.documentEnd(i))}yield*O(this.pop())}peek(i){return this.stack[this.stack.length-i]}*pop(i){let n=i??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{let o=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in o?o.indent:0:n.type==="flow-collection"&&o.type==="document"&&(n.indent=0),n.type==="flow-collection"&&ad(n),o.type){case"document":o.value=n;break;case"block-scalar":o.props.push(n);break;case"block-map":{let s=o.items[o.items.length-1];if(s.value){o.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{let s=o.items[o.items.length-1];s.value?o.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{let s=o.items[o.items.length-1];!s||s.value?o.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*O(this.pop()),yield*O(this.pop(n))}if((o.type==="document"||o.type==="block-map"||o.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){let s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&sd(s.start)===-1&&(n.indent===0||s.start.every(l=>l.type!=="comment"||l.indent<n.indent))&&(o.type==="document"?o.end=s.start:o.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let i={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&i.start.push(this.sourceToken),this.stack.push(i);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(i){if(i.value)return yield*O(this.lineEnd(i));switch(this.type){case"doc-start":{sd(i.start)!==-1?(yield*O(this.pop()),yield*O(this.step())):i.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":i.start.push(this.sourceToken);return}let n=this.startBlockValue(i);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(i){if(this.type==="map-value-ind"){let n=Pa(this.peek(2)),o=$r(n),s;i.end?(s=i.end,s.push(this.sourceToken),delete i.end):s=[this.sourceToken];let l={type:"block-map",offset:i.offset,indent:i.indent,items:[{start:o,key:i,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=l}else yield*O(this.lineEnd(i))}*blockScalar(i){switch(this.type){case"space":case"comment":case"newline":i.props.push(this.sourceToken);return;case"scalar":if(i.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*O(this.pop());break;default:yield*O(this.pop()),yield*O(this.step())}}*blockMap(i){let n=i.items[i.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let o="end"in n.value?n.value.end:void 0;(Array.isArray(o)?o[o.length-1]:void 0)?.type==="comment"?o?.push(this.sourceToken):i.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)i.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,i.indent)){let s=i.items[i.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),i.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=i.indent){let o=!this.onKeyLine&&this.indent===i.indent,s=o&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind",l=[];if(s&&n.sep&&!n.value){let u=[];for(let d=0;d<n.sep.length;++d){let h=n.sep[d];switch(h.type){case"newline":u.push(d);break;case"space":break;case"comment":h.indent>i.indent&&(u.length=0);break;default:u.length=0}}u.length>=2&&(l=n.sep.splice(u[1]))}switch(this.type){case"anchor":case"tag":s||n.value?(l.push(this.sourceToken),i.items.push({start:l}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):s||n.value?(l.push(this.sourceToken),i.items.push({start:l,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)i.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ci(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:l,key:null,sep:[this.sourceToken]}]});else if(ld(n.key)&&!Ci(n.sep,"newline")){let u=$r(n.start),d=n.key,h=n.sep;h.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:d,sep:h}]})}else l.length>0?n.sep=n.sep.concat(l,this.sourceToken):n.sep.push(this.sourceToken);else if(Ci(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{let u=$r(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||s?i.items.push({start:l,key:null,sep:[this.sourceToken]}):Ci(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let u=this.flowScalar(this.type);s||n.value?(i.items.push({start:l,key:u,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(u):(Object.assign(n,{key:u,sep:[]}),this.onKeyLine=!0);return}default:{let u=this.startBlockValue(i);if(u){if(u.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Ci(n.sep,"newline")){yield*O(this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source}));return}}else o&&i.items.push({start:l});this.stack.push(u);return}}}}yield*O(this.pop()),yield*O(this.step())}*blockSequence(i){let n=i.items[i.items.length-1];switch(this.type){case"newline":if(n.value){let o="end"in n.value?n.value.end:void 0;(Array.isArray(o)?o[o.length-1]:void 0)?.type==="comment"?o?.push(this.sourceToken):i.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)i.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,i.indent)){let s=i.items[i.items.length-2]?.value?.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),i.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=i.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==i.indent)break;n.value||Ci(n.start,"seq-item-ind")?i.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>i.indent){let o=this.startBlockValue(i);if(o){this.stack.push(o);return}}yield*O(this.pop()),yield*O(this.step())}*flowCollection(i){let n=i.items[i.items.length-1];if(this.type==="flow-error-end"){let o;do yield*O(this.pop()),o=this.peek(1);while(o&&o.type==="flow-collection")}else if(i.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?i.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?i.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?i.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let s=this.flowScalar(this.type);!n||n.value?i.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":i.end.push(this.sourceToken);return}let o=this.startBlockValue(i);o?this.stack.push(o):(yield*O(this.pop()),yield*O(this.step()))}else{let o=this.peek(2);if(o.type==="block-map"&&(this.type==="map-value-ind"&&o.indent===i.indent||this.type==="newline"&&!o.items[o.items.length-1].sep))yield*O(this.pop()),yield*O(this.step());else if(this.type==="map-value-ind"&&o.type!=="flow-collection"){let s=Pa(o),l=$r(s);ad(i);let u=i.end.splice(1,i.end.length);u.push(this.sourceToken);let d={type:"block-map",offset:i.offset,indent:i.indent,items:[{start:l,key:i,sep:u}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=d}else yield*O(this.lineEnd(i))}}flowScalar(i){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:i,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(i){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let n=Pa(i),o=$r(n);return o.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let n=Pa(i),o=$r(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(i,n){return this.type!=="comment"||this.indent<=n?!1:i.every(o=>o.type==="newline"||o.type==="space")}*documentEnd(i){this.type!=="doc-mode"&&(i.end?i.end.push(this.sourceToken):i.end=[this.sourceToken],this.type==="newline"&&(yield*O(this.pop())))}*lineEnd(i){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*O(this.pop()),yield*O(this.step());break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:i.end?i.end.push(this.sourceToken):i.end=[this.sourceToken],this.type==="newline"&&(yield*O(this.pop()))}}};function _C(r){let i=r.prettyErrors!==!1;return{lineCounter:r.lineCounter||i&&new No||null,prettyErrors:i}}function cd(r,i={}){let{lineCounter:n,prettyErrors:o}=_C(i),s=new Po(n?.addNewLine),l=new Io(i),u=null;for(let d of l.compose(s.parse(r),!0,r.length))if(!u)u=d;else if(u.options.logLevel!=="silent"){u.errors.push(new vn(d.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return o&&n&&(u.errors.forEach(Tc(r,n)),u.warnings.forEach(Tc(r,n))),u}function Gc(r,i,n){let o;typeof i=="function"?o=i:n===void 0&&i&&typeof i=="object"&&(n=i);let s=cd(r,n);if(!s)return null;if(s.warnings.forEach(l=>ua(s.options.logLevel,l)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:o},n))}function Vc(r,i,n){let o=null;if(typeof i=="function"||Array.isArray(i)?o=i:n===void 0&&i&&(n=i),typeof n=="string"&&(n=n.length),typeof n=="number"){let s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(r===void 0){let{keepUndefined:s}=n??i??{};if(!s)return}return gn(r)&&!o?r.toString(n):new Xn(r,o,n).toString(n)}var Lo=class r{static geometryToCsv(i){if(!i)return"";let n=s=>{if(s==null)return"";let l=String(s),u=/[",\n]/.test(l),d=l.replace(/"/g,'""');return u?`"${d}"`:d},o=[];o.push("SOLVER_CONFIGURATION"),o.push(["SolverType"].join(",")),o.push([n(i.solverConfiguration?.solverType)].join(",")),o.push(""),o.push("MESHING_CONFIGURATION"),o.push(["MaxTriangleArea"].join(",")),o.push([n(i.meshingConfiguration?.maxTriangleArea)].join(",")),o.push(""),o.push("REFINEMENT_POINTS"),o.push(["X","Y","Radius","MaxArea"].join(","));for(let s of i.meshingConfiguration?.refinementPoints??[])o.push([n(s.x),n(s.y),n(s.radius),n(s.maxArea)].join(","));o.push(""),o.push("RESULT_POINTS"),o.push(["Name","X","Y"].join(","));for(let s of i.resultPoints??[])o.push([n(s.name),n(s.x),n(s.y)].join(","));o.push(""),o.push("MATERIALS"),o.push(["Name","ModulusOfElasticity","PoissonsRatio","Weight"].join(","));for(let s of i.materials??[])o.push([n(s.name),n(s.modulusOfElasticity),n(s.poissonsRatio),n(s.weight)].join(","));o.push(""),o.push("SECTION_PROPERTIES"),o.push(["Name","Thickness"].join(","));for(let s of i.sectionProperties??[])o.push([n(s.name),n(s.thickness)].join(","));o.push(""),o.push("RECTANGLE_GEOMETRY"),o.push(["Name","X","Y","Width","Height","SectionName","MaterialName"].join(","));for(let s of i.rectangles??[])o.push([n(s.name),n(s.x),n(s.y),n(s.width),n(s.height),n(s.sectionName),n(s.materialName)].join(","));o.push(""),o.push("POLYGONS"),o.push(["Name","Points","SectionName","MaterialName"].join(","));for(let s of i.polygons??[])o.push([n(s.name),n(s.points),n(s.sectionName),n(s.materialName)].join(","));o.push(""),o.push("SUPPORTS"),o.push(["X","Y","FixedX","FixedY"].join(","));for(let s of i.supports??[])o.push([n(s.x),n(s.y),n(s.fixedX),n(s.fixedY)].join(","));o.push(""),o.push("LOAD_CASES"),o.push(["LoadCase","Type","GeometryOrPointName","X","Y","FX","FY"].join(","));for(let s of i.loadCases??[]){for(let l of s.pointLoads??[])o.push([n(s.name),"Point","",n(l.x),n(l.y),n(l.fx),n(l.fy)].join(","));for(let l of s.distributedLoads??[])o.push([n(s.name),"Distributed",n(l.geometryName),"","",n(l.fx),n(l.fy)].join(","))}return o.push(""),o.join(`
`)}static parseCsvRow(i){let n=[],o="",s=!1;for(let l=0;l<i.length;l++){let u=i[l];s?u==='"'?l+1<i.length&&i[l+1]==='"'?(o+='"',l++):s=!1:o+=u:u==='"'?s=!0:u===","?(n.push(o),o=""):o+=u}return n.push(o),n.map(l=>l.trim())}static parseGeometryFromCsv(i){let o=(i??"").replace(/^\uFEFF/,"").split(/\r?\n/).map(T=>T.trim()),s=new Set(["SOLVER_CONFIGURATION","MESHING_CONFIGURATION","REFINEMENT_POINTS","RESULT_POINTS","MATERIALS","SECTION_PROPERTIES","RECTANGLE_GEOMETRY","POLYGONS","SUPPORTS","LOAD_CASES"]),l=0,u=()=>{for(;l<o.length&&o[l].length===0;)l++;return l<o.length?o[l]:null},d=T=>{if(u()!==T)throw new Error(`Expected section ${T}`);l++},h=()=>{l<o.length&&o[l].length>0&&l++;let T=[];for(;l<o.length&&o[l].length>0&&!s.has(o[l]);)T.push(o[l++]);for(;l<o.length&&o[l].length===0;)l++;return T},_={sectionProperties:[],materials:[],rectangles:[],polygons:[],supports:[],loadCases:[],meshingConfiguration:{maxTriangleArea:NaN,refinementPoints:[]},solverConfiguration:{solverType:"lusolve"},resultPoints:[]};if(u()==="SOLVER_CONFIGURATION"){if(d("SOLVER_CONFIGURATION"),l<o.length&&o[l].length>0&&l++,l<o.length&&o[l].length>0){let T=r.parseCsvRow(o[l++]);_.solverConfiguration={solverType:T[0]??"lusolve"}}for(;l<o.length&&o[l].length===0;)l++}if(u()==="MESHING_CONFIGURATION"){if(d("MESHING_CONFIGURATION"),l<o.length&&o[l].length>0&&l++,l<o.length&&o[l].length>0){let T=r.parseCsvRow(o[l++]);_.meshingConfiguration.maxTriangleArea=parseFloat(T[0]??"0")}for(;l<o.length&&o[l].length===0;)l++}if(u()==="REFINEMENT_POINTS"){d("REFINEMENT_POINTS"),l<o.length&&o[l].length>0&&l++;let T=[];for(;l<o.length&&o[l].length>0&&!s.has(o[l]);){let x=r.parseCsvRow(o[l++]),S=parseFloat(x[0]??"0"),I=parseFloat(x[1]??"0"),G=parseFloat(x[2]??"0"),M=parseFloat(x[3]??"0");T.push({x:S,y:I,radius:G,maxArea:M})}for(_.meshingConfiguration.refinementPoints=T;l<o.length&&o[l].length===0;)l++}if(u()==="RESULT_POINTS"){for(d("RESULT_POINTS"),l<o.length&&o[l].length>0&&l++;l<o.length&&o[l].length>0&&!s.has(o[l]);){let T=r.parseCsvRow(o[l++]),x=T[0]??"",S=parseFloat(T[1]??"0"),I=parseFloat(T[2]??"0");_.resultPoints.push({name:x,x:S,y:I})}for(;l<o.length&&o[l].length===0;)l++}if(u()==="MATERIALS"){d("MATERIALS");let T=h();for(let x of T){let S=r.parseCsvRow(x),I=S[0]??"",G=parseFloat(S[1]??"0"),M=parseFloat(S[2]??"0"),L=parseFloat(S[3]??"0");_.materials.push({name:I,modulusOfElasticity:G,poissonsRatio:M,weight:L})}}if(u()==="SECTION_PROPERTIES"){d("SECTION_PROPERTIES");let T=h();for(let x of T){let S=r.parseCsvRow(x),I=S[0]??"",G=parseFloat(S[1]??"0");_.sectionProperties.push({name:I,thickness:G})}}if(u()==="RECTANGLE_GEOMETRY"){d("RECTANGLE_GEOMETRY");let T=h();for(let x of T){let S=r.parseCsvRow(x),I=S[0]??"",G=parseFloat(S[1]??"0"),M=parseFloat(S[2]??"0"),L=parseFloat(S[3]??"0"),U=parseFloat(S[4]??"0"),K=S[5]??"",j=S[6]??"";_.rectangles.push({name:I,x:G,y:M,width:L,height:U,sectionName:K,materialName:j})}}if(u()==="POLYGONS"){d("POLYGONS");let T=h();for(let x of T){let S=r.parseCsvRow(x),I=S[0]??"",G=S[1]??"",M=S[2]??"",L=S[3]??"";_.polygons.push({name:I,points:G,sectionName:M,materialName:L})}}if(u()==="SUPPORTS"){d("SUPPORTS");let T=h();for(let x of T){let S=r.parseCsvRow(x),I=parseFloat(S[0]??"0"),G=parseFloat(S[1]??"0"),M=(S[2]??"false").toLowerCase()==="true",L=(S[3]??"false").toLowerCase()==="true";_.supports.push({x:I,y:G,fixedX:M,fixedY:L})}}if(u()==="LOAD_CASES"){d("LOAD_CASES");let T=h(),x=new Map;for(let S of T){let I=r.parseCsvRow(S),G=I[0]??"",M=(I[1]??"").toLowerCase();x.has(G)||x.set(G,{name:G,pointLoads:[],distributedLoads:[],includeDeadLoad:!1});let L=x.get(G);if(M==="point"){let U=parseFloat(I[3]??"0"),K=parseFloat(I[4]??"0"),j=parseFloat(I[5]??"0"),te=parseFloat(I[6]??"0");L.pointLoads.push({x:U,y:K,fx:j,fy:te})}else if(M==="distributed"){let U=I[2]??"",K=parseFloat(I[5]??"0"),j=parseFloat(I[6]??"0");L.distributedLoads.push({geometryName:U,fx:K,fy:j})}}_.loadCases=Array.from(x.values())}return{sectionProperties:_.sectionProperties??[],materials:_.materials??[],rectangles:_.rectangles??[],polygons:_.polygons??[],supports:_.supports??[],loadCases:_.loadCases??[],meshingConfiguration:_.meshingConfiguration??{maxTriangleArea:NaN,refinementPoints:[]},solverConfiguration:_.solverConfiguration??{solverType:"lusolve"},resultPoints:_.resultPoints??[]}}};function wC(r,i){if(r&1){let n=je();b(0,"div",1)(1,"p-checkbox",4),ee("ngModelChange",function(s){F(n);let l=W();return Q(l.encode,s)||(l.encode=s),B(s)}),V("onChange",function(){F(n);let s=W();return B(s.changeSerializationType())}),w(),b(2,"label",5),D(3," Encode "),w()()}if(r&2){let n=W();R(),Z("ngModel",n.encode),q("binary",!0)}}var La=class r extends In{membraneMessageService=Ae(fi);membraneService=Ae(Or);detector=Ae(rn);serializationTypes=["yaml","json","csv","url"];selectedSerializationType="yaml";geometry;encode=!1;ngOnInit(){this.membraneMessageService.geometryChanged.pipe(nn(this.destroyed$)).subscribe(i=>{this.geometry=i,this.changeSerializationType()})}value="";rows=10;changeSerializationType(){this.value=this.serializeGeometry(this.geometry),this.rows=this.value.split(`
`).length,this.detector.detectChanges()}parse(){let i=this.parseGeometry();this.membraneService.updateGeometry(i)}copy(){let i=this.value;this.selectedSerializationType==="url"&&(i=window.location.origin+window.location.pathname+window.location.hash+"?"+this.value.split(`
`).join("")),navigator.clipboard.writeText(i)}parseGeometry(){try{switch(this.selectedSerializationType){case"yaml":return Gc(this.value);case"json":return JSON.parse(this.value);case"url":return this.encode?Yn.parse(this.value):Yn.parseRaw(this.value);case"csv":return Lo.parseGeometryFromCsv(this.value);default:throw new Error("Unsupported serialization type")}}catch(i){throw this.membraneMessageService.showErrorMessage("Failed to parse geometry: "+i.message),i}}serializeGeometry(i){switch(this.selectedSerializationType){case"yaml":return Vc(i);case"json":return JSON.stringify(i,null,2);case"url":return this.encode?Yn.stringify(i):Yn.stringifyRaw(i);case"csv":return Lo.geometryToCsv(i);default:throw new Error("Unsupported serialization type")}}static \u0275fac=(()=>{let i;return function(o){return(i||(i=ci(r)))(o||r)}})();static \u0275cmp=Xe({type:r,selectors:[["app-raw-geometry"]],features:[ui],decls:5,vars:7,consts:[["placeholder","Select serialization",1,"w-full","md:w-56",3,"ngModelChange","options","ngModel"],[1,"flex","items-center"],["icon","pi pi-copy","label","Copy",1,"ml-2",3,"onClick","disabled"],["pTextarea","","id","description",2,"resize","vertical","width","100%","height","100%",3,"ngModelChange","ngModel","rows","spellcheck"],["inputId","encode",3,"ngModelChange","onChange","ngModel","binary"],["for","encode",1,"ml-2"]],template:function(n,o){n&1&&(b(0,"p-select",0),ee("ngModelChange",function(l){return Q(o.selectedSerializationType,l)||(o.selectedSerializationType=l),l}),V("ngModelChange",function(){return o.changeSerializationType()}),w(),mn(1,wC,4,2,"div",1),b(2,"p-button",2),V("onClick",function(){return o.copy()}),w(),oe(3,"p-divider"),b(4,"textarea",3),ee("ngModelChange",function(l){return Q(o.value,l)||(o.value=l),l}),V("ngModelChange",function(){return o.parse()}),w()),n&2&&(q("options",o.serializationTypes),Z("ngModel",o.selectedSerializationType),R(),Li(o.selectedSerializationType==="url"?1:-1),R(),q("disabled",!o.value),R(2),Z("ngModel",o.value),q("rows",o.rows)("spellcheck",!1))},dependencies:[Je,Ze,tt,ct,et,ot,Fs,ut,Qe,Rs,pi,mi,ft,st,pt,mt,at,Nr,rt,di,dt,ht,gt,_t,yt,wt,lm,lt,nt,bt,Ct,vt,it,St,xt,Us],encapsulation:2,changeDetection:0})};function bC(r,i){r&1&&(b(0,"div",4),oe(1,"p-tag",5),w())}function CC(r,i){if(r&1&&(b(0,"div",3),oe(1,"p-badge",6),b(2,"p",7),D(3),w()()),r&2){let n=i.$implicit;R(),q("value","!")("badgeSize","small"),R(2),Is(" ",n," ")}}function vC(r,i){if(r&1&&(b(0,"p-fieldset"),mn(1,bC,2,0,"ng-template",null,0,Ir),Nt(3,CC,4,3,"div",3,Ot),w()),r&2){let n=W();R(3),Pt(n.errors)}}var Ra=class r extends In{membraneService=Ae(Or);membraneMessageService=Ae(fi);changeDetector=Ae(rn);progress="";subProgress="";iterationProgress="";errors=[];solve(){return Se(this,null,function*(){this.errors=[],yield this.membraneService.solve()})}ngOnInit(){return Se(this,null,function*(){this.membraneMessageService.progressChanged.pipe(nn(this.destroyed$),Be(i=>{i.message&&(this.progress=i.message)}),Be(i=>{i.subMessage&&(this.subProgress=i.subMessage)}),Be(i=>{i.iterationMessage&&(this.iterationProgress=i.iterationMessage)})).subscribe(()=>this.changeDetector.detectChanges()),this.membraneMessageService.errorMessageChanged.pipe(nn(this.destroyed$),Be(i=>this.errors=[...i])).subscribe(()=>this.changeDetector.detectChanges())})}static \u0275fac=(()=>{let i;return function(o){return(i||(i=ci(r)))(o||r)}})();static \u0275cmp=Xe({type:r,selectors:[["app-control-panel"]],features:[ui],decls:10,vars:4,consts:[["header",""],[1,"mt-2"],["label","Solve",3,"onClick"],[1,"flex","items-center"],[1,"flex","items-center","gap-2","px-2"],["severity","danger","value","Errors"],["severity","danger",3,"value","badgeSize"],[1,"pl-1"]],template:function(n,o){n&1&&(b(0,"div",1)(1,"p-button",2),V("onClick",function(){return o.solve()}),w(),b(2,"p"),D(3),w(),b(4,"p"),D(5),w(),b(6,"p"),D(7),w()(),oe(8,"p-divider"),mn(9,vC,5,0,"p-fieldset")),n&2&&(R(3),Ne(o.progress),R(2),Ne(o.subProgress),R(2),Ne(o.iterationProgress),R(2),Li(o.errors.length>0?9:-1))},dependencies:[Je,Ze,tt,ct,et,ot,ut,Qe,ft,st,pt,mt,at,rt,di,dt,ht,gt,_t,yt,wt,lt,nt,bt,Ct,um,vt,fm,it,rm,St,xt,Us],styles:[".error-container[_ngcontent-%COMP%]{background-color:var(--p-red-400)}"],changeDetection:0})};var ud=class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Xe({type:r,selectors:[["app-membrane"]],decls:21,vars:2,consts:[[1,"grid","grid-cols-2","gap-2","ml-2"],["value","0"],["value","1"],["value","2"],[1,"sticky","top-0"]],template:function(n,o){n&1&&(b(0,"div",0)(1,"div"),oe(2,"app-control-panel"),b(3,"p-tabs",1)(4,"p-tablist")(5,"p-tab",1),D(6,"Geometry"),w(),b(7,"p-tab",2),D(8,"Raw Geometry"),w(),b(9,"p-tab",3),D(10,"Results"),w()(),b(11,"p-tabpanels")(12,"p-tabpanel",1),oe(13,"app-geometry"),w(),b(14,"p-tabpanel",2),oe(15,"app-raw-geometry"),w(),b(16,"p-tabpanel",3),oe(17,"app-results"),w()()()(),b(18,"div")(19,"div",4),oe(20,"app-view3d"),w()()()),n&2&&(R(3),Op("flex-grow:1"))},dependencies:[Js,Ys,Ra,qs,Je,nm,tm,em,Zp,Qp,Ze,tt,ct,et,ot,ut,Qe,ft,st,pt,mt,at,rt,dt,ht,gt,_t,yt,wt,lt,nt,bt,Ct,vt,it,St,xt,La],styles:["[_nghost-%COMP%]     p-panel div.p-panel{margin-bottom:calc(var(--spacing) * 4)}"],changeDetection:0})};export{ud as MembraneComponent};
