var lf=Object.create;var vi=Object.defineProperty;var pf=Object.getOwnPropertyDescriptor;var df=Object.getOwnPropertyNames;var vf=Object.getPrototypeOf,hf=Object.prototype.hasOwnProperty;var zr=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Dt=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var mf=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of df(r))!hf.call(e,n)&&n!==t&&vi(e,n,{get:()=>r[n],enumerable:!(a=pf(r,n))||a.enumerable});return e};var yt=(e,r,t)=>(t=e!=null?lf(vf(e)):{},mf(r||!e||!e.__esModule?vi(t,"default",{value:e,enumerable:!0}):t,e));var ki=Dt((Ea,Aa)=>{"use strict";(function(e,r){typeof Ea=="object"&&typeof Aa<"u"?Aa.exports=r():typeof define=="function"&&define.amd?define(r):(e=typeof globalThis<"u"?globalThis:e||self,e["'typed'"]=r())})(Ea,function(){"use strict";function e(){return!0}function r(){return!1}function t(){}let a="Argument is not a typed-function.";function n(){function f(I){return typeof I=="object"&&I!==null&&I.constructor===Object}let d=[{name:"number",test:function(I){return typeof I=="number"}},{name:"string",test:function(I){return typeof I=="string"}},{name:"boolean",test:function(I){return typeof I=="boolean"}},{name:"Function",test:function(I){return typeof I=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(I){return I instanceof Date}},{name:"RegExp",test:function(I){return I instanceof RegExp}},{name:"Object",test:f},{name:"null",test:function(I){return I===null}},{name:"undefined",test:function(I){return I===void 0}}],c={name:"any",test:e,isAny:!0},u,i,s=0,l={createCount:0};function h(I){let q=u.get(I);if(q)return q;let k='Unknown type "'+I+'"',Q=I.toLowerCase(),j;for(j of i)if(j.toLowerCase()===Q){k+='. Did you mean "'+j+'" ?';break}throw new TypeError(k)}function y(I){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",k=q?h(q).index:i.length,Q=[];for(let J=0;J<I.length;++J){if(!I[J]||typeof I[J].name!="string"||typeof I[J].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let oe=I[J].name;if(u.has(oe))throw new TypeError('Duplicate type name "'+oe+'"');Q.push(oe),u.set(oe,{name:oe,test:I[J].test,isAny:I[J].isAny,index:k+J,conversionsTo:[]})}let j=i.slice(k);i=i.slice(0,k).concat(Q).concat(j);for(let J=k+Q.length;J<i.length;++J)u.get(i[J]).index=J}function p(){u=new Map,i=[],s=0,y([c],!1)}p(),y(d);function m(){let I;for(I of i)u.get(I).conversionsTo=[];s=0}function D(I){let q=i.filter(k=>{let Q=u.get(k);return!Q.isAny&&Q.test(I)});return q.length?q:["any"]}function _(I){return I&&typeof I=="function"&&"_typedFunctionData"in I}function b(I,q,k){if(!_(I))throw new TypeError(a);let Q=k&&k.exact,j=Array.isArray(q)?q.join(","):q,J=T(j),oe=x(J);if(!Q||oe in I.signatures){let Pe=I._typedFunctionData.signatureMap.get(oe);if(Pe)return Pe}let ne=J.length,ie;if(Q){ie=[];let Pe;for(Pe in I.signatures)ie.push(I._typedFunctionData.signatureMap.get(Pe))}else ie=I._typedFunctionData.signatures;for(let Pe=0;Pe<ne;++Pe){let Ze=J[Pe],Ne=[],tr;for(tr of ie){let er=W(tr.params,Pe);if(!(!er||Ze.restParam&&!er.restParam)){if(!er.hasAny){let or=F(er);if(Ze.types.some(fr=>!or.has(fr.name)))continue}Ne.push(tr)}}if(ie=Ne,ie.length===0)break}let re;for(re of ie)if(re.params.length<=ne)return re;throw new TypeError("Signature not found (signature: "+(I.name||"unnamed")+"("+x(J,", ")+"))")}function B(I,q,k){return b(I,q,k).implementation}function C(I,q){let k=h(q);if(k.test(I))return I;let Q=k.conversionsTo;if(Q.length===0)throw new Error("There are no conversions to "+q+" defined.");for(let j=0;j<Q.length;j++)if(h(Q[j].from).test(I))return Q[j].convert(I);throw new Error("Cannot convert "+I+" to "+q)}function x(I){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return I.map(k=>k.name).join(q)}function M(I){let q=I.indexOf("...")===0,Q=(q?I.length>3?I.slice(3):"any":I).split("|").map(ne=>h(ne.trim())),j=!1,J=q?"...":"";return{types:Q.map(function(ne){return j=ne.isAny||j,J+=ne.name+"|",{name:ne.name,typeIndex:ne.index,test:ne.test,isAny:ne.isAny,conversion:null,conversionIndex:-1}}),name:J.slice(0,-1),hasAny:j,hasConversion:!1,restParam:q}}function N(I){let q=I.types.map(oe=>oe.name),k=de(q),Q=I.hasAny,j=I.name,J=k.map(function(oe){let ne=h(oe.from);return Q=ne.isAny||Q,j+="|"+oe.from,{name:oe.from,typeIndex:ne.index,test:ne.test,isAny:ne.isAny,conversion:oe,conversionIndex:oe.index}});return{types:I.types.concat(J),name:j,hasAny:Q,hasConversion:J.length>0,restParam:I.restParam}}function F(I){return I.typeSet||(I.typeSet=new Set,I.types.forEach(q=>I.typeSet.add(q.name))),I.typeSet}function T(I){let q=[];if(typeof I!="string")throw new TypeError("Signatures must be strings");let k=I.trim();if(k==="")return q;let Q=k.split(",");for(let j=0;j<Q.length;++j){let J=M(Q[j].trim());if(J.restParam&&j!==Q.length-1)throw new SyntaxError('Unexpected rest parameter "'+Q[j]+'": only allowed for the last parameter');if(J.types.length===0)return null;q.push(J)}return q}function z(I){let q=Ye(I);return q?q.restParam:!1}function P(I){if(!I||I.types.length===0)return e;if(I.types.length===1)return h(I.types[0].name).test;if(I.types.length===2){let q=h(I.types[0].name).test,k=h(I.types[1].name).test;return function(j){return q(j)||k(j)}}else{let q=I.types.map(function(k){return h(k.name).test});return function(Q){for(let j=0;j<q.length;j++)if(q[j](Q))return!0;return!1}}}function K(I){let q,k,Q;if(z(I)){q=Te(I).map(P);let j=q.length,J=P(Ye(I)),oe=function(ne){for(let ie=j;ie<ne.length;ie++)if(!J(ne[ie]))return!1;return!0};return function(ie){for(let re=0;re<q.length;re++)if(!q[re](ie[re]))return!1;return oe(ie)&&ie.length>=j+1}}else return I.length===0?function(J){return J.length===0}:I.length===1?(k=P(I[0]),function(J){return k(J[0])&&J.length===1}):I.length===2?(k=P(I[0]),Q=P(I[1]),function(J){return k(J[0])&&Q(J[1])&&J.length===2}):(q=I.map(P),function(J){for(let oe=0;oe<q.length;oe++)if(!q[oe](J[oe]))return!1;return J.length===q.length})}function W(I,q){return q<I.length?I[q]:z(I)?Ye(I):null}function X(I,q){let k=W(I,q);return k?F(k):new Set}function V(I){return I.conversion===null||I.conversion===void 0}function ae(I,q){let k=new Set;return I.forEach(Q=>{let j=X(Q.params,q),J;for(J of j)k.add(J)}),k.has("any")?["any"]:Array.from(k)}function ee(I,q,k){let Q,j,J=I||"unnamed",oe=k,ne;for(ne=0;ne<q.length;ne++){let Ze=[];if(oe.forEach(Ne=>{let tr=W(Ne.params,ne),er=P(tr);(ne<Ne.params.length||z(Ne.params))&&er(q[ne])&&Ze.push(Ne)}),Ze.length===0){if(j=ae(oe,ne),j.length>0){let Ne=D(q[ne]);return Q=new TypeError("Unexpected type of argument in function "+J+" (expected: "+j.join(" or ")+", actual: "+Ne.join(" | ")+", index: "+ne+")"),Q.data={category:"wrongType",fn:J,index:ne,actual:Ne,expected:j},Q}}else oe=Ze}let ie=oe.map(function(Ze){return z(Ze.params)?1/0:Ze.params.length});if(q.length<Math.min.apply(null,ie))return j=ae(oe,ne),Q=new TypeError("Too few arguments in function "+J+" (expected: "+j.join(" or ")+", index: "+q.length+")"),Q.data={category:"tooFewArgs",fn:J,index:q.length,expected:j},Q;let re=Math.max.apply(null,ie);if(q.length>re)return Q=new TypeError("Too many arguments in function "+J+" (expected: "+re+", actual: "+q.length+")"),Q.data={category:"tooManyArgs",fn:J,index:q.length,expectedLength:re},Q;let Pe=[];for(let Ze=0;Ze<q.length;++Ze)Pe.push(D(q[Ze]).join("|"));return Q=new TypeError('Arguments of type "'+Pe.join(", ")+'" do not match any of the defined signatures of function '+J+"."),Q.data={category:"mismatch",actual:Pe},Q}function Y(I){let q=i.length+1;for(let k=0;k<I.types.length;k++)V(I.types[k])&&(q=Math.min(q,I.types[k].typeIndex));return q}function te(I){let q=s+1;for(let k=0;k<I.types.length;k++)V(I.types[k])||(q=Math.min(q,I.types[k].conversionIndex));return q}function se(I,q){if(I.hasAny){if(!q.hasAny)return 1}else if(q.hasAny)return-1;if(I.restParam){if(!q.restParam)return 1}else if(q.restParam)return-1;if(I.hasConversion){if(!q.hasConversion)return 1}else if(q.hasConversion)return-1;let k=Y(I)-Y(q);if(k<0)return-1;if(k>0)return 1;let Q=te(I)-te(q);return Q<0?-1:Q>0?1:0}function fe(I,q){let k=I.params,Q=q.params,j=Ye(k),J=Ye(Q),oe=z(k),ne=z(Q);if(oe&&j.hasAny){if(!ne||!J.hasAny)return 1}else if(ne&&J.hasAny)return-1;let ie=0,re=0,Pe;for(Pe of k)Pe.hasAny&&++ie,Pe.hasConversion&&++re;let Ze=0,Ne=0;for(Pe of Q)Pe.hasAny&&++Ze,Pe.hasConversion&&++Ne;if(ie!==Ze)return ie-Ze;if(oe&&j.hasConversion){if(!ne||!J.hasConversion)return 1}else if(ne&&J.hasConversion)return-1;if(re!==Ne)return re-Ne;if(oe){if(!ne)return 1}else if(ne)return-1;let tr=(k.length-Q.length)*(oe?-1:1);if(tr!==0)return tr;let er=[],or=0;for(let Ir=0;Ir<k.length;++Ir){let Qr=se(k[Ir],Q[Ir]);er.push(Qr),or+=Qr}if(or!==0)return or;let fr;for(fr of er)if(fr!==0)return fr;return 0}function de(I){if(I.length===0)return[];let q=I.map(h);I.length>1&&q.sort((j,J)=>j.index-J.index);let k=q[0].conversionsTo;if(I.length===1)return k;k=k.concat([]);let Q=new Set(I);for(let j=1;j<q.length;++j){let J;for(J of q[j].conversionsTo)Q.has(J.from)||(k.push(J),Q.add(J.from))}return k}function ce(I,q){let k=q;if(I.some(j=>j.hasConversion)){let j=z(I),J=I.map(Re);k=function(){let ne=[],ie=j?arguments.length-1:arguments.length;for(let re=0;re<ie;re++)ne[re]=J[re](arguments[re]);return j&&(ne[ie]=arguments[ie].map(J[ie])),q.apply(this,ne)}}let Q=k;if(z(I)){let j=I.length-1;Q=function(){return k.apply(this,Oe(arguments,0,j).concat([Oe(arguments,j)]))}}return Q}function Re(I){let q,k,Q,j,J=[],oe=[];switch(I.types.forEach(function(ne){ne.conversion&&(J.push(h(ne.conversion.from).test),oe.push(ne.conversion.convert))}),oe.length){case 0:return function(ie){return ie};case 1:return q=J[0],Q=oe[0],function(ie){return q(ie)?Q(ie):ie};case 2:return q=J[0],k=J[1],Q=oe[0],j=oe[1],function(ie){return q(ie)?Q(ie):k(ie)?j(ie):ie};default:return function(ie){for(let re=0;re<oe.length;re++)if(J[re](ie))return oe[re](ie);return ie}}}function we(I){function q(k,Q,j){if(Q<k.length){let J=k[Q],oe=[];if(J.restParam){let ne=J.types.filter(V);ne.length<J.types.length&&oe.push({types:ne,name:"..."+ne.map(ie=>ie.name).join("|"),hasAny:ne.some(ie=>ie.isAny),hasConversion:!1,restParam:!0}),oe.push(J)}else oe=J.types.map(function(ne){return{types:[ne],name:ne.name,hasAny:ne.isAny,hasConversion:ne.conversion,restParam:!1}});return Ce(oe,function(ne){return q(k,Q+1,j.concat([ne]))})}else return[j]}return q(I,0,[])}function xe(I,q){let k=Math.max(I.length,q.length);for(let ne=0;ne<k;ne++){let ie=X(I,ne),re=X(q,ne),Pe=!1,Ze;for(Ze of re)if(ie.has(Ze)){Pe=!0;break}if(!Pe)return!1}let Q=I.length,j=q.length,J=z(I),oe=z(q);return J?oe?Q===j:j>=Q:oe?Q>=j:Q===j}function Me(I){return I.map(q=>Er(q)?Dr(q.referToSelf.callback):xr(q)?$e(q.referTo.references,q.referTo.callback):q)}function Ae(I,q,k){let Q=[],j;for(j of I){let J=k[j];if(typeof J!="number")throw new TypeError('No definition for referenced signature "'+j+'"');if(J=q[J],typeof J!="function")return!1;Q.push(J)}return Q}function he(I,q,k){let Q=Me(I),j=new Array(Q.length).fill(!1),J=!0;for(;J;){J=!1;let oe=!0;for(let ne=0;ne<Q.length;++ne){if(j[ne])continue;let ie=Q[ne];if(Er(ie))Q[ne]=ie.referToSelf.callback(k),Q[ne].referToSelf=ie.referToSelf,j[ne]=!0,oe=!1;else if(xr(ie)){let re=Ae(ie.referTo.references,Q,q);re?(Q[ne]=ie.referTo.callback.apply(this,re),Q[ne].referTo=ie.referTo,j[ne]=!0,oe=!1):J=!0}}if(oe&&J)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Q}function Xe(I){let q=/\bthis(\(|\.signatures\b)/;Object.keys(I).forEach(k=>{let Q=I[k];if(q.test(Q.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function qe(I,q){if(l.createCount++,Object.keys(q).length===0)throw new SyntaxError("No signatures provided");l.warnAgainstDeprecatedThis&&Xe(q);let k=[],Q=[],j={},J=[],oe;for(oe in q){if(!Object.prototype.hasOwnProperty.call(q,oe))continue;let Ie=T(oe);if(!Ie)continue;k.forEach(function(Vr){if(xe(Vr,Ie))throw new TypeError('Conflicting signatures "'+x(Vr)+'" and "'+x(Ie)+'".')}),k.push(Ie);let nr=Q.length;Q.push(q[oe]);let fn=Ie.map(N),yr;for(yr of we(fn)){let Vr=x(yr);J.push({params:yr,name:Vr,fn:nr}),yr.every(cn=>!cn.hasConversion)&&(j[Vr]=nr)}}J.sort(fe);let ne=he(Q,j,lr),ie;for(ie in j)Object.prototype.hasOwnProperty.call(j,ie)&&(j[ie]=ne[j[ie]]);let re=[],Pe=new Map;for(ie of J)Pe.has(ie.name)||(ie.fn=ne[ie.fn],re.push(ie),Pe.set(ie.name,ie));let Ze=re[0]&&re[0].params.length<=2&&!z(re[0].params),Ne=re[1]&&re[1].params.length<=2&&!z(re[1].params),tr=re[2]&&re[2].params.length<=2&&!z(re[2].params),er=re[3]&&re[3].params.length<=2&&!z(re[3].params),or=re[4]&&re[4].params.length<=2&&!z(re[4].params),fr=re[5]&&re[5].params.length<=2&&!z(re[5].params),Ir=Ze&&Ne&&tr&&er&&or&&fr;for(let Ie=0;Ie<re.length;++Ie)re[Ie].test=K(re[Ie].params);let Qr=Ze?P(re[0].params[0]):r,qt=Ne?P(re[1].params[0]):r,Ut=tr?P(re[2].params[0]):r,Vt=er?P(re[3].params[0]):r,Zt=or?P(re[4].params[0]):r,Yt=fr?P(re[5].params[0]):r,Wt=Ze?P(re[0].params[1]):r,kt=Ne?P(re[1].params[1]):r,st=tr?P(re[2].params[1]):r,Gt=er?P(re[3].params[1]):r,Xt=or?P(re[4].params[1]):r,Kt=fr?P(re[5].params[1]):r;for(let Ie=0;Ie<re.length;++Ie)re[Ie].implementation=ce(re[Ie].params,re[Ie].fn);let Ht=Ze?re[0].implementation:t,Qt=Ne?re[1].implementation:t,Jt=tr?re[2].implementation:t,$t=er?re[3].implementation:t,jt=or?re[4].implementation:t,en=fr?re[5].implementation:t,rn=Ze?re[0].params.length:-1,tn=Ne?re[1].params.length:-1,nn=tr?re[2].params.length:-1,an=er?re[3].params.length:-1,on=or?re[4].params.length:-1,un=fr?re[5].params.length:-1,ft=Ir?6:0,gr=re.length,ct=re.map(Ie=>Ie.test),cr=re.map(Ie=>Ie.implementation),sn=function(){for(let nr=ft;nr<gr;nr++)if(ct[nr](arguments))return cr[nr].apply(this,arguments);return l.onMismatch(I,arguments,re)};function lr(Ie,nr){return arguments.length===rn&&Qr(Ie)&&Wt(nr)?Ht.apply(this,arguments):arguments.length===tn&&qt(Ie)&&kt(nr)?Qt.apply(this,arguments):arguments.length===nn&&Ut(Ie)&&st(nr)?Jt.apply(this,arguments):arguments.length===an&&Vt(Ie)&&Gt(nr)?$t.apply(this,arguments):arguments.length===on&&Zt(Ie)&&Xt(nr)?jt.apply(this,arguments):arguments.length===un&&Yt(Ie)&&Kt(nr)?en.apply(this,arguments):sn.apply(this,arguments)}try{Object.defineProperty(lr,"name",{value:I})}catch{}return lr.signatures=j,lr._typedFunctionData={signatures:re,signatureMap:Pe},lr}function ge(I,q,k){throw ee(I,q,k)}function Te(I){return Oe(I,0,I.length-1)}function Ye(I){return I[I.length-1]}function Oe(I,q,k){return Array.prototype.slice.call(I,q,k)}function je(I,q){for(let k=0;k<I.length;k++)if(q(I[k]))return I[k]}function Ce(I,q){return Array.prototype.concat.apply([],I.map(q))}function Ke(){let I=Te(arguments).map(k=>x(T(k))),q=Ye(arguments);if(typeof q!="function")throw new TypeError("Callback function expected as last argument");return $e(I,q)}function $e(I,q){return{referTo:{references:I,callback:q}}}function Dr(I){if(typeof I!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:I}}}function xr(I){return I&&typeof I.referTo=="object"&&Array.isArray(I.referTo.references)&&typeof I.referTo.callback=="function"}function Er(I){return I&&typeof I.referToSelf=="object"&&typeof I.referToSelf.callback=="function"}function Nr(I,q){if(!I)return q;if(q&&q!==I){let k=new Error("Function names do not match (expected: "+I+", actual: "+q+")");throw k.data={actual:q,expected:I},k}return I}function Br(I){let q;for(let k in I)Object.prototype.hasOwnProperty.call(I,k)&&(_(I[k])||typeof I[k].signature=="string")&&(q=Nr(q,I[k].name));return q}function Tr(I,q){let k;for(k in q)if(Object.prototype.hasOwnProperty.call(q,k)){if(k in I&&q[k]!==I[k]){let Q=new Error('Signature "'+k+'" is defined twice');throw Q.data={signature:k,sourceFunction:q[k],destFunction:I[k]},Q}I[k]=q[k]}}let Ar=l;l=function(I){let q=typeof I=="string",k=q?1:0,Q=q?I:"",j={};for(let J=k;J<arguments.length;++J){let oe=arguments[J],ne={},ie;if(typeof oe=="function"?(ie=oe.name,typeof oe.signature=="string"?ne[oe.signature]=oe:_(oe)&&(ne=oe.signatures)):f(oe)&&(ne=oe,q||(ie=Br(oe))),Object.keys(ne).length===0){let re=new TypeError("Argument to 'typed' at index "+J+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw re.data={index:J,argument:oe},re}q||(Q=Nr(Q,ie)),Tr(j,ne)}return qe(Q||"",j)},l.create=n,l.createCount=Ar.createCount,l.onMismatch=ge,l.throwMismatchError=ge,l.createError=ee,l.clear=p,l.clearConversions=m,l.addTypes=y,l._findType=h,l.referTo=Ke,l.referToSelf=Dr,l.convert=C,l.findSignature=b,l.find=B,l.isTypedFunction=_,l.warnAgainstDeprecatedThis=!0,l.addType=function(I,q){let k="any";q!==!1&&u.has("Object")&&(k="Object"),l.addTypes([I],k)};function Hr(I){if(!I||typeof I.from!="string"||typeof I.to!="string"||typeof I.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(I.to===I.from)throw new SyntaxError('Illegal to define conversion from "'+I.from+'" to itself.')}return l.addConversion=function(I){Hr(I);let q=h(I.to);if(q.conversionsTo.every(function(k){return k.from!==I.from}))q.conversionsTo.push({from:I.from,convert:I.convert,index:s++});else throw new Error('There is already a conversion from "'+I.from+'" to "'+q.name+'"')},l.addConversions=function(I){I.forEach(l.addConversion)},l.removeConversion=function(I){Hr(I);let q=h(I.to),k=je(q.conversionsTo,j=>j.from===I.from);if(!k)throw new Error("Attempt to remove nonexistent conversion from "+I.from+" to "+I.to);if(k.convert!==I.convert)throw new Error("Conversion to remove does not match existing conversion");let Q=q.conversionsTo.indexOf(k);q.conversionsTo.splice(Q,1)},l.resolve=function(I,q){if(!_(I))throw new TypeError(a);let k=I._typedFunctionData.signatures;for(let Q=0;Q<k.length;++Q)if(k[Q].test(q))return k[Q];return null},l}var o=n();return o})});var Tu=Dt((Ga,Bu)=>{"use strict";(function(e){"use strict";var r=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},t=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},a=function(u){var i=Math.PI/4;if(-i>u||u>i)return Math.cos(u)-1;var s=u*u;return s*(s*(s*(s*(s*(s*(s*(s/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},n=function(u,i){var s=Math.abs(u),l=Math.abs(i);return s<3e3&&l<3e3?Math.sqrt(s*s+l*l):(s<l?(s=l,l=u/i):l=i/u,s*Math.sqrt(1+l*l))},o=function(){throw SyntaxError("Invalid Param")};function f(u,i){var s=Math.abs(u),l=Math.abs(i);return u===0?Math.log(l):i===0?Math.log(s):s<3e3&&l<3e3?Math.log(u*u+i*i)*.5:(u=u/2,i=i/2,.5*Math.log(u*u+i*i)+Math.LN2)}var d=function(u,i){var s={re:0,im:0};if(u==null)s.re=s.im=0;else if(i!==void 0)s.re=u,s.im=i;else switch(typeof u){case"object":if("im"in u&&"re"in u)s.re=u.re,s.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return c.INFINITY;s.re=u.abs*Math.cos(u.arg),s.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return c.INFINITY;s.re=u.r*Math.cos(u.phi),s.im=u.r*Math.sin(u.phi)}else u.length===2?(s.re=u[0],s.im=u[1]):o();break;case"string":s.im=s.re=0;var l=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),h=1,y=0;l===null&&o();for(var p=0;p<l.length;p++){var m=l[p];m===" "||m==="	"||m===`
`||(m==="+"?h++:m==="-"?y++:m==="i"||m==="I"?(h+y===0&&o(),l[p+1]!==" "&&!isNaN(l[p+1])?(s.im+=parseFloat((y%2?"-":"")+l[p+1]),p++):s.im+=parseFloat((y%2?"-":"")+"1"),h=y=0):((h+y===0||isNaN(m))&&o(),l[p+1]==="i"||l[p+1]==="I"?(s.im+=parseFloat((y%2?"-":"")+m),p++):s.re+=parseFloat((y%2?"-":"")+m),h=y=0))}h+y>0&&o();break;case"number":s.im=0,s.re=u;break;default:o()}return isNaN(s.re)||isNaN(s.im),s};function c(u,i){if(!(this instanceof c))return new c(u,i);var s=d(u,i);this.re=s.re,this.im=s.im}c.prototype={re:0,im:0,sign:function(){var u=this.abs();return new c(this.re/u,this.im/u)},add:function(u,i){var s=new c(u,i);return this.isInfinite()&&s.isInfinite()?c.NAN:this.isInfinite()||s.isInfinite()?c.INFINITY:new c(this.re+s.re,this.im+s.im)},sub:function(u,i){var s=new c(u,i);return this.isInfinite()&&s.isInfinite()?c.NAN:this.isInfinite()||s.isInfinite()?c.INFINITY:new c(this.re-s.re,this.im-s.im)},mul:function(u,i){var s=new c(u,i);return this.isInfinite()&&s.isZero()||this.isZero()&&s.isInfinite()?c.NAN:this.isInfinite()||s.isInfinite()?c.INFINITY:s.im===0&&this.im===0?new c(this.re*s.re,0):new c(this.re*s.re-this.im*s.im,this.re*s.im+this.im*s.re)},div:function(u,i){var s=new c(u,i);if(this.isZero()&&s.isZero()||this.isInfinite()&&s.isInfinite())return c.NAN;if(this.isInfinite()||s.isZero())return c.INFINITY;if(this.isZero()||s.isInfinite())return c.ZERO;u=this.re,i=this.im;var l=s.re,h=s.im,y,p;return h===0?new c(u/l,i/l):Math.abs(l)<Math.abs(h)?(p=l/h,y=l*p+h,new c((u*p+i)/y,(i*p-u)/y)):(p=h/l,y=h*p+l,new c((u+i*p)/y,(i-u*p)/y))},pow:function(u,i){var s=new c(u,i);if(u=this.re,i=this.im,s.isZero())return c.ONE;if(s.im===0){if(i===0&&u>0)return new c(Math.pow(u,s.re),0);if(u===0)switch((s.re%4+4)%4){case 0:return new c(Math.pow(i,s.re),0);case 1:return new c(0,Math.pow(i,s.re));case 2:return new c(-Math.pow(i,s.re),0);case 3:return new c(0,-Math.pow(i,s.re))}}if(u===0&&i===0&&s.re>0&&s.im>=0)return c.ZERO;var l=Math.atan2(i,u),h=f(u,i);return u=Math.exp(s.re*h-s.im*l),i=s.im*h+s.re*l,new c(u*Math.cos(i),u*Math.sin(i))},sqrt:function(){var u=this.re,i=this.im,s=this.abs(),l,h;if(u>=0){if(i===0)return new c(Math.sqrt(u),0);l=.5*Math.sqrt(2*(s+u))}else l=Math.abs(i)/Math.sqrt(2*(s-u));return u<=0?h=.5*Math.sqrt(2*(s-u)):h=Math.abs(i)/Math.sqrt(2*(s+u)),new c(l,i<0?-h:h)},exp:function(){var u=Math.exp(this.re);return this.im,new c(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,i=this.im;return new c(Math.expm1(u)*Math.cos(i)+a(i),Math.exp(u)*Math.sin(i))},log:function(){var u=this.re,i=this.im;return i===0&&u>0,new c(f(u,i),Math.atan2(i,u))},abs:function(){return n(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,i=this.im;return new c(Math.sin(u)*r(i),Math.cos(u)*t(i))},cos:function(){var u=this.re,i=this.im;return new c(Math.cos(u)*r(i),-Math.sin(u)*t(i))},tan:function(){var u=2*this.re,i=2*this.im,s=Math.cos(u)+r(i);return new c(Math.sin(u)/s,t(i)/s)},cot:function(){var u=2*this.re,i=2*this.im,s=Math.cos(u)-r(i);return new c(-Math.sin(u)/s,t(i)/s)},sec:function(){var u=this.re,i=this.im,s=.5*r(2*i)+.5*Math.cos(2*u);return new c(Math.cos(u)*r(i)/s,Math.sin(u)*t(i)/s)},csc:function(){var u=this.re,i=this.im,s=.5*r(2*i)-.5*Math.cos(2*u);return new c(Math.sin(u)*r(i)/s,-Math.cos(u)*t(i)/s)},asin:function(){var u=this.re,i=this.im,s=new c(i*i-u*u+1,-2*u*i).sqrt(),l=new c(s.re-i,s.im+u).log();return new c(l.im,-l.re)},acos:function(){var u=this.re,i=this.im,s=new c(i*i-u*u+1,-2*u*i).sqrt(),l=new c(s.re-i,s.im+u).log();return new c(Math.PI/2-l.im,l.re)},atan:function(){var u=this.re,i=this.im;if(u===0){if(i===1)return new c(0,1/0);if(i===-1)return new c(0,-1/0)}var s=u*u+(1-i)*(1-i),l=new c((1-i*i-u*u)/s,-2*u/s).log();return new c(-.5*l.im,.5*l.re)},acot:function(){var u=this.re,i=this.im;if(i===0)return new c(Math.atan2(1,u),0);var s=u*u+i*i;return s!==0?new c(u/s,-i/s).atan():new c(u!==0?u/0:0,i!==0?-i/0:0).atan()},asec:function(){var u=this.re,i=this.im;if(u===0&&i===0)return new c(0,1/0);var s=u*u+i*i;return s!==0?new c(u/s,-i/s).acos():new c(u!==0?u/0:0,i!==0?-i/0:0).acos()},acsc:function(){var u=this.re,i=this.im;if(u===0&&i===0)return new c(Math.PI/2,1/0);var s=u*u+i*i;return s!==0?new c(u/s,-i/s).asin():new c(u!==0?u/0:0,i!==0?-i/0:0).asin()},sinh:function(){var u=this.re,i=this.im;return new c(t(u)*Math.cos(i),r(u)*Math.sin(i))},cosh:function(){var u=this.re,i=this.im;return new c(r(u)*Math.cos(i),t(u)*Math.sin(i))},tanh:function(){var u=2*this.re,i=2*this.im,s=r(u)+Math.cos(i);return new c(t(u)/s,Math.sin(i)/s)},coth:function(){var u=2*this.re,i=2*this.im,s=r(u)-Math.cos(i);return new c(t(u)/s,-Math.sin(i)/s)},csch:function(){var u=this.re,i=this.im,s=Math.cos(2*i)-r(2*u);return new c(-2*t(u)*Math.cos(i)/s,2*r(u)*Math.sin(i)/s)},sech:function(){var u=this.re,i=this.im,s=Math.cos(2*i)+r(2*u);return new c(2*r(u)*Math.cos(i)/s,-2*t(u)*Math.sin(i)/s)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var i=this.asin();return this.re=-this.im,this.im=u,u=i.re,i.re=-i.im,i.im=u,i},acosh:function(){var u=this.acos();if(u.im<=0){var i=u.re;u.re=-u.im,u.im=i}else{var i=u.im;u.im=-u.re,u.re=i}return u},atanh:function(){var u=this.re,i=this.im,s=u>1&&i===0,l=1-u,h=1+u,y=l*l+i*i,p=y!==0?new c((h*l-i*i)/y,(i*l+h*i)/y):new c(u!==-1?u/0:0,i!==0?i/0:0),m=p.re;return p.re=f(p.re,p.im)/2,p.im=Math.atan2(p.im,m)/2,s&&(p.im=-p.im),p},acoth:function(){var u=this.re,i=this.im;if(u===0&&i===0)return new c(0,Math.PI/2);var s=u*u+i*i;return s!==0?new c(u/s,-i/s).atanh():new c(u!==0?u/0:0,i!==0?-i/0:0).atanh()},acsch:function(){var u=this.re,i=this.im;if(i===0)return new c(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var s=u*u+i*i;return s!==0?new c(u/s,-i/s).asinh():new c(u!==0?u/0:0,i!==0?-i/0:0).asinh()},asech:function(){var u=this.re,i=this.im;if(this.isZero())return c.INFINITY;var s=u*u+i*i;return s!==0?new c(u/s,-i/s).acosh():new c(u!==0?u/0:0,i!==0?-i/0:0).acosh()},inverse:function(){if(this.isZero())return c.INFINITY;if(this.isInfinite())return c.ZERO;var u=this.re,i=this.im,s=u*u+i*i;return new c(u/s,-i/s)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new c(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new c(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new c(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,i){var s=new c(u,i);return Math.abs(s.re-this.re)<=c.EPSILON&&Math.abs(s.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var u=this.re,i=this.im,s="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<c.EPSILON&&(u=0),Math.abs(i)<c.EPSILON&&(i=0),i===0?s+u:(u!==0?(s+=u,s+=" ",i<0?(i=-i,s+="-"):s+="+",s+=" "):i<0&&(i=-i,s+="-"),i!==1&&(s+=i),s+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.INFINITY=new c(1/0,1/0),c.NAN=new c(NaN,NaN),c.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return c}):typeof Ga=="object"?(Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Complex=c,Bu.exports=c):e.Complex=c})(Ga)});var zu=Dt((Ka,Iu)=>{"use strict";(function(e){"use strict";var r=2e3,t={s:1,n:0,d:1};function a(p,m){if(isNaN(p=parseInt(p,10)))throw h();return p*m}function n(p,m){if(m===0)throw l();var D=Object.create(s.prototype);D.s=p<0?-1:1,p=p<0?-p:p;var _=i(p,m);return D.n=p/_,D.d=m/_,D}function o(p){for(var m={},D=p,_=2,b=4;b<=D;){for(;D%_===0;)D/=_,m[_]=(m[_]||0)+1;b+=1+2*_++}return D!==p?D>1&&(m[D]=(m[D]||0)+1):m[p]=(m[p]||0)+1,m}var f=function(p,m){var D=0,_=1,b=1,B=0,C=0,x=0,M=1,N=1,F=0,T=1,z=1,P=1,K=1e7,W;if(p!=null)if(m!==void 0){if(D=p,_=m,b=D*_,D%1!==0||_%1!==0)throw y()}else switch(typeof p){case"object":{if("d"in p&&"n"in p)D=p.n,_=p.d,"s"in p&&(D*=p.s);else if(0 in p)D=p[0],1 in p&&(_=p[1]);else throw h();b=D*_;break}case"number":{if(p<0&&(b=p,p=-p),p%1===0)D=p;else if(p>0){for(p>=1&&(N=Math.pow(10,Math.floor(1+Math.log(p)/Math.LN10)),p/=N);T<=K&&P<=K;)if(W=(F+z)/(T+P),p===W){T+P<=K?(D=F+z,_=T+P):P>T?(D=z,_=P):(D=F,_=T);break}else p>W?(F+=z,T+=P):(z+=F,P+=T),T>K?(D=z,_=P):(D=F,_=T);D*=N}else(isNaN(p)||isNaN(m))&&(_=D=NaN);break}case"string":{if(T=p.match(/\d+|./g),T===null)throw h();if(T[F]==="-"?(b=-1,F++):T[F]==="+"&&F++,T.length===F+1?C=a(T[F++],b):T[F+1]==="."||T[F]==="."?(T[F]!=="."&&(B=a(T[F++],b)),F++,(F+1===T.length||T[F+1]==="("&&T[F+3]===")"||T[F+1]==="'"&&T[F+3]==="'")&&(C=a(T[F],b),M=Math.pow(10,T[F].length),F++),(T[F]==="("&&T[F+2]===")"||T[F]==="'"&&T[F+2]==="'")&&(x=a(T[F+1],b),N=Math.pow(10,T[F+1].length)-1,F+=3)):T[F+1]==="/"||T[F+1]===":"?(C=a(T[F],b),M=a(T[F+2],1),F+=3):T[F+3]==="/"&&T[F+1]===" "&&(B=a(T[F],b),C=a(T[F+2],b),M=a(T[F+4],1),F+=5),T.length<=F){_=M*N,b=D=x+_*B+N*C;break}}default:throw h()}if(_===0)throw l();t.s=b<0?-1:1,t.n=Math.abs(D),t.d=Math.abs(_)};function d(p,m,D){for(var _=1;m>0;p=p*p%D,m>>=1)m&1&&(_=_*p%D);return _}function c(p,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var D=10%m,_=1;D!==1;_++)if(D=D*10%m,_>r)return 0;return _}function u(p,m,D){for(var _=1,b=d(10,D,m),B=0;B<300;B++){if(_===b)return B;_=_*10%m,b=b*10%m}return 0}function i(p,m){if(!p)return m;if(!m)return p;for(;;){if(p%=m,!p)return m;if(m%=p,!m)return p}}function s(p,m){if(f(p,m),this instanceof s)p=i(t.d,t.n),this.s=t.s,this.n=t.n/p,this.d=t.d/p;else return n(t.s*t.n,t.d)}var l=function(){return new Error("Division by Zero")},h=function(){return new Error("Invalid argument")},y=function(){return new Error("Parameters must be integer")};s.prototype={s:1,n:0,d:1,abs:function(){return n(this.n,this.d)},neg:function(){return n(-this.s*this.n,this.d)},add:function(p,m){return f(p,m),n(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(p,m){return f(p,m),n(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(p,m){return f(p,m),n(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(p,m){return f(p,m),n(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return n(this.s*this.n,this.d)},mod:function(p,m){if(isNaN(this.n)||isNaN(this.d))return new s(NaN);if(p===void 0)return n(this.s*this.n%this.d,1);if(f(p,m),t.n===0&&this.d===0)throw l();return n(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(p,m){return f(p,m),n(i(t.n,this.n)*i(t.d,this.d),t.d*this.d)},lcm:function(p,m){return f(p,m),t.n===0&&this.n===0?n(0,1):n(t.n*this.n,i(t.n,this.n)*i(t.d,this.d))},ceil:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):n(Math.ceil(p*this.s*this.n/this.d),p)},floor:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):n(Math.floor(p*this.s*this.n/this.d),p)},round:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):n(Math.round(p*this.s*this.n/this.d),p)},inverse:function(){return n(this.s*this.d,this.n)},pow:function(p,m){if(f(p,m),t.d===1)return t.s<0?n(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):n(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var D=o(this.n),_=o(this.d),b=1,B=1;for(var C in D)if(C!=="1"){if(C==="0"){b=0;break}if(D[C]*=t.n,D[C]%t.d===0)D[C]/=t.d;else return null;b*=Math.pow(C,D[C])}for(var C in _)if(C!=="1"){if(_[C]*=t.n,_[C]%t.d===0)_[C]/=t.d;else return null;B*=Math.pow(C,_[C])}return t.s<0?n(B,b):n(b,B)},equals:function(p,m){return f(p,m),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(p,m){f(p,m);var D=this.s*this.n*t.d-t.s*t.n*this.d;return(0<D)-(D<0)},simplify:function(p){if(isNaN(this.n)||isNaN(this.d))return this;p=p||.001;for(var m=this.abs(),D=m.toContinued(),_=1;_<D.length;_++){for(var b=n(D[_-1],1),B=_-2;B>=0;B--)b=b.inverse().add(D[B]);if(Math.abs(b.sub(m).valueOf())<p)return b.mul(this.s)}return this},divisible:function(p,m){return f(p,m),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(p){var m,D="",_=this.n,b=this.d;return this.s<0&&(D+="-"),b===1?D+=_:(p&&(m=Math.floor(_/b))>0&&(D+=m,D+=" ",_%=b),D+=_,D+="/",D+=b),D},toLatex:function(p){var m,D="",_=this.n,b=this.d;return this.s<0&&(D+="-"),b===1?D+=_:(p&&(m=Math.floor(_/b))>0&&(D+=m,_%=b),D+="\\frac{",D+=_,D+="}{",D+=b,D+="}"),D},toContinued:function(){var p,m=this.n,D=this.d,_=[];if(isNaN(m)||isNaN(D))return _;do _.push(Math.floor(m/D)),p=m%D,m=D,D=p;while(m!==1);return _},toString:function(p){var m=this.n,D=this.d;if(isNaN(m)||isNaN(D))return"NaN";p=p||15;var _=c(m,D),b=u(m,D,_),B=this.s<0?"-":"";if(B+=m/D|0,m%=D,m*=10,m&&(B+="."),_){for(var C=b;C--;)B+=m/D|0,m%=D,m*=10;B+="(";for(var C=_;C--;)B+=m/D|0,m%=D,m*=10;B+=")"}else for(var C=p;m&&C--;)B+=m/D|0,m%=D,m*=10;return B}},typeof Ka=="object"?(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Fraction=s,Iu.exports=s):e.Fraction=s})(Ka)});var Us=Dt((qs,ni)=>{"use strict";(function(e){if(typeof qs=="object"&&typeof ni<"u")ni.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=e()}})(function(){var e,r,t;return function a(n,o,f){function d(i,s){if(!o[i]){if(!n[i]){var l=typeof zr=="function"&&zr;if(!s&&l)return l(i,!0);if(c)return c(i,!0);var h=new Error("Cannot find module '"+i+"'");throw h.code="MODULE_NOT_FOUND",h}var y=o[i]={exports:{}};n[i][0].call(y.exports,function(p){var m=n[i][1][p];return d(m||p)},y,y.exports,a,n,o,f)}return o[i].exports}for(var c=typeof zr=="function"&&zr,u=0;u<f.length;u++)d(f[u]);return d}({1:[function(a,n,o){(function(f){"use strict";var d=f.MutationObserver||f.WebKitMutationObserver,c;if(d){var u=0,i=new d(p),s=f.document.createTextNode("");i.observe(s,{characterData:!0}),c=function(){s.data=u=++u%2}}else if(!f.setImmediate&&typeof f.MessageChannel<"u"){var l=new f.MessageChannel;l.port1.onmessage=p,c=function(){l.port2.postMessage(0)}}else"document"in f&&"onreadystatechange"in f.document.createElement("script")?c=function(){var D=f.document.createElement("script");D.onreadystatechange=function(){p(),D.onreadystatechange=null,D.parentNode.removeChild(D),D=null},f.document.documentElement.appendChild(D)}:c=function(){setTimeout(p,0)};var h,y=[];function p(){h=!0;for(var D,_,b=y.length;b;){for(_=y,y=[],D=-1;++D<b;)_[D]();b=y.length}h=!1}n.exports=m;function m(D){y.push(D)===1&&!h&&c()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,n,o){"use strict";var f=a(1);function d(){}var c={},u=["REJECTED"],i=["FULFILLED"],s=["PENDING"];n.exports=l;function l(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,x!==d&&m(this,x)}l.prototype.catch=function(x){return this.then(null,x)},l.prototype.then=function(x,M){if(typeof x!="function"&&this.state===i||typeof M!="function"&&this.state===u)return this;var N=new this.constructor(d);if(this.state!==s){var F=this.state===i?x:M;y(N,F,this.outcome)}else this.queue.push(new h(N,x,M));return N};function h(x,M,N){this.promise=x,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(x){c.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){y(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){c.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){y(this.promise,this.onRejected,x)};function y(x,M,N){f(function(){var F;try{F=M(N)}catch(T){return c.reject(x,T)}F===x?c.reject(x,new TypeError("Cannot resolve promise with itself")):c.resolve(x,F)})}c.resolve=function(x,M){var N=D(p,M);if(N.status==="error")return c.reject(x,N.value);var F=N.value;if(F)m(x,F);else{x.state=i,x.outcome=M;for(var T=-1,z=x.queue.length;++T<z;)x.queue[T].callFulfilled(M)}return x},c.reject=function(x,M){x.state=u,x.outcome=M;for(var N=-1,F=x.queue.length;++N<F;)x.queue[N].callRejected(M);return x};function p(x){var M=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof M=="function")return function(){M.apply(x,arguments)}}function m(x,M){var N=!1;function F(K){N||(N=!0,c.reject(x,K))}function T(K){N||(N=!0,c.resolve(x,K))}function z(){M(T,F)}var P=D(z);P.status==="error"&&F(P.value)}function D(x,M){var N={};try{N.value=x(M),N.status="success"}catch(F){N.status="error",N.value=F}return N}l.resolve=_;function _(x){return x instanceof this?x:c.resolve(new this(d),x)}l.reject=b;function b(x){var M=new this(d);return c.reject(M,x)}l.all=B;function B(x){var M=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=x.length,F=!1;if(!N)return this.resolve([]);for(var T=new Array(N),z=0,P=-1,K=new this(d);++P<N;)W(x[P],P);return K;function W(X,V){M.resolve(X).then(ae,function(ee){F||(F=!0,c.reject(K,ee))});function ae(ee){T[V]=ee,++z===N&&!F&&(F=!0,c.resolve(K,T))}}}l.race=C;function C(x){var M=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=x.length,F=!1;if(!N)return this.resolve([]);for(var T=-1,z=new this(d);++T<N;)P(x[T]);return z;function P(K){M.resolve(K).then(function(W){F||(F=!0,c.resolve(z,W))},function(W){F||(F=!0,c.reject(z,W))})}}},{1:1}],3:[function(a,n,o){(function(f){"use strict";typeof f.Promise!="function"&&(f.Promise=a(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(a,n,o){"use strict";var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};function d(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=c();function i(){try{if(!u||!u.open)return!1;var v=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),w=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!v||w)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function s(v,w){v=v||[],w=w||{};try{return new Blob(v,w)}catch(E){if(E.name!=="TypeError")throw E;for(var g=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,A=new g,S=0;S<v.length;S+=1)A.append(v[S]);return A.getBlob(w.type)}}typeof Promise>"u"&&a(3);var l=Promise;function h(v,w){w&&v.then(function(g){w(null,g)},function(g){w(g)})}function y(v,w,g){typeof w=="function"&&v.then(w),typeof g=="function"&&v.catch(g)}function p(v){return typeof v!="string"&&(console.warn(v+" used as a key, but it is not a string."),v=String(v)),v}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var D="local-forage-detect-blob-support",_=void 0,b={},B=Object.prototype.toString,C="readonly",x="readwrite";function M(v){for(var w=v.length,g=new ArrayBuffer(w),A=new Uint8Array(g),S=0;S<w;S++)A[S]=v.charCodeAt(S);return g}function N(v){return new l(function(w){var g=v.transaction(D,x),A=s([""]);g.objectStore(D).put(A,"key"),g.onabort=function(S){S.preventDefault(),S.stopPropagation(),w(!1)},g.oncomplete=function(){var S=navigator.userAgent.match(/Chrome\/(\d+)/),E=navigator.userAgent.match(/Edge\//);w(E||!S||parseInt(S[1],10)>=43)}}).catch(function(){return!1})}function F(v){return typeof _=="boolean"?l.resolve(_):N(v).then(function(w){return _=w,_})}function T(v){var w=b[v.name],g={};g.promise=new l(function(A,S){g.resolve=A,g.reject=S}),w.deferredOperations.push(g),w.dbReady?w.dbReady=w.dbReady.then(function(){return g.promise}):w.dbReady=g.promise}function z(v){var w=b[v.name],g=w.deferredOperations.pop();if(g)return g.resolve(),g.promise}function P(v,w){var g=b[v.name],A=g.deferredOperations.pop();if(A)return A.reject(w),A.promise}function K(v,w){return new l(function(g,A){if(b[v.name]=b[v.name]||de(),v.db)if(w)T(v),v.db.close();else return g(v.db);var S=[v.name];w&&S.push(v.version);var E=u.open.apply(u,S);w&&(E.onupgradeneeded=function(R){var O=E.result;try{O.createObjectStore(v.storeName),R.oldVersion<=1&&O.createObjectStore(D)}catch(L){if(L.name==="ConstraintError")console.warn('The database "'+v.name+'" has been upgraded from version '+R.oldVersion+" to version "+R.newVersion+', but the storage "'+v.storeName+'" already exists.');else throw L}}),E.onerror=function(R){R.preventDefault(),A(E.error)},E.onsuccess=function(){var R=E.result;R.onversionchange=function(O){O.target.close()},g(R),z(v)}})}function W(v){return K(v,!1)}function X(v){return K(v,!0)}function V(v,w){if(!v.db)return!0;var g=!v.db.objectStoreNames.contains(v.storeName),A=v.version<v.db.version,S=v.version>v.db.version;if(A&&(v.version!==w&&console.warn('The database "'+v.name+`" can't be downgraded from version `+v.db.version+" to version "+v.version+"."),v.version=v.db.version),S||g){if(g){var E=v.db.version+1;E>v.version&&(v.version=E)}return!0}return!1}function ae(v){return new l(function(w,g){var A=new FileReader;A.onerror=g,A.onloadend=function(S){var E=btoa(S.target.result||"");w({__local_forage_encoded_blob:!0,data:E,type:v.type})},A.readAsBinaryString(v)})}function ee(v){var w=M(atob(v.data));return s([w],{type:v.type})}function Y(v){return v&&v.__local_forage_encoded_blob}function te(v){var w=this,g=w._initReady().then(function(){var A=b[w._dbInfo.name];if(A&&A.dbReady)return A.dbReady});return y(g,v,v),g}function se(v){T(v);for(var w=b[v.name],g=w.forages,A=0;A<g.length;A++){var S=g[A];S._dbInfo.db&&(S._dbInfo.db.close(),S._dbInfo.db=null)}return v.db=null,W(v).then(function(E){return v.db=E,V(v)?X(v):E}).then(function(E){v.db=w.db=E;for(var R=0;R<g.length;R++)g[R]._dbInfo.db=E}).catch(function(E){throw P(v,E),E})}function fe(v,w,g,A){A===void 0&&(A=1);try{var S=v.db.transaction(v.storeName,w);g(null,S)}catch(E){if(A>0&&(!v.db||E.name==="InvalidStateError"||E.name==="NotFoundError"))return l.resolve().then(function(){if(!v.db||E.name==="NotFoundError"&&!v.db.objectStoreNames.contains(v.storeName)&&v.version<=v.db.version)return v.db&&(v.version=v.db.version+1),X(v)}).then(function(){return se(v).then(function(){fe(v,w,g,A-1)})}).catch(g);g(E)}}function de(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ce(v){var w=this,g={db:null};if(v)for(var A in v)g[A]=v[A];var S=b[g.name];S||(S=de(),b[g.name]=S),S.forages.push(w),w._initReady||(w._initReady=w.ready,w.ready=te);var E=[];function R(){return l.resolve()}for(var O=0;O<S.forages.length;O++){var L=S.forages[O];L!==w&&E.push(L._initReady().catch(R))}var U=S.forages.slice(0);return l.all(E).then(function(){return g.db=S.db,W(g)}).then(function(Z){return g.db=Z,V(g,w._defaultConfig.version)?X(g):Z}).then(function(Z){g.db=S.db=Z,w._dbInfo=g;for(var H=0;H<U.length;H++){var ue=U[H];ue!==w&&(ue._dbInfo.db=g.db,ue._dbInfo.version=g.version)}})}function Re(v,w){var g=this;v=p(v);var A=new l(function(S,E){g.ready().then(function(){fe(g._dbInfo,C,function(R,O){if(R)return E(R);try{var L=O.objectStore(g._dbInfo.storeName),U=L.get(v);U.onsuccess=function(){var Z=U.result;Z===void 0&&(Z=null),Y(Z)&&(Z=ee(Z)),S(Z)},U.onerror=function(){E(U.error)}}catch(Z){E(Z)}})}).catch(E)});return h(A,w),A}function we(v,w){var g=this,A=new l(function(S,E){g.ready().then(function(){fe(g._dbInfo,C,function(R,O){if(R)return E(R);try{var L=O.objectStore(g._dbInfo.storeName),U=L.openCursor(),Z=1;U.onsuccess=function(){var H=U.result;if(H){var ue=H.value;Y(ue)&&(ue=ee(ue));var le=v(ue,H.key,Z++);le!==void 0?S(le):H.continue()}else S()},U.onerror=function(){E(U.error)}}catch(H){E(H)}})}).catch(E)});return h(A,w),A}function xe(v,w,g){var A=this;v=p(v);var S=new l(function(E,R){var O;A.ready().then(function(){return O=A._dbInfo,B.call(w)==="[object Blob]"?F(O.db).then(function(L){return L?w:ae(w)}):w}).then(function(L){fe(A._dbInfo,x,function(U,Z){if(U)return R(U);try{var H=Z.objectStore(A._dbInfo.storeName);L===null&&(L=void 0);var ue=H.put(L,v);Z.oncomplete=function(){L===void 0&&(L=null),E(L)},Z.onabort=Z.onerror=function(){var le=ue.error?ue.error:ue.transaction.error;R(le)}}catch(le){R(le)}})}).catch(R)});return h(S,g),S}function Me(v,w){var g=this;v=p(v);var A=new l(function(S,E){g.ready().then(function(){fe(g._dbInfo,x,function(R,O){if(R)return E(R);try{var L=O.objectStore(g._dbInfo.storeName),U=L.delete(v);O.oncomplete=function(){S()},O.onerror=function(){E(U.error)},O.onabort=function(){var Z=U.error?U.error:U.transaction.error;E(Z)}}catch(Z){E(Z)}})}).catch(E)});return h(A,w),A}function Ae(v){var w=this,g=new l(function(A,S){w.ready().then(function(){fe(w._dbInfo,x,function(E,R){if(E)return S(E);try{var O=R.objectStore(w._dbInfo.storeName),L=O.clear();R.oncomplete=function(){A()},R.onabort=R.onerror=function(){var U=L.error?L.error:L.transaction.error;S(U)}}catch(U){S(U)}})}).catch(S)});return h(g,v),g}function he(v){var w=this,g=new l(function(A,S){w.ready().then(function(){fe(w._dbInfo,C,function(E,R){if(E)return S(E);try{var O=R.objectStore(w._dbInfo.storeName),L=O.count();L.onsuccess=function(){A(L.result)},L.onerror=function(){S(L.error)}}catch(U){S(U)}})}).catch(S)});return h(g,v),g}function Xe(v,w){var g=this,A=new l(function(S,E){if(v<0){S(null);return}g.ready().then(function(){fe(g._dbInfo,C,function(R,O){if(R)return E(R);try{var L=O.objectStore(g._dbInfo.storeName),U=!1,Z=L.openKeyCursor();Z.onsuccess=function(){var H=Z.result;if(!H){S(null);return}v===0||U?S(H.key):(U=!0,H.advance(v))},Z.onerror=function(){E(Z.error)}}catch(H){E(H)}})}).catch(E)});return h(A,w),A}function qe(v){var w=this,g=new l(function(A,S){w.ready().then(function(){fe(w._dbInfo,C,function(E,R){if(E)return S(E);try{var O=R.objectStore(w._dbInfo.storeName),L=O.openKeyCursor(),U=[];L.onsuccess=function(){var Z=L.result;if(!Z){A(U);return}U.push(Z.key),Z.continue()},L.onerror=function(){S(L.error)}}catch(Z){S(Z)}})}).catch(S)});return h(g,v),g}function ge(v,w){w=m.apply(this,arguments);var g=this.config();v=typeof v!="function"&&v||{},v.name||(v.name=v.name||g.name,v.storeName=v.storeName||g.storeName);var A=this,S;if(!v.name)S=l.reject("Invalid arguments");else{var E=v.name===g.name&&A._dbInfo.db,R=E?l.resolve(A._dbInfo.db):W(v).then(function(O){var L=b[v.name],U=L.forages;L.db=O;for(var Z=0;Z<U.length;Z++)U[Z]._dbInfo.db=O;return O});v.storeName?S=R.then(function(O){if(O.objectStoreNames.contains(v.storeName)){var L=O.version+1;T(v);var U=b[v.name],Z=U.forages;O.close();for(var H=0;H<Z.length;H++){var ue=Z[H];ue._dbInfo.db=null,ue._dbInfo.version=L}var le=new l(function(pe,_e){var ye=u.open(v.name,L);ye.onerror=function(He){var Cr=ye.result;Cr.close(),_e(He)},ye.onupgradeneeded=function(){var He=ye.result;He.deleteObjectStore(v.storeName)},ye.onsuccess=function(){var He=ye.result;He.close(),pe(He)}});return le.then(function(pe){U.db=pe;for(var _e=0;_e<Z.length;_e++){var ye=Z[_e];ye._dbInfo.db=pe,z(ye._dbInfo)}}).catch(function(pe){throw(P(v,pe)||l.resolve()).catch(function(){}),pe})}}):S=R.then(function(O){T(v);var L=b[v.name],U=L.forages;O.close();for(var Z=0;Z<U.length;Z++){var H=U[Z];H._dbInfo.db=null}var ue=new l(function(le,pe){var _e=u.deleteDatabase(v.name);_e.onerror=function(){var ye=_e.result;ye&&ye.close(),pe(_e.error)},_e.onblocked=function(){console.warn('dropInstance blocked for database "'+v.name+'" until all open connections are closed')},_e.onsuccess=function(){var ye=_e.result;ye&&ye.close(),le(ye)}});return ue.then(function(le){L.db=le;for(var pe=0;pe<U.length;pe++){var _e=U[pe];z(_e._dbInfo)}}).catch(function(le){throw(P(v,le)||l.resolve()).catch(function(){}),le})})}return h(S,w),S}var Te={_driver:"asyncStorage",_initStorage:ce,_support:i(),iterate:we,getItem:Re,setItem:xe,removeItem:Me,clear:Ae,length:he,key:Xe,keys:qe,dropInstance:ge};function Ye(){return typeof openDatabase=="function"}var Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",je="~~local_forage_type~",Ce=/^~~local_forage_type~([^~]+)~/,Ke="__lfsc__:",$e=Ke.length,Dr="arbf",xr="blob",Er="si08",Nr="ui08",Br="uic8",Tr="si16",Ar="si32",Hr="ur16",I="ui32",q="fl32",k="fl64",Q=$e+Dr.length,j=Object.prototype.toString;function J(v){var w=v.length*.75,g=v.length,A,S=0,E,R,O,L;v[v.length-1]==="="&&(w--,v[v.length-2]==="="&&w--);var U=new ArrayBuffer(w),Z=new Uint8Array(U);for(A=0;A<g;A+=4)E=Oe.indexOf(v[A]),R=Oe.indexOf(v[A+1]),O=Oe.indexOf(v[A+2]),L=Oe.indexOf(v[A+3]),Z[S++]=E<<2|R>>4,Z[S++]=(R&15)<<4|O>>2,Z[S++]=(O&3)<<6|L&63;return U}function oe(v){var w=new Uint8Array(v),g="",A;for(A=0;A<w.length;A+=3)g+=Oe[w[A]>>2],g+=Oe[(w[A]&3)<<4|w[A+1]>>4],g+=Oe[(w[A+1]&15)<<2|w[A+2]>>6],g+=Oe[w[A+2]&63];return w.length%3===2?g=g.substring(0,g.length-1)+"=":w.length%3===1&&(g=g.substring(0,g.length-2)+"=="),g}function ne(v,w){var g="";if(v&&(g=j.call(v)),v&&(g==="[object ArrayBuffer]"||v.buffer&&j.call(v.buffer)==="[object ArrayBuffer]")){var A,S=Ke;v instanceof ArrayBuffer?(A=v,S+=Dr):(A=v.buffer,g==="[object Int8Array]"?S+=Er:g==="[object Uint8Array]"?S+=Nr:g==="[object Uint8ClampedArray]"?S+=Br:g==="[object Int16Array]"?S+=Tr:g==="[object Uint16Array]"?S+=Hr:g==="[object Int32Array]"?S+=Ar:g==="[object Uint32Array]"?S+=I:g==="[object Float32Array]"?S+=q:g==="[object Float64Array]"?S+=k:w(new Error("Failed to get type for BinaryArray"))),w(S+oe(A))}else if(g==="[object Blob]"){var E=new FileReader;E.onload=function(){var R=je+v.type+"~"+oe(this.result);w(Ke+xr+R)},E.readAsArrayBuffer(v)}else try{w(JSON.stringify(v))}catch(R){console.error("Couldn't convert value into a JSON string: ",v),w(null,R)}}function ie(v){if(v.substring(0,$e)!==Ke)return JSON.parse(v);var w=v.substring(Q),g=v.substring($e,Q),A;if(g===xr&&Ce.test(w)){var S=w.match(Ce);A=S[1],w=w.substring(S[0].length)}var E=J(w);switch(g){case Dr:return E;case xr:return s([E],{type:A});case Er:return new Int8Array(E);case Nr:return new Uint8Array(E);case Br:return new Uint8ClampedArray(E);case Tr:return new Int16Array(E);case Hr:return new Uint16Array(E);case Ar:return new Int32Array(E);case I:return new Uint32Array(E);case q:return new Float32Array(E);case k:return new Float64Array(E);default:throw new Error("Unkown type: "+g)}}var re={serialize:ne,deserialize:ie,stringToBuffer:J,bufferToString:oe};function Pe(v,w,g,A){v.executeSql("CREATE TABLE IF NOT EXISTS "+w.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],g,A)}function Ze(v){var w=this,g={db:null};if(v)for(var A in v)g[A]=typeof v[A]!="string"?v[A].toString():v[A];var S=new l(function(E,R){try{g.db=openDatabase(g.name,String(g.version),g.description,g.size)}catch(O){return R(O)}g.db.transaction(function(O){Pe(O,g,function(){w._dbInfo=g,E()},function(L,U){R(U)})},R)});return g.serializer=re,S}function Ne(v,w,g,A,S,E){v.executeSql(g,A,S,function(R,O){O.code===O.SYNTAX_ERR?R.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[w.storeName],function(L,U){U.rows.length?E(L,O):Pe(L,w,function(){L.executeSql(g,A,S,E)},E)},E):E(R,O)},E)}function tr(v,w){var g=this;v=p(v);var A=new l(function(S,E){g.ready().then(function(){var R=g._dbInfo;R.db.transaction(function(O){Ne(O,R,"SELECT * FROM "+R.storeName+" WHERE key = ? LIMIT 1",[v],function(L,U){var Z=U.rows.length?U.rows.item(0).value:null;Z&&(Z=R.serializer.deserialize(Z)),S(Z)},function(L,U){E(U)})})}).catch(E)});return h(A,w),A}function er(v,w){var g=this,A=new l(function(S,E){g.ready().then(function(){var R=g._dbInfo;R.db.transaction(function(O){Ne(O,R,"SELECT * FROM "+R.storeName,[],function(L,U){for(var Z=U.rows,H=Z.length,ue=0;ue<H;ue++){var le=Z.item(ue),pe=le.value;if(pe&&(pe=R.serializer.deserialize(pe)),pe=v(pe,le.key,ue+1),pe!==void 0){S(pe);return}}S()},function(L,U){E(U)})})}).catch(E)});return h(A,w),A}function or(v,w,g,A){var S=this;v=p(v);var E=new l(function(R,O){S.ready().then(function(){w===void 0&&(w=null);var L=w,U=S._dbInfo;U.serializer.serialize(w,function(Z,H){H?O(H):U.db.transaction(function(ue){Ne(ue,U,"INSERT OR REPLACE INTO "+U.storeName+" (key, value) VALUES (?, ?)",[v,Z],function(){R(L)},function(le,pe){O(pe)})},function(ue){if(ue.code===ue.QUOTA_ERR){if(A>0){R(or.apply(S,[v,L,g,A-1]));return}O(ue)}})})}).catch(O)});return h(E,g),E}function fr(v,w,g){return or.apply(this,[v,w,g,1])}function Ir(v,w){var g=this;v=p(v);var A=new l(function(S,E){g.ready().then(function(){var R=g._dbInfo;R.db.transaction(function(O){Ne(O,R,"DELETE FROM "+R.storeName+" WHERE key = ?",[v],function(){S()},function(L,U){E(U)})})}).catch(E)});return h(A,w),A}function Qr(v){var w=this,g=new l(function(A,S){w.ready().then(function(){var E=w._dbInfo;E.db.transaction(function(R){Ne(R,E,"DELETE FROM "+E.storeName,[],function(){A()},function(O,L){S(L)})})}).catch(S)});return h(g,v),g}function qt(v){var w=this,g=new l(function(A,S){w.ready().then(function(){var E=w._dbInfo;E.db.transaction(function(R){Ne(R,E,"SELECT COUNT(key) as c FROM "+E.storeName,[],function(O,L){var U=L.rows.item(0).c;A(U)},function(O,L){S(L)})})}).catch(S)});return h(g,v),g}function Ut(v,w){var g=this,A=new l(function(S,E){g.ready().then(function(){var R=g._dbInfo;R.db.transaction(function(O){Ne(O,R,"SELECT key FROM "+R.storeName+" WHERE id = ? LIMIT 1",[v+1],function(L,U){var Z=U.rows.length?U.rows.item(0).key:null;S(Z)},function(L,U){E(U)})})}).catch(E)});return h(A,w),A}function Vt(v){var w=this,g=new l(function(A,S){w.ready().then(function(){var E=w._dbInfo;E.db.transaction(function(R){Ne(R,E,"SELECT key FROM "+E.storeName,[],function(O,L){for(var U=[],Z=0;Z<L.rows.length;Z++)U.push(L.rows.item(Z).key);A(U)},function(O,L){S(L)})})}).catch(S)});return h(g,v),g}function Zt(v){return new l(function(w,g){v.transaction(function(A){A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(S,E){for(var R=[],O=0;O<E.rows.length;O++)R.push(E.rows.item(O).name);w({db:v,storeNames:R})},function(S,E){g(E)})},function(A){g(A)})})}function Yt(v,w){w=m.apply(this,arguments);var g=this.config();v=typeof v!="function"&&v||{},v.name||(v.name=v.name||g.name,v.storeName=v.storeName||g.storeName);var A=this,S;return v.name?S=new l(function(E){var R;v.name===g.name?R=A._dbInfo.db:R=openDatabase(v.name,"","",0),v.storeName?E({db:R,storeNames:[v.storeName]}):E(Zt(R))}).then(function(E){return new l(function(R,O){E.db.transaction(function(L){function U(le){return new l(function(pe,_e){L.executeSql("DROP TABLE IF EXISTS "+le,[],function(){pe()},function(ye,He){_e(He)})})}for(var Z=[],H=0,ue=E.storeNames.length;H<ue;H++)Z.push(U(E.storeNames[H]));l.all(Z).then(function(){R()}).catch(function(le){O(le)})},function(L){O(L)})})}):S=l.reject("Invalid arguments"),h(S,w),S}var Wt={_driver:"webSQLStorage",_initStorage:Ze,_support:Ye(),iterate:er,getItem:tr,setItem:fr,removeItem:Ir,clear:Qr,length:qt,key:Ut,keys:Vt,dropInstance:Yt};function kt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function st(v,w){var g=v.name+"/";return v.storeName!==w.storeName&&(g+=v.storeName+"/"),g}function Gt(){var v="_localforage_support_test";try{return localStorage.setItem(v,!0),localStorage.removeItem(v),!1}catch{return!0}}function Xt(){return!Gt()||localStorage.length>0}function Kt(v){var w=this,g={};if(v)for(var A in v)g[A]=v[A];return g.keyPrefix=st(v,w._defaultConfig),Xt()?(w._dbInfo=g,g.serializer=re,l.resolve()):l.reject()}function Ht(v){var w=this,g=w.ready().then(function(){for(var A=w._dbInfo.keyPrefix,S=localStorage.length-1;S>=0;S--){var E=localStorage.key(S);E.indexOf(A)===0&&localStorage.removeItem(E)}});return h(g,v),g}function Qt(v,w){var g=this;v=p(v);var A=g.ready().then(function(){var S=g._dbInfo,E=localStorage.getItem(S.keyPrefix+v);return E&&(E=S.serializer.deserialize(E)),E});return h(A,w),A}function Jt(v,w){var g=this,A=g.ready().then(function(){for(var S=g._dbInfo,E=S.keyPrefix,R=E.length,O=localStorage.length,L=1,U=0;U<O;U++){var Z=localStorage.key(U);if(Z.indexOf(E)===0){var H=localStorage.getItem(Z);if(H&&(H=S.serializer.deserialize(H)),H=v(H,Z.substring(R),L++),H!==void 0)return H}}});return h(A,w),A}function $t(v,w){var g=this,A=g.ready().then(function(){var S=g._dbInfo,E;try{E=localStorage.key(v)}catch{E=null}return E&&(E=E.substring(S.keyPrefix.length)),E});return h(A,w),A}function jt(v){var w=this,g=w.ready().then(function(){for(var A=w._dbInfo,S=localStorage.length,E=[],R=0;R<S;R++){var O=localStorage.key(R);O.indexOf(A.keyPrefix)===0&&E.push(O.substring(A.keyPrefix.length))}return E});return h(g,v),g}function en(v){var w=this,g=w.keys().then(function(A){return A.length});return h(g,v),g}function rn(v,w){var g=this;v=p(v);var A=g.ready().then(function(){var S=g._dbInfo;localStorage.removeItem(S.keyPrefix+v)});return h(A,w),A}function tn(v,w,g){var A=this;v=p(v);var S=A.ready().then(function(){w===void 0&&(w=null);var E=w;return new l(function(R,O){var L=A._dbInfo;L.serializer.serialize(w,function(U,Z){if(Z)O(Z);else try{localStorage.setItem(L.keyPrefix+v,U),R(E)}catch(H){(H.name==="QuotaExceededError"||H.name==="NS_ERROR_DOM_QUOTA_REACHED")&&O(H),O(H)}})})});return h(S,g),S}function nn(v,w){if(w=m.apply(this,arguments),v=typeof v!="function"&&v||{},!v.name){var g=this.config();v.name=v.name||g.name,v.storeName=v.storeName||g.storeName}var A=this,S;return v.name?S=new l(function(E){v.storeName?E(st(v,A._defaultConfig)):E(v.name+"/")}).then(function(E){for(var R=localStorage.length-1;R>=0;R--){var O=localStorage.key(R);O.indexOf(E)===0&&localStorage.removeItem(O)}}):S=l.reject("Invalid arguments"),h(S,w),S}var an={_driver:"localStorageWrapper",_initStorage:Kt,_support:kt(),iterate:Jt,getItem:Qt,setItem:tn,removeItem:rn,clear:Ht,length:en,key:$t,keys:jt,dropInstance:nn},on=function(w,g){return w===g||typeof w=="number"&&typeof g=="number"&&isNaN(w)&&isNaN(g)},un=function(w,g){for(var A=w.length,S=0;S<A;){if(on(w[S],g))return!0;S++}return!1},ft=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"},gr={},ct={},cr={INDEXEDDB:Te,WEBSQL:Wt,LOCALSTORAGE:an},sn=[cr.INDEXEDDB._driver,cr.WEBSQL._driver,cr.LOCALSTORAGE._driver],lr=["dropInstance"],Ie=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(lr),nr={description:"",driver:sn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function fn(v,w){v[w]=function(){var g=arguments;return v.ready().then(function(){return v[w].apply(v,g)})}}function yr(){for(var v=1;v<arguments.length;v++){var w=arguments[v];if(w)for(var g in w)w.hasOwnProperty(g)&&(ft(w[g])?arguments[0][g]=w[g].slice():arguments[0][g]=w[g])}return arguments[0]}var Vr=function(){function v(w){d(this,v);for(var g in cr)if(cr.hasOwnProperty(g)){var A=cr[g],S=A._driver;this[g]=S,gr[S]||this.defineDriver(A)}this._defaultConfig=yr({},nr),this._config=yr({},this._defaultConfig,w),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return v.prototype.config=function(g){if((typeof g>"u"?"undefined":f(g))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var A in g){if(A==="storeName"&&(g[A]=g[A].replace(/\W/g,"_")),A==="version"&&typeof g[A]!="number")return new Error("Database version must be a number.");this._config[A]=g[A]}return"driver"in g&&g.driver?this.setDriver(this._config.driver):!0}else return typeof g=="string"?this._config[g]:this._config},v.prototype.defineDriver=function(g,A,S){var E=new l(function(R,O){try{var L=g._driver,U=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!g._driver){O(U);return}for(var Z=Ie.concat("_initStorage"),H=0,ue=Z.length;H<ue;H++){var le=Z[H],pe=!un(lr,le);if((pe||g[le])&&typeof g[le]!="function"){O(U);return}}var _e=function(){for(var Cr=function(Da){return function(){var ya=new Error("Method "+Da+" is not implemented by the current driver"),ln=l.reject(ya);return h(ln,arguments[arguments.length-1]),ln}},lt=0,ga=lr.length;lt<ga;lt++){var pt=lr[lt];g[pt]||(g[pt]=Cr(pt))}};_e();var ye=function(Cr){gr[L]&&console.info("Redefining LocalForage driver: "+L),gr[L]=g,ct[L]=Cr,R()};"_support"in g?g._support&&typeof g._support=="function"?g._support().then(ye,O):ye(!!g._support):ye(!0)}catch(He){O(He)}});return y(E,A,S),E},v.prototype.driver=function(){return this._driver||null},v.prototype.getDriver=function(g,A,S){var E=gr[g]?l.resolve(gr[g]):l.reject(new Error("Driver not found."));return y(E,A,S),E},v.prototype.getSerializer=function(g){var A=l.resolve(re);return y(A,g),A},v.prototype.ready=function(g){var A=this,S=A._driverSet.then(function(){return A._ready===null&&(A._ready=A._initDriver()),A._ready});return y(S,g,g),S},v.prototype.setDriver=function(g,A,S){var E=this;ft(g)||(g=[g]);var R=this._getSupportedDrivers(g);function O(){E._config.driver=E.driver()}function L(H){return E._extend(H),O(),E._ready=E._initStorage(E._config),E._ready}function U(H){return function(){var ue=0;function le(){for(;ue<H.length;){var pe=H[ue];return ue++,E._dbInfo=null,E._ready=null,E.getDriver(pe).then(L).catch(le)}O();var _e=new Error("No available storage method found.");return E._driverSet=l.reject(_e),E._driverSet}return le()}}var Z=this._driverSet!==null?this._driverSet.catch(function(){return l.resolve()}):l.resolve();return this._driverSet=Z.then(function(){var H=R[0];return E._dbInfo=null,E._ready=null,E.getDriver(H).then(function(ue){E._driver=ue._driver,O(),E._wrapLibraryMethodsWithReady(),E._initDriver=U(R)})}).catch(function(){O();var H=new Error("No available storage method found.");return E._driverSet=l.reject(H),E._driverSet}),y(this._driverSet,A,S),this._driverSet},v.prototype.supports=function(g){return!!ct[g]},v.prototype._extend=function(g){yr(this,g)},v.prototype._getSupportedDrivers=function(g){for(var A=[],S=0,E=g.length;S<E;S++){var R=g[S];this.supports(R)&&A.push(R)}return A},v.prototype._wrapLibraryMethodsWithReady=function(){for(var g=0,A=Ie.length;g<A;g++)fn(this,Ie[g])},v.prototype.createInstance=function(g){return new v(g)},v}(),cn=new Vr;n.exports=cn},{3:3}]},{},[4])(4)})});var js=Dt(($s,li)=>{"use strict";(function(e){if(typeof $s=="object"&&typeof li<"u")li.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=e()}})(function(){var e,r,t;return function a(n,o,f){function d(i,s){if(!o[i]){if(!n[i]){var l=typeof zr=="function"&&zr;if(!s&&l)return l(i,!0);if(c)return c(i,!0);var h=new Error("Cannot find module '"+i+"'");throw h.code="MODULE_NOT_FOUND",h}var y=o[i]={exports:{}};n[i][0].call(y.exports,function(p){var m=n[i][1][p];return d(m||p)},y,y.exports,a,n,o,f)}return o[i].exports}for(var c=typeof zr=="function"&&zr,u=0;u<f.length;u++)d(f[u]);return d}({1:[function(a,n,o){(function(f){"use strict";var d=f.MutationObserver||f.WebKitMutationObserver,c;if(d){var u=0,i=new d(p),s=f.document.createTextNode("");i.observe(s,{characterData:!0}),c=function(){s.data=u=++u%2}}else if(!f.setImmediate&&typeof f.MessageChannel<"u"){var l=new f.MessageChannel;l.port1.onmessage=p,c=function(){l.port2.postMessage(0)}}else"document"in f&&"onreadystatechange"in f.document.createElement("script")?c=function(){var D=f.document.createElement("script");D.onreadystatechange=function(){p(),D.onreadystatechange=null,D.parentNode.removeChild(D),D=null},f.document.documentElement.appendChild(D)}:c=function(){setTimeout(p,0)};var h,y=[];function p(){h=!0;for(var D,_,b=y.length;b;){for(_=y,y=[],D=-1;++D<b;)_[D]();b=y.length}h=!1}n.exports=m;function m(D){y.push(D)===1&&!h&&c()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,n,o){"use strict";var f=a(1);function d(){}var c={},u=["REJECTED"],i=["FULFILLED"],s=["PENDING"];n.exports=l;function l(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,x!==d&&m(this,x)}l.prototype.catch=function(x){return this.then(null,x)},l.prototype.then=function(x,M){if(typeof x!="function"&&this.state===i||typeof M!="function"&&this.state===u)return this;var N=new this.constructor(d);if(this.state!==s){var F=this.state===i?x:M;y(N,F,this.outcome)}else this.queue.push(new h(N,x,M));return N};function h(x,M,N){this.promise=x,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(x){c.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){y(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){c.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){y(this.promise,this.onRejected,x)};function y(x,M,N){f(function(){var F;try{F=M(N)}catch(T){return c.reject(x,T)}F===x?c.reject(x,new TypeError("Cannot resolve promise with itself")):c.resolve(x,F)})}c.resolve=function(x,M){var N=D(p,M);if(N.status==="error")return c.reject(x,N.value);var F=N.value;if(F)m(x,F);else{x.state=i,x.outcome=M;for(var T=-1,z=x.queue.length;++T<z;)x.queue[T].callFulfilled(M)}return x},c.reject=function(x,M){x.state=u,x.outcome=M;for(var N=-1,F=x.queue.length;++N<F;)x.queue[N].callRejected(M);return x};function p(x){var M=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof M=="function")return function(){M.apply(x,arguments)}}function m(x,M){var N=!1;function F(K){N||(N=!0,c.reject(x,K))}function T(K){N||(N=!0,c.resolve(x,K))}function z(){M(T,F)}var P=D(z);P.status==="error"&&F(P.value)}function D(x,M){var N={};try{N.value=x(M),N.status="success"}catch(F){N.status="error",N.value=F}return N}l.resolve=_;function _(x){return x instanceof this?x:c.resolve(new this(d),x)}l.reject=b;function b(x){var M=new this(d);return c.reject(M,x)}l.all=B;function B(x){var M=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=x.length,F=!1;if(!N)return this.resolve([]);for(var T=new Array(N),z=0,P=-1,K=new this(d);++P<N;)W(x[P],P);return K;function W(X,V){M.resolve(X).then(ae,function(ee){F||(F=!0,c.reject(K,ee))});function ae(ee){T[V]=ee,++z===N&&!F&&(F=!0,c.resolve(K,T))}}}l.race=C;function C(x){var M=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=x.length,F=!1;if(!N)return this.resolve([]);for(var T=-1,z=new this(d);++T<N;)P(x[T]);return z;function P(K){M.resolve(K).then(function(W){F||(F=!0,c.resolve(z,W))},function(W){F||(F=!0,c.reject(z,W))})}}},{1:1}],3:[function(a,n,o){(function(f){"use strict";typeof f.Promise!="function"&&(f.Promise=a(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(a,n,o){"use strict";var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};function d(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=c();function i(){try{if(!u||!u.open)return!1;var v=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),w=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!v||w)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function s(v,w){v=v||[],w=w||{};try{return new Blob(v,w)}catch(E){if(E.name!=="TypeError")throw E;for(var g=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,A=new g,S=0;S<v.length;S+=1)A.append(v[S]);return A.getBlob(w.type)}}typeof Promise>"u"&&a(3);var l=Promise;function h(v,w){w&&v.then(function(g){w(null,g)},function(g){w(g)})}function y(v,w,g){typeof w=="function"&&v.then(w),typeof g=="function"&&v.catch(g)}function p(v){return typeof v!="string"&&(console.warn(v+" used as a key, but it is not a string."),v=String(v)),v}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var D="local-forage-detect-blob-support",_=void 0,b={},B=Object.prototype.toString,C="readonly",x="readwrite";function M(v){for(var w=v.length,g=new ArrayBuffer(w),A=new Uint8Array(g),S=0;S<w;S++)A[S]=v.charCodeAt(S);return g}function N(v){return new l(function(w){var g=v.transaction(D,x),A=s([""]);g.objectStore(D).put(A,"key"),g.onabort=function(S){S.preventDefault(),S.stopPropagation(),w(!1)},g.oncomplete=function(){var S=navigator.userAgent.match(/Chrome\/(\d+)/),E=navigator.userAgent.match(/Edge\//);w(E||!S||parseInt(S[1],10)>=43)}}).catch(function(){return!1})}function F(v){return typeof _=="boolean"?l.resolve(_):N(v).then(function(w){return _=w,_})}function T(v){var w=b[v.name],g={};g.promise=new l(function(A,S){g.resolve=A,g.reject=S}),w.deferredOperations.push(g),w.dbReady?w.dbReady=w.dbReady.then(function(){return g.promise}):w.dbReady=g.promise}function z(v){var w=b[v.name],g=w.deferredOperations.pop();if(g)return g.resolve(),g.promise}function P(v,w){var g=b[v.name],A=g.deferredOperations.pop();if(A)return A.reject(w),A.promise}function K(v,w){return new l(function(g,A){if(b[v.name]=b[v.name]||de(),v.db)if(w)T(v),v.db.close();else return g(v.db);var S=[v.name];w&&S.push(v.version);var E=u.open.apply(u,S);w&&(E.onupgradeneeded=function(R){var O=E.result;try{O.createObjectStore(v.storeName),R.oldVersion<=1&&O.createObjectStore(D)}catch(L){if(L.name==="ConstraintError")console.warn('The database "'+v.name+'" has been upgraded from version '+R.oldVersion+" to version "+R.newVersion+', but the storage "'+v.storeName+'" already exists.');else throw L}}),E.onerror=function(R){R.preventDefault(),A(E.error)},E.onsuccess=function(){var R=E.result;R.onversionchange=function(O){O.target.close()},g(R),z(v)}})}function W(v){return K(v,!1)}function X(v){return K(v,!0)}function V(v,w){if(!v.db)return!0;var g=!v.db.objectStoreNames.contains(v.storeName),A=v.version<v.db.version,S=v.version>v.db.version;if(A&&(v.version!==w&&console.warn('The database "'+v.name+`" can't be downgraded from version `+v.db.version+" to version "+v.version+"."),v.version=v.db.version),S||g){if(g){var E=v.db.version+1;E>v.version&&(v.version=E)}return!0}return!1}function ae(v){return new l(function(w,g){var A=new FileReader;A.onerror=g,A.onloadend=function(S){var E=btoa(S.target.result||"");w({__local_forage_encoded_blob:!0,data:E,type:v.type})},A.readAsBinaryString(v)})}function ee(v){var w=M(atob(v.data));return s([w],{type:v.type})}function Y(v){return v&&v.__local_forage_encoded_blob}function te(v){var w=this,g=w._initReady().then(function(){var A=b[w._dbInfo.name];if(A&&A.dbReady)return A.dbReady});return y(g,v,v),g}function se(v){T(v);for(var w=b[v.name],g=w.forages,A=0;A<g.length;A++){var S=g[A];S._dbInfo.db&&(S._dbInfo.db.close(),S._dbInfo.db=null)}return v.db=null,W(v).then(function(E){return v.db=E,V(v)?X(v):E}).then(function(E){v.db=w.db=E;for(var R=0;R<g.length;R++)g[R]._dbInfo.db=E}).catch(function(E){throw P(v,E),E})}function fe(v,w,g,A){A===void 0&&(A=1);try{var S=v.db.transaction(v.storeName,w);g(null,S)}catch(E){if(A>0&&(!v.db||E.name==="InvalidStateError"||E.name==="NotFoundError"))return l.resolve().then(function(){if(!v.db||E.name==="NotFoundError"&&!v.db.objectStoreNames.contains(v.storeName)&&v.version<=v.db.version)return v.db&&(v.version=v.db.version+1),X(v)}).then(function(){return se(v).then(function(){fe(v,w,g,A-1)})}).catch(g);g(E)}}function de(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ce(v){var w=this,g={db:null};if(v)for(var A in v)g[A]=v[A];var S=b[g.name];S||(S=de(),b[g.name]=S),S.forages.push(w),w._initReady||(w._initReady=w.ready,w.ready=te);var E=[];function R(){return l.resolve()}for(var O=0;O<S.forages.length;O++){var L=S.forages[O];L!==w&&E.push(L._initReady().catch(R))}var U=S.forages.slice(0);return l.all(E).then(function(){return g.db=S.db,W(g)}).then(function(Z){return g.db=Z,V(g,w._defaultConfig.version)?X(g):Z}).then(function(Z){g.db=S.db=Z,w._dbInfo=g;for(var H=0;H<U.length;H++){var ue=U[H];ue!==w&&(ue._dbInfo.db=g.db,ue._dbInfo.version=g.version)}})}function Re(v,w){var g=this;v=p(v);var A=new l(function(S,E){g.ready().then(function(){fe(g._dbInfo,C,function(R,O){if(R)return E(R);try{var L=O.objectStore(g._dbInfo.storeName),U=L.get(v);U.onsuccess=function(){var Z=U.result;Z===void 0&&(Z=null),Y(Z)&&(Z=ee(Z)),S(Z)},U.onerror=function(){E(U.error)}}catch(Z){E(Z)}})}).catch(E)});return h(A,w),A}function we(v,w){var g=this,A=new l(function(S,E){g.ready().then(function(){fe(g._dbInfo,C,function(R,O){if(R)return E(R);try{var L=O.objectStore(g._dbInfo.storeName),U=L.openCursor(),Z=1;U.onsuccess=function(){var H=U.result;if(H){var ue=H.value;Y(ue)&&(ue=ee(ue));var le=v(ue,H.key,Z++);le!==void 0?S(le):H.continue()}else S()},U.onerror=function(){E(U.error)}}catch(H){E(H)}})}).catch(E)});return h(A,w),A}function xe(v,w,g){var A=this;v=p(v);var S=new l(function(E,R){var O;A.ready().then(function(){return O=A._dbInfo,B.call(w)==="[object Blob]"?F(O.db).then(function(L){return L?w:ae(w)}):w}).then(function(L){fe(A._dbInfo,x,function(U,Z){if(U)return R(U);try{var H=Z.objectStore(A._dbInfo.storeName);L===null&&(L=void 0);var ue=H.put(L,v);Z.oncomplete=function(){L===void 0&&(L=null),E(L)},Z.onabort=Z.onerror=function(){var le=ue.error?ue.error:ue.transaction.error;R(le)}}catch(le){R(le)}})}).catch(R)});return h(S,g),S}function Me(v,w){var g=this;v=p(v);var A=new l(function(S,E){g.ready().then(function(){fe(g._dbInfo,x,function(R,O){if(R)return E(R);try{var L=O.objectStore(g._dbInfo.storeName),U=L.delete(v);O.oncomplete=function(){S()},O.onerror=function(){E(U.error)},O.onabort=function(){var Z=U.error?U.error:U.transaction.error;E(Z)}}catch(Z){E(Z)}})}).catch(E)});return h(A,w),A}function Ae(v){var w=this,g=new l(function(A,S){w.ready().then(function(){fe(w._dbInfo,x,function(E,R){if(E)return S(E);try{var O=R.objectStore(w._dbInfo.storeName),L=O.clear();R.oncomplete=function(){A()},R.onabort=R.onerror=function(){var U=L.error?L.error:L.transaction.error;S(U)}}catch(U){S(U)}})}).catch(S)});return h(g,v),g}function he(v){var w=this,g=new l(function(A,S){w.ready().then(function(){fe(w._dbInfo,C,function(E,R){if(E)return S(E);try{var O=R.objectStore(w._dbInfo.storeName),L=O.count();L.onsuccess=function(){A(L.result)},L.onerror=function(){S(L.error)}}catch(U){S(U)}})}).catch(S)});return h(g,v),g}function Xe(v,w){var g=this,A=new l(function(S,E){if(v<0){S(null);return}g.ready().then(function(){fe(g._dbInfo,C,function(R,O){if(R)return E(R);try{var L=O.objectStore(g._dbInfo.storeName),U=!1,Z=L.openKeyCursor();Z.onsuccess=function(){var H=Z.result;if(!H){S(null);return}v===0||U?S(H.key):(U=!0,H.advance(v))},Z.onerror=function(){E(Z.error)}}catch(H){E(H)}})}).catch(E)});return h(A,w),A}function qe(v){var w=this,g=new l(function(A,S){w.ready().then(function(){fe(w._dbInfo,C,function(E,R){if(E)return S(E);try{var O=R.objectStore(w._dbInfo.storeName),L=O.openKeyCursor(),U=[];L.onsuccess=function(){var Z=L.result;if(!Z){A(U);return}U.push(Z.key),Z.continue()},L.onerror=function(){S(L.error)}}catch(Z){S(Z)}})}).catch(S)});return h(g,v),g}function ge(v,w){w=m.apply(this,arguments);var g=this.config();v=typeof v!="function"&&v||{},v.name||(v.name=v.name||g.name,v.storeName=v.storeName||g.storeName);var A=this,S;if(!v.name)S=l.reject("Invalid arguments");else{var E=v.name===g.name&&A._dbInfo.db,R=E?l.resolve(A._dbInfo.db):W(v).then(function(O){var L=b[v.name],U=L.forages;L.db=O;for(var Z=0;Z<U.length;Z++)U[Z]._dbInfo.db=O;return O});v.storeName?S=R.then(function(O){if(O.objectStoreNames.contains(v.storeName)){var L=O.version+1;T(v);var U=b[v.name],Z=U.forages;O.close();for(var H=0;H<Z.length;H++){var ue=Z[H];ue._dbInfo.db=null,ue._dbInfo.version=L}var le=new l(function(pe,_e){var ye=u.open(v.name,L);ye.onerror=function(He){var Cr=ye.result;Cr.close(),_e(He)},ye.onupgradeneeded=function(){var He=ye.result;He.deleteObjectStore(v.storeName)},ye.onsuccess=function(){var He=ye.result;He.close(),pe(He)}});return le.then(function(pe){U.db=pe;for(var _e=0;_e<Z.length;_e++){var ye=Z[_e];ye._dbInfo.db=pe,z(ye._dbInfo)}}).catch(function(pe){throw(P(v,pe)||l.resolve()).catch(function(){}),pe})}}):S=R.then(function(O){T(v);var L=b[v.name],U=L.forages;O.close();for(var Z=0;Z<U.length;Z++){var H=U[Z];H._dbInfo.db=null}var ue=new l(function(le,pe){var _e=u.deleteDatabase(v.name);_e.onerror=function(){var ye=_e.result;ye&&ye.close(),pe(_e.error)},_e.onblocked=function(){console.warn('dropInstance blocked for database "'+v.name+'" until all open connections are closed')},_e.onsuccess=function(){var ye=_e.result;ye&&ye.close(),le(ye)}});return ue.then(function(le){L.db=le;for(var pe=0;pe<U.length;pe++){var _e=U[pe];z(_e._dbInfo)}}).catch(function(le){throw(P(v,le)||l.resolve()).catch(function(){}),le})})}return h(S,w),S}var Te={_driver:"asyncStorage",_initStorage:ce,_support:i(),iterate:we,getItem:Re,setItem:xe,removeItem:Me,clear:Ae,length:he,key:Xe,keys:qe,dropInstance:ge};function Ye(){return typeof openDatabase=="function"}var Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",je="~~local_forage_type~",Ce=/^~~local_forage_type~([^~]+)~/,Ke="__lfsc__:",$e=Ke.length,Dr="arbf",xr="blob",Er="si08",Nr="ui08",Br="uic8",Tr="si16",Ar="si32",Hr="ur16",I="ui32",q="fl32",k="fl64",Q=$e+Dr.length,j=Object.prototype.toString;function J(v){var w=v.length*.75,g=v.length,A,S=0,E,R,O,L;v[v.length-1]==="="&&(w--,v[v.length-2]==="="&&w--);var U=new ArrayBuffer(w),Z=new Uint8Array(U);for(A=0;A<g;A+=4)E=Oe.indexOf(v[A]),R=Oe.indexOf(v[A+1]),O=Oe.indexOf(v[A+2]),L=Oe.indexOf(v[A+3]),Z[S++]=E<<2|R>>4,Z[S++]=(R&15)<<4|O>>2,Z[S++]=(O&3)<<6|L&63;return U}function oe(v){var w=new Uint8Array(v),g="",A;for(A=0;A<w.length;A+=3)g+=Oe[w[A]>>2],g+=Oe[(w[A]&3)<<4|w[A+1]>>4],g+=Oe[(w[A+1]&15)<<2|w[A+2]>>6],g+=Oe[w[A+2]&63];return w.length%3===2?g=g.substring(0,g.length-1)+"=":w.length%3===1&&(g=g.substring(0,g.length-2)+"=="),g}function ne(v,w){var g="";if(v&&(g=j.call(v)),v&&(g==="[object ArrayBuffer]"||v.buffer&&j.call(v.buffer)==="[object ArrayBuffer]")){var A,S=Ke;v instanceof ArrayBuffer?(A=v,S+=Dr):(A=v.buffer,g==="[object Int8Array]"?S+=Er:g==="[object Uint8Array]"?S+=Nr:g==="[object Uint8ClampedArray]"?S+=Br:g==="[object Int16Array]"?S+=Tr:g==="[object Uint16Array]"?S+=Hr:g==="[object Int32Array]"?S+=Ar:g==="[object Uint32Array]"?S+=I:g==="[object Float32Array]"?S+=q:g==="[object Float64Array]"?S+=k:w(new Error("Failed to get type for BinaryArray"))),w(S+oe(A))}else if(g==="[object Blob]"){var E=new FileReader;E.onload=function(){var R=je+v.type+"~"+oe(this.result);w(Ke+xr+R)},E.readAsArrayBuffer(v)}else try{w(JSON.stringify(v))}catch(R){console.error("Couldn't convert value into a JSON string: ",v),w(null,R)}}function ie(v){if(v.substring(0,$e)!==Ke)return JSON.parse(v);var w=v.substring(Q),g=v.substring($e,Q),A;if(g===xr&&Ce.test(w)){var S=w.match(Ce);A=S[1],w=w.substring(S[0].length)}var E=J(w);switch(g){case Dr:return E;case xr:return s([E],{type:A});case Er:return new Int8Array(E);case Nr:return new Uint8Array(E);case Br:return new Uint8ClampedArray(E);case Tr:return new Int16Array(E);case Hr:return new Uint16Array(E);case Ar:return new Int32Array(E);case I:return new Uint32Array(E);case q:return new Float32Array(E);case k:return new Float64Array(E);default:throw new Error("Unkown type: "+g)}}var re={serialize:ne,deserialize:ie,stringToBuffer:J,bufferToString:oe};function Pe(v,w,g,A){v.executeSql("CREATE TABLE IF NOT EXISTS "+w.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],g,A)}function Ze(v){var w=this,g={db:null};if(v)for(var A in v)g[A]=typeof v[A]!="string"?v[A].toString():v[A];var S=new l(function(E,R){try{g.db=openDatabase(g.name,String(g.version),g.description,g.size)}catch(O){return R(O)}g.db.transaction(function(O){Pe(O,g,function(){w._dbInfo=g,E()},function(L,U){R(U)})},R)});return g.serializer=re,S}function Ne(v,w,g,A,S,E){v.executeSql(g,A,S,function(R,O){O.code===O.SYNTAX_ERR?R.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[w.storeName],function(L,U){U.rows.length?E(L,O):Pe(L,w,function(){L.executeSql(g,A,S,E)},E)},E):E(R,O)},E)}function tr(v,w){var g=this;v=p(v);var A=new l(function(S,E){g.ready().then(function(){var R=g._dbInfo;R.db.transaction(function(O){Ne(O,R,"SELECT * FROM "+R.storeName+" WHERE key = ? LIMIT 1",[v],function(L,U){var Z=U.rows.length?U.rows.item(0).value:null;Z&&(Z=R.serializer.deserialize(Z)),S(Z)},function(L,U){E(U)})})}).catch(E)});return h(A,w),A}function er(v,w){var g=this,A=new l(function(S,E){g.ready().then(function(){var R=g._dbInfo;R.db.transaction(function(O){Ne(O,R,"SELECT * FROM "+R.storeName,[],function(L,U){for(var Z=U.rows,H=Z.length,ue=0;ue<H;ue++){var le=Z.item(ue),pe=le.value;if(pe&&(pe=R.serializer.deserialize(pe)),pe=v(pe,le.key,ue+1),pe!==void 0){S(pe);return}}S()},function(L,U){E(U)})})}).catch(E)});return h(A,w),A}function or(v,w,g,A){var S=this;v=p(v);var E=new l(function(R,O){S.ready().then(function(){w===void 0&&(w=null);var L=w,U=S._dbInfo;U.serializer.serialize(w,function(Z,H){H?O(H):U.db.transaction(function(ue){Ne(ue,U,"INSERT OR REPLACE INTO "+U.storeName+" (key, value) VALUES (?, ?)",[v,Z],function(){R(L)},function(le,pe){O(pe)})},function(ue){if(ue.code===ue.QUOTA_ERR){if(A>0){R(or.apply(S,[v,L,g,A-1]));return}O(ue)}})})}).catch(O)});return h(E,g),E}function fr(v,w,g){return or.apply(this,[v,w,g,1])}function Ir(v,w){var g=this;v=p(v);var A=new l(function(S,E){g.ready().then(function(){var R=g._dbInfo;R.db.transaction(function(O){Ne(O,R,"DELETE FROM "+R.storeName+" WHERE key = ?",[v],function(){S()},function(L,U){E(U)})})}).catch(E)});return h(A,w),A}function Qr(v){var w=this,g=new l(function(A,S){w.ready().then(function(){var E=w._dbInfo;E.db.transaction(function(R){Ne(R,E,"DELETE FROM "+E.storeName,[],function(){A()},function(O,L){S(L)})})}).catch(S)});return h(g,v),g}function qt(v){var w=this,g=new l(function(A,S){w.ready().then(function(){var E=w._dbInfo;E.db.transaction(function(R){Ne(R,E,"SELECT COUNT(key) as c FROM "+E.storeName,[],function(O,L){var U=L.rows.item(0).c;A(U)},function(O,L){S(L)})})}).catch(S)});return h(g,v),g}function Ut(v,w){var g=this,A=new l(function(S,E){g.ready().then(function(){var R=g._dbInfo;R.db.transaction(function(O){Ne(O,R,"SELECT key FROM "+R.storeName+" WHERE id = ? LIMIT 1",[v+1],function(L,U){var Z=U.rows.length?U.rows.item(0).key:null;S(Z)},function(L,U){E(U)})})}).catch(E)});return h(A,w),A}function Vt(v){var w=this,g=new l(function(A,S){w.ready().then(function(){var E=w._dbInfo;E.db.transaction(function(R){Ne(R,E,"SELECT key FROM "+E.storeName,[],function(O,L){for(var U=[],Z=0;Z<L.rows.length;Z++)U.push(L.rows.item(Z).key);A(U)},function(O,L){S(L)})})}).catch(S)});return h(g,v),g}function Zt(v){return new l(function(w,g){v.transaction(function(A){A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(S,E){for(var R=[],O=0;O<E.rows.length;O++)R.push(E.rows.item(O).name);w({db:v,storeNames:R})},function(S,E){g(E)})},function(A){g(A)})})}function Yt(v,w){w=m.apply(this,arguments);var g=this.config();v=typeof v!="function"&&v||{},v.name||(v.name=v.name||g.name,v.storeName=v.storeName||g.storeName);var A=this,S;return v.name?S=new l(function(E){var R;v.name===g.name?R=A._dbInfo.db:R=openDatabase(v.name,"","",0),v.storeName?E({db:R,storeNames:[v.storeName]}):E(Zt(R))}).then(function(E){return new l(function(R,O){E.db.transaction(function(L){function U(le){return new l(function(pe,_e){L.executeSql("DROP TABLE IF EXISTS "+le,[],function(){pe()},function(ye,He){_e(He)})})}for(var Z=[],H=0,ue=E.storeNames.length;H<ue;H++)Z.push(U(E.storeNames[H]));l.all(Z).then(function(){R()}).catch(function(le){O(le)})},function(L){O(L)})})}):S=l.reject("Invalid arguments"),h(S,w),S}var Wt={_driver:"webSQLStorage",_initStorage:Ze,_support:Ye(),iterate:er,getItem:tr,setItem:fr,removeItem:Ir,clear:Qr,length:qt,key:Ut,keys:Vt,dropInstance:Yt};function kt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function st(v,w){var g=v.name+"/";return v.storeName!==w.storeName&&(g+=v.storeName+"/"),g}function Gt(){var v="_localforage_support_test";try{return localStorage.setItem(v,!0),localStorage.removeItem(v),!1}catch{return!0}}function Xt(){return!Gt()||localStorage.length>0}function Kt(v){var w=this,g={};if(v)for(var A in v)g[A]=v[A];return g.keyPrefix=st(v,w._defaultConfig),Xt()?(w._dbInfo=g,g.serializer=re,l.resolve()):l.reject()}function Ht(v){var w=this,g=w.ready().then(function(){for(var A=w._dbInfo.keyPrefix,S=localStorage.length-1;S>=0;S--){var E=localStorage.key(S);E.indexOf(A)===0&&localStorage.removeItem(E)}});return h(g,v),g}function Qt(v,w){var g=this;v=p(v);var A=g.ready().then(function(){var S=g._dbInfo,E=localStorage.getItem(S.keyPrefix+v);return E&&(E=S.serializer.deserialize(E)),E});return h(A,w),A}function Jt(v,w){var g=this,A=g.ready().then(function(){for(var S=g._dbInfo,E=S.keyPrefix,R=E.length,O=localStorage.length,L=1,U=0;U<O;U++){var Z=localStorage.key(U);if(Z.indexOf(E)===0){var H=localStorage.getItem(Z);if(H&&(H=S.serializer.deserialize(H)),H=v(H,Z.substring(R),L++),H!==void 0)return H}}});return h(A,w),A}function $t(v,w){var g=this,A=g.ready().then(function(){var S=g._dbInfo,E;try{E=localStorage.key(v)}catch{E=null}return E&&(E=E.substring(S.keyPrefix.length)),E});return h(A,w),A}function jt(v){var w=this,g=w.ready().then(function(){for(var A=w._dbInfo,S=localStorage.length,E=[],R=0;R<S;R++){var O=localStorage.key(R);O.indexOf(A.keyPrefix)===0&&E.push(O.substring(A.keyPrefix.length))}return E});return h(g,v),g}function en(v){var w=this,g=w.keys().then(function(A){return A.length});return h(g,v),g}function rn(v,w){var g=this;v=p(v);var A=g.ready().then(function(){var S=g._dbInfo;localStorage.removeItem(S.keyPrefix+v)});return h(A,w),A}function tn(v,w,g){var A=this;v=p(v);var S=A.ready().then(function(){w===void 0&&(w=null);var E=w;return new l(function(R,O){var L=A._dbInfo;L.serializer.serialize(w,function(U,Z){if(Z)O(Z);else try{localStorage.setItem(L.keyPrefix+v,U),R(E)}catch(H){(H.name==="QuotaExceededError"||H.name==="NS_ERROR_DOM_QUOTA_REACHED")&&O(H),O(H)}})})});return h(S,g),S}function nn(v,w){if(w=m.apply(this,arguments),v=typeof v!="function"&&v||{},!v.name){var g=this.config();v.name=v.name||g.name,v.storeName=v.storeName||g.storeName}var A=this,S;return v.name?S=new l(function(E){v.storeName?E(st(v,A._defaultConfig)):E(v.name+"/")}).then(function(E){for(var R=localStorage.length-1;R>=0;R--){var O=localStorage.key(R);O.indexOf(E)===0&&localStorage.removeItem(O)}}):S=l.reject("Invalid arguments"),h(S,w),S}var an={_driver:"localStorageWrapper",_initStorage:Kt,_support:kt(),iterate:Jt,getItem:Qt,setItem:tn,removeItem:rn,clear:Ht,length:en,key:$t,keys:jt,dropInstance:nn},on=function(w,g){return w===g||typeof w=="number"&&typeof g=="number"&&isNaN(w)&&isNaN(g)},un=function(w,g){for(var A=w.length,S=0;S<A;){if(on(w[S],g))return!0;S++}return!1},ft=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"},gr={},ct={},cr={INDEXEDDB:Te,WEBSQL:Wt,LOCALSTORAGE:an},sn=[cr.INDEXEDDB._driver,cr.WEBSQL._driver,cr.LOCALSTORAGE._driver],lr=["dropInstance"],Ie=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(lr),nr={description:"",driver:sn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function fn(v,w){v[w]=function(){var g=arguments;return v.ready().then(function(){return v[w].apply(v,g)})}}function yr(){for(var v=1;v<arguments.length;v++){var w=arguments[v];if(w)for(var g in w)w.hasOwnProperty(g)&&(ft(w[g])?arguments[0][g]=w[g].slice():arguments[0][g]=w[g])}return arguments[0]}var Vr=function(){function v(w){d(this,v);for(var g in cr)if(cr.hasOwnProperty(g)){var A=cr[g],S=A._driver;this[g]=S,gr[S]||this.defineDriver(A)}this._defaultConfig=yr({},nr),this._config=yr({},this._defaultConfig,w),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return v.prototype.config=function(g){if((typeof g>"u"?"undefined":f(g))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var A in g){if(A==="storeName"&&(g[A]=g[A].replace(/\W/g,"_")),A==="version"&&typeof g[A]!="number")return new Error("Database version must be a number.");this._config[A]=g[A]}return"driver"in g&&g.driver?this.setDriver(this._config.driver):!0}else return typeof g=="string"?this._config[g]:this._config},v.prototype.defineDriver=function(g,A,S){var E=new l(function(R,O){try{var L=g._driver,U=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!g._driver){O(U);return}for(var Z=Ie.concat("_initStorage"),H=0,ue=Z.length;H<ue;H++){var le=Z[H],pe=!un(lr,le);if((pe||g[le])&&typeof g[le]!="function"){O(U);return}}var _e=function(){for(var Cr=function(Da){return function(){var ya=new Error("Method "+Da+" is not implemented by the current driver"),ln=l.reject(ya);return h(ln,arguments[arguments.length-1]),ln}},lt=0,ga=lr.length;lt<ga;lt++){var pt=lr[lt];g[pt]||(g[pt]=Cr(pt))}};_e();var ye=function(Cr){gr[L]&&console.info("Redefining LocalForage driver: "+L),gr[L]=g,ct[L]=Cr,R()};"_support"in g?g._support&&typeof g._support=="function"?g._support().then(ye,O):ye(!!g._support):ye(!0)}catch(He){O(He)}});return y(E,A,S),E},v.prototype.driver=function(){return this._driver||null},v.prototype.getDriver=function(g,A,S){var E=gr[g]?l.resolve(gr[g]):l.reject(new Error("Driver not found."));return y(E,A,S),E},v.prototype.getSerializer=function(g){var A=l.resolve(re);return y(A,g),A},v.prototype.ready=function(g){var A=this,S=A._driverSet.then(function(){return A._ready===null&&(A._ready=A._initDriver()),A._ready});return y(S,g,g),S},v.prototype.setDriver=function(g,A,S){var E=this;ft(g)||(g=[g]);var R=this._getSupportedDrivers(g);function O(){E._config.driver=E.driver()}function L(H){return E._extend(H),O(),E._ready=E._initStorage(E._config),E._ready}function U(H){return function(){var ue=0;function le(){for(;ue<H.length;){var pe=H[ue];return ue++,E._dbInfo=null,E._ready=null,E.getDriver(pe).then(L).catch(le)}O();var _e=new Error("No available storage method found.");return E._driverSet=l.reject(_e),E._driverSet}return le()}}var Z=this._driverSet!==null?this._driverSet.catch(function(){return l.resolve()}):l.resolve();return this._driverSet=Z.then(function(){var H=R[0];return E._dbInfo=null,E._ready=null,E.getDriver(H).then(function(ue){E._driver=ue._driver,O(),E._wrapLibraryMethodsWithReady(),E._initDriver=U(R)})}).catch(function(){O();var H=new Error("No available storage method found.");return E._driverSet=l.reject(H),E._driverSet}),y(this._driverSet,A,S),this._driverSet},v.prototype.supports=function(g){return!!ct[g]},v.prototype._extend=function(g){yr(this,g)},v.prototype._getSupportedDrivers=function(g){for(var A=[],S=0,E=g.length;S<E;S++){var R=g[S];this.supports(R)&&A.push(R)}return A},v.prototype._wrapLibraryMethodsWithReady=function(){for(var g=0,A=Ie.length;g<A;g++)fn(this,Ie[g])},v.prototype.createInstance=function(g){return new v(g)},v}(),cn=new Vr;n.exports=cn},{3:3}]},{},[4])(4)})});var uf=Dt((e_,of)=>{"use strict";var pi=Math.abs,ed=Math.min;function xa(e,r,t,a){var n=pi(e-r);return t==null&&(t=xa.DBL_EPSILON),a==null&&(a=t),n<=t||n<=a*ed(pi(e),pi(r))?!0:e===r}xa.FLT_EPSILON=11920929e-14;xa.DBL_EPSILON=2220446049250313e-31;of.exports=xa});var dt=class{response={geometryUuid:"",solverUuid:""};setResultType(r){return this.response.resultType=r,this}setFinished(){return this.response.resultType="Finished",this}setError(r){return this.response.resultType="Error",this.response.errorMessage=r,this}setProgressType(){return this.response.resultType="Progress",this}setUuidsFromCommand(r){return this.response.geometryUuid=r.geometryUuid,this.response.solverUuid=r.solverUuid,this}setProgress(r){return this.response.progress=r,this}setLoadCases(r){return this.response.loadCases=r,this}build(){return{...this.response}}};function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vt.apply(this,arguments)}var ba={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Ue(e){return typeof e=="number"}function We(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function wa(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function _a(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function wn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function pr(e){return typeof e=="string"}var Ve=Array.isArray;function ze(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function ht(e){return Array.isArray(e)||ze(e)}function _n(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function En(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function hi(e){return e&&e.constructor.prototype.isRange===!0||!1}function bt(e){return e&&e.constructor.prototype.isIndex===!0||!1}function mi(e){return typeof e=="boolean"}function xi(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function gi(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Di(e){return typeof e=="function"}function yi(e){return e instanceof Date}function bi(e){return e instanceof RegExp}function An(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!wa(e)&&!_a(e))}function wi(e){return e===null}function _i(e){return e===void 0}function Ei(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ai(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ci(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Fi(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Si(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Mi(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ni(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Bi(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ti(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ii(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function zi(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ri(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pi(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Oi(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Li(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function qi(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ui(e){return e&&e.constructor.prototype.isChain===!0||!1}function Rr(e){var r=typeof e;return r==="object"?e===null?"null":We(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function Be(e){var r=typeof e;if(r==="number"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(t){return Be(t)});if(e instanceof Date)return new Date(e.valueOf());if(We(e))return e;if(An(e))return xf(e,Be);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function xf(e,r){var t={};for(var a in e)wt(e,a)&&(t[a]=r(e[a]));return t}function Vi(e,r){for(var t in r)wt(r,t)&&(e[t]=r[t]);return e}function Zr(e,r){var t,a,n;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(a=0,n=e.length;a<n;a++)if(!Zr(e[a],r[a]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(t in e)if(!(t in r)||!Zr(e[t],r[t]))return!1;for(t in r)if(!(t in e))return!1;return!0}else return e===r}}function wt(e,r){return e&&Object.hasOwnProperty.call(e,r)}function Zi(e,r){for(var t={},a=0;a<r.length;a++){var n=r[a],o=e[n];o!==void 0&&(t[n]=o)}return t}var Yi=["Matrix","Array"],Wi=["number","BigNumber","Fraction"];var Pr=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(ba)};vt(Pr,ba,{MATRIX_OPTIONS:Yi,NUMBER_OPTIONS:Wi});var Pa=yt(ki(),1);function Fe(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}var Gi=Math.sign||function(e){return e>0?1:e<0?-1:0},Xi=Math.log2||function(r){return Math.log(r)/Math.LN2},Ki=Math.log10||function(r){return Math.log(r)/Math.LN10},Hi=Math.log1p||function(e){return Math.log(e+1)},Qi=Math.cbrt||function(r){if(r===0)return r;var t=r<0,a;return t&&(r=-r),isFinite(r)?(a=Math.exp(Math.log(r)/3),a=(r/(a*a)+2*a)/3):a=r,t?-a:a},Ji=Math.expm1||function(r){return r>=2e-4||r<=-2e-4?Math.exp(r)-1:r+r*r/2+r*r*r/6};function Ca(e,r,t){var a={2:"0b",8:"0o",16:"0x"},n=a[r],o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Fe(t))throw new Error("size must be an integer");if(e>2**(t-1)-1||e<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Fe(e))throw new Error("Value must be an integer");e<0&&(e=e+2**t),o="i".concat(t)}var f="";return e<0&&(e=-e,f="-"),"".concat(f).concat(n).concat(e.toString(r)).concat(o)}function pn(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var t="auto",a,n;if(r&&(r.notation&&(t=r.notation),Ue(r)?a=r:Ue(r.precision)&&(a=r.precision),r.wordSize&&(n=r.wordSize,typeof n!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return $i(e,a);case"exponential":return ji(e,a);case"engineering":return gf(e,a);case"bin":return Ca(e,2,n);case"oct":return Ca(e,8,n);case"hex":return Ca(e,16,n);case"auto":return Df(e,a,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],f=arguments[4];return o!=="."?o+f:f});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Cn(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var t=r[1],a=r[2],n=parseFloat(r[4]||"0"),o=a.indexOf(".");n+=o!==-1?o-1:a.length-1;var f=a.replace(".","").replace(/^0*/,function(d){return n-=d.length,""}).replace(/0*$/,"").split("").map(function(d){return parseInt(d)});return f.length===0&&(f.push(0),n++),{sign:t,coefficients:f,exponent:n}}function gf(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=Cn(e),a=Fn(t,r),n=a.exponent,o=a.coefficients,f=n%3===0?n:n<0?n-3-n%3:n-n%3;if(Ue(r))for(;r>o.length||n-f+1>o.length;)o.push(0);else for(var d=Math.abs(n-f)-(o.length-1),c=0;c<d;c++)o.push(0);for(var u=Math.abs(n-f),i=1;u>0;)i++,u--;var s=o.slice(i).join(""),l=Ue(r)&&s.length||s.match(/[1-9]/)?"."+s:"",h=o.slice(0,i).join("")+l+"e"+(n>=0?"+":"")+f.toString();return a.sign+h}function $i(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=Cn(e),a=typeof r=="number"?Fn(t,t.exponent+1+r):t,n=a.coefficients,o=a.exponent+1,f=o+(r||0);return n.length<f&&(n=n.concat(_t(f-n.length))),o<0&&(n=_t(-o+1).concat(n),o=1),o<n.length&&n.splice(o,0,o===0?"0.":"."),a.sign+n.join("")}function ji(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=Cn(e),a=r?Fn(t,r):t,n=a.coefficients,o=a.exponent;n.length<r&&(n=n.concat(_t(r-n.length)));var f=n.shift();return a.sign+f+(n.length>0?"."+n.join(""):"")+"e"+(o>=0?"+":"")+o}function Df(e,r,t){if(isNaN(e)||!isFinite(e))return String(e);var a=t&&t.lowerExp!==void 0?t.lowerExp:-3,n=t&&t.upperExp!==void 0?t.upperExp:5,o=Cn(e),f=r?Fn(o,r):o;if(f.exponent<a||f.exponent>=n)return ji(e,r);var d=f.coefficients,c=f.exponent;d.length<r&&(d=d.concat(_t(r-d.length))),d=d.concat(_t(c-d.length+1+(d.length<r?r-d.length:0))),d=_t(-c).concat(d);var u=c>0?c:0;return u<d.length-1&&d.splice(u+1,0,"."),f.sign+d.join("")}function Fn(e,r){for(var t={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},a=t.coefficients;r<=0;)a.unshift(0),t.exponent++,r++;if(a.length>r){var n=a.splice(r,a.length-r);if(n[0]>=5){var o=r-1;for(a[o]++;a[o]===10;)a.pop(),o===0&&(a.unshift(0),t.exponent++,o++),o--,a[o]++}}return t}function _t(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}function eu(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var yf=Number.EPSILON||2220446049250313e-31;function br(e,r,t){if(t==null)return e===r;if(e===r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var a=Math.abs(e-r);return a<=yf?!0:a<=Math.max(Math.abs(e),Math.abs(r))*t}return!1}function Fa(e,r,t){var a=e.constructor,n=new a(2),o="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Fe(t))throw new Error("size must be an integer");if(e.greaterThan(n.pow(t-1).sub(1))||e.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(t))),o="i".concat(t)}switch(r){case 2:return"".concat(e.toBinary()).concat(o);case 8:return"".concat(e.toOctal()).concat(o);case 16:return"".concat(e.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(r," not supported "))}}function tu(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var t="auto",a,n;if(r!==void 0&&(r.notation&&(t=r.notation),typeof r=="number"?a=r:r.precision!==void 0&&(a=r.precision),r.wordSize&&(n=r.wordSize,typeof n!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return wf(e,a);case"exponential":return ru(e,a);case"engineering":return bf(e,a);case"bin":return Fa(e,2,n);case"oct":return Fa(e,8,n);case"hex":return Fa(e,16,n);case"auto":{var o=r&&r.lowerExp!==void 0?r.lowerExp:-3,f=r&&r.upperExp!==void 0?r.upperExp:5;if(e.isZero())return"0";var d,c=e.toSignificantDigits(a),u=c.e;return u>=o&&u<f?d=c.toFixed():d=ru(e,a),d.replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],s=arguments[4];return i!=="."?i+s:s})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function bf(e,r){var t=e.e,a=t%3===0?t:t<0?t-3-t%3:t-t%3,n=e.mul(Math.pow(10,-a)),o=n.toPrecision(r);if(o.indexOf("e")!==-1){var f=e.constructor;o=new f(o).toFixed()}return o+"e"+(t>=0?"+":"")+a.toString()}function ru(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function wf(e,r){return e.toFixed(r)}function Le(e,r){var t=_f(e,r);return r&&typeof r=="object"&&"truncate"in r&&t.length>r.truncate?t.substring(0,r.truncate-3)+"...":t}function _f(e,r){if(typeof e=="number")return pn(e,r);if(We(e))return tu(e,r);if(Ef(e))return!r||r.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return ou(e,r);if(pr(e))return nu(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var t=Object.keys(e).map(a=>nu(a)+": "+Le(e[a],r));return"{"+t.join(", ")+"}"}return String(e)}function nu(e){for(var r=String(e),t="",a=0;a<r.length;){var n=r.charAt(a);t+=n in au?au[n]:n,a++}return'"'+t+'"'}var au={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function ou(e,r){if(Array.isArray(e)){for(var t="[",a=e.length,n=0;n<a;n++)n!==0&&(t+=", "),t+=ou(e[n],r);return t+="]",t}else return Le(e,r)}function Ef(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function be(e,r,t){if(!(this instanceof be))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}be.prototype=new RangeError;be.prototype.constructor=RangeError;be.prototype.name="DimensionError";be.prototype.isDimensionError=!0;function Yr(e,r,t){if(!(this instanceof Yr))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Yr.prototype=new RangeError;Yr.prototype.constructor=RangeError;Yr.prototype.name="IndexError";Yr.prototype.isIndexError=!0;function Je(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function iu(e,r,t){var a,n=e.length;if(n!==r[t])throw new be(n,r[t]);if(t<r.length-1){var o=t+1;for(a=0;a<n;a++){var f=e[a];if(!Array.isArray(f))throw new be(r.length-1,r.length,"<");iu(e[a],r,o)}}else for(a=0;a<n;a++)if(Array.isArray(e[a]))throw new be(r.length+1,r.length,">")}function Ma(e,r){var t=r.length===0;if(t){if(Array.isArray(e))throw new be(e.length,0)}else iu(e,r,0)}function Qe(e,r){if(e!==void 0){if(!Ue(e)||!Fe(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new Yr(e,r)}}function mt(e,r,t){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(n){if(!Ue(n)||!Fe(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Le(r)+")")}),(Ue(e)||We(e))&&(e=[e]);var a=t!==void 0?t:0;return Sa(e,r,0,a),e}function Sa(e,r,t,a){var n,o,f=e.length,d=r[t],c=Math.min(f,d);if(e.length=d,t<r.length-1){var u=t+1;for(n=0;n<c;n++)o=e[n],Array.isArray(o)||(o=[o],e[n]=o),Sa(o,r,u,a);for(n=c;n<d;n++)o=[],e[n]=o,Sa(o,r,u,a)}else{for(n=0;n<c;n++)for(;Array.isArray(e[n]);)e[n]=e[n][0];for(n=c;n<d;n++)e[n]=a}}function Na(e,r){var t=Cf(e),a=t.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new be(0,a,"!=");r=dn(r,a);var n=uu(r);if(a!==n)throw new be(n,a,"!=");try{return Af(t,r)}catch(o){throw o instanceof be?new be(n,a,"!="):o}}function dn(e,r){var t=uu(e),a=e.slice(),n=-1,o=e.indexOf(n),f=e.indexOf(n,o+1)>=0;if(f)throw new Error("More than one wildcard in sizes");var d=o>=0,c=r%t===0;if(d)if(c)a[o]=-r/t;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-t);return a}function uu(e){return e.reduce((r,t)=>r*t,1)}function Af(e,r){for(var t=e,a,n=r.length-1;n>0;n--){var o=r[n];a=[];for(var f=t.length/o,d=0;d<f;d++)a.push(t.slice(d*o,(d+1)*o));t=a}return t}function Sn(e,r,t,a){var n=a||Je(e);if(t)for(var o=0;o<t;o++)e=[e],n.unshift(1);for(e=su(e,r,0);n.length<r;)n.push(1);return e}function su(e,r,t){var a,n;if(Array.isArray(e)){var o=t+1;for(a=0,n=e.length;a<n;a++)e[a]=su(e[a],r,o)}else for(var f=t;f<r;f++)e=[e];return e}function Cf(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function t(a){Array.isArray(a)?a.forEach(t):r.push(a)}),r}function Et(e,r){for(var t,a=0,n=0;n<e.length;n++){var o=e[n],f=Array.isArray(o);if(n===0&&f&&(a=o.length),f&&o.length!==a)return;var d=f?Et(o,r):r(o);if(t===void 0)t=d;else if(t!==d)return"mixed"}return t}function fu(e,r,t,a){if(a<t){if(e.length!==r.length)throw new be(e.length,r.length);for(var n=[],o=0;o<e.length;o++)n[o]=fu(e[o],r[o],t,a+1);return n}else return e.concat(r)}function Ba(){var e=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(t,a){return fu(t,a,r,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Ff(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var a=r.map(l=>l.length),n=Math.max(...a),o=new Array(n).fill(null),f=0;f<r.length;f++)for(var d=r[f],c=a[f],u=0;u<c;u++){var i=n-c+u;d[u]>o[i]&&(o[i]=d[u])}for(var s=0;s<r.length;s++)vn(r[s],o);return o}function vn(e,r){for(var t=r.length,a=e.length,n=0;n<a;n++){var o=t-a+n;if(e[n]<r[o]&&e[n]>1||e[n]>r[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(a," with size ").concat(e[n]," to size ").concat(r[o]))}}function Ta(e,r){var t=Je(e);if(Zr(t,r))return e;vn(t,r);var a=Ff(t,r),n=a.length,o=[...Array(n-t.length).fill(1),...t],f=Mf(e);t.length<n&&(f=Na(f,o),t=Je(f));for(var d=0;d<n;d++)t[d]<a[d]&&(f=Sf(f,a[d],d),t=Je(f));return f}function Sf(e,r,t){return Ba(...Array(r).fill(e),t)}function Mf(e){return vt([],e)}function G(e,r,t,a){function n(o){var f=Zi(o,r.map(Tf));return Nf(e,r,o),t(f)}return n.isFactory=!0,n.fn=e,n.dependencies=r.slice().sort(),a&&(n.meta=a),n}function Nf(e,r,t){var a=r.filter(o=>!Bf(o)).every(o=>t[o]!==void 0);if(!a){var n=r.filter(o=>t[o]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function Bf(e){return e&&e[0]==="?"}function Tf(e){return e&&e[0]==="?"?e.slice(1):e}function cu(e,r){if(vu(e)&&du(e,r))return e[r];throw typeof e[r]=="function"&&If(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function lu(e,r,t){if(vu(e)&&du(e,r))return e[r]=t,t;throw new Error('No access to property "'+r+'"')}function pu(e,r){return r in e}function du(e,r){return!e||typeof e!="object"?!1:wt(zf,r)?!0:!(r in Object.prototype||r in Function.prototype)}function If(e,r){return e==null||typeof e[r]!="function"||wt(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:wt(Rf,r)?!0:!(r in Object.prototype||r in Function.prototype)}function vu(e){return typeof e=="object"&&e&&e.constructor===Object}var zf={length:!0,name:!0},Rf={toString:!0,valueOf:!0,toLocaleString:!0};var Ia=class{constructor(r){this.wrappedObject=r}keys(){return Object.keys(this.wrappedObject)}get(r){return cu(this.wrappedObject,r)}set(r,t){return lu(this.wrappedObject,r,t),this}has(r){return pu(this.wrappedObject,r)}};function hu(e){return e?e instanceof Map||e instanceof Ia||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var mu=function(){return mu=Pa.default.create,Pa.default},Pf=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Oa=G("typed",Pf,function(r){var{BigNumber:t,Complex:a,DenseMatrix:n,Fraction:o}=r,f=mu();return f.clear(),f.addTypes([{name:"number",test:Ue},{name:"Complex",test:wa},{name:"BigNumber",test:We},{name:"Fraction",test:_a},{name:"Unit",test:wn},{name:"identifier",test:d=>pr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(d)},{name:"string",test:pr},{name:"Chain",test:Ui},{name:"Array",test:Ve},{name:"Matrix",test:ze},{name:"DenseMatrix",test:_n},{name:"SparseMatrix",test:En},{name:"Range",test:hi},{name:"Index",test:bt},{name:"boolean",test:mi},{name:"ResultSet",test:xi},{name:"Help",test:gi},{name:"function",test:Di},{name:"Date",test:yi},{name:"RegExp",test:bi},{name:"null",test:wi},{name:"undefined",test:_i},{name:"AccessorNode",test:Ei},{name:"ArrayNode",test:Ai},{name:"AssignmentNode",test:Ci},{name:"BlockNode",test:Fi},{name:"ConditionalNode",test:Si},{name:"ConstantNode",test:Mi},{name:"FunctionNode",test:Bi},{name:"FunctionAssignmentNode",test:Ni},{name:"IndexNode",test:Ti},{name:"Node",test:Ii},{name:"ObjectNode",test:zi},{name:"OperatorNode",test:Ri},{name:"ParenthesisNode",test:Pi},{name:"RangeNode",test:Oi},{name:"RelationalNode",test:Li},{name:"SymbolNode",test:qi},{name:"Map",test:hu},{name:"Object",test:An}]),f.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(t||za(c),eu(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new t(c)}},{from:"number",to:"Complex",convert:function(c){return a||Mn(c),new a(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return a||Mn(c),new a(c.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return a||Mn(c),new a(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){o||Ra(c);var u=new o(c);if(u.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(c){var u=Number(c);if(isNaN(u))throw new Error('Cannot convert "'+c+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(c){t||za(c);try{return new t(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(c){o||Ra(c);try{return new o(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){a||Mn(c);try{return new a(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return t||za(c),new t(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return o||Ra(c),new o(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return n||Of(),new n(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),f.onMismatch=(d,c,u)=>{var i=f.createError(d,c,u);if(["wrongType","mismatch"].includes(i.data.category)&&c.length===1&&ht(c[0])&&u.some(l=>!l.params.includes(","))){var s=new TypeError("Function '".concat(d,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(d,")'."));throw s.data=i.data,s}throw i},f.onMismatch=(d,c,u)=>{var i=f.createError(d,c,u);if(["wrongType","mismatch"].includes(i.data.category)&&c.length===1&&ht(c[0])&&u.some(l=>!l.params.includes(","))){var s=new TypeError("Function '".concat(d,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(d,")'."));throw s.data=i.data,s}throw i},f});function za(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Mn(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Of(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ra(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var At=9e15,et=1e9,La="0123456789abcdef",Bn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Tn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",qa={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-At,maxE:At,crypto:!1},yu,Wr,De=!0,zn="[DecimalError] ",jr=zn+"Invalid argument: ",bu=zn+"Precision limit exceeded",wu=zn+"crypto unavailable",_u="[object Decimal]",sr=Math.floor,rr=Math.pow,Lf=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,qf=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Uf=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Eu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sr=1e7,me=7,Vf=9007199254740991,Zf=Bn.length-1,Ua=Tn.length-1,$={toStringTag:_u};$.absoluteValue=$.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ve(e)};$.ceil=function(){return ve(new this.constructor(this),this.e+1,2)};$.clampedTo=$.clamp=function(e,r){var t,a=this,n=a.constructor;if(e=new n(e),r=new n(r),!e.s||!r.s)return new n(NaN);if(e.gt(r))throw Error(jr+r);return t=a.cmp(e),t<0?e:a.cmp(r)>0?r:new n(a)};$.comparedTo=$.cmp=function(e){var r,t,a,n,o=this,f=o.d,d=(e=new o.constructor(e)).d,c=o.s,u=e.s;if(!f||!d)return!c||!u?NaN:c!==u?c:f===d?0:!f^c<0?1:-1;if(!f[0]||!d[0])return f[0]?c:d[0]?-u:0;if(c!==u)return c;if(o.e!==e.e)return o.e>e.e^c<0?1:-1;for(a=f.length,n=d.length,r=0,t=a<n?a:n;r<t;++r)if(f[r]!==d[r])return f[r]>d[r]^c<0?1:-1;return a===n?0:a>n^c<0?1:-1};$.cosine=$.cos=function(){var e,r,t=this,a=t.constructor;return t.d?t.d[0]?(e=a.precision,r=a.rounding,a.precision=e+Math.max(t.e,t.sd())+me,a.rounding=1,t=Yf(a,Mu(a,t)),a.precision=e,a.rounding=r,ve(Wr==2||Wr==3?t.neg():t,e,r,!0)):new a(1):new a(NaN)};$.cubeRoot=$.cbrt=function(){var e,r,t,a,n,o,f,d,c,u,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);for(De=!1,o=i.s*rr(i.s*i,1/3),!o||Math.abs(o)==1/0?(t=ir(i.d),e=i.e,(o=(e-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=rr(t,1/3),e=sr((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new s(t),a.s=i.s):a=new s(o.toString()),f=(e=s.precision)+3;;)if(d=a,c=d.times(d).times(d),u=c.plus(i),a=ke(u.plus(i).times(d),u.plus(c),f+2,1),ir(d.d).slice(0,f)===(t=ir(a.d)).slice(0,f))if(t=t.slice(f-3,f+1),t=="9999"||!n&&t=="4999"){if(!n&&(ve(d,e+1,0),d.times(d).times(d).eq(i))){a=d;break}f+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ve(a,e+1,1),r=!a.times(a).times(a).eq(i));break}return De=!0,ve(a,e,s.rounding,r)};$.decimalPlaces=$.dp=function(){var e,r=this.d,t=NaN;if(r){if(e=r.length-1,t=(e-sr(this.e/me))*me,e=r[e],e)for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t};$.dividedBy=$.div=function(e){return ke(this,new this.constructor(e))};$.dividedToIntegerBy=$.divToInt=function(e){var r=this,t=r.constructor;return ve(ke(r,new t(e),0,1,1),t.precision,t.rounding)};$.equals=$.eq=function(e){return this.cmp(e)===0};$.floor=function(){return ve(new this.constructor(this),this.e+1,3)};$.greaterThan=$.gt=function(e){return this.cmp(e)>0};$.greaterThanOrEqualTo=$.gte=function(e){var r=this.cmp(e);return r==1||r===0};$.hyperbolicCosine=$.cosh=function(){var e,r,t,a,n,o=this,f=o.constructor,d=new f(1);if(!o.isFinite())return new f(o.s?1/0:NaN);if(o.isZero())return d;t=f.precision,a=f.rounding,f.precision=t+Math.max(o.e,o.sd())+4,f.rounding=1,n=o.d.length,n<32?(e=Math.ceil(n/3),r=(1/Pn(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),o=Ct(f,1,o.times(r),new f(1),!0);for(var c,u=e,i=new f(8);u--;)c=o.times(o),o=d.minus(c.times(i.minus(c.times(i))));return ve(o,f.precision=t,f.rounding=a,!0)};$.hyperbolicSine=$.sinh=function(){var e,r,t,a,n=this,o=n.constructor;if(!n.isFinite()||n.isZero())return new o(n);if(r=o.precision,t=o.rounding,o.precision=r+Math.max(n.e,n.sd())+4,o.rounding=1,a=n.d.length,a<3)n=Ct(o,2,n,n,!0);else{e=1.4*Math.sqrt(a),e=e>16?16:e|0,n=n.times(1/Pn(5,e)),n=Ct(o,2,n,n,!0);for(var f,d=new o(5),c=new o(16),u=new o(20);e--;)f=n.times(n),n=n.times(d.plus(f.times(c.times(f).plus(u))))}return o.precision=r,o.rounding=t,ve(n,r,t,!0)};$.hyperbolicTangent=$.tanh=function(){var e,r,t=this,a=t.constructor;return t.isFinite()?t.isZero()?new a(t):(e=a.precision,r=a.rounding,a.precision=e+7,a.rounding=1,ke(t.sinh(),t.cosh(),a.precision=e,a.rounding=r)):new a(t.s)};$.inverseCosine=$.acos=function(){var e,r=this,t=r.constructor,a=r.abs().cmp(1),n=t.precision,o=t.rounding;return a!==-1?a===0?r.isNeg()?Fr(t,n,o):new t(0):new t(NaN):r.isZero()?Fr(t,n+4,o).times(.5):(t.precision=n+6,t.rounding=1,r=r.asin(),e=Fr(t,n+4,o).times(.5),t.precision=n,t.rounding=o,e.minus(r))};$.inverseHyperbolicCosine=$.acosh=function(){var e,r,t=this,a=t.constructor;return t.lte(1)?new a(t.eq(1)?0:NaN):t.isFinite()?(e=a.precision,r=a.rounding,a.precision=e+Math.max(Math.abs(t.e),t.sd())+4,a.rounding=1,De=!1,t=t.times(t).minus(1).sqrt().plus(t),De=!0,a.precision=e,a.rounding=r,t.ln()):new a(t)};$.inverseHyperbolicSine=$.asinh=function(){var e,r,t=this,a=t.constructor;return!t.isFinite()||t.isZero()?new a(t):(e=a.precision,r=a.rounding,a.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,a.rounding=1,De=!1,t=t.times(t).plus(1).sqrt().plus(t),De=!0,a.precision=e,a.rounding=r,t.ln())};$.inverseHyperbolicTangent=$.atanh=function(){var e,r,t,a,n=this,o=n.constructor;return n.isFinite()?n.e>=0?new o(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=o.precision,r=o.rounding,a=n.sd(),Math.max(a,e)<2*-n.e-1?ve(new o(n),e,r,!0):(o.precision=t=a-n.e,n=ke(n.plus(1),new o(1).minus(n),t+e,1),o.precision=e+4,o.rounding=1,n=n.ln(),o.precision=e,o.rounding=r,n.times(.5))):new o(NaN)};$.inverseSine=$.asin=function(){var e,r,t,a,n=this,o=n.constructor;return n.isZero()?new o(n):(r=n.abs().cmp(1),t=o.precision,a=o.rounding,r!==-1?r===0?(e=Fr(o,t+4,a).times(.5),e.s=n.s,e):new o(NaN):(o.precision=t+6,o.rounding=1,n=n.div(new o(1).minus(n.times(n)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=a,n.times(2)))};$.inverseTangent=$.atan=function(){var e,r,t,a,n,o,f,d,c,u=this,i=u.constructor,s=i.precision,l=i.rounding;if(u.isFinite()){if(u.isZero())return new i(u);if(u.abs().eq(1)&&s+4<=Ua)return f=Fr(i,s+4,l).times(.25),f.s=u.s,f}else{if(!u.s)return new i(NaN);if(s+4<=Ua)return f=Fr(i,s+4,l).times(.5),f.s=u.s,f}for(i.precision=d=s+10,i.rounding=1,t=Math.min(28,d/me+2|0),e=t;e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(De=!1,r=Math.ceil(d/me),a=1,c=u.times(u),f=new i(u),n=u;e!==-1;)if(n=n.times(c),o=f.minus(n.div(a+=2)),n=n.times(c),f=o.plus(n.div(a+=2)),f.d[r]!==void 0)for(e=r;f.d[e]===o.d[e]&&e--;);return t&&(f=f.times(2<<t-1)),De=!0,ve(f,i.precision=s,i.rounding=l,!0)};$.isFinite=function(){return!!this.d};$.isInteger=$.isInt=function(){return!!this.d&&sr(this.e/me)>this.d.length-2};$.isNaN=function(){return!this.s};$.isNegative=$.isNeg=function(){return this.s<0};$.isPositive=$.isPos=function(){return this.s>0};$.isZero=function(){return!!this.d&&this.d[0]===0};$.lessThan=$.lt=function(e){return this.cmp(e)<0};$.lessThanOrEqualTo=$.lte=function(e){return this.cmp(e)<1};$.logarithm=$.log=function(e){var r,t,a,n,o,f,d,c,u=this,i=u.constructor,s=i.precision,l=i.rounding,h=5;if(e==null)e=new i(10),r=!0;else{if(e=new i(e),t=e.d,e.s<0||!t||!t[0]||e.eq(1))return new i(NaN);r=e.eq(10)}if(t=u.d,u.s<0||!t||!t[0]||u.eq(1))return new i(t&&!t[0]?-1/0:u.s!=1?NaN:t?0:1/0);if(r)if(t.length>1)o=!0;else{for(n=t[0];n%10===0;)n/=10;o=n!==1}if(De=!1,d=s+h,f=$r(u,d),a=r?In(i,d+10):$r(e,d),c=ke(f,a,d,1),hn(c.d,n=s,l))do if(d+=10,f=$r(u,d),a=r?In(i,d+10):$r(e,d),c=ke(f,a,d,1),!o){+ir(c.d).slice(n+1,n+15)+1==1e14&&(c=ve(c,s+1,0));break}while(hn(c.d,n+=10,l));return De=!0,ve(c,s,l)};$.minus=$.sub=function(e){var r,t,a,n,o,f,d,c,u,i,s,l,h=this,y=h.constructor;if(e=new y(e),!h.d||!e.d)return!h.s||!e.s?e=new y(NaN):h.d?e.s=-e.s:e=new y(e.d||h.s!==e.s?h:NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(u=h.d,l=e.d,d=y.precision,c=y.rounding,!u[0]||!l[0]){if(l[0])e.s=-e.s;else if(u[0])e=new y(h);else return new y(c===3?-0:0);return De?ve(e,d,c):e}if(t=sr(e.e/me),i=sr(h.e/me),u=u.slice(),o=i-t,o){for(s=o<0,s?(r=u,o=-o,f=l.length):(r=l,t=i,f=u.length),a=Math.max(Math.ceil(d/me),f)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,f=l.length,s=a<f,s&&(f=a),a=0;a<f;a++)if(u[a]!=l[a]){s=u[a]<l[a];break}o=0}for(s&&(r=u,u=l,l=r,e.s=-e.s),f=u.length,a=l.length-f;a>0;--a)u[f++]=0;for(a=l.length;a>o;){if(u[--a]<l[a]){for(n=a;n&&u[--n]===0;)u[n]=Sr-1;--u[n],u[a]+=Sr}u[a]-=l[a]}for(;u[--f]===0;)u.pop();for(;u[0]===0;u.shift())--t;return u[0]?(e.d=u,e.e=Rn(u,t),De?ve(e,d,c):e):new y(c===3?-0:0)};$.modulo=$.mod=function(e){var r,t=this,a=t.constructor;return e=new a(e),!t.d||!e.s||e.d&&!e.d[0]?new a(NaN):!e.d||t.d&&!t.d[0]?ve(new a(t),a.precision,a.rounding):(De=!1,a.modulo==9?(r=ke(t,e.abs(),0,3,1),r.s*=e.s):r=ke(t,e,0,a.modulo,1),r=r.times(e),De=!0,t.minus(r))};$.naturalExponential=$.exp=function(){return Va(this)};$.naturalLogarithm=$.ln=function(){return $r(this)};$.negated=$.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ve(e)};$.plus=$.add=function(e){var r,t,a,n,o,f,d,c,u,i,s=this,l=s.constructor;if(e=new l(e),!s.d||!e.d)return!s.s||!e.s?e=new l(NaN):s.d||(e=new l(e.d||s.s===e.s?s:NaN)),e;if(s.s!=e.s)return e.s=-e.s,s.minus(e);if(u=s.d,i=e.d,d=l.precision,c=l.rounding,!u[0]||!i[0])return i[0]||(e=new l(s)),De?ve(e,d,c):e;if(o=sr(s.e/me),a=sr(e.e/me),u=u.slice(),n=o-a,n){for(n<0?(t=u,n=-n,f=i.length):(t=i,a=o,f=u.length),o=Math.ceil(d/me),f=o>f?o+1:f+1,n>f&&(n=f,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(f=u.length,n=i.length,f-n<0&&(n=f,t=i,i=u,u=t),r=0;n;)r=(u[--n]=u[n]+i[n]+r)/Sr|0,u[n]%=Sr;for(r&&(u.unshift(r),++a),f=u.length;u[--f]==0;)u.pop();return e.d=u,e.e=Rn(u,a),De?ve(e,d,c):e};$.precision=$.sd=function(e){var r,t=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jr+e);return t.d?(r=Au(t.d),e&&t.e+1>r&&(r=t.e+1)):r=NaN,r};$.round=function(){var e=this,r=e.constructor;return ve(new r(e),e.e+1,r.rounding)};$.sine=$.sin=function(){var e,r,t=this,a=t.constructor;return t.isFinite()?t.isZero()?new a(t):(e=a.precision,r=a.rounding,a.precision=e+Math.max(t.e,t.sd())+me,a.rounding=1,t=kf(a,Mu(a,t)),a.precision=e,a.rounding=r,ve(Wr>2?t.neg():t,e,r,!0)):new a(NaN)};$.squareRoot=$.sqrt=function(){var e,r,t,a,n,o,f=this,d=f.d,c=f.e,u=f.s,i=f.constructor;if(u!==1||!d||!d[0])return new i(!u||u<0&&(!d||d[0])?NaN:d?f:1/0);for(De=!1,u=Math.sqrt(+f),u==0||u==1/0?(r=ir(d),(r.length+c)%2==0&&(r+="0"),u=Math.sqrt(r),c=sr((c+1)/2)-(c<0||c%2),u==1/0?r="5e"+c:(r=u.toExponential(),r=r.slice(0,r.indexOf("e")+1)+c),a=new i(r)):a=new i(u.toString()),t=(c=i.precision)+3;;)if(o=a,a=o.plus(ke(f,o,t+2,1)).times(.5),ir(o.d).slice(0,t)===(r=ir(a.d)).slice(0,t))if(r=r.slice(t-3,t+1),r=="9999"||!n&&r=="4999"){if(!n&&(ve(o,c+1,0),o.times(o).eq(f))){a=o;break}t+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(ve(a,c+1,1),e=!a.times(a).eq(f));break}return De=!0,ve(a,c,i.rounding,e)};$.tangent=$.tan=function(){var e,r,t=this,a=t.constructor;return t.isFinite()?t.isZero()?new a(t):(e=a.precision,r=a.rounding,a.precision=e+10,a.rounding=1,t=t.sin(),t.s=1,t=ke(t,new a(1).minus(t.times(t)).sqrt(),e+10,0),a.precision=e,a.rounding=r,ve(Wr==2||Wr==4?t.neg():t,e,r,!0)):new a(NaN)};$.times=$.mul=function(e){var r,t,a,n,o,f,d,c,u,i=this,s=i.constructor,l=i.d,h=(e=new s(e)).d;if(e.s*=i.s,!l||!l[0]||!h||!h[0])return new s(!e.s||l&&!l[0]&&!h||h&&!h[0]&&!l?NaN:!l||!h?e.s/0:e.s*0);for(t=sr(i.e/me)+sr(e.e/me),c=l.length,u=h.length,c<u&&(o=l,l=h,h=o,f=c,c=u,u=f),o=[],f=c+u,a=f;a--;)o.push(0);for(a=u;--a>=0;){for(r=0,n=c+a;n>a;)d=o[n]+h[a]*l[n-a-1]+r,o[n--]=d%Sr|0,r=d/Sr|0;o[n]=(o[n]+r)%Sr|0}for(;!o[--f];)o.pop();return r?++t:o.shift(),e.d=o,e.e=Rn(o,t),De?ve(e,s.precision,s.rounding):e};$.toBinary=function(e,r){return Ya(this,2,e,r)};$.toDecimalPlaces=$.toDP=function(e,r){var t=this,a=t.constructor;return t=new a(t),e===void 0?t:(dr(e,0,et),r===void 0?r=a.rounding:dr(r,0,8),ve(t,e+t.e+1,r))};$.toExponential=function(e,r){var t,a=this,n=a.constructor;return e===void 0?t=Or(a,!0):(dr(e,0,et),r===void 0?r=n.rounding:dr(r,0,8),a=ve(new n(a),e+1,r),t=Or(a,!0,e+1)),a.isNeg()&&!a.isZero()?"-"+t:t};$.toFixed=function(e,r){var t,a,n=this,o=n.constructor;return e===void 0?t=Or(n):(dr(e,0,et),r===void 0?r=o.rounding:dr(r,0,8),a=ve(new o(n),e+n.e+1,r),t=Or(a,!1,e+a.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};$.toFraction=function(e){var r,t,a,n,o,f,d,c,u,i,s,l,h=this,y=h.d,p=h.constructor;if(!y)return new p(h);if(u=t=new p(1),a=c=new p(0),r=new p(a),o=r.e=Au(y)-h.e-1,f=o%me,r.d[0]=rr(10,f<0?me+f:f),e==null)e=o>0?r:u;else{if(d=new p(e),!d.isInt()||d.lt(u))throw Error(jr+d);e=d.gt(r)?o>0?r:u:d}for(De=!1,d=new p(ir(y)),i=p.precision,p.precision=o=y.length*me*2;s=ke(d,r,0,1,1),n=t.plus(s.times(a)),n.cmp(e)!=1;)t=a,a=n,n=u,u=c.plus(s.times(n)),c=n,n=r,r=d.minus(s.times(n)),d=n;return n=ke(e.minus(t),a,0,1,1),c=c.plus(n.times(u)),t=t.plus(n.times(a)),c.s=u.s=h.s,l=ke(u,a,o,1).minus(h).abs().cmp(ke(c,t,o,1).minus(h).abs())<1?[u,a]:[c,t],p.precision=i,De=!0,l};$.toHexadecimal=$.toHex=function(e,r){return Ya(this,16,e,r)};$.toNearest=function(e,r){var t=this,a=t.constructor;if(t=new a(t),e==null){if(!t.d)return t;e=new a(1),r=a.rounding}else{if(e=new a(e),r===void 0?r=a.rounding:dr(r,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(De=!1,t=ke(t,e,0,r,1).times(e),De=!0,ve(t)):(e.s=t.s,t=e),t};$.toNumber=function(){return+this};$.toOctal=function(e,r){return Ya(this,8,e,r)};$.toPower=$.pow=function(e){var r,t,a,n,o,f,d=this,c=d.constructor,u=+(e=new c(e));if(!d.d||!e.d||!d.d[0]||!e.d[0])return new c(rr(+d,u));if(d=new c(d),d.eq(1))return d;if(a=c.precision,o=c.rounding,e.eq(1))return ve(d,a,o);if(r=sr(e.e/me),r>=e.d.length-1&&(t=u<0?-u:u)<=Vf)return n=Cu(c,d,t,a),e.s<0?new c(1).div(n):ve(n,a,o);if(f=d.s,f<0){if(r<e.d.length-1)return new c(NaN);if((e.d[r]&1)==0&&(f=1),d.e==0&&d.d[0]==1&&d.d.length==1)return d.s=f,d}return t=rr(+d,u),r=t==0||!isFinite(t)?sr(u*(Math.log("0."+ir(d.d))/Math.LN10+d.e+1)):new c(t+"").e,r>c.maxE+1||r<c.minE-1?new c(r>0?f/0:0):(De=!1,c.rounding=d.s=1,t=Math.min(12,(r+"").length),n=Va(e.times($r(d,a+t)),a),n.d&&(n=ve(n,a+5,1),hn(n.d,a,o)&&(r=a+10,n=ve(Va(e.times($r(d,r+t)),r),r+5,1),+ir(n.d).slice(a+1,a+15)+1==1e14&&(n=ve(n,a+1,0)))),n.s=f,De=!0,c.rounding=o,ve(n,a,o))};$.toPrecision=function(e,r){var t,a=this,n=a.constructor;return e===void 0?t=Or(a,a.e<=n.toExpNeg||a.e>=n.toExpPos):(dr(e,1,et),r===void 0?r=n.rounding:dr(r,0,8),a=ve(new n(a),e,r),t=Or(a,e<=a.e||a.e<=n.toExpNeg,e)),a.isNeg()&&!a.isZero()?"-"+t:t};$.toSignificantDigits=$.toSD=function(e,r){var t=this,a=t.constructor;return e===void 0?(e=a.precision,r=a.rounding):(dr(e,1,et),r===void 0?r=a.rounding:dr(r,0,8)),ve(new a(t),e,r)};$.toString=function(){var e=this,r=e.constructor,t=Or(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t};$.truncated=$.trunc=function(){return ve(new this.constructor(this),this.e+1,1)};$.valueOf=$.toJSON=function(){var e=this,r=e.constructor,t=Or(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+t:t};function ir(e){var r,t,a,n=e.length-1,o="",f=e[0];if(n>0){for(o+=f,r=1;r<n;r++)a=e[r]+"",t=me-a.length,t&&(o+=Jr(t)),o+=a;f=e[r],a=f+"",t=me-a.length,t&&(o+=Jr(t))}else if(f===0)return"0";for(;f%10===0;)f/=10;return o+f}function dr(e,r,t){if(e!==~~e||e<r||e>t)throw Error(jr+e)}function hn(e,r,t,a){var n,o,f,d;for(o=e[0];o>=10;o/=10)--r;return--r<0?(r+=me,n=0):(n=Math.ceil((r+1)/me),r%=me),o=rr(10,me-r),d=e[n]%o|0,a==null?r<3?(r==0?d=d/100|0:r==1&&(d=d/10|0),f=t<4&&d==99999||t>3&&d==49999||d==5e4||d==0):f=(t<4&&d+1==o||t>3&&d+1==o/2)&&(e[n+1]/o/100|0)==rr(10,r-2)-1||(d==o/2||d==0)&&(e[n+1]/o/100|0)==0:r<4?(r==0?d=d/1e3|0:r==1?d=d/100|0:r==2&&(d=d/10|0),f=(a||t<4)&&d==9999||!a&&t>3&&d==4999):f=((a||t<4)&&d+1==o||!a&&t>3&&d+1==o/2)&&(e[n+1]/o/1e3|0)==rr(10,r-3)-1,f}function Nn(e,r,t){for(var a,n=[0],o,f=0,d=e.length;f<d;){for(o=n.length;o--;)n[o]*=r;for(n[0]+=La.indexOf(e.charAt(f++)),a=0;a<n.length;a++)n[a]>t-1&&(n[a+1]===void 0&&(n[a+1]=0),n[a+1]+=n[a]/t|0,n[a]%=t)}return n.reverse()}function Yf(e,r){var t,a,n;if(r.isZero())return r;a=r.d.length,a<32?(t=Math.ceil(a/3),n=(1/Pn(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),e.precision+=t,r=Ct(e,1,r.times(n),new e(1));for(var o=t;o--;){var f=r.times(r);r=f.times(f).minus(f).times(8).plus(1)}return e.precision-=t,r}var ke=function(){function e(a,n,o){var f,d=0,c=a.length;for(a=a.slice();c--;)f=a[c]*n+d,a[c]=f%o|0,d=f/o|0;return d&&a.unshift(d),a}function r(a,n,o,f){var d,c;if(o!=f)c=o>f?1:-1;else for(d=c=0;d<o;d++)if(a[d]!=n[d]){c=a[d]>n[d]?1:-1;break}return c}function t(a,n,o,f){for(var d=0;o--;)a[o]-=d,d=a[o]<n[o]?1:0,a[o]=d*f+a[o]-n[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,o,f,d,c){var u,i,s,l,h,y,p,m,D,_,b,B,C,x,M,N,F,T,z,P,K=a.constructor,W=a.s==n.s?1:-1,X=a.d,V=n.d;if(!X||!X[0]||!V||!V[0])return new K(!a.s||!n.s||(X?V&&X[0]==V[0]:!V)?NaN:X&&X[0]==0||!V?W*0:W/0);for(c?(h=1,i=a.e-n.e):(c=Sr,h=me,i=sr(a.e/h)-sr(n.e/h)),z=V.length,F=X.length,D=new K(W),_=D.d=[],s=0;V[s]==(X[s]||0);s++);if(V[s]>(X[s]||0)&&i--,o==null?(x=o=K.precision,f=K.rounding):d?x=o+(a.e-n.e)+1:x=o,x<0)_.push(1),y=!0;else{if(x=x/h+2|0,s=0,z==1){for(l=0,V=V[0],x++;(s<F||l)&&x--;s++)M=l*c+(X[s]||0),_[s]=M/V|0,l=M%V|0;y=l||s<F}else{for(l=c/(V[0]+1)|0,l>1&&(V=e(V,l,c),X=e(X,l,c),z=V.length,F=X.length),N=z,b=X.slice(0,z),B=b.length;B<z;)b[B++]=0;P=V.slice(),P.unshift(0),T=V[0],V[1]>=c/2&&++T;do l=0,u=r(V,b,z,B),u<0?(C=b[0],z!=B&&(C=C*c+(b[1]||0)),l=C/T|0,l>1?(l>=c&&(l=c-1),p=e(V,l,c),m=p.length,B=b.length,u=r(p,b,m,B),u==1&&(l--,t(p,z<m?P:V,m,c))):(l==0&&(u=l=1),p=V.slice()),m=p.length,m<B&&p.unshift(0),t(b,p,B,c),u==-1&&(B=b.length,u=r(V,b,z,B),u<1&&(l++,t(b,z<B?P:V,B,c))),B=b.length):u===0&&(l++,b=[0]),_[s++]=l,u&&b[0]?b[B++]=X[N]||0:(b=[X[N]],B=1);while((N++<F||b[0]!==void 0)&&x--);y=b[0]!==void 0}_[0]||_.shift()}if(h==1)D.e=i,yu=y;else{for(s=1,l=_[0];l>=10;l/=10)s++;D.e=s+i*h-1,ve(D,d?o+D.e+1:o,f,y)}return D}}();function ve(e,r,t,a){var n,o,f,d,c,u,i,s,l,h=e.constructor;e:if(r!=null){if(s=e.d,!s)return e;for(n=1,d=s[0];d>=10;d/=10)n++;if(o=r-n,o<0)o+=me,f=r,i=s[l=0],c=i/rr(10,n-f-1)%10|0;else if(l=Math.ceil((o+1)/me),d=s.length,l>=d)if(a){for(;d++<=l;)s.push(0);i=c=0,n=1,o%=me,f=o-me+1}else break e;else{for(i=d=s[l],n=1;d>=10;d/=10)n++;o%=me,f=o-me+n,c=f<0?0:i/rr(10,n-f-1)%10|0}if(a=a||r<0||s[l+1]!==void 0||(f<0?i:i%rr(10,n-f-1)),u=t<4?(c||a)&&(t==0||t==(e.s<0?3:2)):c>5||c==5&&(t==4||a||t==6&&(o>0?f>0?i/rr(10,n-f):0:s[l-1])%10&1||t==(e.s<0?8:7)),r<1||!s[0])return s.length=0,u?(r-=e.e+1,s[0]=rr(10,(me-r%me)%me),e.e=-r||0):s[0]=e.e=0,e;if(o==0?(s.length=l,d=1,l--):(s.length=l+1,d=rr(10,me-o),s[l]=f>0?(i/rr(10,n-f)%rr(10,f)|0)*d:0),u)for(;;)if(l==0){for(o=1,f=s[0];f>=10;f/=10)o++;for(f=s[0]+=d,d=1;f>=10;f/=10)d++;o!=d&&(e.e++,s[0]==Sr&&(s[0]=1));break}else{if(s[l]+=d,s[l]!=Sr)break;s[l--]=0,d=1}for(o=s.length;s[--o]===0;)s.pop()}return De&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function Or(e,r,t){if(!e.isFinite())return Su(e);var a,n=e.e,o=ir(e.d),f=o.length;return r?(t&&(a=t-f)>0?o=o.charAt(0)+"."+o.slice(1)+Jr(a):f>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):n<0?(o="0."+Jr(-n-1)+o,t&&(a=t-f)>0&&(o+=Jr(a))):n>=f?(o+=Jr(n+1-f),t&&(a=t-n-1)>0&&(o=o+"."+Jr(a))):((a=n+1)<f&&(o=o.slice(0,a)+"."+o.slice(a)),t&&(a=t-f)>0&&(n+1===f&&(o+="."),o+=Jr(a))),o}function Rn(e,r){var t=e[0];for(r*=me;t>=10;t/=10)r++;return r}function In(e,r,t){if(r>Zf)throw De=!0,t&&(e.precision=t),Error(bu);return ve(new e(Bn),r,1,!0)}function Fr(e,r,t){if(r>Ua)throw Error(bu);return ve(new e(Tn),r,t,!0)}function Au(e){var r=e.length-1,t=r*me+1;if(r=e[r],r){for(;r%10==0;r/=10)t--;for(r=e[0];r>=10;r/=10)t++}return t}function Jr(e){for(var r="";e--;)r+="0";return r}function Cu(e,r,t,a){var n,o=new e(1),f=Math.ceil(a/me+4);for(De=!1;;){if(t%2&&(o=o.times(r),gu(o.d,f)&&(n=!0)),t=sr(t/2),t===0){t=o.d.length-1,n&&o.d[t]===0&&++o.d[t];break}r=r.times(r),gu(r.d,f)}return De=!0,o}function xu(e){return e.d[e.d.length-1]&1}function Fu(e,r,t){for(var a,n=new e(r[0]),o=0;++o<r.length;)if(a=new e(r[o]),a.s)n[t](a)&&(n=a);else{n=a;break}return n}function Va(e,r){var t,a,n,o,f,d,c,u=0,i=0,s=0,l=e.constructor,h=l.rounding,y=l.precision;if(!e.d||!e.d[0]||e.e>17)return new l(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(De=!1,c=y):c=r,d=new l(.03125);e.e>-2;)e=e.times(d),s+=5;for(a=Math.log(rr(2,s))/Math.LN10*2+5|0,c+=a,t=o=f=new l(1),l.precision=c;;){if(o=ve(o.times(e),c,1),t=t.times(++i),d=f.plus(ke(o,t,c,1)),ir(d.d).slice(0,c)===ir(f.d).slice(0,c)){for(n=s;n--;)f=ve(f.times(f),c,1);if(r==null)if(u<3&&hn(f.d,c-a,h,u))l.precision=c+=10,t=o=d=new l(1),i=0,u++;else return ve(f,l.precision=y,h,De=!0);else return l.precision=y,f}f=d}}function $r(e,r){var t,a,n,o,f,d,c,u,i,s,l,h=1,y=10,p=e,m=p.d,D=p.constructor,_=D.rounding,b=D.precision;if(p.s<0||!m||!m[0]||!p.e&&m[0]==1&&m.length==1)return new D(m&&!m[0]?-1/0:p.s!=1?NaN:m?0:p);if(r==null?(De=!1,i=b):i=r,D.precision=i+=y,t=ir(m),a=t.charAt(0),Math.abs(o=p.e)<15e14){for(;a<7&&a!=1||a==1&&t.charAt(1)>3;)p=p.times(e),t=ir(p.d),a=t.charAt(0),h++;o=p.e,a>1?(p=new D("0."+t),o++):p=new D(a+"."+t.slice(1))}else return u=In(D,i+2,b).times(o+""),p=$r(new D(a+"."+t.slice(1)),i-y).plus(u),D.precision=b,r==null?ve(p,b,_,De=!0):p;for(s=p,c=f=p=ke(p.minus(1),p.plus(1),i,1),l=ve(p.times(p),i,1),n=3;;){if(f=ve(f.times(l),i,1),u=c.plus(ke(f,new D(n),i,1)),ir(u.d).slice(0,i)===ir(c.d).slice(0,i))if(c=c.times(2),o!==0&&(c=c.plus(In(D,i+2,b).times(o+""))),c=ke(c,new D(h),i,1),r==null)if(hn(c.d,i-y,_,d))D.precision=i+=y,u=f=p=ke(s.minus(1),s.plus(1),i,1),l=ve(p.times(p),i,1),n=d=1;else return ve(c,D.precision=b,_,De=!0);else return D.precision=b,c;c=u,n+=2}}function Su(e){return String(e.s*e.s/0)}function Za(e,r){var t,a,n;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(t<0&&(t=a),t+=+r.slice(a+1),r=r.substring(0,a)):t<0&&(t=r.length),a=0;r.charCodeAt(a)===48;a++);for(n=r.length;r.charCodeAt(n-1)===48;--n);if(r=r.slice(a,n),r){if(n-=a,e.e=t=t-a-1,e.d=[],a=(t+1)%me,t<0&&(a+=me),a<n){for(a&&e.d.push(+r.slice(0,a)),n-=me;a<n;)e.d.push(+r.slice(a,a+=me));r=r.slice(a),a=me-r.length}else a-=n;for(;a--;)r+="0";e.d.push(+r),De&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Wf(e,r){var t,a,n,o,f,d,c,u,i;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),Eu.test(r))return Za(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(qf.test(r))t=16,r=r.toLowerCase();else if(Lf.test(r))t=2;else if(Uf.test(r))t=8;else throw Error(jr+r);for(o=r.search(/p/i),o>0?(c=+r.slice(o+1),r=r.substring(2,o)):r=r.slice(2),o=r.indexOf("."),f=o>=0,a=e.constructor,f&&(r=r.replace(".",""),d=r.length,o=d-o,n=Cu(a,new a(t),o,o*2)),u=Nn(r,t,Sr),i=u.length-1,o=i;u[o]===0;--o)u.pop();return o<0?new a(e.s*0):(e.e=Rn(u,i),e.d=u,De=!1,f&&(e=ke(e,n,d*4)),c&&(e=e.times(Math.abs(c)<54?rr(2,c):mn.pow(2,c))),De=!0,e)}function kf(e,r){var t,a=r.d.length;if(a<3)return r.isZero()?r:Ct(e,2,r,r);t=1.4*Math.sqrt(a),t=t>16?16:t|0,r=r.times(1/Pn(5,t)),r=Ct(e,2,r,r);for(var n,o=new e(5),f=new e(16),d=new e(20);t--;)n=r.times(r),r=r.times(o.plus(n.times(f.times(n).minus(d))));return r}function Ct(e,r,t,a,n){var o,f,d,c,u=1,i=e.precision,s=Math.ceil(i/me);for(De=!1,c=t.times(t),d=new e(a);;){if(f=ke(d.times(c),new e(r++*r++),i,1),d=n?a.plus(f):a.minus(f),a=ke(f.times(c),new e(r++*r++),i,1),f=d.plus(a),f.d[s]!==void 0){for(o=s;f.d[o]===d.d[o]&&o--;);if(o==-1)break}o=d,d=a,a=f,f=o,u++}return De=!0,f.d.length=s+1,f}function Pn(e,r){for(var t=e;--r;)t*=e;return t}function Mu(e,r){var t,a=r.s<0,n=Fr(e,e.precision,1),o=n.times(.5);if(r=r.abs(),r.lte(o))return Wr=a?4:1,r;if(t=r.divToInt(n),t.isZero())Wr=a?3:2;else{if(r=r.minus(t.times(n)),r.lte(o))return Wr=xu(t)?a?2:3:a?4:1,r;Wr=xu(t)?a?1:4:a?3:2}return r.minus(n).abs()}function Ya(e,r,t,a){var n,o,f,d,c,u,i,s,l,h=e.constructor,y=t!==void 0;if(y?(dr(t,1,et),a===void 0?a=h.rounding:dr(a,0,8)):(t=h.precision,a=h.rounding),!e.isFinite())i=Su(e);else{for(i=Or(e),f=i.indexOf("."),y?(n=2,r==16?t=t*4-3:r==8&&(t=t*3-2)):n=r,f>=0&&(i=i.replace(".",""),l=new h(1),l.e=i.length-f,l.d=Nn(Or(l),10,n),l.e=l.d.length),s=Nn(i,10,n),o=c=s.length;s[--c]==0;)s.pop();if(!s[0])i=y?"0p+0":"0";else{if(f<0?o--:(e=new h(e),e.d=s,e.e=o,e=ke(e,l,t,a,0,n),s=e.d,o=e.e,u=yu),f=s[t],d=n/2,u=u||s[t+1]!==void 0,u=a<4?(f!==void 0||u)&&(a===0||a===(e.s<0?3:2)):f>d||f===d&&(a===4||u||a===6&&s[t-1]&1||a===(e.s<0?8:7)),s.length=t,u)for(;++s[--t]>n-1;)s[t]=0,t||(++o,s.unshift(1));for(c=s.length;!s[c-1];--c);for(f=0,i="";f<c;f++)i+=La.charAt(s[f]);if(y){if(c>1)if(r==16||r==8){for(f=r==16?4:3,--c;c%f;c++)i+="0";for(s=Nn(i,n,r),c=s.length;!s[c-1];--c);for(f=1,i="1.";f<c;f++)i+=La.charAt(s[f])}else i=i.charAt(0)+"."+i.slice(1);i=i+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)i="0"+i;i="0."+i}else if(++o>c)for(o-=c;o--;)i+="0";else o<c&&(i=i.slice(0,o)+"."+i.slice(o))}i=(r==16?"0x":r==2?"0b":r==8?"0o":"")+i}return e.s<0?"-"+i:i}function gu(e,r){if(e.length>r)return e.length=r,!0}function Gf(e){return new this(e).abs()}function Xf(e){return new this(e).acos()}function Kf(e){return new this(e).acosh()}function Hf(e,r){return new this(e).plus(r)}function Qf(e){return new this(e).asin()}function Jf(e){return new this(e).asinh()}function $f(e){return new this(e).atan()}function jf(e){return new this(e).atanh()}function ec(e,r){e=new this(e),r=new this(r);var t,a=this.precision,n=this.rounding,o=a+4;return!e.s||!r.s?t=new this(NaN):!e.d&&!r.d?(t=Fr(this,o,1).times(r.s>0?.25:.75),t.s=e.s):!r.d||e.isZero()?(t=r.s<0?Fr(this,a,n):new this(0),t.s=e.s):!e.d||r.isZero()?(t=Fr(this,o,1).times(.5),t.s=e.s):r.s<0?(this.precision=o,this.rounding=1,t=this.atan(ke(e,r,o,1)),r=Fr(this,o,1),this.precision=a,this.rounding=n,t=e.s<0?t.minus(r):t.plus(r)):t=this.atan(ke(e,r,o,1)),t}function rc(e){return new this(e).cbrt()}function tc(e){return ve(e=new this(e),e.e+1,2)}function nc(e,r,t){return new this(e).clamp(r,t)}function ac(e){if(!e||typeof e!="object")throw Error(zn+"Object expected");var r,t,a,n=e.defaults===!0,o=["precision",1,et,"rounding",0,8,"toExpNeg",-At,0,"toExpPos",0,At,"maxE",0,At,"minE",-At,0,"modulo",0,9];for(r=0;r<o.length;r+=3)if(t=o[r],n&&(this[t]=qa[t]),(a=e[t])!==void 0)if(sr(a)===a&&a>=o[r+1]&&a<=o[r+2])this[t]=a;else throw Error(jr+t+": "+a);if(t="crypto",n&&(this[t]=qa[t]),(a=e[t])!==void 0)if(a===!0||a===!1||a===0||a===1)if(a)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(wu);else this[t]=!1;else throw Error(jr+t+": "+a);return this}function oc(e){return new this(e).cos()}function ic(e){return new this(e).cosh()}function Nu(e){var r,t,a;function n(o){var f,d,c,u=this;if(!(u instanceof n))return new n(o);if(u.constructor=n,Du(o)){u.s=o.s,De?!o.d||o.e>n.maxE?(u.e=NaN,u.d=null):o.e<n.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(f=0,d=o;d>=10;d/=10)f++;De?f>n.maxE?(u.e=NaN,u.d=null):f<n.minE?(u.e=0,u.d=[0]):(u.e=f,u.d=[o]):(u.e=f,u.d=[o]);return}else if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return Za(u,o.toString())}else if(c!=="string")throw Error(jr+o);return(d=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(d===43&&(o=o.slice(1)),u.s=1),Eu.test(o)?Za(u,o):Wf(u,o)}if(n.prototype=$,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=ac,n.clone=Nu,n.isDecimal=Du,n.abs=Gf,n.acos=Xf,n.acosh=Kf,n.add=Hf,n.asin=Qf,n.asinh=Jf,n.atan=$f,n.atanh=jf,n.atan2=ec,n.cbrt=rc,n.ceil=tc,n.clamp=nc,n.cos=oc,n.cosh=ic,n.div=uc,n.exp=sc,n.floor=fc,n.hypot=cc,n.ln=lc,n.log=pc,n.log10=vc,n.log2=dc,n.max=hc,n.min=mc,n.mod=xc,n.mul=gc,n.pow=Dc,n.random=yc,n.round=bc,n.sign=wc,n.sin=_c,n.sinh=Ec,n.sqrt=Ac,n.sub=Cc,n.sum=Fc,n.tan=Sc,n.tanh=Mc,n.trunc=Nc,e===void 0&&(e={}),e&&e.defaults!==!0)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<a.length;)e.hasOwnProperty(t=a[r++])||(e[t]=this[t]);return n.config(e),n}function uc(e,r){return new this(e).div(r)}function sc(e){return new this(e).exp()}function fc(e){return ve(e=new this(e),e.e+1,3)}function cc(){var e,r,t=new this(0);for(De=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)t.d&&(t=t.plus(r.times(r)));else{if(r.s)return De=!0,new this(1/0);t=r}return De=!0,t.sqrt()}function Du(e){return e instanceof mn||e&&e.toStringTag===_u||!1}function lc(e){return new this(e).ln()}function pc(e,r){return new this(e).log(r)}function dc(e){return new this(e).log(2)}function vc(e){return new this(e).log(10)}function hc(){return Fu(this,arguments,"lt")}function mc(){return Fu(this,arguments,"gt")}function xc(e,r){return new this(e).mod(r)}function gc(e,r){return new this(e).mul(r)}function Dc(e,r){return new this(e).pow(r)}function yc(e){var r,t,a,n,o=0,f=new this(1),d=[];if(e===void 0?e=this.precision:dr(e,1,et),a=Math.ceil(e/me),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(a));o<a;)n=r[o],n>=429e7?r[o]=crypto.getRandomValues(new Uint32Array(1))[0]:d[o++]=n%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(a*=4);o<a;)n=r[o]+(r[o+1]<<8)+(r[o+2]<<16)+((r[o+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(r,o):(d.push(n%1e7),o+=4);o=a/4}else throw Error(wu);else for(;o<a;)d[o++]=Math.random()*1e7|0;for(a=d[--o],e%=me,a&&e&&(n=rr(10,me-e),d[o]=(a/n|0)*n);d[o]===0;o--)d.pop();if(o<0)t=0,d=[0];else{for(t=-1;d[0]===0;t-=me)d.shift();for(a=1,n=d[0];n>=10;n/=10)a++;a<me&&(t-=me-a)}return f.e=t,f.d=d,f}function bc(e){return ve(e=new this(e),e.e+1,this.rounding)}function wc(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function _c(e){return new this(e).sin()}function Ec(e){return new this(e).sinh()}function Ac(e){return new this(e).sqrt()}function Cc(e,r){return new this(e).sub(r)}function Fc(){var e=0,r=arguments,t=new this(r[e]);for(De=!1;t.s&&++e<r.length;)t=t.plus(r[e]);return De=!0,ve(t,this.precision,this.rounding)}function Sc(e){return new this(e).tan()}function Mc(e){return new this(e).tanh()}function Nc(e){return ve(e=new this(e),e.e+1,1)}$[Symbol.for("nodejs.util.inspect.custom")]=$.toString;$[Symbol.toStringTag]="Decimal";var mn=$.constructor=Nu(qa);Bn=new mn(Bn);Tn=new mn(Tn);var Wa=mn;var Bc="BigNumber",Tc=["?on","config"],ka=G(Bc,Tc,e=>{var{on:r,config:t}=e,a=Wa.clone({precision:t.precision,modulo:Wa.EUCLID});return a.prototype=Object.create(a.prototype),a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(n){return new a(n.value)},r&&r("config",function(n,o){n.precision!==o.precision&&a.config({precision:n.precision})}),a},{isClass:!0});var ar=yt(Tu(),1);var Ic="Complex",zc=[],Xa=G(Ic,zc,()=>(Object.defineProperty(ar.default,"name",{value:"Complex"}),ar.default.prototype.constructor=ar.default,ar.default.prototype.type="Complex",ar.default.prototype.isComplex=!0,ar.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ar.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ar.default.prototype.format=function(e){var r="",t=this.im,a=this.re,n=pn(this.re,e),o=pn(this.im,e),f=Ue(e)?e:e?e.precision:null;if(f!==null){var d=Math.pow(10,-f);Math.abs(a/t)<d&&(a=0),Math.abs(t/a)<d&&(t=0)}return t===0?r=n:a===0?t===1?r="i":t===-1?r="-i":r=o+"i":t<0?t===-1?r=n+" - i":r=n+" - "+o.substring(1)+"i":t===1?r=n+" + i":r=n+" + "+o+"i",r},ar.default.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return(0,ar.default)(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],a=arguments[1];if(Ue(t)){if(wn(a)&&a.hasBase("ANGLE")&&(a=a.toNumber("rad")),Ue(a))return new ar.default({r:t,phi:a});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ar.default.prototype.valueOf=ar.default.prototype.toString,ar.default.fromJSON=function(e){return new ar.default(e)},ar.default.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},ar.default),{isClass:!0});var Lr=yt(zu(),1);var Rc="Fraction",Pc=[],Ha=G(Rc,Pc,()=>(Object.defineProperty(Lr.default,"name",{value:"Fraction"}),Lr.default.prototype.constructor=Lr.default,Lr.default.prototype.type="Fraction",Lr.default.prototype.isFraction=!0,Lr.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Lr.default.fromJSON=function(e){return new Lr.default(e)},Lr.default),{isClass:!0});var Oc="Matrix",Lc=[],Qa=G(Oc,Lc,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,t,a){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,t,a){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function On(e){return Object.keys(e.signatures||{}).reduce(function(r,t){var a=(t.match(/,/g)||[]).length+1;return Math.max(r,a)},-1)}var qc="DenseMatrix",Uc=["Matrix"],Ja=G(qc,Uc,e=>{var{Matrix:r}=e;function t(i,s){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!pr(s))throw new Error("Invalid datatype: "+s);if(ze(i))i.type==="DenseMatrix"?(this._data=Be(i._data),this._size=Be(i._size),this._datatype=s||i._datatype):(this._data=i.toArray(),this._size=i.size(),this._datatype=s||i._datatype);else if(i&&Ve(i.data)&&Ve(i.size))this._data=i.data,this._size=i.size,Ma(this._data,this._size),this._datatype=s||i.datatype;else if(Ve(i))this._data=u(i),this._size=Je(this._data),Ma(this._data,this._size),this._datatype=s;else{if(i)throw new TypeError("Unsupported type of data ("+Rr(i)+")");this._data=[],this._size=[0],this._datatype=s}}t.prototype=new r,t.prototype.createDenseMatrix=function(i,s){return new t(i,s)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Et(this._data,Rr)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(i,s){return new t(i,s)},t.prototype.subset=function(i,s,l){switch(arguments.length){case 1:return a(this,i);case 2:case 3:return o(this,i,s,l);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(i){if(!Ve(i))throw new TypeError("Array expected");if(i.length!==this._size.length)throw new be(i.length,this._size.length);for(var s=0;s<i.length;s++)Qe(i[s],this._size[s]);for(var l=this._data,h=0,y=i.length;h<y;h++){var p=i[h];Qe(p,l.length),l=l[p]}return l},t.prototype.set=function(i,s,l){if(!Ve(i))throw new TypeError("Array expected");if(i.length<this._size.length)throw new be(i.length,this._size.length,"<");var h,y,p,m=i.map(function(_){return _+1});c(this,m,l);var D=this._data;for(h=0,y=i.length-1;h<y;h++)p=i[h],Qe(p,D.length),D=D[p];return p=i[i.length-1],Qe(p,D.length),D[p]=s,this};function a(i,s){if(!bt(s))throw new TypeError("Invalid index");var l=s.isScalar();if(l)return i.get(s.min());var h=s.size();if(h.length!==i._size.length)throw new be(h.length,i._size.length);for(var y=s.min(),p=s.max(),m=0,D=i._size.length;m<D;m++)Qe(y[m],i._size[m]),Qe(p[m],i._size[m]);return new t(n(i._data,s,h.length,0),i._datatype)}function n(i,s,l,h){var y=h===l-1,p=s.dimension(h);return y?p.map(function(m){return Qe(m,i.length),i[m]}).valueOf():p.map(function(m){Qe(m,i.length);var D=i[m];return n(D,s,l,h+1)}).valueOf()}function o(i,s,l,h){if(!s||s.isIndex!==!0)throw new TypeError("Invalid index");var y=s.size(),p=s.isScalar(),m;if(ze(l)?(m=l.size(),l=l.valueOf()):m=Je(l),p){if(m.length!==0)throw new TypeError("Scalar expected");i.set(s.min(),l,h)}else{if(!Zr(m,y))try{m.length===0?l=Ta([l],y):l=Ta(l,y),m=Je(l)}catch{}if(y.length<i._size.length)throw new be(y.length,i._size.length,"<");if(m.length<y.length){for(var D=0,_=0;y[D]===1&&m[D]===1;)D++;for(;y[D]===1;)_++,D++;l=Sn(l,y.length,_,m)}if(!Zr(y,m))throw new be(y,m,">");var b=s.max().map(function(x){return x+1});c(i,b,h);var B=y.length,C=0;f(i._data,s,l,B,C)}return i}function f(i,s,l,h,y){var p=y===h-1,m=s.dimension(y);p?m.forEach(function(D,_){Qe(D),i[D]=l[_[0]]}):m.forEach(function(D,_){Qe(D),f(i[D],s,l[_[0]],h,y+1)})}t.prototype.resize=function(i,s,l){if(!ht(i))throw new TypeError("Array or Matrix expected");var h=i.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),y=l?this.clone():this;return d(y,h,s)};function d(i,s,l){if(s.length===0){for(var h=i._data;Ve(h);)h=h[0];return h}return i._size=s.slice(0),i._data=mt(i._data,i._size,l),i}t.prototype.reshape=function(i,s){var l=s?this.clone():this;l._data=Na(l._data,i);var h=l._size.reduce((y,p)=>y*p);return l._size=dn(i,h),l};function c(i,s,l){for(var h=i._size.slice(0),y=!1;h.length<s.length;)h.push(0),y=!0;for(var p=0,m=s.length;p<m;p++)s[p]>h[p]&&(h[p]=s[p],y=!0);y&&d(i,h,l)}t.prototype.clone=function(){var i=new t({data:Be(this._data),size:Be(this._size),datatype:this._datatype});return i},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(i){var s=this,l=On(i),h=function m(D,_){return Ve(D)?D.map(function(b,B){return m(b,_.concat(B))}):l===1?i(D):l===2?i(D,_):i(D,_,s)},y=h(this._data,[]),p=this._datatype!==void 0?Et(y,Rr):void 0;return new t(y,p)},t.prototype.forEach=function(i){var s=this,l=function h(y,p){Ve(y)?y.forEach(function(m,D){h(m,p.concat(D))}):i(y,p,s)};l(this._data,[])},t.prototype[Symbol.iterator]=function*(){var i=function*s(l,h){if(Ve(l))for(var y=0;y<l.length;y++)yield*s(l[y],h.concat(y));else yield{value:l,index:h}};yield*i(this._data,[])},t.prototype.rows=function(){var i=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var l=this._data;for(var h of l)i.push(new t([h],this._datatype));return i},t.prototype.columns=function(){var i=this,s=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,y=function(D){var _=h.map(b=>[b[D]]);s.push(new t(_,i._datatype))},p=0;p<l[1];p++)y(p);return s},t.prototype.toArray=function(){return Be(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(i){return Le(this._data,i)},t.prototype.toString=function(){return Le(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(i){if(i){if(We(i)&&(i=i.toNumber()),!Ue(i)||!Fe(i))throw new TypeError("The parameter k must be an integer number")}else i=0;for(var s=i>0?i:0,l=i<0?-i:0,h=this._size[0],y=this._size[1],p=Math.min(h-l,y-s),m=[],D=0;D<p;D++)m[D]=this._data[D+l][D+s];return new t({data:m,size:[p],datatype:this._datatype})},t.diagonal=function(i,s,l,h){if(!Ve(i))throw new TypeError("Array expected, size parameter");if(i.length!==2)throw new Error("Only two dimensions matrix are supported");if(i=i.map(function(M){if(We(M)&&(M=M.toNumber()),!Ue(M)||!Fe(M)||M<1)throw new Error("Size values must be positive integers");return M}),l){if(We(l)&&(l=l.toNumber()),!Ue(l)||!Fe(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var y=l>0?l:0,p=l<0?-l:0,m=i[0],D=i[1],_=Math.min(m-p,D-y),b;if(Ve(s)){if(s.length!==_)throw new Error("Invalid value array length");b=function(N){return s[N]}}else if(ze(s)){var B=s.size();if(B.length!==1||B[0]!==_)throw new Error("Invalid matrix length");b=function(N){return s.get([N])}}else b=function(){return s};h||(h=We(b(0))?b(0).mul(0):0);var C=[];if(i.length>0){C=mt(C,i,h);for(var x=0;x<_;x++)C[x+p][x+y]=b(x)}return new t({data:C,size:[m,D]})},t.fromJSON=function(i){return new t(i)},t.prototype.swapRows=function(i,s){if(!Ue(i)||!Fe(i)||!Ue(s)||!Fe(s))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Qe(i,this._size[0]),Qe(s,this._size[0]),t._swapRows(i,s,this._data),this},t._swapRows=function(i,s,l){var h=l[i];l[i]=l[s],l[s]=h};function u(i){return ze(i)?u(i.valueOf()):Ve(i)?i.map(u):i}return t},{isClass:!0});var Ru="clone",Vc=["typed"],$a=G(Ru,Vc,e=>{var{typed:r}=e;return r(Ru,{any:Be})});function ur(e,r,t){return e&&typeof e.map=="function"?e.map(function(a){return ur(a,r,t)}):r(e)}var Pu="isInteger",Zc=["typed"],ja=G(Pu,Zc,e=>{var{typed:r}=e;return r(Pu,{number:Fe,BigNumber:function(a){return a.isInt()},Fraction:function(a){return a.d===1&&isFinite(a.n)},"Array | Matrix":r.referToSelf(t=>a=>ur(a,t))})});var vr="number",kr="number, number";function eo(e){return Math.abs(e)}eo.signature=vr;function ro(e,r){return e+r}ro.signature=kr;function to(e,r){return e-r}to.signature=kr;function no(e,r){return e*r}no.signature=kr;function Yc(e,r){return e/r}Yc.signature=kr;function ao(e){return-e}ao.signature=vr;function Wc(e){return e}Wc.signature=vr;function kc(e){return Qi(e)}kc.signature=vr;function Gc(e){return e*e*e}Gc.signature=vr;function Xc(e){return Math.exp(e)}Xc.signature=vr;function Kc(e){return Ji(e)}Kc.signature=vr;function Hc(e,r){if(!Fe(e)||!Fe(r))throw new Error("Parameters in function gcd must be integer numbers");for(var t;r!==0;)t=e%r,e=r,r=t;return e<0?-e:e}Hc.signature=kr;function Qc(e,r){if(!Fe(e)||!Fe(r))throw new Error("Parameters in function lcm must be integer numbers");if(e===0||r===0)return 0;for(var t,a=e*r;r!==0;)t=r,r=e%t,e=t;return Math.abs(a/e)}Qc.signature=kr;function Jc(e){return Ki(e)}Jc.signature=vr;function $c(e){return Xi(e)}$c.signature=vr;function jc(e){return Hi(e)}jc.signature=vr;function e0(e,r){return r===0?e:e-r*Math.floor(e/r)}e0.signature=kr;function r0(e){return Gi(e)}r0.signature=vr;function t0(e){return Math.sqrt(e)}t0.signature=vr;function n0(e){return e*e}n0.signature=vr;function a0(e,r){var t,a,n,o=0,f=1,d=1,c=0;if(!Fe(e)||!Fe(r))throw new Error("Parameters in function xgcd must be integer numbers");for(;r;)a=Math.floor(e/r),n=e-a*r,t=o,o=f-a*o,f=t,t=d,d=c-a*d,c=t,e=r,r=n;var u;return e<0?u=[-e,-f,-c]:u=[e,e?f:0,c],u}a0.signature=kr;function o0(e,r){return e*e<1&&r===1/0||e*e>1&&r===-1/0?0:Math.pow(e,r)}o0.signature=kr;function i0(e){return Math.abs(e)}i0.signature=vr;var xn="number";function u0(e){return Fe(e)}u0.signature=xn;function s0(e){return e<0}s0.signature=xn;function f0(e){return e>0}f0.signature=xn;function oo(e){return e===0}oo.signature=xn;function c0(e){return Number.isNaN(e)}c0.signature=xn;var Ou="isZero",l0=["typed"],io=G(Ou,l0,e=>{var{typed:r}=e;return r(Ou,{number:oo,BigNumber:function(a){return a.isZero()},Complex:function(a){return a.re===0&&a.im===0},Fraction:function(a){return a.d===1&&a.n===0},Unit:r.referToSelf(t=>a=>r.find(t,a.valueType())(a.value)),"Array | Matrix":r.referToSelf(t=>a=>ur(a,t))})});function rt(e,r,t){if(t==null)return e.eq(r);if(e.eq(r))return!0;if(e.isNaN()||r.isNaN())return!1;if(e.isFinite()&&r.isFinite()){var a=e.minus(r).abs();if(a.isZero())return!0;var n=e.constructor.max(e.abs(),r.abs());return a.lte(n.times(t))}return!1}function Lu(e,r,t){return br(e.re,r.re,t)&&br(e.im,r.im,t)}var tt=G("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(t=>(a,n)=>{if(!a.equalBase(n))throw new Error("Cannot compare units with different base");return r.find(t,[a.valueType(),n.valueType()])(a.value,n.value)})}});var Ln="equalScalar",p0=["typed","config"],uo=G(Ln,p0,e=>{var{typed:r,config:t}=e,a=tt({typed:r});return r(Ln,{"boolean, boolean":function(o,f){return o===f},"number, number":function(o,f){return br(o,f,t.epsilon)},"BigNumber, BigNumber":function(o,f){return o.eq(f)||rt(o,f,t.epsilon)},"Fraction, Fraction":function(o,f){return o.equals(f)},"Complex, Complex":function(o,f){return Lu(o,f,t.epsilon)}},a)}),Wv=G(Ln,["typed","config"],e=>{var{typed:r,config:t}=e;return r(Ln,{"number, number":function(n,o){return br(n,o,t.epsilon)}})});var d0="SparseMatrix",v0=["typed","equalScalar","Matrix"],so=G(d0,v0,e=>{var{typed:r,equalScalar:t,Matrix:a}=e;function n(p,m){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!pr(m))throw new Error("Invalid datatype: "+m);if(ze(p))o(this,p,m);else if(p&&Ve(p.index)&&Ve(p.ptr)&&Ve(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=m||p.datatype;else if(Ve(p))f(this,p,m);else{if(p)throw new TypeError("Unsupported type of data ("+Rr(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function o(p,m,D){m.type==="SparseMatrix"?(p._values=m._values?Be(m._values):void 0,p._index=Be(m._index),p._ptr=Be(m._ptr),p._size=Be(m._size),p._datatype=D||m._datatype):f(p,m.valueOf(),D||m._datatype)}function f(p,m,D){p._values=[],p._index=[],p._ptr=[],p._datatype=D;var _=m.length,b=0,B=t,C=0;if(pr(D)&&(B=r.find(t,[D,D])||t,C=r.convert(0,D)),_>0){var x=0;do{p._ptr.push(p._index.length);for(var M=0;M<_;M++){var N=m[M];if(Ve(N)){if(x===0&&b<N.length&&(b=N.length),x<N.length){var F=N[x];B(F,C)||(p._values.push(F),p._index.push(M))}}else x===0&&b<1&&(b=1),B(N,C)||(p._values.push(N),p._index.push(M))}x++}while(x<b)}p._ptr.push(p._index.length),p._size=[_,b]}n.prototype=new a,n.prototype.createSparseMatrix=function(p,m){return new n(p,m)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Et(this._values,Rr)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(p,m){return new n(p,m)},n.prototype.density=function(){var p=this._size[0],m=this._size[1];return p!==0&&m!==0?this._index.length/(p*m):0},n.prototype.subset=function(p,m,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return d(this,p);case 2:case 3:return c(this,p,m,D);default:throw new SyntaxError("Wrong number of arguments")}};function d(p,m){if(!bt(m))throw new TypeError("Invalid index");var D=m.isScalar();if(D)return p.get(m.min());var _=m.size();if(_.length!==p._size.length)throw new be(_.length,p._size.length);var b,B,C,x,M=m.min(),N=m.max();for(b=0,B=p._size.length;b<B;b++)Qe(M[b],p._size[b]),Qe(N[b],p._size[b]);var F=p._values,T=p._index,z=p._ptr,P=m.dimension(0),K=m.dimension(1),W=[],X=[];P.forEach(function(Y,te){X[Y]=te[0],W[Y]=!0});var V=F?[]:void 0,ae=[],ee=[];return K.forEach(function(Y){for(ee.push(ae.length),C=z[Y],x=z[Y+1];C<x;C++)b=T[C],W[b]===!0&&(ae.push(X[b]),V&&V.push(F[C]))}),ee.push(ae.length),new n({values:V,index:ae,ptr:ee,size:_,datatype:p._datatype})}function c(p,m,D,_){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var b=m.size(),B=m.isScalar(),C;if(ze(D)?(C=D.size(),D=D.toArray()):C=Je(D),B){if(C.length!==0)throw new TypeError("Scalar expected");p.set(m.min(),D,_)}else{if(b.length!==1&&b.length!==2)throw new be(b.length,p._size.length,"<");if(C.length<b.length){for(var x=0,M=0;b[x]===1&&C[x]===1;)x++;for(;b[x]===1;)M++,x++;D=Sn(D,b.length,M,C)}if(!Zr(b,C))throw new be(b,C,">");if(b.length===1){var N=m.dimension(0);N.forEach(function(z,P){Qe(z),p.set([z,0],D[P[0]],_)})}else{var F=m.dimension(0),T=m.dimension(1);F.forEach(function(z,P){Qe(z),T.forEach(function(K,W){Qe(K),p.set([z,K],D[P[0]][W[0]],_)})})}}return p}n.prototype.get=function(p){if(!Ve(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new be(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=p[0],D=p[1];Qe(m,this._size[0]),Qe(D,this._size[1]);var _=u(m,this._ptr[D],this._ptr[D+1],this._index);return _<this._ptr[D+1]&&this._index[_]===m?this._values[_]:0},n.prototype.set=function(p,m,D){if(!Ve(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new be(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var _=p[0],b=p[1],B=this._size[0],C=this._size[1],x=t,M=0;pr(this._datatype)&&(x=r.find(t,[this._datatype,this._datatype])||t,M=r.convert(0,this._datatype)),(_>B-1||b>C-1)&&(l(this,Math.max(_+1,B),Math.max(b+1,C),D),B=this._size[0],C=this._size[1]),Qe(_,B),Qe(b,C);var N=u(_,this._ptr[b],this._ptr[b+1],this._index);return N<this._ptr[b+1]&&this._index[N]===_?x(m,M)?i(N,b,this._values,this._index,this._ptr):this._values[N]=m:x(m,M)||s(N,_,b,m,this._values,this._index,this._ptr),this};function u(p,m,D,_){if(D-m===0)return D;for(var b=m;b<D;b++)if(_[b]===p)return b;return m}function i(p,m,D,_,b){D.splice(p,1),_.splice(p,1);for(var B=m+1;B<b.length;B++)b[B]--}function s(p,m,D,_,b,B,C){b.splice(p,0,_),B.splice(p,0,m);for(var x=D+1;x<C.length;x++)C[x]++}n.prototype.resize=function(p,m,D){if(!ht(p))throw new TypeError("Array or Matrix expected");var _=p.valueOf().map(B=>Array.isArray(B)&&B.length===1?B[0]:B);if(_.length!==2)throw new Error("Only two dimensions matrix are supported");_.forEach(function(B){if(!Ue(B)||!Fe(B)||B<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Le(_)+")")});var b=D?this.clone():this;return l(b,_[0],_[1],m)};function l(p,m,D,_){var b=_||0,B=t,C=0;pr(p._datatype)&&(B=r.find(t,[p._datatype,p._datatype])||t,C=r.convert(0,p._datatype),b=r.convert(b,p._datatype));var x=!B(b,C),M=p._size[0],N=p._size[1],F,T,z;if(D>N){for(T=N;T<D;T++)if(p._ptr[T]=p._values.length,x)for(F=0;F<M;F++)p._values.push(b),p._index.push(F);p._ptr[D]=p._values.length}else D<N&&(p._ptr.splice(D+1,N-D),p._values.splice(p._ptr[D],p._values.length),p._index.splice(p._ptr[D],p._index.length));if(N=D,m>M){if(x){var P=0;for(T=0;T<N;T++){p._ptr[T]=p._ptr[T]+P,z=p._ptr[T+1]+P;var K=0;for(F=M;F<m;F++,K++)p._values.splice(z+K,0,b),p._index.splice(z+K,0,F),P++}p._ptr[N]=p._values.length}}else if(m<M){var W=0;for(T=0;T<N;T++){p._ptr[T]=p._ptr[T]-W;var X=p._ptr[T],V=p._ptr[T+1]-W;for(z=X;z<V;z++)F=p._index[z],F>m-1&&(p._values.splice(z,1),p._index.splice(z,1),W++)}p._ptr[T]=p._values.length}return p._size[0]=m,p._size[1]=D,p}n.prototype.reshape=function(p,m){if(!Ve(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(Y){if(!Ue(Y)||!Fe(Y)||Y<=-2||Y===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Le(p)+")")});var D=this._size[0]*this._size[1];p=dn(p,D);var _=p[0]*p[1];if(D!==_)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=m?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return b;for(var B=[],C=0;C<b._ptr.length;C++)for(var x=0;x<b._ptr[C+1]-b._ptr[C];x++)B.push(C);for(var M=b._values.slice(),N=b._index.slice(),F=0;F<b._index.length;F++){var T=N[F],z=B[F],P=T*b._size[1]+z;B[F]=P%p[1],N[F]=Math.floor(P/p[1])}b._values.length=0,b._index.length=0,b._ptr.length=p[1]+1,b._size=p.slice();for(var K=0;K<b._ptr.length;K++)b._ptr[K]=0;for(var W=0;W<M.length;W++){var X=N[W],V=B[W],ae=M[W],ee=u(X,b._ptr[V],b._ptr[V+1],b._index);s(ee,X,V,ae,b._values,b._index,b._ptr)}return b},n.prototype.clone=function(){var p=new n({values:this._values?Be(this._values):void 0,index:Be(this._index),ptr:Be(this._ptr),size:Be(this._size),datatype:this._datatype});return p},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(p,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,_=this._size[0],b=this._size[1],B=On(p),C=function(M,N,F){return B===1?p(M):B===2?p(M,[N,F]):p(M,[N,F],D)};return h(this,0,_-1,0,b-1,C,m)};function h(p,m,D,_,b,B,C){var x=[],M=[],N=[],F=t,T=0;pr(p._datatype)&&(F=r.find(t,[p._datatype,p._datatype])||t,T=r.convert(0,p._datatype));for(var z=function(de,ce,Re){de=B(de,ce,Re),F(de,T)||(x.push(de),M.push(ce))},P=_;P<=b;P++){N.push(x.length);var K=p._ptr[P],W=p._ptr[P+1];if(C)for(var X=K;X<W;X++){var V=p._index[X];V>=m&&V<=D&&z(p._values[X],V-m,P-_)}else{for(var ae={},ee=K;ee<W;ee++){var Y=p._index[ee];ae[Y]=p._values[ee]}for(var te=m;te<=D;te++){var se=te in ae?ae[te]:0;z(se,te-m,P-_)}}}return N.push(x.length),new n({values:x,index:M,ptr:N,size:[D-m+1,b-_+1]})}n.prototype.forEach=function(p,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,_=this._size[0],b=this._size[1],B=0;B<b;B++){var C=this._ptr[B],x=this._ptr[B+1];if(m)for(var M=C;M<x;M++){var N=this._index[M];p(this._values[M],[N,B],D)}else{for(var F={},T=C;T<x;T++){var z=this._index[T];F[z]=this._values[T]}for(var P=0;P<_;P++){var K=P in F?F[P]:0;p(K,[P,B],D)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],m=0;m<p;m++)for(var D=this._ptr[m],_=this._ptr[m+1],b=D;b<_;b++){var B=this._index[b];yield{value:this._values[b],index:[B,m]}}},n.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(p,m,D,_,b){var B=_[0],C=_[1],x=[],M,N;for(M=0;M<B;M++)for(x[M]=[],N=0;N<C;N++)x[M][N]=0;for(N=0;N<C;N++)for(var F=D[N],T=D[N+1],z=F;z<T;z++)M=m[z],x[M][N]=p?b?Be(p[z]):p[z]:1;return x}return n.prototype.format=function(p){for(var m=this._size[0],D=this._size[1],_=this.density(),b="Sparse Matrix ["+Le(m,p)+" x "+Le(D,p)+"] density: "+Le(_,p)+`
`,B=0;B<D;B++)for(var C=this._ptr[B],x=this._ptr[B+1],M=C;M<x;M++){var N=this._index[M];b+=`
    (`+Le(N,p)+", "+Le(B,p)+") ==> "+(this._values?Le(this._values[M],p):"X")}return b},n.prototype.toString=function(){return Le(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(p){if(p){if(We(p)&&(p=p.toNumber()),!Ue(p)||!Fe(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var m=p>0?p:0,D=p<0?-p:0,_=this._size[0],b=this._size[1],B=Math.min(_-D,b-m),C=[],x=[],M=[];M[0]=0;for(var N=m;N<b&&C.length<B;N++)for(var F=this._ptr[N],T=this._ptr[N+1],z=F;z<T;z++){var P=this._index[z];if(P===N-m+D){C.push(this._values[z]),x[C.length-1]=P-D;break}}return M.push(C.length),new n({values:C,index:x,ptr:M,size:[B,1]})},n.fromJSON=function(p){return new n(p)},n.diagonal=function(p,m,D,_,b){if(!Ve(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(Y){if(We(Y)&&(Y=Y.toNumber()),!Ue(Y)||!Fe(Y)||Y<1)throw new Error("Size values must be positive integers");return Y}),D){if(We(D)&&(D=D.toNumber()),!Ue(D)||!Fe(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var B=t,C=0;pr(b)&&(B=r.find(t,[b,b])||t,C=r.convert(0,b));var x=D>0?D:0,M=D<0?-D:0,N=p[0],F=p[1],T=Math.min(N-M,F-x),z;if(Ve(m)){if(m.length!==T)throw new Error("Invalid value array length");z=function(te){return m[te]}}else if(ze(m)){var P=m.size();if(P.length!==1||P[0]!==T)throw new Error("Invalid matrix length");z=function(te){return m.get([te])}}else z=function(){return m};for(var K=[],W=[],X=[],V=0;V<F;V++){X.push(K.length);var ae=V-x;if(ae>=0&&ae<T){var ee=z(ae);B(ee,C)||(W.push(ae+M),K.push(ee))}}return X.push(K.length),new n({values:K,index:W,ptr:X,size:[N,F]})},n.prototype.swapRows=function(p,m){if(!Ue(p)||!Fe(p)||!Ue(m)||!Fe(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Qe(p,this._size[0]),Qe(m,this._size[0]),n._swapRows(p,m,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(p,m,D,_,b){for(var B=_[p],C=_[p+1],x=B;x<C;x++)b(D[x],m[x])},n._swapRows=function(p,m,D,_,b,B){for(var C=0;C<D;C++){var x=B[C],M=B[C+1],N=u(p,x,M,b),F=u(m,x,M,b);if(N<M&&F<M&&b[N]===p&&b[F]===m){if(_){var T=_[N];_[N]=_[F],_[F]=T}continue}if(N<M&&b[N]===p&&(F>=M||b[F]!==m)){var z=_?_[N]:void 0;b.splice(F,0,m),_&&_.splice(F,0,z),b.splice(F<=N?N+1:N,1),_&&_.splice(F<=N?N+1:N,1);continue}if(F<M&&b[F]===m&&(N>=M||b[N]!==p)){var P=_?_[F]:void 0;b.splice(N,0,p),_&&_.splice(N,0,P),b.splice(N<=F?F+1:F,1),_&&_.splice(N<=F?F+1:F,1)}}},n},{isClass:!0});var h0="number",m0=["typed"];function x0(e){var r=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var t={"0b":2,"0o":8,"0x":16}[r[1]],a=r[2],n=r[3];return{input:e,radix:t,integerPart:a,fractionalPart:n}}else return null}function g0(e){for(var r=parseInt(e.integerPart,e.radix),t=0,a=0;a<e.fractionalPart.length;a++){var n=parseInt(e.fractionalPart[a],e.radix);t+=n/Math.pow(e.radix,a+1)}var o=r+t;if(isNaN(o))throw new SyntaxError('String "'+e.input+'" is not a valid number');return o}var fo=G(h0,m0,e=>{var{typed:r}=e,t=r("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var o=x0(n);if(o)return g0(o);var f=0,d=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);d&&(f=Number(d[2]),n=d[1]);var c=Number(n);if(isNaN(c))throw new SyntaxError('String "'+n+'" is not a valid number');if(d){if(c>2**f-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));c>=2**(f-1)&&(c=c-2**f)}return c},BigNumber:function(n){return n.toNumber()},Fraction:function(n){return n.valueOf()},Unit:r.referToSelf(a=>n=>{var o=n.clone();return o.value=a(n.value),o}),null:function(n){return 0},"Unit, string | Unit":function(n,o){return n.toNumber(o)},"Array | Matrix":r.referToSelf(a=>n=>ur(n,a))});return t.fromJSON=function(a){return parseFloat(a.value)},t});var D0="bignumber",y0=["typed","BigNumber"],co=G(D0,y0,e=>{var{typed:r,BigNumber:t}=e;return r("bignumber",{"":function(){return new t(0)},number:function(n){return new t(n+"")},string:function(n){var o=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var f=o[2],d=t(o[1]),c=new t(2).pow(Number(f));if(d.gt(c.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var u=new t(2).pow(Number(f)-1);return d.gte(u)?d.sub(c):d}return new t(n)},BigNumber:function(n){return n},Unit:r.referToSelf(a=>n=>{var o=n.clone();return o.value=a(n.value),o}),Fraction:function(n){return new t(n.n).div(n.d).times(n.s)},null:function(n){return new t(0)},"Array | Matrix":r.referToSelf(a=>n=>ur(n,a))})});var b0="fraction",w0=["typed","Fraction"],lo=G(b0,w0,e=>{var{typed:r,Fraction:t}=e;return r("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new t(n)},string:function(n){return new t(n)},"number, number":function(n,o){return new t(n,o)},null:function(n){return new t(0)},BigNumber:function(n){return new t(n.toString())},Fraction:function(n){return n},Unit:r.referToSelf(a=>n=>{var o=n.clone();return o.value=a(n.value),o}),Object:function(n){return new t(n)},"Array | Matrix":r.referToSelf(a=>n=>ur(n,a))})});var qu="matrix",_0=["typed","Matrix","DenseMatrix","SparseMatrix"],po=G(qu,_0,e=>{var{typed:r,Matrix:t,DenseMatrix:a,SparseMatrix:n}=e;return r(qu,{"":function(){return o([])},string:function(d){return o([],d)},"string, string":function(d,c){return o([],d,c)},Array:function(d){return o(d)},Matrix:function(d){return o(d,d.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(f,d,c){if(d==="dense"||d==="default"||d===void 0)return new a(f,c);if(d==="sparse")return new n(f,c);throw new TypeError("Unknown matrix type "+JSON.stringify(d)+".")}});var Uu="unaryMinus",E0=["typed"],vo=G(Uu,E0,e=>{var{typed:r}=e;return r(Uu,{number:ao,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:r.referToSelf(t=>a=>{var n=a.clone();return n.value=r.find(t,n.valueType())(a.value),n}),"Array | Matrix":r.referToSelf(t=>a=>ur(a,t,!0))})});var Vu="abs",A0=["typed"],ho=G(Vu,A0,e=>{var{typed:r}=e;return r(Vu,{number:eo,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":r.referToSelf(t=>a=>ur(a,t,!0))})});var Zu="addScalar",C0=["typed"],mo=G(Zu,C0,e=>{var{typed:r}=e;return r(Zu,{"number, number":ro,"Complex, Complex":function(a,n){return a.add(n)},"BigNumber, BigNumber":function(a,n){return a.plus(n)},"Fraction, Fraction":function(a,n){return a.add(n)},"Unit, Unit":r.referToSelf(t=>(a,n)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(n))throw new Error("Units do not match");var o=a.clone();return o.value=r.find(t,[o.valueType(),n.valueType()])(o.value,n.value),o.fixPrefix=!1,o})})});var Yu="subtractScalar",F0=["typed"],xo=G(Yu,F0,e=>{var{typed:r}=e;return r(Yu,{"number, number":to,"Complex, Complex":function(a,n){return a.sub(n)},"BigNumber, BigNumber":function(a,n){return a.minus(n)},"Fraction, Fraction":function(a,n){return a.sub(n)},"Unit, Unit":r.referToSelf(t=>(a,n)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(n))throw new Error("Units do not match");var o=a.clone();return o.value=r.find(t,[o.valueType(),n.valueType()])(o.value,n.value),o.fixPrefix=!1,o})})});var S0="matAlgo11xS0s",M0=["typed","equalScalar"],qn=G(S0,M0,e=>{var{typed:r,equalScalar:t}=e;return function(n,o,f,d){var c=n._values,u=n._index,i=n._ptr,s=n._size,l=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=s[0],y=s[1],p,m=t,D=0,_=f;typeof l=="string"&&(p=l,m=r.find(t,[p,p]),D=r.convert(0,p),o=r.convert(o,p),_=r.find(f,[p,p]));for(var b=[],B=[],C=[],x=0;x<y;x++){C[x]=B.length;for(var M=i[x],N=i[x+1],F=M;F<N;F++){var T=u[F],z=d?_(o,c[F]):_(c[F],o);m(z,D)||(B.push(T),b.push(z))}}return C[y]=B.length,n.createSparseMatrix({values:b,index:B,ptr:C,size:[h,y],datatype:p})}});var N0="matAlgo12xSfs",B0=["typed","DenseMatrix"],wr=G(N0,B0,e=>{var{typed:r,DenseMatrix:t}=e;return function(n,o,f,d){var c=n._values,u=n._index,i=n._ptr,s=n._size,l=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=s[0],y=s[1],p,m=f;typeof l=="string"&&(p=l,o=r.convert(o,p),m=r.find(f,[p,p]));for(var D=[],_=[],b=[],B=0;B<y;B++){for(var C=B+1,x=i[B],M=i[B+1],N=x;N<M;N++){var F=u[N];_[F]=c[N],b[F]=C}for(var T=0;T<h;T++)B===0&&(D[T]=[]),b[T]===C?D[T][B]=d?m(o,_[T]):m(_[T],o):D[T][B]=d?m(o,0):m(0,o)}return new t({data:D,size:[h,y],datatype:p})}});var T0="matAlgo14xDs",I0=["typed"],Un=G(T0,I0,e=>{var{typed:r}=e;return function(n,o,f,d){var c=n._data,u=n._size,i=n._datatype,s,l=f;typeof i=="string"&&(s=i,o=r.convert(o,s),l=r.find(f,[s,s]));var h=u.length>0?t(l,0,u,u[0],c,o,d):[];return n.createDenseMatrix({data:h,size:Be(u),datatype:s})};function t(a,n,o,f,d,c,u){var i=[];if(n===o.length-1)for(var s=0;s<f;s++)i[s]=u?a(c,d[s]):a(d[s],c);else for(var l=0;l<f;l++)i[l]=t(a,n+1,o,o[n+1],d[l],c,u);return i}});var z0="matAlgo02xDS0",R0=["typed","equalScalar"],Wu=G(z0,R0,e=>{var{typed:r,equalScalar:t}=e;return function(n,o,f,d){var c=n._data,u=n._size,i=n._datatype,s=o._values,l=o._index,h=o._ptr,y=o._size,p=o._datatype;if(u.length!==y.length)throw new be(u.length,y.length);if(u[0]!==y[0]||u[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+y+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=u[0],D=u[1],_,b=t,B=0,C=f;typeof i=="string"&&i===p&&(_=i,b=r.find(t,[_,_]),B=r.convert(0,_),C=r.find(f,[_,_]));for(var x=[],M=[],N=[],F=0;F<D;F++){N[F]=M.length;for(var T=h[F],z=h[F+1],P=T;P<z;P++){var K=l[P],W=d?C(s[P],c[K][F]):C(c[K][F],s[P]);b(W,B)||(M.push(K),x.push(W))}}return N[D]=M.length,o.createSparseMatrix({values:x,index:M,ptr:N,size:[m,D],datatype:_})}});var P0="matAlgo03xDSf",O0=["typed"],_r=G(P0,O0,e=>{var{typed:r}=e;return function(a,n,o,f){var d=a._data,c=a._size,u=a._datatype,i=n._values,s=n._index,l=n._ptr,h=n._size,y=n._datatype;if(c.length!==h.length)throw new be(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!i)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=c[0],m=c[1],D,_=0,b=o;typeof u=="string"&&u===y&&(D=u,_=r.convert(0,D),b=r.find(o,[D,D]));for(var B=[],C=0;C<p;C++)B[C]=[];for(var x=[],M=[],N=0;N<m;N++){for(var F=N+1,T=l[N],z=l[N+1],P=T;P<z;P++){var K=s[P];x[K]=f?b(i[P],d[K][N]):b(d[K][N],i[P]),M[K]=F}for(var W=0;W<p;W++)M[W]===F?B[W][N]=x[W]:B[W][N]=f?b(_,d[W][N]):b(d[W][N],_)}return a.createDenseMatrix({data:B,size:[p,m],datatype:D})}});var L0="matAlgo05xSfSf",q0=["typed","equalScalar"],ku=G(L0,q0,e=>{var{typed:r,equalScalar:t}=e;return function(n,o,f){var d=n._values,c=n._index,u=n._ptr,i=n._size,s=n._datatype,l=o._values,h=o._index,y=o._ptr,p=o._size,m=o._datatype;if(i.length!==p.length)throw new be(i.length,p.length);if(i[0]!==p[0]||i[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+p+")");var D=i[0],_=i[1],b,B=t,C=0,x=f;typeof s=="string"&&s===m&&(b=s,B=r.find(t,[b,b]),C=r.convert(0,b),x=r.find(f,[b,b]));var M=d&&l?[]:void 0,N=[],F=[],T=M?[]:void 0,z=M?[]:void 0,P=[],K=[],W,X,V,ae;for(X=0;X<_;X++){F[X]=N.length;var ee=X+1;for(V=u[X],ae=u[X+1];V<ae;V++)W=c[V],N.push(W),P[W]=ee,T&&(T[W]=d[V]);for(V=y[X],ae=y[X+1];V<ae;V++)W=h[V],P[W]!==ee&&N.push(W),K[W]=ee,z&&(z[W]=l[V]);if(M)for(V=F[X];V<N.length;){W=N[V];var Y=P[W],te=K[W];if(Y===ee||te===ee){var se=Y===ee?T[W]:C,fe=te===ee?z[W]:C,de=x(se,fe);B(de,C)?N.splice(V,1):(M.push(de),V++)}}}return F[_]=N.length,n.createSparseMatrix({values:M,index:N,ptr:F,size:[D,_],datatype:b})}});var U0="matAlgo13xDD",V0=["typed"],Gu=G(U0,V0,e=>{var{typed:r}=e;return function(n,o,f){var d=n._data,c=n._size,u=n._datatype,i=o._data,s=o._size,l=o._datatype,h=[];if(c.length!==s.length)throw new be(c.length,s.length);for(var y=0;y<c.length;y++){if(c[y]!==s[y])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+s+")");h[y]=c[y]}var p,m=f;typeof u=="string"&&u===l&&(p=u,m=r.find(f,[p,p]));var D=h.length>0?t(m,0,h,h[0],d,i):[];return n.createDenseMatrix({data:D,size:h,datatype:p})};function t(a,n,o,f,d,c){var u=[];if(n===o.length-1)for(var i=0;i<f;i++)u[i]=a(d[i],c[i]);else for(var s=0;s<f;s++)u[s]=t(a,n+1,o,o[n+1],d[s],c[s]);return u}});var Z0="broadcast",Y0=["concat"],Xu=G(Z0,Y0,e=>{var{concat:r}=e;return function(n,o){var f=Math.max(n._size.length,o._size.length);if(n._size.length===o._size.length&&n._size.every((y,p)=>y===o._size[p]))return[n,o];for(var d=t(n._size,f,0),c=t(o._size,f,0),u=[],i=0;i<f;i++)u[i]=Math.max(d[i],c[i]);vn(d,u),vn(c,u);var s=n.clone(),l=o.clone();s._size.length<f?s.reshape(t(s._size,f,1)):l._size.length<f&&l.reshape(t(l._size,f,1));for(var h=0;h<f;h++)s._size[h]<u[h]&&(s=a(s,u[h],h)),l._size[h]<u[h]&&(l=a(l,u[h],h));return[s,l]};function t(n,o,f){return[...Array(o-n.length).fill(f),...n]}function a(n,o,f){return r(...Array(o).fill(n),f)}});var W0="matrixAlgorithmSuite",k0=["typed","matrix","concat"],hr=G(W0,k0,e=>{var{typed:r,matrix:t,concat:a}=e,n=Gu({typed:r}),o=Un({typed:r}),f=Xu({concat:a});return function(c){var u=c.elop,i=c.SD||c.DS,s;u?(s={"DenseMatrix, DenseMatrix":(p,m)=>n(...f(p,m),u),"Array, Array":(p,m)=>n(...f(t(p),t(m)),u).valueOf(),"Array, DenseMatrix":(p,m)=>n(...f(t(p),m),u),"DenseMatrix, Array":(p,m)=>n(...f(p,t(m)),u)},c.SS&&(s["SparseMatrix, SparseMatrix"]=(p,m)=>c.SS(...f(p,m),u,!1)),c.DS&&(s["DenseMatrix, SparseMatrix"]=(p,m)=>c.DS(...f(p,m),u,!1),s["Array, SparseMatrix"]=(p,m)=>c.DS(...f(t(p),m),u,!1)),i&&(s["SparseMatrix, DenseMatrix"]=(p,m)=>i(...f(m,p),u,!0),s["SparseMatrix, Array"]=(p,m)=>i(...f(t(m),p),u,!0))):(s={"DenseMatrix, DenseMatrix":r.referToSelf(p=>(m,D)=>n(...f(m,D),p)),"Array, Array":r.referToSelf(p=>(m,D)=>n(...f(t(m),t(D)),p).valueOf()),"Array, DenseMatrix":r.referToSelf(p=>(m,D)=>n(...f(t(m),D),p)),"DenseMatrix, Array":r.referToSelf(p=>(m,D)=>n(...f(m,t(D)),p))},c.SS&&(s["SparseMatrix, SparseMatrix"]=r.referToSelf(p=>(m,D)=>c.SS(...f(m,D),p,!1))),c.DS&&(s["DenseMatrix, SparseMatrix"]=r.referToSelf(p=>(m,D)=>c.DS(...f(m,D),p,!1)),s["Array, SparseMatrix"]=r.referToSelf(p=>(m,D)=>c.DS(...f(t(m),D),p,!1))),i&&(s["SparseMatrix, DenseMatrix"]=r.referToSelf(p=>(m,D)=>i(...f(D,m),p,!0)),s["SparseMatrix, Array"]=r.referToSelf(p=>(m,D)=>i(...f(t(D),m),p,!0))));var l=c.scalar||"any",h=c.Ds||c.Ss;h&&(u?(s["DenseMatrix,"+l]=(p,m)=>o(p,m,u,!1),s[l+", DenseMatrix"]=(p,m)=>o(m,p,u,!0),s["Array,"+l]=(p,m)=>o(t(p),m,u,!1).valueOf(),s[l+", Array"]=(p,m)=>o(t(m),p,u,!0).valueOf()):(s["DenseMatrix,"+l]=r.referToSelf(p=>(m,D)=>o(m,D,p,!1)),s[l+", DenseMatrix"]=r.referToSelf(p=>(m,D)=>o(D,m,p,!0)),s["Array,"+l]=r.referToSelf(p=>(m,D)=>o(t(m),D,p,!1).valueOf()),s[l+", Array"]=r.referToSelf(p=>(m,D)=>o(t(D),m,p,!0).valueOf())));var y=c.sS!==void 0?c.sS:c.Ss;return u?(c.Ss&&(s["SparseMatrix,"+l]=(p,m)=>c.Ss(p,m,u,!1)),y&&(s[l+", SparseMatrix"]=(p,m)=>y(m,p,u,!0))):(c.Ss&&(s["SparseMatrix,"+l]=r.referToSelf(p=>(m,D)=>c.Ss(m,D,p,!1))),y&&(s[l+", SparseMatrix"]=r.referToSelf(p=>(m,D)=>y(D,m,p,!0)))),u&&u.signatures&&Vi(s,u.signatures),s}});var G0="matAlgo01xDSid",X0=["typed"],Vn=G(G0,X0,e=>{var{typed:r}=e;return function(a,n,o,f){var d=a._data,c=a._size,u=a._datatype,i=n._values,s=n._index,l=n._ptr,h=n._size,y=n._datatype;if(c.length!==h.length)throw new be(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!i)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=c[0],m=c[1],D=typeof u=="string"&&u===y?u:void 0,_=D?r.find(o,[D,D]):o,b,B,C=[];for(b=0;b<p;b++)C[b]=[];var x=[],M=[];for(B=0;B<m;B++){for(var N=B+1,F=l[B],T=l[B+1],z=F;z<T;z++)b=s[z],x[b]=f?_(i[z],d[b][B]):_(d[b][B],i[z]),M[b]=N;for(b=0;b<p;b++)M[b]===N?C[b][B]=x[b]:C[b][B]=d[b][B]}return a.createDenseMatrix({data:C,size:[p,m],datatype:D})}});var K0="matAlgo04xSidSid",H0=["typed","equalScalar"],Ku=G(K0,H0,e=>{var{typed:r,equalScalar:t}=e;return function(n,o,f){var d=n._values,c=n._index,u=n._ptr,i=n._size,s=n._datatype,l=o._values,h=o._index,y=o._ptr,p=o._size,m=o._datatype;if(i.length!==p.length)throw new be(i.length,p.length);if(i[0]!==p[0]||i[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+p+")");var D=i[0],_=i[1],b,B=t,C=0,x=f;typeof s=="string"&&s===m&&(b=s,B=r.find(t,[b,b]),C=r.convert(0,b),x=r.find(f,[b,b]));var M=d&&l?[]:void 0,N=[],F=[],T=d&&l?[]:void 0,z=d&&l?[]:void 0,P=[],K=[],W,X,V,ae,ee;for(X=0;X<_;X++){F[X]=N.length;var Y=X+1;for(ae=u[X],ee=u[X+1],V=ae;V<ee;V++)W=c[V],N.push(W),P[W]=Y,T&&(T[W]=d[V]);for(ae=y[X],ee=y[X+1],V=ae;V<ee;V++)if(W=h[V],P[W]===Y){if(T){var te=x(T[W],l[V]);B(te,C)?P[W]=null:T[W]=te}}else N.push(W),K[W]=Y,z&&(z[W]=l[V]);if(T&&z)for(V=F[X];V<N.length;)W=N[V],P[W]===Y?(M[V]=T[W],V++):K[W]===Y?(M[V]=z[W],V++):N.splice(V,1)}return F[_]=N.length,n.createSparseMatrix({values:M,index:N,ptr:F,size:[D,_],datatype:b})}});var Q0="matAlgo10xSids",J0=["typed","DenseMatrix"],Zn=G(Q0,J0,e=>{var{typed:r,DenseMatrix:t}=e;return function(n,o,f,d){var c=n._values,u=n._index,i=n._ptr,s=n._size,l=n._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=s[0],y=s[1],p,m=f;typeof l=="string"&&(p=l,o=r.convert(o,p),m=r.find(f,[p,p]));for(var D=[],_=[],b=[],B=0;B<y;B++){for(var C=B+1,x=i[B],M=i[B+1],N=x;N<M;N++){var F=u[N];_[F]=c[N],b[F]=C}for(var T=0;T<h;T++)B===0&&(D[T]=[]),b[T]===C?D[T][B]=d?m(o,_[T]):m(_[T],o):D[T][B]=o}return new t({data:D,size:[h,y],datatype:p})}});var $0="multiplyScalar",j0=["typed"],go=G($0,j0,e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":no,"Complex, Complex":function(a,n){return a.mul(n)},"BigNumber, BigNumber":function(a,n){return a.times(n)},"Fraction, Fraction":function(a,n){return a.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(t,a)=>a.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,a)=>t.multiply(a)})});var Hu="multiply",el=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Do=G(Hu,el,e=>{var{typed:r,matrix:t,addScalar:a,multiplyScalar:n,equalScalar:o,dot:f}=e,d=qn({typed:r,equalScalar:o}),c=Un({typed:r});function u(C,x){switch(C.length){case 1:switch(x.length){case 1:if(C[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(C[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+x[0]+")");break;case 2:if(C[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}function i(C,x,M){if(M===0)throw new Error("Cannot multiply two empty vectors");return f(C,x)}function s(C,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return l(C,x)}function l(C,x){var M=C._data,N=C._size,F=C._datatype,T=x._data,z=x._size,P=x._datatype,K=N[0],W=z[1],X,V=a,ae=n;F&&P&&F===P&&typeof F=="string"&&(X=F,V=r.find(a,[X,X]),ae=r.find(n,[X,X]));for(var ee=[],Y=0;Y<W;Y++){for(var te=ae(M[0],T[0][Y]),se=1;se<K;se++)te=V(te,ae(M[se],T[se][Y]));ee[Y]=te}return C.createDenseMatrix({data:ee,size:[W],datatype:X})}var h=r("_multiplyMatrixVector",{"DenseMatrix, any":p,"SparseMatrix, any":_}),y=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":D,"SparseMatrix, DenseMatrix":b,"SparseMatrix, SparseMatrix":B});function p(C,x){var M=C._data,N=C._size,F=C._datatype,T=x._data,z=x._datatype,P=N[0],K=N[1],W,X=a,V=n;F&&z&&F===z&&typeof F=="string"&&(W=F,X=r.find(a,[W,W]),V=r.find(n,[W,W]));for(var ae=[],ee=0;ee<P;ee++){for(var Y=M[ee],te=V(Y[0],T[0]),se=1;se<K;se++)te=X(te,V(Y[se],T[se]));ae[ee]=te}return C.createDenseMatrix({data:ae,size:[P],datatype:W})}function m(C,x){var M=C._data,N=C._size,F=C._datatype,T=x._data,z=x._size,P=x._datatype,K=N[0],W=N[1],X=z[1],V,ae=a,ee=n;F&&P&&F===P&&typeof F=="string"&&(V=F,ae=r.find(a,[V,V]),ee=r.find(n,[V,V]));for(var Y=[],te=0;te<K;te++){var se=M[te];Y[te]=[];for(var fe=0;fe<X;fe++){for(var de=ee(se[0],T[0][fe]),ce=1;ce<W;ce++)de=ae(de,ee(se[ce],T[ce][fe]));Y[te][fe]=de}}return C.createDenseMatrix({data:Y,size:[K,X],datatype:V})}function D(C,x){var M=C._data,N=C._size,F=C._datatype,T=x._values,z=x._index,P=x._ptr,K=x._size,W=x._datatype;if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var X=N[0],V=K[1],ae,ee=a,Y=n,te=o,se=0;F&&W&&F===W&&typeof F=="string"&&(ae=F,ee=r.find(a,[ae,ae]),Y=r.find(n,[ae,ae]),te=r.find(o,[ae,ae]),se=r.convert(0,ae));for(var fe=[],de=[],ce=[],Re=x.createSparseMatrix({values:fe,index:de,ptr:ce,size:[X,V],datatype:ae}),we=0;we<V;we++){ce[we]=de.length;var xe=P[we],Me=P[we+1];if(Me>xe)for(var Ae=0,he=0;he<X;he++){for(var Xe=he+1,qe=void 0,ge=xe;ge<Me;ge++){var Te=z[ge];Ae!==Xe?(qe=Y(M[he][Te],T[ge]),Ae=Xe):qe=ee(qe,Y(M[he][Te],T[ge]))}Ae===Xe&&!te(qe,se)&&(de.push(he),fe.push(qe))}}return ce[V]=de.length,Re}function _(C,x){var M=C._values,N=C._index,F=C._ptr,T=C._datatype;if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var z=x._data,P=x._datatype,K=C._size[0],W=x._size[0],X=[],V=[],ae=[],ee,Y=a,te=n,se=o,fe=0;T&&P&&T===P&&typeof T=="string"&&(ee=T,Y=r.find(a,[ee,ee]),te=r.find(n,[ee,ee]),se=r.find(o,[ee,ee]),fe=r.convert(0,ee));var de=[],ce=[];ae[0]=0;for(var Re=0;Re<W;Re++){var we=z[Re];if(!se(we,fe))for(var xe=F[Re],Me=F[Re+1],Ae=xe;Ae<Me;Ae++){var he=N[Ae];ce[he]?de[he]=Y(de[he],te(we,M[Ae])):(ce[he]=!0,V.push(he),de[he]=te(we,M[Ae]))}}for(var Xe=V.length,qe=0;qe<Xe;qe++){var ge=V[qe];X[qe]=de[ge]}return ae[1]=V.length,C.createSparseMatrix({values:X,index:V,ptr:ae,size:[K,1],datatype:ee})}function b(C,x){var M=C._values,N=C._index,F=C._ptr,T=C._datatype;if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var z=x._data,P=x._datatype,K=C._size[0],W=x._size[0],X=x._size[1],V,ae=a,ee=n,Y=o,te=0;T&&P&&T===P&&typeof T=="string"&&(V=T,ae=r.find(a,[V,V]),ee=r.find(n,[V,V]),Y=r.find(o,[V,V]),te=r.convert(0,V));for(var se=[],fe=[],de=[],ce=C.createSparseMatrix({values:se,index:fe,ptr:de,size:[K,X],datatype:V}),Re=[],we=[],xe=0;xe<X;xe++){de[xe]=fe.length;for(var Me=xe+1,Ae=0;Ae<W;Ae++){var he=z[Ae][xe];if(!Y(he,te))for(var Xe=F[Ae],qe=F[Ae+1],ge=Xe;ge<qe;ge++){var Te=N[ge];we[Te]!==Me?(we[Te]=Me,fe.push(Te),Re[Te]=ee(he,M[ge])):Re[Te]=ae(Re[Te],ee(he,M[ge]))}}for(var Ye=de[xe],Oe=fe.length,je=Ye;je<Oe;je++){var Ce=fe[je];se[je]=Re[Ce]}}return de[X]=fe.length,ce}function B(C,x){var M=C._values,N=C._index,F=C._ptr,T=C._datatype,z=x._values,P=x._index,K=x._ptr,W=x._datatype,X=C._size[0],V=x._size[1],ae=M&&z,ee,Y=a,te=n;T&&W&&T===W&&typeof T=="string"&&(ee=T,Y=r.find(a,[ee,ee]),te=r.find(n,[ee,ee]));for(var se=ae?[]:void 0,fe=[],de=[],ce=C.createSparseMatrix({values:se,index:fe,ptr:de,size:[X,V],datatype:ee}),Re=ae?[]:void 0,we=[],xe,Me,Ae,he,Xe,qe,ge,Te,Ye=0;Ye<V;Ye++){de[Ye]=fe.length;var Oe=Ye+1;for(Xe=K[Ye],qe=K[Ye+1],he=Xe;he<qe;he++)if(Te=P[he],ae)for(Me=F[Te],Ae=F[Te+1],xe=Me;xe<Ae;xe++)ge=N[xe],we[ge]!==Oe?(we[ge]=Oe,fe.push(ge),Re[ge]=te(z[he],M[xe])):Re[ge]=Y(Re[ge],te(z[he],M[xe]));else for(Me=F[Te],Ae=F[Te+1],xe=Me;xe<Ae;xe++)ge=N[xe],we[ge]!==Oe&&(we[ge]=Oe,fe.push(ge));if(ae)for(var je=de[Ye],Ce=fe.length,Ke=je;Ke<Ce;Ke++){var $e=fe[Ke];se[Ke]=Re[$e]}}return de[V]=fe.length,ce}return r(Hu,n,{"Array, Array":r.referTo("Matrix, Matrix",C=>(x,M)=>{u(Je(x),Je(M));var N=C(t(x),t(M));return ze(N)?N.valueOf():N}),"Matrix, Matrix":function(x,M){var N=x.size(),F=M.size();return u(N,F),N.length===1?F.length===1?i(x,M,N[0]):s(x,M):F.length===1?h(x,M):y(x,M)},"Matrix, Array":r.referTo("Matrix,Matrix",C=>(x,M)=>C(x,t(M))),"Array, Matrix":r.referToSelf(C=>(x,M)=>C(t(x,M.storage()),M)),"SparseMatrix, any":function(x,M){return d(x,M,n,!1)},"DenseMatrix, any":function(x,M){return c(x,M,n,!1)},"any, SparseMatrix":function(x,M){return d(M,x,n,!0)},"any, DenseMatrix":function(x,M){return c(M,x,n,!0)},"Array, any":function(x,M){return c(t(x),M,n,!1).valueOf()},"any, Array":function(x,M){return c(t(M),x,n,!0).valueOf()},"any, any":n,"any, any, ...any":r.referToSelf(C=>(x,M,N)=>{for(var F=C(x,M),T=0;T<N.length;T++)F=C(F,N[T]);return F})})});var Qu="subtract",rl=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],yo=G(Qu,rl,e=>{var{typed:r,matrix:t,equalScalar:a,subtractScalar:n,unaryMinus:o,DenseMatrix:f,concat:d}=e,c=Vn({typed:r}),u=_r({typed:r}),i=ku({typed:r,equalScalar:a}),s=Zn({typed:r,DenseMatrix:f}),l=wr({typed:r,DenseMatrix:f}),h=hr({typed:r,matrix:t,concat:d});return r(Qu,{"any, any":n},h({elop:n,SS:i,DS:c,SD:u,Ss:l,sS:s}))});var tl="matAlgo07xSSf",nl=["typed","DenseMatrix"],qr=G(tl,nl,e=>{var{typed:r,DenseMatrix:t}=e;return function(o,f,d){var c=o._size,u=o._datatype,i=f._size,s=f._datatype;if(c.length!==i.length)throw new be(c.length,i.length);if(c[0]!==i[0]||c[1]!==i[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+i+")");var l=c[0],h=c[1],y,p=0,m=d;typeof u=="string"&&u===s&&(y=u,p=r.convert(0,y),m=r.find(d,[y,y]));var D,_,b=[];for(D=0;D<l;D++)b[D]=[];var B=[],C=[],x=[],M=[];for(_=0;_<h;_++){var N=_+1;for(a(o,_,x,B,N),a(f,_,M,C,N),D=0;D<l;D++){var F=x[D]===N?B[D]:p,T=M[D]===N?C[D]:p;b[D][_]=m(F,T)}}return new t({data:b,size:[l,h],datatype:y})};function a(n,o,f,d,c){for(var u=n._values,i=n._index,s=n._ptr,l=s[o],h=s[o+1];l<h;l++){var y=i[l];f[y]=c,d[y]=u[l]}}});var Ju="conj",al=["typed"],bo=G(Ju,al,e=>{var{typed:r}=e;return r(Ju,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":r.referToSelf(t=>a=>ur(a,t))})});var $u="concat",ol=["typed","matrix","isInteger"],wo=G($u,ol,e=>{var{typed:r,matrix:t,isInteger:a}=e;return r($u,{"...Array | Matrix | number | BigNumber":function(o){var f,d=o.length,c=-1,u,i=!1,s=[];for(f=0;f<d;f++){var l=o[f];if(ze(l)&&(i=!0),Ue(l)||We(l)){if(f!==d-1)throw new Error("Dimension must be specified as last argument");if(u=c,c=l.valueOf(),!a(c))throw new TypeError("Integer number expected for dimension");if(c<0||f>0&&c>u)throw new Yr(c,u+1)}else{var h=Be(l).valueOf(),y=Je(h);if(s[f]=h,u=c,c=y.length-1,f>0&&c!==u)throw new be(u+1,c+1)}}if(s.length===0)throw new SyntaxError("At least one matrix expected");for(var p=s.shift();s.length;)p=Ba(p,s.shift(),c);return i?t(p):p},"...string":function(o){return o.join("")}})});var ju="identity",il=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],_o=G(ju,il,e=>{var{typed:r,config:t,matrix:a,BigNumber:n,DenseMatrix:o,SparseMatrix:f}=e;return r(ju,{"":function(){return t.matrix==="Matrix"?a([]):[]},string:function(i){return a(i)},"number | BigNumber":function(i){return c(i,i,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(i,s){return c(i,i,s)},"number | BigNumber, number | BigNumber":function(i,s){return c(i,s,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(i,s,l){return c(i,s,l)},Array:function(i){return d(i)},"Array, string":function(i,s){return d(i,s)},Matrix:function(i){return d(i.valueOf(),i.storage())},"Matrix, string":function(i,s){return d(i.valueOf(),s)}});function d(u,i){switch(u.length){case 0:return i?a(i):[];case 1:return c(u[0],u[0],i);case 2:return c(u[0],u[1],i);default:throw new Error("Vector containing two values expected")}}function c(u,i,s){var l=We(u)||We(i)?n:null;if(We(u)&&(u=u.toNumber()),We(i)&&(i=i.toNumber()),!Fe(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!Fe(i)||i<1)throw new Error("Parameters in function identity must be positive integers");var h=l?new n(1):1,y=l?new l(0):0,p=[u,i];if(s){if(s==="sparse")return f.diagonal(p,h,0,y);if(s==="dense")return o.diagonal(p,h,0,y);throw new TypeError('Unknown matrix type "'.concat(s,'"'))}for(var m=mt([],p,y),D=u<i?u:i,_=0;_<D;_++)m[_][_]=h;return m}});function es(){throw new Error('No "bignumber" implementation available')}function rs(){throw new Error('No "fraction" implementation available')}function ts(){throw new Error('No "matrix" implementation available')}var ns="size",ul=["typed","config","?matrix"],Eo=G(ns,ul,e=>{var{typed:r,config:t,matrix:a}=e;return r(ns,{Matrix:function(o){return o.create(o.size())},Array:Je,string:function(o){return t.matrix==="Array"?[o.length]:a([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return t.matrix==="Array"?[]:a?a([]):ts()}})});var as="transpose",sl=["typed","matrix"],Ao=G(as,sl,e=>{var{typed:r,matrix:t}=e;return r(as,{Array:f=>a(t(f)).valueOf(),Matrix:a,any:Be});function a(f){var d=f.size(),c;switch(d.length){case 1:c=f.clone();break;case 2:{var u=d[0],i=d[1];if(i===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Le(d)+")");switch(f.storage()){case"dense":c=n(f,u,i);break;case"sparse":c=o(f,u,i);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Le(d)+")")}return c}function n(f,d,c){for(var u=f._data,i=[],s,l=0;l<c;l++){s=i[l]=[];for(var h=0;h<d;h++)s[h]=Be(u[h][l])}return f.createDenseMatrix({data:i,size:[c,d],datatype:f._datatype})}function o(f,d,c){for(var u=f._values,i=f._index,s=f._ptr,l=u?[]:void 0,h=[],y=[],p=[],m=0;m<d;m++)p[m]=0;var D,_,b;for(D=0,_=i.length;D<_;D++)p[i[D]]++;for(var B=0,C=0;C<d;C++)y.push(B),B+=p[C],p[C]=y[C];for(y.push(B),b=0;b<c;b++)for(var x=s[b],M=s[b+1],N=x;N<M;N++){var F=p[i[N]]++;h[F]=b,u&&(l[F]=Be(u[N]))}return f.createSparseMatrix({values:l,index:h,ptr:y,size:[c,d],datatype:f._datatype})}});var os="ctranspose",fl=["typed","transpose","conj"],Co=G(os,fl,e=>{var{typed:r,transpose:t,conj:a}=e;return r(os,{any:function(o){return a(t(o))}})});var is="zeros",cl=["typed","config","matrix","BigNumber"],Fo=G(is,cl,e=>{var{typed:r,config:t,matrix:a,BigNumber:n}=e;return r(is,{"":function(){return t.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(u){var i=u[u.length-1];if(typeof i=="string"){var s=u.pop();return o(u,s)}else return t.matrix==="Array"?o(u):o(u,"default")},Array:o,Matrix:function(u){var i=u.storage();return o(u.valueOf(),i)},"Array | Matrix, string":function(u,i){return o(u.valueOf(),i)}});function o(c,u){var i=f(c),s=i?new n(0):0;if(d(c),u){var l=a(u);return c.length>0?l.resize(c,s):l}else{var h=[];return c.length>0?mt(h,c,s):h}}function f(c){var u=!1;return c.forEach(function(i,s,l){We(i)&&(u=!0,l[s]=i.toNumber())}),u}function d(c){c.forEach(function(u){if(typeof u!="number"||!Fe(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}});var ll="numeric",pl=["number","?bignumber","?fraction"],So=G(ll,pl,e=>{var{number:r,bignumber:t,fraction:a}=e,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:f=>r(f),BigNumber:t?f=>t(f):es,Fraction:a?f=>a(f):rs};return function(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var i=Rr(d);if(!(i in n))throw new TypeError("Cannot convert "+d+' of type "'+i+'"; valid input types are '+Object.keys(n).join(", "));if(!(c in o))throw new TypeError("Cannot convert "+d+' to type "'+c+'"; valid output types are '+Object.keys(o).join(", "));return c===i?d:o[c](d)}});var us="divideScalar",dl=["typed","numeric"],Mo=G(us,dl,e=>{var{typed:r,numeric:t}=e;return r(us,{"number, number":function(n,o){return n/o},"Complex, Complex":function(n,o){return n.div(o)},"BigNumber, BigNumber":function(n,o){return n.div(o)},"Fraction, Fraction":function(n,o){return n.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(a,n)=>a.divide(n),"number | Fraction | Complex | BigNumber, Unit":(a,n)=>n.divideInto(a)})});var ss="dotDivide",vl=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],No=G(ss,vl,e=>{var{typed:r,matrix:t,equalScalar:a,divideScalar:n,DenseMatrix:o,concat:f}=e,d=Wu({typed:r,equalScalar:a}),c=_r({typed:r}),u=qr({typed:r,DenseMatrix:o}),i=qn({typed:r,equalScalar:a}),s=wr({typed:r,DenseMatrix:o}),l=hr({typed:r,matrix:t,concat:f});return r(ss,l({elop:n,SS:u,DS:c,SD:d,Ss:i,sS:s}))});function Ft(e){var{DenseMatrix:r}=e;return function(a,n,o){var f=a.size();if(f.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Le(f)+")");var d=f[0],c=f[1];if(d!==c)throw new RangeError("Matrix must be square (size: "+Le(f)+")");var u=[];if(ze(n)){var i=n.size(),s=n._data;if(i.length===1){if(i[0]!==d)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var l=0;l<d;l++)u[l]=[s[l]];return new r({data:u,size:[d,1],datatype:n._datatype})}if(i.length===2){if(i[0]!==d||i[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(_n(n)){if(o){u=[];for(var h=0;h<d;h++)u[h]=[s[h][0]];return new r({data:u,size:[d,1],datatype:n._datatype})}return n}if(En(n)){for(var y=0;y<d;y++)u[y]=[0];for(var p=n._values,m=n._index,D=n._ptr,_=D[1],b=D[0];b<_;b++){var B=m[b];u[B][0]=p[b]}return new r({data:u,size:[d,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ve(n)){var C=Je(n);if(C.length===1){if(C[0]!==d)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<d;x++)u[x]=[n[x]];return new r({data:u,size:[d,1]})}if(C.length===2){if(C[0]!==d||C[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var M=0;M<d;M++)u[M]=[n[M][0]];return new r({data:u,size:[d,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var fs="lsolve",hl=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Bo=G(fs,hl,e=>{var{typed:r,matrix:t,divideScalar:a,multiplyScalar:n,subtractScalar:o,equalScalar:f,DenseMatrix:d}=e,c=Ft({DenseMatrix:d});return r(fs,{"SparseMatrix, Array | Matrix":function(l,h){return i(l,h)},"DenseMatrix, Array | Matrix":function(l,h){return u(l,h)},"Array, Array | Matrix":function(l,h){var y=t(l),p=u(y,h);return p.valueOf()}});function u(s,l){l=c(s,l,!0);for(var h=l._data,y=s._size[0],p=s._size[1],m=[],D=s._data,_=0;_<p;_++){var b=h[_][0]||0,B=void 0;if(f(b,0))B=0;else{var C=D[_][_];if(f(C,0))throw new Error("Linear system cannot be solved since matrix is singular");B=a(b,C);for(var x=_+1;x<y;x++)h[x]=[o(h[x][0]||0,n(B,D[x][_]))]}m[_]=[B]}return new d({data:m,size:[y,1]})}function i(s,l){l=c(s,l,!0);for(var h=l._data,y=s._size[0],p=s._size[1],m=s._values,D=s._index,_=s._ptr,b=[],B=0;B<p;B++){var C=h[B][0]||0;if(f(C,0))b[B]=[0];else{for(var x=0,M=[],N=[],F=_[B],T=_[B+1],z=F;z<T;z++){var P=D[z];P===B?x=m[z]:P>B&&(M.push(m[z]),N.push(P))}if(f(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var K=a(C,x),W=0,X=N.length;W<X;W++){var V=N[W];h[V]=[o(h[V][0]||0,n(K,M[W]))]}b[B]=[K]}}return new d({data:b,size:[y,1]})}});var cs="usolve",ml=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],To=G(cs,ml,e=>{var{typed:r,matrix:t,divideScalar:a,multiplyScalar:n,subtractScalar:o,equalScalar:f,DenseMatrix:d}=e,c=Ft({DenseMatrix:d});return r(cs,{"SparseMatrix, Array | Matrix":function(l,h){return i(l,h)},"DenseMatrix, Array | Matrix":function(l,h){return u(l,h)},"Array, Array | Matrix":function(l,h){var y=t(l),p=u(y,h);return p.valueOf()}});function u(s,l){l=c(s,l,!0);for(var h=l._data,y=s._size[0],p=s._size[1],m=[],D=s._data,_=p-1;_>=0;_--){var b=h[_][0]||0,B=void 0;if(f(b,0))B=0;else{var C=D[_][_];if(f(C,0))throw new Error("Linear system cannot be solved since matrix is singular");B=a(b,C);for(var x=_-1;x>=0;x--)h[x]=[o(h[x][0]||0,n(B,D[x][_]))]}m[_]=[B]}return new d({data:m,size:[y,1]})}function i(s,l){l=c(s,l,!0);for(var h=l._data,y=s._size[0],p=s._size[1],m=s._values,D=s._index,_=s._ptr,b=[],B=p-1;B>=0;B--){var C=h[B][0]||0;if(f(C,0))b[B]=[0];else{for(var x=0,M=[],N=[],F=_[B],T=_[B+1],z=T-1;z>=F;z--){var P=D[z];P===B?x=m[z]:P<B&&(M.push(m[z]),N.push(P))}if(f(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var K=a(C,x),W=0,X=N.length;W<X;W++){var V=N[W];h[V]=[o(h[V][0],n(K,M[W]))]}b[B]=[K]}}return new d({data:b,size:[y,1]})}});var Yn="equal",xl=["typed","matrix","equalScalar","DenseMatrix","concat"],Io=G(Yn,xl,e=>{var{typed:r,matrix:t,equalScalar:a,DenseMatrix:n,concat:o}=e,f=_r({typed:r}),d=qr({typed:r,DenseMatrix:n}),c=wr({typed:r,DenseMatrix:n}),u=hr({typed:r,matrix:t,concat:o});return r(Yn,gl({typed:r,equalScalar:a}),u({elop:a,SS:d,DS:f,Ss:c}))}),gl=G(Yn,["typed","equalScalar"],e=>{var{typed:r,equalScalar:t}=e;return r(Yn,{"any, any":function(n,o){return n===null?o===null:o===null?n===null:n===void 0?o===void 0:o===void 0?n===void 0:t(n,o)}})});var Wn="smaller",Dl=["typed","config","matrix","DenseMatrix","concat"],zo=G(Wn,Dl,e=>{var{typed:r,config:t,matrix:a,DenseMatrix:n,concat:o}=e,f=_r({typed:r}),d=qr({typed:r,DenseMatrix:n}),c=wr({typed:r,DenseMatrix:n}),u=hr({typed:r,matrix:a,concat:o}),i=tt({typed:r});return r(Wn,yl({typed:r,config:t}),{"boolean, boolean":(s,l)=>s<l,"BigNumber, BigNumber":function(l,h){return l.lt(h)&&!rt(l,h,t.epsilon)},"Fraction, Fraction":(s,l)=>s.compare(l)===-1,"Complex, Complex":function(l,h){throw new TypeError("No ordering relation is defined for complex numbers")}},i,u({SS:d,DS:f,Ss:c}))}),yl=G(Wn,["typed","config"],e=>{var{typed:r,config:t}=e;return r(Wn,{"number, number":function(n,o){return n<o&&!br(n,o,t.epsilon)}})});var kn="larger",bl=["typed","config","matrix","DenseMatrix","concat"],Ro=G(kn,bl,e=>{var{typed:r,config:t,matrix:a,DenseMatrix:n,concat:o}=e,f=_r({typed:r}),d=qr({typed:r,DenseMatrix:n}),c=wr({typed:r,DenseMatrix:n}),u=hr({typed:r,matrix:a,concat:o}),i=tt({typed:r});return r(kn,wl({typed:r,config:t}),{"boolean, boolean":(s,l)=>s>l,"BigNumber, BigNumber":function(l,h){return l.gt(h)&&!rt(l,h,t.epsilon)},"Fraction, Fraction":(s,l)=>s.compare(l)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},i,u({SS:d,DS:f,Ss:c}))}),wl=G(kn,["typed","config"],e=>{var{typed:r,config:t}=e;return r(kn,{"number, number":function(n,o){return n>o&&!br(n,o,t.epsilon)}})});var Gn="largerEq",_l=["typed","config","matrix","DenseMatrix","concat"],Po=G(Gn,_l,e=>{var{typed:r,config:t,matrix:a,DenseMatrix:n,concat:o}=e,f=_r({typed:r}),d=qr({typed:r,DenseMatrix:n}),c=wr({typed:r,DenseMatrix:n}),u=hr({typed:r,matrix:a,concat:o}),i=tt({typed:r});return r(Gn,El({typed:r,config:t}),{"boolean, boolean":(s,l)=>s>=l,"BigNumber, BigNumber":function(l,h){return l.gte(h)||rt(l,h,t.epsilon)},"Fraction, Fraction":(s,l)=>s.compare(l)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},i,u({SS:d,DS:f,Ss:c}))}),El=G(Gn,["typed","config"],e=>{var{typed:r,config:t}=e;return r(Gn,{"number, number":function(n,o){return n>=o||br(n,o,t.epsilon)}})});var ls="deepEqual",Al=["typed","equal"],Oo=G(ls,Al,e=>{var{typed:r,equal:t}=e;return r(ls,{"any, any":function(o,f){return a(o.valueOf(),f.valueOf())}});function a(n,o){if(Array.isArray(n))if(Array.isArray(o)){var f=n.length;if(f!==o.length)return!1;for(var d=0;d<f;d++)if(!a(n[d],o[d]))return!1;return!0}else return!1;else return Array.isArray(o)?!1:t(n,o)}});var Cl="FibonacciHeap",Fl=["smaller","larger"],Lo=G(Cl,Fl,e=>{var{smaller:r,larger:t}=e,a=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(i,s){var l={key:i,value:s,degree:0};if(this._minimum){var h=this._minimum;l.left=h,l.right=h.right,h.right=l,l.right.left=l,r(i,h.key)&&(this._minimum=l)}else l.left=l,l.right=l,this._minimum=l;return this._size++,l},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var i=this._minimum;if(i===null)return i;for(var s=this._minimum,l=i.degree,h=i.child;l>0;){var y=h.right;h.left.right=h.right,h.right.left=h.left,h.left=s,h.right=s.right,s.right=h,h.right.left=h,h.parent=null,h=y,l--}return i.left.right=i.right,i.right.left=i.left,i===i.right?s=null:(s=i.right,s=u(s,this._size)),this._size--,this._minimum=s,i},n.prototype.remove=function(i){this._minimum=o(this._minimum,i,-1),this.extractMinimum()};function o(i,s,l){s.key=l;var h=s.parent;return h&&r(s.key,h.key)&&(f(i,s,h),d(i,h)),r(s.key,i.key)&&(i=s),i}function f(i,s,l){s.left.right=s.right,s.right.left=s.left,l.degree--,l.child===s&&(l.child=s.right),l.degree===0&&(l.child=null),s.left=i,s.right=i.right,i.right=s,s.right.left=s,s.parent=null,s.mark=!1}function d(i,s){var l=s.parent;l&&(s.mark?(f(i,s,l),d(l)):s.mark=!0)}var c=function(s,l){s.left.right=s.right,s.right.left=s.left,s.parent=l,l.child?(s.left=l.child,s.right=l.child.right,l.child.right=s,s.right.left=s):(l.child=s,s.right=s,s.left=s),l.degree++,s.mark=!1};function u(i,s){var l=Math.floor(Math.log(s)*a)+1,h=new Array(l),y=0,p=i;if(p)for(y++,p=p.right;p!==i;)y++,p=p.right;for(var m;y>0;){for(var D=p.degree,_=p.right;m=h[D],!!m;){if(t(p.key,m.key)){var b=m;m=p,p=b}c(m,p),h[D]=null,D++}h[D]=p,p=_,y--}i=null;for(var B=0;B<l;B++)m=h[B],m&&(i?(m.left.right=m.right,m.right.left=m.left,m.left=i,m.right=i.right,i.right=m,m.right.left=m,r(m.key,i.key)&&(i=m)):i=m);return i}return n},{isClass:!0});var Sl="Spa",Ml=["addScalar","equalScalar","FibonacciHeap"],qo=G(Sl,Ml,e=>{var{addScalar:r,equalScalar:t,FibonacciHeap:a}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new a}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(o,f){if(this._values[o])this._values[o].value=f;else{var d=this._heap.insert(o,f);this._values[o]=d}},n.prototype.get=function(o){var f=this._values[o];return f?f.value:0},n.prototype.accumulate=function(o,f){var d=this._values[o];d?d.value=r(d.value,f):(d=this._heap.insert(o,f),this._values[o]=d)},n.prototype.forEach=function(o,f,d){var c=this._heap,u=this._values,i=[],s=c.extractMinimum();for(s&&i.push(s);s&&s.key<=f;)s.key>=o&&(t(s.value,0)||d(s.key,s.value,this)),s=c.extractMinimum(),s&&i.push(s);for(var l=0;l<i.length;l++){var h=i[l];s=c.insert(h.key,h.value),u[s.key]=s}},n.prototype.swap=function(o,f){var d=this._values[o],c=this._values[f];if(!d&&c)d=this._heap.insert(o,c.value),this._heap.remove(c),this._values[o]=d,this._values[f]=void 0;else if(d&&!c)c=this._heap.insert(f,d.value),this._heap.remove(d),this._values[f]=c,this._values[o]=void 0;else if(d&&c){var u=d.value;d.value=c.value,c.value=u}},n},{isClass:!0});var ps="sparse",Nl=["typed","SparseMatrix"],Uo=G(ps,Nl,e=>{var{typed:r,SparseMatrix:t}=e;return r(ps,{"":function(){return new t([])},string:function(n){return new t([],n)},"Array | Matrix":function(n){return new t(n)},"Array | Matrix, string":function(n,o){return new t(n,o)}})});var ds="add",Bl=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Vo=G(ds,Bl,e=>{var{typed:r,matrix:t,addScalar:a,equalScalar:n,DenseMatrix:o,SparseMatrix:f,concat:d}=e,c=Vn({typed:r}),u=Ku({typed:r,equalScalar:n}),i=Zn({typed:r,DenseMatrix:o}),s=hr({typed:r,matrix:t,concat:d});return r(ds,{"any, any":a,"any, any, ...any":r.referToSelf(l=>(h,y,p)=>{for(var m=l(h,y),D=0;D<p.length;D++)m=l(m,p[D]);return m})},s({elop:a,DS:c,SS:u,Ss:i}))});var vs="dot",Tl=["typed","addScalar","multiplyScalar","conj","size"],Zo=G(vs,Tl,e=>{var{typed:r,addScalar:t,multiplyScalar:a,conj:n,size:o}=e;return r(vs,{"Array | DenseMatrix, Array | DenseMatrix":d,"SparseMatrix, SparseMatrix":c});function f(i,s){var l=u(i),h=u(s),y,p;if(l.length===1)y=l[0];else if(l.length===2&&l[1]===1)y=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(h.length===1)p=h[0];else if(h.length===2&&h[1]===1)p=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(y!==p)throw new RangeError("Vectors must have equal length ("+y+" != "+p+")");if(y===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return y}function d(i,s){var l=f(i,s),h=ze(i)?i._data:i,y=ze(i)?i._datatype:void 0,p=ze(s)?s._data:s,m=ze(s)?s._datatype:void 0,D=u(i).length===2,_=u(s).length===2,b=t,B=a;if(y&&m&&y===m&&typeof y=="string"){var C=y;b=r.find(t,[C,C]),B=r.find(a,[C,C])}if(!D&&!_){for(var x=B(n(h[0]),p[0]),M=1;M<l;M++)x=b(x,B(n(h[M]),p[M]));return x}if(!D&&_){for(var N=B(n(h[0]),p[0][0]),F=1;F<l;F++)N=b(N,B(n(h[F]),p[F][0]));return N}if(D&&!_){for(var T=B(n(h[0][0]),p[0]),z=1;z<l;z++)T=b(T,B(n(h[z][0]),p[z]));return T}if(D&&_){for(var P=B(n(h[0][0]),p[0][0]),K=1;K<l;K++)P=b(P,B(n(h[K][0]),p[K][0]));return P}}function c(i,s){f(i,s);for(var l=i._index,h=i._values,y=s._index,p=s._values,m=0,D=t,_=a,b=0,B=0;b<l.length&&B<y.length;){var C=l[b],x=y[B];if(C<x){b++;continue}if(C>x){B++;continue}C===x&&(m=D(m,_(h[b],p[B])),b++,B++)}return m}function u(i){return ze(i)?i.size():o(i)}});var hs="lup",Il=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Yo=G(hs,Il,e=>{var{typed:r,matrix:t,abs:a,addScalar:n,divideScalar:o,multiplyScalar:f,subtractScalar:d,larger:c,equalScalar:u,unaryMinus:i,DenseMatrix:s,SparseMatrix:l,Spa:h}=e;return r(hs,{DenseMatrix:function(D){return y(D)},SparseMatrix:function(D){return p(D)},Array:function(D){var _=t(D),b=y(_);return{L:b.L.valueOf(),U:b.U.valueOf(),p:b.p}}});function y(m){var D=m._size[0],_=m._size[1],b=Math.min(D,_),B=Be(m._data),C=[],x=[D,b],M=[],N=[b,_],F,T,z,P=[];for(F=0;F<D;F++)P[F]=F;for(T=0;T<_;T++){if(T>0)for(F=0;F<D;F++){var K=Math.min(F,T),W=0;for(z=0;z<K;z++)W=n(W,f(B[F][z],B[z][T]));B[F][T]=d(B[F][T],W)}var X=T,V=0,ae=0;for(F=T;F<D;F++){var ee=B[F][T],Y=a(ee);c(Y,V)&&(X=F,V=Y,ae=ee)}if(T!==X&&(P[T]=[P[X],P[X]=P[T]][0],s._swapRows(T,X,B)),T<D)for(F=T+1;F<D;F++){var te=B[F][T];u(te,0)||(B[F][T]=o(B[F][T],ae))}}for(T=0;T<_;T++)for(F=0;F<D;F++){if(T===0&&(F<_&&(M[F]=[]),C[F]=[]),F<T){F<_&&(M[F][T]=B[F][T]),T<D&&(C[F][T]=0);continue}if(F===T){F<_&&(M[F][T]=B[F][T]),T<D&&(C[F][T]=1);continue}F<_&&(M[F][T]=0),T<D&&(C[F][T]=B[F][T])}var se=new s({data:C,size:x}),fe=new s({data:M,size:N}),de=[];for(F=0,b=P.length;F<b;F++)de[P[F]]=F;return{L:se,U:fe,p:de,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function p(m){var D=m._size[0],_=m._size[1],b=Math.min(D,_),B=m._values,C=m._index,x=m._ptr,M=[],N=[],F=[],T=[D,b],z=[],P=[],K=[],W=[b,_],X,V,ae,ee=[],Y=[];for(X=0;X<D;X++)ee[X]=X,Y[X]=X;var te=function(de,ce){var Re=Y[de],we=Y[ce];ee[Re]=ce,ee[we]=de,Y[de]=we,Y[ce]=Re},se=function(){var de=new h;V<D&&(F.push(M.length),M.push(1),N.push(V)),K.push(z.length);var ce=x[V],Re=x[V+1];for(ae=ce;ae<Re;ae++)X=C[ae],de.set(ee[X],B[ae]);V>0&&de.forEach(0,V-1,function(Ae,he){l._forEachRow(Ae,M,N,F,function(Xe,qe){Xe>Ae&&de.accumulate(Xe,i(f(qe,he)))})});var we=V,xe=de.get(V),Me=a(xe);de.forEach(V+1,D-1,function(Ae,he){var Xe=a(he);c(Xe,Me)&&(we=Ae,Me=Xe,xe=he)}),V!==we&&(l._swapRows(V,we,T[1],M,N,F),l._swapRows(V,we,W[1],z,P,K),de.swap(V,we),te(V,we)),de.forEach(0,D-1,function(Ae,he){Ae<=V?(z.push(he),P.push(Ae)):(he=o(he,xe),u(he,0)||(M.push(he),N.push(Ae)))})};for(V=0;V<_;V++)se();return K.push(z.length),F.push(M.length),{L:new l({values:M,index:N,ptr:F,size:T}),U:new l({values:z,index:P,ptr:K,size:W}),p:ee,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function ms(e,r,t,a){for(var n=e._values,o=e._index,f=e._ptr,d=e._size,c=e._datatype,u=d[0],i=d[1],s=a&&e._values?[]:null,l=[],h=[],y=0,p=0;p<i;p++){h[p]=y;for(var m=t?t[p]:p,D=f[m],_=f[m+1],b=D;b<_;b++){var B=r?r[o[b]]:o[b];l[y]=B,s&&(s[y]=n[b]),y++}}return h[i]=y,e.createSparseMatrix({values:s,index:l,ptr:h,size:[u,i],datatype:c})}function Xn(e,r,t,a,n,o,f){var d=0;for(t[f]=e;d>=0;){var c=t[f+d],u=t[a+c];u===-1?(d--,o[r++]=c):(t[a+c]=t[n+u],++d,t[f+d]=u)}return r}function xs(e,r){if(!e)return null;var t=0,a,n=[],o=[],f=0,d=r,c=2*r;for(a=0;a<r;a++)o[f+a]=-1;for(a=r-1;a>=0;a--)e[a]!==-1&&(o[d+a]=o[f+e[a]],o[f+e[a]]=a);for(a=0;a<r;a++)e[a]===-1&&(t=Xn(a,t,o,f,d,n,c));return n}function gs(e,r){if(!e)return null;var t=e._index,a=e._ptr,n=e._size,o=n[0],f=n[1],d=[],c=[],u=0,i=f,s,l;if(r)for(s=0;s<o;s++)c[i+s]=-1;for(var h=0;h<f;h++){d[h]=-1,c[u+h]=-1;for(var y=a[h],p=a[h+1],m=y;m<p;m++){var D=t[m];for(s=r?c[i+D]:D;s!==-1&&s<h;s=l)l=c[u+s],c[u+s]=h,l===-1&&(d[s]=h);r&&(c[i+D]=h)}}return d}function Ds(e,r,t){for(var a=e._values,n=e._index,o=e._ptr,f=e._size,d=f[1],c=0,u=0;u<d;u++){var i=o[u];for(o[u]=c;i<o[u+1];i++)r(n[i],u,a?a[i]:1,t)&&(n[c]=n[i],a&&(a[c]=a[i]),c++)}return o[d]=c,n.splice(c,n.length-c),a&&a.splice(c,a.length-c),c}function Mr(e){return-e-2}var zl="csAmd",Rl=["add","multiply","transpose"],ys=G(zl,Rl,e=>{var{add:r,multiply:t,transpose:a}=e;return function(i,s){if(!s||i<=0||i>3)return null;var l=s._size,h=l[0],y=l[1],p=0,m=Math.max(16,10*Math.sqrt(y));m=Math.min(y-2,m);var D=n(i,s,h,y,m);Ds(D,c,null);for(var _=D._index,b=D._ptr,B=b[y],C=[],x=[],M=0,N=y+1,F=2*(y+1),T=3*(y+1),z=4*(y+1),P=5*(y+1),K=6*(y+1),W=7*(y+1),X=C,V=o(y,b,x,M,T,X,F,W,N,K,z,P),ae=f(y,b,x,P,z,K,m,N,T,X,F),ee=0,Y,te,se,fe,de,ce,Re,we,xe,Me,Ae,he,Xe,qe,ge,Te;ae<y;){for(se=-1;ee<y&&(se=x[T+ee])===-1;ee++);x[F+se]!==-1&&(X[x[F+se]]=-1),x[T+ee]=x[F+se];var Ye=x[z+se],Oe=x[N+se];ae+=Oe;var je=0;x[N+se]=-Oe;var Ce=b[se],Ke=Ye===0?Ce:B,$e=Ke;for(fe=1;fe<=Ye+1;fe++){for(fe>Ye?(ce=se,Re=Ce,we=x[M+se]-Ye):(ce=_[Ce++],Re=b[ce],we=x[M+ce]),de=1;de<=we;de++)Y=_[Re++],!((xe=x[N+Y])<=0)&&(je+=xe,x[N+Y]=-xe,_[$e++]=Y,x[F+Y]!==-1&&(X[x[F+Y]]=X[Y]),X[Y]!==-1?x[F+X[Y]]=x[F+Y]:x[T+x[P+Y]]=x[F+Y]);ce!==se&&(b[ce]=Mr(se),x[K+ce]=0)}for(Ye!==0&&(B=$e),x[P+se]=je,b[se]=Ke,x[M+se]=$e-Ke,x[z+se]=-2,V=d(V,p,x,K,y),Me=Ke;Me<$e;Me++)if(Y=_[Me],!((Ae=x[z+Y])<=0)){xe=-x[N+Y];var Dr=V-xe;for(Ce=b[Y],he=b[Y]+Ae-1;Ce<=he;Ce++)ce=_[Ce],x[K+ce]>=V?x[K+ce]-=xe:x[K+ce]!==0&&(x[K+ce]=x[P+ce]+Dr)}for(Me=Ke;Me<$e;Me++){for(Y=_[Me],he=b[Y],Xe=he+x[z+Y]-1,qe=he,ge=0,Te=0,Ce=he;Ce<=Xe;Ce++)if(ce=_[Ce],x[K+ce]!==0){var xr=x[K+ce]-V;xr>0?(Te+=xr,_[qe++]=ce,ge+=ce):(b[ce]=Mr(se),x[K+ce]=0)}x[z+Y]=qe-he+1;var Er=qe,Nr=he+x[M+Y];for(Ce=Xe+1;Ce<Nr;Ce++){te=_[Ce];var Br=x[N+te];Br<=0||(Te+=Br,_[qe++]=te,ge+=te)}Te===0?(b[Y]=Mr(se),xe=-x[N+Y],je-=xe,Oe+=xe,ae+=xe,x[N+Y]=0,x[z+Y]=-1):(x[P+Y]=Math.min(x[P+Y],Te),_[qe]=_[Er],_[Er]=_[he],_[he]=se,x[M+Y]=qe-he+1,ge=(ge<0?-ge:ge)%y,x[F+Y]=x[W+ge],x[W+ge]=Y,X[Y]=ge)}for(x[P+se]=je,p=Math.max(p,je),V=d(V+p,p,x,K,y),Me=Ke;Me<$e;Me++)if(Y=_[Me],!(x[N+Y]>=0))for(ge=X[Y],Y=x[W+ge],x[W+ge]=-1;Y!==-1&&x[F+Y]!==-1;Y=x[F+Y],V++){for(we=x[M+Y],Ae=x[z+Y],Ce=b[Y]+1;Ce<=b[Y]+we-1;Ce++)x[K+_[Ce]]=V;var Tr=Y;for(te=x[F+Y];te!==-1;){var Ar=x[M+te]===we&&x[z+te]===Ae;for(Ce=b[te]+1;Ar&&Ce<=b[te]+we-1;Ce++)x[K+_[Ce]]!==V&&(Ar=0);Ar?(b[te]=Mr(Y),x[N+Y]+=x[N+te],x[N+te]=0,x[z+te]=-1,te=x[F+te],x[F+Tr]=te):(Tr=te,te=x[F+te])}}for(Ce=Ke,Me=Ke;Me<$e;Me++)Y=_[Me],!((xe=-x[N+Y])<=0)&&(x[N+Y]=xe,Te=x[P+Y]+je-xe,Te=Math.min(Te,y-ae-xe),x[T+Te]!==-1&&(X[x[T+Te]]=Y),x[F+Y]=x[T+Te],X[Y]=-1,x[T+Te]=Y,ee=Math.min(ee,Te),x[P+Y]=Te,_[Ce++]=Y);x[N+se]=Oe,(x[M+se]=Ce-Ke)===0&&(b[se]=-1,x[K+se]=0),Ye!==0&&(B=Ce)}for(Y=0;Y<y;Y++)b[Y]=Mr(b[Y]);for(te=0;te<=y;te++)x[T+te]=-1;for(te=y;te>=0;te--)x[N+te]>0||(x[F+te]=x[T+b[te]],x[T+b[te]]=te);for(ce=y;ce>=0;ce--)x[N+ce]<=0||b[ce]!==-1&&(x[F+ce]=x[T+b[ce]],x[T+b[ce]]=ce);for(se=0,Y=0;Y<=y;Y++)b[Y]===-1&&(se=Xn(Y,se,x,T,F,C,K));return C.splice(C.length-1,1),C};function n(u,i,s,l,h){var y=a(i);if(u===1&&l===s)return r(i,y);if(u===2){for(var p=y._index,m=y._ptr,D=0,_=0;_<s;_++){var b=m[_];if(m[_]=D,!(m[_+1]-b>h))for(var B=m[_+1];b<B;b++)p[D++]=p[b]}return m[s]=D,i=a(y),t(y,i)}return t(y,i)}function o(u,i,s,l,h,y,p,m,D,_,b,B){for(var C=0;C<u;C++)s[l+C]=i[C+1]-i[C];s[l+u]=0;for(var x=0;x<=u;x++)s[h+x]=-1,y[x]=-1,s[p+x]=-1,s[m+x]=-1,s[D+x]=1,s[_+x]=1,s[b+x]=0,s[B+x]=s[l+x];var M=d(0,0,s,_,u);return s[b+u]=-2,i[u]=-1,s[_+u]=0,M}function f(u,i,s,l,h,y,p,m,D,_,b){for(var B=0,C=0;C<u;C++){var x=s[l+C];if(x===0)s[h+C]=-2,B++,i[C]=-1,s[y+C]=0;else if(x>p)s[m+C]=0,s[h+C]=-1,B++,i[C]=Mr(u),s[m+u]++;else{var M=s[D+x];M!==-1&&(_[M]=C),s[b+C]=s[D+x],s[D+x]=C}}return B}function d(u,i,s,l,h){if(u<2||u+i<0){for(var y=0;y<h;y++)s[l+y]!==0&&(s[l+y]=1);u=2}return u}function c(u,i){return u!==i}});function bs(e,r,t,a,n,o,f){var d,c,u=0,i;if(e<=r||t[a+r]<=t[n+e])return-1;t[n+e]=t[a+r];var s=t[o+e];if(t[o+e]=r,s===-1)u=1,i=e;else{for(u=2,i=s;i!==t[f+i];i=t[f+i]);for(d=s;d!==i;d=c)c=t[f+d],t[f+d]=i}return{jleaf:u,q:i}}var Pl="csCounts",Ol=["transpose"],ws=G(Pl,Ol,e=>{var{transpose:r}=e;return function(t,a,n,o){if(!t||!a||!n)return null;var f=t._size,d=f[0],c=f[1],u,i,s,l,h,y,p,m=4*c+(o?c+d+1:0),D=[],_=0,b=c,B=2*c,C=3*c,x=4*c,M=5*c+1;for(s=0;s<m;s++)D[s]=-1;var N=[],F=r(t),T=F._index,z=F._ptr;for(s=0;s<c;s++)for(i=n[s],N[i]=D[C+i]===-1?1:0;i!==-1&&D[C+i]===-1;i=a[i])D[C+i]=s;if(o){for(s=0;s<c;s++)D[n[s]]=s;for(u=0;u<d;u++){for(s=c,y=z[u],p=z[u+1],h=y;h<p;h++)s=Math.min(s,D[T[h]]);D[M+u]=D[x+s],D[x+s]=u}}for(u=0;u<c;u++)D[_+u]=u;for(s=0;s<c;s++){for(i=n[s],a[i]!==-1&&N[a[i]]--,l=o?D[x+s]:i;l!==-1;l=o?D[M+l]:-1)for(h=z[l];h<z[l+1];h++){u=T[h];var P=bs(u,i,D,C,b,B,_);P.jleaf>=1&&N[i]++,P.jleaf===2&&N[P.q]--}a[i]!==-1&&(D[_+i]=a[i])}for(i=0;i<c;i++)a[i]!==-1&&(N[a[i]]+=N[i]);return N}});var Ll="csSqr",ql=["add","multiply","transpose"],_s=G(Ll,ql,e=>{var{add:r,multiply:t,transpose:a}=e,n=ys({add:r,multiply:t,transpose:a}),o=ws({transpose:a});return function(c,u,i){var s=u._ptr,l=u._size,h=l[1],y,p={};if(p.q=n(c,u),c&&!p.q)return null;if(i){var m=c?ms(u,null,p.q,0):u;p.parent=gs(m,1);var D=xs(p.parent,h);if(p.cp=o(m,p.parent,D,1),m&&p.parent&&p.cp&&f(m,p))for(p.unz=0,y=0;y<h;y++)p.unz+=p.cp[y]}else p.unz=4*s[h]+h,p.lnz=p.unz;return p};function f(d,c){var u=d._ptr,i=d._index,s=d._size,l=s[0],h=s[1];c.pinv=[],c.leftmost=[];var y=c.parent,p=c.pinv,m=c.leftmost,D=[],_=0,b=l,B=l+h,C=l+2*h,x,M,N,F,T;for(M=0;M<h;M++)D[b+M]=-1,D[B+M]=-1,D[C+M]=0;for(x=0;x<l;x++)m[x]=-1;for(M=h-1;M>=0;M--)for(F=u[M],T=u[M+1],N=F;N<T;N++)m[i[N]]=M;for(x=l-1;x>=0;x--)p[x]=-1,M=m[x],M!==-1&&(D[C+M]++===0&&(D[B+M]=x),D[_+x]=D[b+M],D[b+M]=x);for(c.lnz=0,c.m2=l,M=0;M<h;M++)if(x=D[b+M],c.lnz++,x<0&&(x=c.m2++),p[x]=M,!(--C[M]<=0)){c.lnz+=D[C+M];var z=y[M];z!==-1&&(D[C+z]===0&&(D[B+z]=D[B+M]),D[_+D[B+M]]=D[b+z],D[b+z]=D[_+x],D[C+z]+=D[C+M])}for(x=0;x<l;x++)p[x]<0&&(p[x]=M++);return!0}});function gn(e,r){return e[r]<0}function Kn(e,r){e[r]=Mr(e[r])}function Wo(e){return e<0?Mr(e):e}function Es(e,r,t,a,n){var o=r._index,f=r._ptr,d=r._size,c=d[1],u,i,s,l=0;for(a[0]=e;l>=0;){e=a[l];var h=n?n[e]:e;gn(f,e)||(Kn(f,e),a[c+l]=h<0?0:Wo(f[h]));var y=1;for(i=a[c+l],s=h<0?0:Wo(f[h+1]);i<s;i++)if(u=o[i],!gn(f,u)){a[c+l]=i,a[++l]=u,y=0;break}y&&(l--,a[--t]=e)}return t}function As(e,r,t,a,n){var o=e._ptr,f=e._size,d=r._index,c=r._ptr,u=f[1],i,s,l,h=u;for(s=c[t],l=c[t+1],i=s;i<l;i++){var y=d[i];gn(o,y)||(h=Es(y,e,h,a,n))}for(i=h;i<u;i++)Kn(o,a[i]);return h}var Ul="csSpsolve",Vl=["divideScalar","multiply","subtract"],Cs=G(Ul,Vl,e=>{var{divideScalar:r,multiply:t,subtract:a}=e;return function(o,f,d,c,u,i,s){var l=o._values,h=o._index,y=o._ptr,p=o._size,m=p[1],D=f._values,_=f._index,b=f._ptr,B,C,x,M,N=As(o,f,d,c,i);for(B=N;B<m;B++)u[c[B]]=0;for(C=b[d],x=b[d+1],B=C;B<x;B++)u[_[B]]=D[B];for(var F=N;F<m;F++){var T=c[F],z=i?i[T]:T;if(!(z<0))for(C=y[z],x=y[z+1],u[T]=r(u[T],l[s?C:x-1]),B=s?C+1:C,M=s?x:x-1;B<M;B++){var P=h[B];u[P]=a(u[P],t(l[B],u[T]))}}return N}});var Zl="csLu",Yl=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Fs=G(Zl,Yl,e=>{var{abs:r,divideScalar:t,multiply:a,subtract:n,larger:o,largerEq:f,SparseMatrix:d}=e,c=Cs({divideScalar:t,multiply:a,subtract:n});return function(i,s,l){if(!i)return null;var h=i._size,y=h[1],p,m=100,D=100;s&&(p=s.q,m=s.lnz||m,D=s.unz||D);var _=[],b=[],B=[],C=new d({values:_,index:b,ptr:B,size:[y,y]}),x=[],M=[],N=[],F=new d({values:x,index:M,ptr:N,size:[y,y]}),T=[],z,P,K=[],W=[];for(z=0;z<y;z++)K[z]=0,T[z]=-1,B[z+1]=0;m=0,D=0;for(var X=0;X<y;X++){B[X]=m,N[X]=D;var V=p?p[X]:X,ae=c(C,i,V,W,K,T,1),ee=-1,Y=-1;for(P=ae;P<y;P++)if(z=W[P],T[z]<0){var te=r(K[z]);o(te,Y)&&(Y=te,ee=z)}else M[D]=T[z],x[D++]=K[z];if(ee===-1||Y<=0)return null;T[V]<0&&f(r(K[V]),a(Y,l))&&(ee=V);var se=K[ee];for(M[D]=X,x[D++]=se,T[ee]=X,b[m]=ee,_[m++]=1,P=ae;P<y;P++)z=W[P],T[z]<0&&(b[m]=z,_[m++]=t(K[z],se)),K[z]=0}for(B[y]=m,N[y]=D,P=0;P<m;P++)b[P]=T[b[P]];return _.splice(m,_.length-m),b.splice(m,b.length-m),x.splice(D,x.length-D),M.splice(D,M.length-D),{L:C,U:F,pinv:T}}});var Ss="slu",Wl=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],ko=G(Ss,Wl,e=>{var{typed:r,abs:t,add:a,multiply:n,transpose:o,divideScalar:f,subtract:d,larger:c,largerEq:u,SparseMatrix:i}=e,s=_s({add:a,multiply:n,transpose:o}),l=Fs({abs:t,divideScalar:f,multiply:n,subtract:d,larger:c,largerEq:u,SparseMatrix:i});return r(Ss,{"SparseMatrix, number, number":function(y,p,m){if(!Fe(p)||p<0||p>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var D=s(p,y,!1),_=l(y,D,m);return{L:_.L,U:_.U,p:_.pinv,q:D.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Go(e,r){var t,a=r.length,n=[];if(e)for(t=0;t<a;t++)n[e[t]]=r[t];else for(t=0;t<a;t++)n[t]=r[t];return n}var Ms="lusolve",kl=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Xo=G(Ms,kl,e=>{var{typed:r,matrix:t,lup:a,slu:n,usolve:o,lsolve:f,DenseMatrix:d}=e,c=Ft({DenseMatrix:d});return r(Ms,{"Array, Array | Matrix":function(l,h){l=t(l);var y=a(l),p=i(y.L,y.U,y.p,null,h);return p.valueOf()},"DenseMatrix, Array | Matrix":function(l,h){var y=a(l);return i(y.L,y.U,y.p,null,h)},"SparseMatrix, Array | Matrix":function(l,h){var y=a(l);return i(y.L,y.U,y.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(l,h,y,p){var m=n(l,y,p);return i(m.L,m.U,m.p,m.q,h)},"Object, Array | Matrix":function(l,h){return i(l.L,l.U,l.p,l.q,h)}});function u(s){if(ze(s))return s;if(Ve(s))return t(s);throw new TypeError("Invalid Matrix LU decomposition")}function i(s,l,h,y,p){s=u(s),l=u(l),h&&(p=c(s,p,!0),p._data=Go(h,p._data));var m=f(s,p),D=o(l,m);return y&&(D._data=Go(y,D._data)),D}});var Ns="det",Gl=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Ko=G(Ns,Gl,e=>{var{typed:r,matrix:t,subtractScalar:a,multiply:n,divideScalar:o,isZero:f,unaryMinus:d}=e;return r(Ns,{any:function(i){return Be(i)},"Array | Matrix":function(i){var s;switch(ze(i)?s=i.size():Array.isArray(i)?(i=t(i),s=i.size()):s=[],s.length){case 0:return Be(i);case 1:if(s[0]===1)return Be(i.valueOf()[0]);if(s[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Le(s)+")");case 2:{var l=s[0],h=s[1];if(l===h)return c(i.clone().valueOf(),l,h);if(h===0)return 1;throw new RangeError("Matrix must be square (size: "+Le(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Le(s)+")")}}});function c(u,i,s){if(i===1)return Be(u[0][0]);if(i===2)return a(n(u[0][0],u[1][1]),n(u[1][0],u[0][1]));for(var l=!1,h=new Array(i).fill(0).map((M,N)=>N),y=0;y<i;y++){var p=h[y];if(f(u[p][y])){var m=void 0;for(m=y+1;m<i;m++)if(!f(u[h[m]][y])){p=h[m],h[m]=h[y],h[y]=p,l=!l;break}if(m===i)return u[p][y]}for(var D=u[p][y],_=y===0?1:u[h[y-1]][y-1],b=y+1;b<i;b++)for(var B=h[b],C=y+1;C<i;C++)u[B][C]=o(a(n(u[B][C],D),n(u[B][y],u[p][C])),_)}var x=u[h[i-1]][i-1];return l?d(x):x}});var Bs="inv",Xl=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Ho=G(Bs,Xl,e=>{var{typed:r,matrix:t,divideScalar:a,addScalar:n,multiply:o,unaryMinus:f,det:d,identity:c,abs:u}=e;return r(Bs,{"Array | Matrix":function(l){var h=ze(l)?l.size():Je(l);switch(h.length){case 1:if(h[0]===1)return ze(l)?t([a(1,l.valueOf()[0])]):[a(1,l[0])];throw new RangeError("Matrix must be square (size: "+Le(h)+")");case 2:{var y=h[0],p=h[1];if(y===p)return ze(l)?t(i(l.valueOf(),y,p),l.storage()):i(l,y,p);throw new RangeError("Matrix must be square (size: "+Le(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Le(h)+")")}},any:function(l){return a(1,l)}});function i(s,l,h){var y,p,m,D,_;if(l===1){if(D=s[0][0],D===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(1,D)]]}else if(l===2){var b=d(s);if(b===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(s[1][1],b),a(f(s[0][1]),b)],[a(f(s[1][0]),b),a(s[0][0],b)]]}else{var B=s.concat();for(y=0;y<l;y++)B[y]=B[y].concat();for(var C=c(l).valueOf(),x=0;x<h;x++){var M=u(B[x][x]),N=x;for(y=x+1;y<l;)u(B[y][x])>M&&(M=u(B[y][x]),N=y),y++;if(M===0)throw Error("Cannot calculate inverse, determinant is zero");y=N,y!==x&&(_=B[x],B[x]=B[y],B[y]=_,_=C[x],C[x]=C[y],C[y]=_);var F=B[x],T=C[x];for(y=0;y<l;y++){var z=B[y],P=C[y];if(y!==x){if(z[x]!==0){for(m=a(f(z[x]),F[x]),p=x;p<h;p++)z[p]=n(z[p],o(m,F[p]));for(p=0;p<h;p++)P[p]=n(P[p],o(m,T[p]))}}else{for(m=F[x],p=x;p<h;p++)z[p]=a(z[p],m);for(p=0;p<h;p++)P[p]=a(P[p],m)}}}return C}}});var Ts="pinv",Kl=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],Qo=G(Ts,Kl,e=>{var{typed:r,matrix:t,inv:a,deepEqual:n,equal:o,dotDivide:f,dot:d,ctranspose:c,divideScalar:u,multiply:i,add:s,Complex:l}=e;return r(Ts,{"Array | Matrix":function(b){var B=ze(b)?b.size():Je(b);switch(B.length){case 1:return D(b)?c(b):B[0]===1?a(b):f(c(b),d(b,b));case 2:{if(D(b))return c(b);var C=B[0],x=B[1];if(C===x)try{return a(b)}catch(M){if(!(M instanceof Error&&M.message.match(/Cannot calculate inverse, determinant is zero/)))throw M}return ze(b)?t(h(b.valueOf(),C,x),b.storage()):h(b,C,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+Le(B)+")")}},any:function(b){return o(b,0)?Be(b):u(1,b)}});function h(_,b,B){var{C,F:x}=p(_,b,B),M=i(a(i(c(C),C)),c(C)),N=i(c(x),a(i(x,c(x))));return i(N,M)}function y(_,b,B){for(var C=Be(_),x=0,M=0;M<b;M++){if(B<=x)return C;for(var N=M;m(C[N][x]);)if(N++,b===N&&(N=M,x++,B===x))return C;[C[N],C[M]]=[C[M],C[N]];for(var F=C[M][x],T=0;T<B;T++)C[M][T]=f(C[M][T],F);for(var z=0;z<b;z++)if(z!==M){F=C[z][x];for(var P=0;P<B;P++)C[z][P]=s(C[z][P],i(-1,i(F,C[M][P])))}x++}return C}function p(_,b,B){var C=y(_,b,B),x=_.map((N,F)=>N.filter((T,z)=>z<b&&!m(d(C[z],C[z])))),M=C.filter((N,F)=>!m(d(C[F],C[F])));return{C:x,F:M}}function m(_){return o(s(_,l(1,1)),s(0,l(1,1)))}function D(_){return n(s(_,l(1,1)),s(i(_,0),l(1,1)))}});var Hn=ka({config:Pr}),Is=Xa({});var zs=Ha({});var Jo=Qa({});var mr=Ja({Matrix:Jo});var Ee=Oa({BigNumber:Hn,Complex:Is,DenseMatrix:mr,Fraction:zs});var $o=ho({typed:Ee});var St=mo({typed:Ee});var Hl=co({BigNumber:Hn,typed:Ee});var Gr=$a({typed:Ee});var Rs=bo({typed:Ee});var Ur=uo({config:Pr,typed:Ee});var Ql=ja({typed:Ee});var Jl=io({typed:Ee});var Dn=go({typed:Ee});var $l=fo({typed:Ee});var Mt=so({Matrix:Jo,equalScalar:Ur,typed:Ee});var yn=xo({typed:Ee});var Xr=Uo({SparseMatrix:Mt,typed:Ee});var Qn=vo({typed:Ee});var jl=lo({Fraction:zs,typed:Ee});var Se=po({DenseMatrix:mr,Matrix:Jo,SparseMatrix:Mt,typed:Ee});var ep=So({bignumber:Hl,fraction:jl,number:$l});var rp=Eo({matrix:Se,config:Pr,typed:Ee});var Nt=Ao({matrix:Se,typed:Ee});var nt=Fo({BigNumber:Hn,config:Pr,matrix:Se,typed:Ee});var xt=wo({isInteger:Ql,matrix:Se,typed:Ee});var tp=Co({conj:Rs,transpose:Nt,typed:Ee});var at=Mo({numeric:ep,typed:Ee}),np=No({DenseMatrix:mr,concat:xt,divideScalar:at,equalScalar:Ur,matrix:Se,typed:Ee}),Ps=Io({DenseMatrix:mr,concat:xt,equalScalar:Ur,matrix:Se,typed:Ee});var jo=_o({BigNumber:Hn,DenseMatrix:mr,SparseMatrix:Mt,config:Pr,matrix:Se,typed:Ee});var ap=Po({DenseMatrix:mr,concat:xt,config:Pr,matrix:Se,typed:Ee});var op=Bo({DenseMatrix:mr,divideScalar:at,equalScalar:Ur,matrix:Se,multiplyScalar:Dn,subtractScalar:yn,typed:Ee});var ip=zo({DenseMatrix:mr,concat:xt,config:Pr,matrix:Se,typed:Ee}),up=yo({DenseMatrix:mr,concat:xt,equalScalar:Ur,matrix:Se,subtractScalar:yn,typed:Ee,unaryMinus:Qn});var sp=To({DenseMatrix:mr,divideScalar:at,equalScalar:Ur,matrix:Se,multiplyScalar:Dn,subtractScalar:yn,typed:Ee});var Jn=Vo({DenseMatrix:mr,SparseMatrix:Mt,addScalar:St,concat:xt,equalScalar:Ur,matrix:Se,typed:Ee});var fp=Oo({equal:Ps,typed:Ee});var Os=Zo({addScalar:St,conj:Rs,multiplyScalar:Dn,size:rp,typed:Ee});var ei=Ro({DenseMatrix:mr,concat:xt,config:Pr,matrix:Se,typed:Ee});var Ge=Do({addScalar:St,dot:Os,equalScalar:Ur,matrix:Se,multiplyScalar:Dn,typed:Ee});var cp=ko({SparseMatrix:Mt,abs:$o,add:Jn,divideScalar:at,larger:ei,largerEq:ap,multiply:Ge,subtract:up,transpose:Nt,typed:Ee});var $n=Ko({divideScalar:at,isZero:Jl,matrix:Se,multiply:Ge,subtractScalar:yn,typed:Ee,unaryMinus:Qn});var lp=Lo({larger:ei,smaller:ip});var pp=qo({FibonacciHeap:lp,addScalar:St,equalScalar:Ur});var ri=Ho({abs:$o,addScalar:St,det:$n,divideScalar:at,identity:jo,matrix:Se,multiply:Ge,typed:Ee,unaryMinus:Qn}),ti=Yo({DenseMatrix:mr,Spa:pp,SparseMatrix:Mt,abs:$o,addScalar:St,divideScalar:at,equalScalar:Ur,larger:ei,matrix:Se,multiplyScalar:Dn,subtractScalar:yn,typed:Ee,unaryMinus:Qn}),ot=Qo({Complex:Is,add:Jn,ctranspose:tp,deepEqual:fp,divideScalar:at,dot:Os,dotDivide:np,equal:Ps,inv:ri,matrix:Se,multiply:Ge,typed:Ee});var Ls=Xo({DenseMatrix:mr,lsolve:op,lup:ti,matrix:Se,slu:cp,typed:Ee,usolve:sp});var A3=yt(Us(),1);var dp=(e,r)=>(r=Symbol[e])?r:Symbol.for("Symbol."+e),vp=(e,r,t)=>{let a={SyFZE:function(n,o){return n(o)}};return new Promise((n,o)=>{let f={vqOhm:function(i,s){return i(s)},ZzvyZ:function(i,s){return i(s)}};var d=i=>{try{f.vqOhm(u,t.next(i))}catch(s){f.ZzvyZ(o,s)}},c=i=>{try{a.SyFZE(u,t.throw(i))}catch(s){o(s)}},u=i=>i.done?n(i.value):Promise.resolve(i.value).then(d,c);a.SyFZE(u,(t=t.apply(e,r)).next())})},hp=function(e,r){this[0]=e,this[1]=r},mp=(e,r,t)=>{let a={AECFB:function(d,c){return d(c)},BPGSg:function(d,c){return d(c)},DEFwk:"asyncIterator",Rwqjq:function(d,c){return d(c)},uiyKy:"throw",UGkmx:function(d,c){return d(c)},AmRoM:"return"};var n=(d,c,u,i)=>{try{var s=t[d](c),l=(c=s.value)instanceof hp,h=s.done;Promise.resolve(l?c[0]:c).then(y=>l?n(d==="return"?d:"next",c[1]?{done:y.done,value:y.value}:y,u,i):u({value:y,done:h})).catch(y=>n("throw",y,u,i))}catch(y){a.AECFB(i,y)}},o=d=>f[d]=c=>new Promise((u,i)=>n(d,c,u,i)),f={};return t=t.apply(e,r),f[a.BPGSg(dp,a.DEFwk)]=()=>f,o("next"),a.Rwqjq(o,a.uiyKy),a.UGkmx(o,a.AmRoM),f};function ai(e){let r={};return r.message=e,r}function gt(e){let r={};return r.subMessage=e,r}function Bt(e){let r={};return r.iterationMessage=e,r}var xp=2220446049250313e-31;function pa(e,r,t,a){let n={};n.ISBZC=function(d,c){return d-c},n.fXyCu=function(d,c){return d==c},n.brPzZ=function(d,c){return d<=c},n.tjsEh=function(d,c){return d<=c},n.DiCMv=function(d,c){return d*c},n.uscFb=function(d,c){return d===c};let o=n,f=Math.abs(o.ISBZC(e,r));return o.fXyCu(t,null)&&(t=xp),o.fXyCu(a,null)&&(a=t),o.brPzZ(f,t)||o.tjsEh(f,o.DiCMv(a,Math.min(Math.abs(e),Math.abs(r))))?!0:o.uscFb(e,r)}var gp=class ii{constructor(r,t){this.x=r,this.y=t}static worzrdvh273cb4a9dad54460bade8c5b62d6f8a9(r){return new ii(r.x,r.y)}kjjtfua46d282cb5a140648689026fb451e715(r){let t={CuodU:function(n,o,f){return n(o,f)}};return t.CuodU(pa,this.x,r.x)&&t.CuodU(pa,this.y,r.y)}sasptcoyv18bd16cc88554c9f9d34fd202a0fd980(r){let t={};t.GVbxc=function(f,d){return f/d},t.xGTsb=function(f,d){return f+d};let a=t,n=a.GVbxc(this.x+r.x,2),o=a.GVbxc(a.xGTsb(this.y,r.y),2);return new ii(n,o)}},Dp=class ui{constructor(r,t,a,n){this.points=r,this.sectionTag=t,this.materialTag=a,this.tag=n}static worzrdvh273cb4a9dad54460bade8c5b62d6f8a9(r){return new ui(r.points.map(t=>gp.worzrdvh273cb4a9dad54460bade8c5b62d6f8a9(t)),r.sectionTag,r.materialTag,r.tag)}wbqgsebf71a980788445839e958997aedc3954(){let r={};r.mhvkq=function(u,i){return u!==i},r.WYDJq="Wrong triangle";let t=r;if(t.mhvkq(this.points.length,3))throw new Error(t.WYDJq);let[a,n,o]=this.points,f=a.sasptcoyv18bd16cc88554c9f9d34fd202a0fd980(n),d=n.sasptcoyv18bd16cc88554c9f9d34fd202a0fd980(o),c=o.sasptcoyv18bd16cc88554c9f9d34fd202a0fd980(a);return new ui([a,n,o,f,d,c],this.sectionTag,this.materialTag,this.tag)}},si=class{constructor(e,r,t){this.node=e,this.loadX=r,this.loadY=t}diodefbf154c625d546858a74df9cc2e5e62f(){return this.node.dofs[1]}pktokyf1a7b5b38dffe46349e253d40a0d767ce(){return this.node.dofs[0]}tjqahhnat09d34baaac1541638e385c287457965b(){return this.loadY}ucqqqxlfd3b3483cade5f4230986d165b1189f77e(){return this.loadX}},yp=class{constructor(e,r,t){this.index=e,this.coordinates=r,this.tag=t,this.restraint="Free"}necilkmgd86c3bf8b9a8d422292003f3ac9911d61(){let e={};return e.index=this.index,e.tag=this.tag,e.coordinates={},e.coordinates.x=this.coordinates.x,e.coordinates.y=this.coordinates.y,e}tmheivhxp361c264cd753453fb516bd18ce964728(){let e={};e.PZAtk="Pinned";let r=e;this.restraint=r.PZAtk}qijkqwlwb4c335aaa0d524d4e89db52f9cce0ef00(){this.restraint="Fixed"}get dofs(){let e={};e.ICDKC=function(n,o){return n+o},e.paZZO=function(n,o){return n*o};let r=e,t=2*this.index,a=r.ICDKC(r.paZZO(2,this.index),1);return[t,a]}juomxudatjdb479fe6f15e4022855d5bafa630fae4(e){let r={};r.kLIsh=function(f,d){return f-d},r.zKenn=function(f,d){return f*d};let t=r,a=t.kLIsh(this.coordinates.x,e.coordinates.x),n=t.kLIsh(this.coordinates.y,e.coordinates.y);return Math.sqrt(a*a+t.zKenn(n,n))}ijsrbhrtxgfa5d7116ccca4e289b6bc0463b0627d3(e){let r={};r.FcpmW=function(o,f){return o*f};let t=r,a=this.coordinates.x-e;return Math.sqrt(t.FcpmW(a,a))}kjjtfua46d282cb5a140648689026fb451e715(e){return this.coordinates.kjjtfua46d282cb5a140648689026fb451e715(e.coordinates)}mvuuxjrzbf74629240593e4ffeb022996361462c94(e,r){return{OwEuW:function(n,o,f){return n(o,f)}}.OwEuW(pa,this.coordinates.x,e)&&pa(this.coordinates.y,r)}qarpzne1cfe6f42d6b4db5bb8612900f767f3b(){let e={};e.WREjV=function(t,a){return t===a},e.RPMgL="Fixed",e.AeFfg="Pinned";let r=e;return this.restraint==="Free"?[]:r.WREjV(this.restraint,r.RPMgL)?this.dofs:r.WREjV(this.restraint,r.AeFfg)?[this.dofs[1]]:[]}},da=e=>vp(null,null,function*(){}),bp=class{xdnfqb3733b2a9a7549ceac8e93cf29b4c60c(e,r,t){let a={KJZEh:function(h,y){return h*y},mjTPq:function(h,y){return h(y)},tkaWA:function(h,y){return h(y)},MqLlD:"Calculating displacements"},n=a.KJZEh(e.length,2);a.mjTPq(da,"Solving system with "+n+" dofs and "+r.length+" elements");let o=e.map(h=>h.qarpzne1cfe6f42d6b4db5bb8612900f767f3b()).reduce((h,y)=>[...h,...y]),f=this.sqgumrylic3fd2f6cb02f4669973ea189dce8a19b(t,n),d=Gr(f);this.juoiojma91de162c85d4cddb825b8e7b03d43c0(f,o),(!this.lup||!this.xsrdprvoy2a6c3379f0654515b16954861c4ed328)&&(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328=this.lxznobsgc08c4657f8f148088d82380780b996e8(r,n),a.mjTPq(da,"Stiffness matrix calculated, size: "+this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()),this.pxwphswoa90977d9b62243699a7d0a5964128c30=Gr(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328),this.jyzrzgcdc999ebe4ba244c783e91217d9b31fc0(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328,o),this.lup=ti(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328)),a.tkaWA(gt,a.MqLlD);let c=Ls(this.lup,f),u=[];c.forEach((h,y)=>u[y[0]]=h);let i=[];Ge(this.pxwphswoa90977d9b62243699a7d0a5964128c30,c).forEach(h=>i.push(h));let s=i.map((h,y)=>o.includes(y)?h-d[y]:0),l={};return l.displacements=u,l.reactions=s,l}lxznobsgc08c4657f8f148088d82380780b996e8(e,r){let t={};t.cxxwk=function(o,f){return o<f},t.WQeZB=function(o,f){return o<f},t.inrOd=function(o,f){return o+f};let a=t,n=Xr(nt(r,r,"sparse"));for(let o=0;a.cxxwk(o,e.length);o++){let f=e[o],d=f.zpozfse511bf44043d9494f892738566d4779eb(),c=f.pklvnkbpudcc04254fb23d4ae38ce6a3f4340b77a3(),u=c.size();for(let i=0;a.WQeZB(i,u[0]);i++)for(let s=0;a.WQeZB(s,u[1]);s++){let l=d[i],h=d[s],y=[l,h],p=a.inrOd(n.get(y),c.get([s,i]));n.set(y,p)}}return n}jyzrzgcdc999ebe4ba244c783e91217d9b31fc0(e,r){let t={};t.rLHlF=function(o,f){return o<f};let a=t,n=e.size()[0];for(let o=0;a.rLHlF(o,r.length);o++){let f=r[o];for(let d=0;a.rLHlF(d,n);d++)e.set([f,d],0),e.set([d,f],0);e.set([f,f],1)}}sqgumrylic3fd2f6cb02f4669973ea189dce8a19b(e,r){let t={};t.EdOCQ=function(o,f){return o<f};let a=t,n=new Array(r).fill(0);for(let o=0;a.EdOCQ(o,e.length);o++){let f=e[o],d=f.pktokyf1a7b5b38dffe46349e253d40a0d767ce(),c=f.diodefbf154c625d546858a74df9cc2e5e62f();n[c]+=f.tjqahhnat09d34baaac1541638e385c287457965b(),n[d]+=f.ucqqqxlfd3b3483cade5f4230986d165b1189f77e()}return n}juoiojma91de162c85d4cddb825b8e7b03d43c0(e,r){let t={};t.jzBxT=function(n,o){return n<o};let a=t;for(let n=0;a.jzBxT(n,r.length);n++){let o=r[n];e[o]=0}}},wp=class{constructor(e,r,t,a){this.index=e,this.nodes=r,this.material=t,this.tag=a,this.dofs=r.map(n=>[n.dofs[0],n.dofs[1]]).reduce((n,o)=>[...n,...o])}necilkmgd86c3bf8b9a8d422292003f3ac9911d61(){let e={};return e.index=this.index,e.tag=this.tag,e}zpozfse511bf44043d9494f892738566d4779eb(){return this.dofs}bptym2efb930feb4d470b908649b719dd5d0d(e){return this.nodes.some(t=>t.kjjtfua46d282cb5a140648689026fb451e715(e))}sfcotjtuye5a3768cabb347ec849086f7beaf1847(e){let r={};r.XEgYx=function(a,n){return a!==n},r.vyTEr=function(a,n){return a<n};let t=r;if(t.XEgYx(e.length,this.nodes.length))return!1;for(let a=0;t.vyTEr(a,e.length);a++)if(!e[a].kjjtfua46d282cb5a140648689026fb451e715(this.nodes[a]))return!1;return!0}},Lt=class extends wp{constructor(e,r,t,a,n){super(e,r,t,n),this.thickness=a}get yjospkodkd706327731e6047f2b4a1dcf745394428(){return 2}rrztagbsnhce5b048e4c2940e5a49946765b6afe97(e,r,t){let a=[],n=[],o=[];for(let i=0;i<this.dN_dx_dy.length;i++){let s=this.dN_dx_dy[i](e,r,t);a.push(s),n.push(s.get([0,0])),o.push(s.get([1,0]))}let f=[],d=[],c=[];for(let i=0;i<this.trekeaab22a016fd004815808bb58e7f23893c;i++)f.push(n[i],0),d.push(0,o[i]),c.push(o[i],n[i]);return Se([f,d,c])}afzvjicc03c46ce9d24d94b95f682bbd985312(e,r){let t={};t.mZPZa=function(o,f){return o<f};let a=t,n=[[],[]];for(let o=0;a.mZPZa(o,this.trekeaab22a016fd004815808bb58e7f23893c);o++)n[0].push(this.dN_dksi[o](e,r)),n[1].push(this.dN_deta[o](e,r));return Se(n)}itucxf512b23abcf849b8bc8ae31edb512415(e,r,t){let a={};a.WQHmz=function(u,i){return u!=i},a.XtFKr="Wrong coordinates in Jacobi matrix",a.GzlUp=function(u,i){return u<i};let n=a;if(!t||n.WQHmz(t.length,this.trekeaab22a016fd004815808bb58e7f23893c))throw new Error(n.XtFKr);let o=[];for(let u=0;n.GzlUp(u,this.trekeaab22a016fd004815808bb58e7f23893c);u++)o.push([t[u].x,t[u].y]);let f=Se(o),d=this.afzvjicc03c46ce9d24d94b95f682bbd985312(e,r);return Ge(d,f)}ogviosf168776171914ca3858315aa887f531e(){let e={};e.OEmmR=function(f,d){return f/d},e.acKqm=function(f,d){return f-d},e.Wtbgk=function(f,d){return f*d},e.gGiYJ=function(f,d){return f/d};let r=e,t=this.material.poissonsRatio,a=r.OEmmR(this.material.modulusOfElasticity,r.acKqm(1,r.Wtbgk(t,t))),n=Se([[1,t,0],[t,1,0],[0,0,r.gGiYJ(r.acKqm(1,t),2)]]);return Ge(a,n)}pklvnkbpudcc04254fb23d4ae38ce6a3f4340b77a3(){let e={};e.DtKRr=function(t,a){return t*a},e.ZNyIo="sparse";let r=e;if(!this.ojzrt058fe420f1884bd6ac44f385ac49d4e6){let t=r.DtKRr(this.yjospkodkd706327731e6047f2b4a1dcf745394428,this.trekeaab22a016fd004815808bb58e7f23893c);this.ojzrt058fe420f1884bd6ac44f385ac49d4e6=Xr(nt(t,t,r.ZNyIo));let a=this.nodes.map(o=>o.coordinates),n=this.ogviosf168776171914ca3858315aa887f531e();for(let o of this.jzgdjmxlu0a9f5532a01346629f3f2a4517fdf629){let{ksi:f,eta:d,weight:c}=o,u=this.itucxf512b23abcf849b8bc8ae31edb512415(f,d,a),i=$n(u),s=this.rrztagbsnhce5b048e4c2940e5a49946765b6afe97(f,d,u),l=Nt(s),h=Ge(Ge(Ge(Ge(Ge(l,n),s),i),c),this.thickness);this.ojzrt058fe420f1884bd6ac44f385ac49d4e6=Jn(this.ojzrt058fe420f1884bd6ac44f385ac49d4e6,h)}}return this.ojzrt058fe420f1884bd6ac44f385ac49d4e6}uezvtefm5f01dee54e2c42a58b68b300cbddc92a(e,r){let t={};t.AXXPz="Stiffness matrix is not calculated yet.",t.wggVR=function(s,l){return s<l},t.Ljwpp=function(s,l){return s<l};let a=t;if(!this.ojzrt058fe420f1884bd6ac44f385ac49d4e6)throw new Error(a.AXXPz);let n=[],o=[];for(let s of this.zpozfse511bf44043d9494f892738566d4779eb())n.push(e[s]),o.push(r[s]);let f=this.ogviosf168776171914ca3858315aa887f531e(),d=this.nodes.map(s=>s.coordinates),c=Se();for(let s=0;a.wggVR(s,this.jzgdjmxlu0a9f5532a01346629f3f2a4517fdf629.length);s++){let l=this.jzgdjmxlu0a9f5532a01346629f3f2a4517fdf629[s],{ksi:h,eta:y}=l,p=this.itucxf512b23abcf849b8bc8ae31edb512415(h,y,d),m=this.rrztagbsnhce5b048e4c2940e5a49946765b6afe97(h,y,p),D=Ge(m,n),_=Ge(f,D),b=_.get([0]),B=_.get([1]),C=_.get([2]);c.set([s,0],b),c.set([s,1],B),c.set([s,2],C)}let u=Ge(this.rwrioglqubea9efcf50a244bc18959df27a030b183,c),i=[];for(let s=0;a.Ljwpp(s,this.nodes.length);s++){let l=this.nodes[s],h=e[l.dofs[0]],y=e[l.dofs[1]],p=r[l.dofs[0]],m=r[l.dofs[1]],D={node:l.necilkmgd86c3bf8b9a8d422292003f3ac9911d61(),ux:h,uy:y,uz:0,reactionX:p,reactionY:m},_=u.get([s,0]),b=u.get([s,1]),B=u.get([s,2]),C={};C.nodeResult=D,C.sxx=_,C.syy=b,C.txy=B;let x=C;i.push(x)}return{element:this.necilkmgd86c3bf8b9a8d422292003f3ac9911d61(),nodes:i,thickness:this.thickness}}filybma76677f3a90d47dab18dcc03a512a32a(){let e={};e.XIpeL=function(a,n){return a*n};let r=e,t=r.XIpeL(-this.material.weight,this.thickness);return this.mcqdilowsr5eec7ff6d3ee424d8bbc5cecf9f1c7fe(0,t)}mcqdilowsr5eec7ff6d3ee424d8bbc5cecf9f1c7fe(e,r){let t={};t.SDcCM=function(c,u){return c<u},t.XxaDl=function(c,u){return c<u},t.RURAW=function(c,u){return c*u},t.KAkvk=function(c,u){return c*u},t.DlmuE=function(c,u){return c*u},t.aXxCG=function(c,u){return c*u},t.rmrIt=function(c,u){return c*u};let a=t,n=new Array(this.trekeaab22a016fd004815808bb58e7f23893c).fill(0),o=new Array(this.trekeaab22a016fd004815808bb58e7f23893c).fill(0),f=this.nodes.map(c=>c.coordinates);for(let c=0;a.SDcCM(c,this.jzgdjmxlu0a9f5532a01346629f3f2a4517fdf629.length);c++){let{ksi:u,eta:i,weight:s}=this.jzgdjmxlu0a9f5532a01346629f3f2a4517fdf629[c],l=this.itucxf512b23abcf849b8bc8ae31edb512415(u,i,f),h=$n(l);for(let y=0;a.XxaDl(y,this.trekeaab22a016fd004815808bb58e7f23893c);y++)n[y]+=a.RURAW(a.KAkvk(a.DlmuE(this.N[y](u,i),e),h),s),o[y]+=a.DlmuE(a.aXxCG(a.rmrIt(this.N[y](u,i),r),h),s)}return this.nodes.map((c,u)=>new si(c,n[u],o[u]))}},va=(e,r,t,a,n)=>{let o={FERBF:function(s,l,h){return s(l,h)},mICga:function(s,l,h){return s(l,h)}},f=ri(t),d=o.FERBF(a,e,r),c=o.mICga(n,e,r),u=Se([[d],[c]]);return Ge(f,u)},jn={};jn.ksi=1/3,jn.eta=1/3,jn.weight=-9/32;var ea={};ea.ksi=3/5,ea.eta=1/5,ea.weight=25/96;var ra={};ra.ksi=1/5,ra.eta=3/5,ra.weight=25/96;var ta={};ta.ksi=1/5,ta.eta=1/5,ta.weight=25/96;var ha=[jn,ea,ra,ta],Tt=-Math.sqrt(3/5),It=0,zt=Math.sqrt(3/5),Rt=5/9,Pt=8/9,Ot=5/9,na={};na.ksi=Tt,na.eta=Tt,na.weight=Rt*Rt;var aa={};aa.ksi=It,aa.eta=Tt,aa.weight=Pt*Rt;var oa={};oa.ksi=zt,oa.eta=Tt,oa.weight=Ot*Rt;var ia={};ia.ksi=Tt,ia.eta=It,ia.weight=Rt*Pt;var ua={};ua.ksi=It,ua.eta=It,ua.weight=Pt*Pt;var sa={};sa.ksi=zt,sa.eta=It,sa.weight=Ot*Pt;var fa={};fa.ksi=Tt,fa.eta=zt,fa.weight=Rt*Ot;var ca={};ca.ksi=It,ca.eta=zt,ca.weight=Pt*Ot;var la={};la.ksi=zt,la.eta=zt,la.weight=Ot*Ot;var ma=[na,aa,oa,ia,ua,sa,fa,ca,la],Vs=[(e,r)=>.25*(1-e)*(1-r),(e,r)=>.25*(1+e)*(1-r),(e,r)=>.25*(1+e)*(1+r),(e,r)=>.25*(1-e)*(1+r)],Zs=[(e,r)=>-.25*(1-r),(e,r)=>.25*(1-r),(e,r)=>.25*(1+r),(e,r)=>-.25*(1+r)],Ys=[(e,r)=>-.25*(1-e),(e,r)=>-.25*(1+e),(e,r)=>.25*(1+e),(e,r)=>.25*(1-e)],_p=Zs.map((e,r)=>(t,a,n)=>va(t,a,n,e,Ys[r])),Ep=Se(ma.map(e=>Vs.map(r=>r(e.ksi,e.eta)))),Ap=ot(Ep),Cp=class extends Lt{constructor(e,r,t,a,n){super(e,r,t,a,n),this.tags=[]}get rwrioglqubea9efcf50a244bc18959df27a030b183(){return Ap}get jzgdjmxlu0a9f5532a01346629f3f2a4517fdf629(){return ma}get N(){return Vs}get dN_dksi(){return Zs}get dN_deta(){return Ys}get dN_dx_dy(){return _p}get trekeaab22a016fd004815808bb58e7f23893c(){return 4}},oi=class{static getD(e){let r={OESzc:function(f,d){return f/d},lTblv:function(f,d){return f-d},kVtuK:function(f,d,c){return f(d,c)},wWsgM:function(f,d){return f(d)},ZykZz:function(f,d){return f/d},zBybK:function(f,d){return f*d}},t=e.modulusOfElasticity,a=e.poissonsRatio,n=[[1,a,0],[a,1,0],[0,0,r.OESzc(r.lTblv(1,a),2)]];return r.kVtuK(Ge,r.wWsgM(Se,n),r.ZykZz(t,1-r.zBybK(a,a)))}static getB(e){let r={zZaAx:function(m,D){return m-D},vMOOl:function(m,D){return m-D},BOQLd:function(m,D){return m-D},YOJYL:function(m,D){return m-D},aVCkj:function(m,D){return m*D},xDaHx:function(m,D,_){return m(D,_)}},[t,a,n]=e,o=r.zZaAx(a.y,n.y),f=r.vMOOl(n.y,t.y),d=r.BOQLd(t.y,a.y),c=r.BOQLd(t.y,n.y),u=r.zZaAx(n.x,a.x),i=t.x-n.x,s=a.x-t.x,l=r.YOJYL(a.x,n.x),h=r.zZaAx(r.aVCkj(i,o),r.aVCkj(c,l)),y=[[o,0,f,0,d,0],[0,u,0,i,0,s],[u,o,i,f,s,d]];return r.xDaHx(Ge,Se(y),1/h)}static getK(e,r,t,a){let n={dJIZc:function(d,c){return d(c)},mTfsa:function(d,c,u){return d(c,u)},BNgDC:function(d,c,u){return d(c,u)},XpPye:function(d,c){return d*c}},o=n.dJIZc(Nt,t);return n.mTfsa(Ge,n.mTfsa(Ge,n.BNgDC(Ge,n.XpPye(e,r),o),a),t)}},Fp=class extends Lt{constructor(e,r,t,a){let n={};n.HhJWs="5|4|3|2|0|6|1";let o=n,f=o.HhJWs.split("|"),d=0;for(;;){switch(f[d++]){case"0":this.D=null;continue;case"1":this.kehaiooorj93cd80bf02fe41b4b62e82f2145c742f();continue;case"2":this.B=null;continue;case"3":this.Tag="";continue;case"4":this.area=null;continue;case"5":super(e,r,t,a);continue;case"6":this.K=null;continue}break}}get rwrioglqubea9efcf50a244bc18959df27a030b183(){let e={};e.qJwMW="Method not implemented.";let r=e;throw new Error(r.qJwMW)}get jzgdjmxlu0a9f5532a01346629f3f2a4517fdf629(){let e={};e.tpcvC="Method not implemented.";let r=e;throw new Error(r.tpcvC)}get dN_dx_dy(){let e={};e.sERYB="Method not implemented.";let r=e;throw new Error(r.sERYB)}get N(){let e={};e.oDWaD="Method not implemented.";let r=e;throw new Error(r.oDWaD)}get dN_dksi(){throw new Error("Method not implemented.")}get dN_deta(){let e={};e.Srknl="Method not implemented.";let r=e;throw new Error(r.Srknl)}rrztagbsnhce5b048e4c2940e5a49946765b6afe97(e,r,t){throw new Error("Method not implemented.")}itucxf512b23abcf849b8bc8ae31edb512415(e,r,t){let a={};a.kTOpU="Method not implemented.";let n=a;throw new Error(n.kTOpU)}get trekeaab22a016fd004815808bb58e7f23893c(){return 3}getD(){return!this.D&&(this.D=oi.getD(this.material)),this.D}getB(){return!this.B&&(this.B=oi.getB(this.nodes.map(e=>e.coordinates))),this.B}pklvnkbpudcc04254fb23d4ae38ce6a3f4340b77a3(){if(!this.K){let e=this.getB(),r=this.getD();this.K=oi.getK(this.thickness,this.area,e,r)}return this.K}kehaiooorj93cd80bf02fe41b4b62e82f2145c742f(){let e={};e.RtCjS=function(o,f){return o*f},e.cTTcd=function(o,f){return o-f},e.GYioJ=function(o,f){return o+f},e.KrgSB=function(o,f){return o-f},e.axaVq=function(o,f){return o*f},e.qHeYS=function(o,f){return o*f};let r=e,[t,a,n]=this.nodes.map(o=>o.coordinates);this.area=r.RtCjS(.5,Math.abs(r.cTTcd(r.cTTcd(r.GYioJ(r.KrgSB(t.x*a.y,r.RtCjS(t.x,n.y)),r.axaVq(a.x,n.y)),a.x*t.y)+n.x*t.y,r.qHeYS(n.x,a.y))))}},Ws=[(e,r)=>1-e-r,(e,r)=>e,(e,r)=>r],fi=[(e,r)=>-1,(e,r)=>1,(e,r)=>0],ks=[(e,r)=>-1,(e,r)=>0,(e,r)=>1],Sp=fi.map((e,r)=>(t,a,n)=>va(t,a,n,fi[r],ks[r])),Mp=Se(ha.map(e=>Ws.map(r=>r(e.ksi,e.eta)))),Np=ot(Mp),Bp=class extends Lt{get rwrioglqubea9efcf50a244bc18959df27a030b183(){return Np}get jzgdjmxlu0a9f5532a01346629f3f2a4517fdf629(){return ha}get N(){return Ws}get dN_dksi(){return fi}get dN_deta(){return ks}get dN_dx_dy(){return Sp}constructor(e,r,t,a,n){super(e,r,t,a,n)}get trekeaab22a016fd004815808bb58e7f23893c(){return 3}},Gs=[(e,r)=>(1-e-r)*(1-2*e-2*r),(e,r)=>e*(2*e-1),(e,r)=>r*(2*r-1),(e,r)=>4*e*(1-e-r),(e,r)=>4*e*r,(e,r)=>4*r*(1-e-r)],Xs=[(e,r)=>-3+4*e+4*r,(e,r)=>4*e-1,(e,r)=>0,(e,r)=>4*(1-2*e-r),(e,r)=>4*r,(e,r)=>-4*r],Ks=[(e,r)=>-3+4*e+4*r,(e,r)=>0,(e,r)=>4*r-1,(e,r)=>-4*e,(e,r)=>4*e,(e,r)=>4*(1-e-2*r)],Tp=Xs.map((e,r)=>(t,a,n)=>va(t,a,n,e,Ks[r])),Ip=Se(ha.map(e=>Gs.map(r=>r(e.ksi,e.eta)))),zp=ot(Ip),Rp=class extends Lt{get rwrioglqubea9efcf50a244bc18959df27a030b183(){return zp}get jzgdjmxlu0a9f5532a01346629f3f2a4517fdf629(){return ha}get N(){return Gs}get dN_dksi(){return Xs}get dN_deta(){return Ks}get dN_dx_dy(){return Tp}constructor(e,r,t,a,n){super(e,r,t,a,n)}get trekeaab22a016fd004815808bb58e7f23893c(){return 6}},Hs=[(e,r)=>.25*(1-e)*(1-r)*(-1-e-r),(e,r)=>.25*(1+e)*(1-r)*(-1+e-r),(e,r)=>.25*(1+e)*(1+r)*(-1+e+r),(e,r)=>.25*(1-e)*(1+r)*(-1-e+r),(e,r)=>.5*(1-e*e)*(1-r),(e,r)=>.5*(1+e)*(1-r*r),(e,r)=>.5*(1-e*e)*(1+r),(e,r)=>.5*(1-e)*(1-r*r)],ci=[(e,r)=>-.25*((-1+r)*(r+2*e)),(e,r)=>.25*(-1+r)*(r-2*e),(e,r)=>.25*(1+r)*(r+2*e),(e,r)=>-.25*((1+r)*(r-2*e)),(e,r)=>.5*(2*(-1+r)*e),(e,r)=>.5*(1-r*r),(e,r)=>.5*(-2*(1+r)*e),(e,r)=>.5*(-1+r*r)],Qs=[(e,r)=>-.25*((-1+e)*(2*r+e)),(e,r)=>.25*(2*r-e)*(1+e),(e,r)=>.25*(1+e)*(2*r+e),(e,r)=>-.25*((2*r-e)*(-1+e)),(e,r)=>.5*(-1+e*e),(e,r)=>.5*(-2*r*(1+e)),(e,r)=>.5*(1-e*e),(e,r)=>.5*(2*r*(-1+e))],Pp=ci.map((e,r)=>(t,a,n)=>va(t,a,n,ci[r],Qs[r])),Op=Se(ma.map(e=>Hs.map(r=>r(e.ksi,e.eta)))),Lp=ot(Op),qp=class extends Lt{get rwrioglqubea9efcf50a244bc18959df27a030b183(){return Lp}get jzgdjmxlu0a9f5532a01346629f3f2a4517fdf629(){return ma}get N(){return Hs}get dN_dksi(){return ci}get dN_deta(){return Qs}get dN_dx_dy(){return Pp}constructor(e,r,t,a,n){super(e,r,t,a,n)}get trekeaab22a016fd004815808bb58e7f23893c(){return 8}},it=class{constructor(e,r){this.rows=e,this.cols=r,this.data=new Map}key(e,r){let t={};t.hwBJb=function(n,o){return n+o},t.UhLEE=function(n,o){return n*o};let a=t;return a.hwBJb(a.UhLEE(e,this.cols),r)}set(e,r,t){let a={};a.DhBgU=function(f,d){return f===d};let n=a;this.xsqmzi9b933218b64640b19b0b6cd53af305fa(e,r);let o=this.key(e,r);n.DhBgU(t,0)?this.data.delete(o):this.data.set(o,t)}get(e,r){let t={};t.qfSfd=function(o,f){return o!=f};let a=t;var n;return this.xsqmzi9b933218b64640b19b0b6cd53af305fa(e,r),a.qfSfd(n=this.data.get(this.key(e,r)),null)?n:0}dot(e){let r={};r.mMgAE=function(n,o){return n!==o},r.oOtNq="Both matrices must be column vectors of the same size",r.rkmsH=function(n,o){return n/o},r.TcvLH=function(n,o){return n*o};let t=r;if(this.cols!==1||t.mMgAE(e.cols,1)||this.rows!==e.rows)throw new Error(t.oOtNq);let a=0;for(let[n,o]of this.data.entries()){let f=Math.floor(t.rkmsH(n,this.cols)),d=e.get(f,0);a+=t.TcvLH(o,d)}return a}ivmgtfpnxd576a5d6186740edb3167e91de375abd(e,r){let t={};t.rvFua=function(n,o){return n<o},t.PwsFX=function(n,o){return n/o},t.peZeo=function(n,o){return n!==o},t.CuqoG=function(n,o){return n+o};let a=t;for(let n=0;a.rvFua(n,r.rows);n++)r.set(n,0,0);for(let[n,o]of this.data.entries()){let f=Math.floor(a.PwsFX(n,this.cols)),d=n%this.cols,c=e.get(d,0);if(a.peZeo(c,0)){let u=r.get(f,0);r.set(f,0,a.CuqoG(u,o*c))}}}*entries(){let e={};e.JuClk=function(t,a){return t%a};let r=e;for(let[t,a]of this.data.entries()){let n=Math.floor(t/this.cols),o=r.JuClk(t,this.cols),f={};f.row=n,f.col=o,f.value=a,yield f}}xsqmzi9b933218b64640b19b0b6cd53af305fa(e,r){let t={};t.CYpfD=function(n,o){return n<o},t.vJJcx=function(n,o){return n>=o},t.rTxFA=function(n,o){return n>=o};let a=t;if(a.CYpfD(e,0)||a.vJJcx(e,this.rows)||r<0||a.rTxFA(r,this.cols))throw new Error("Index out of bounds: ("+e+", "+r+")")}};function Up(e,r,t,a,n=1e-5,o=1e4){let f={xeAlX:function(l,h){return l!==h},clloj:"Matrix A must be square",tWZSK:"b must be a column vector with same number of rows as A",MczEi:function(l,h){return l!==h},ShpNO:"x must be a column vector with same size as b",vhAht:function(l,h){return l/h},rBDns:function(l,h){return l-h},hJAOC:function(l,h){return l<h},aCMuB:function(l,h){return l/h},vYjbu:function(l,h){return l*h},LwFqg:function(l,h){return l===h},HDxai:function(l,h){return l%h},ITHfr:function(l,h){return l(h)},GGoUo:function(l,h){return l+h}},d=e.rows;if(f.xeAlX(e.cols,d))throw new Error(f.clloj);if(f.xeAlX(r.rows,d)||r.cols!==1)throw new Error(f.tWZSK);if(f.xeAlX(t.rows,d)||f.MczEi(t.cols,1))throw new Error(f.ShpNO);let c=new it(d,1),u=new it(d,1),i=new it(d,1);for(let{row:l,value:h}of r.entries())c.set(l,0,h),u.set(l,0,h);let s=c.dot(c);for(let l=0;l<o;l++){e.ivmgtfpnxd576a5d6186740edb3167e91de375abd(u,i);let h=f.vhAht(s,u.dot(i));for(let{row:m,value:D}of u.entries()){let _=t.get(m,0);t.set(m,0,_+h*D)}for(let{row:m,value:D}of i.entries()){let _=c.get(m,0);c.set(m,0,f.rBDns(_,h*D))}let y=c.dot(c);if(f.hJAOC(Math.sqrt(y),n))break;let p=f.aCMuB(y,s);for(let m=0;f.hJAOC(m,d);m++){let D=c.get(m,0),_=u.get(m,0);u.set(m,0,D+f.vYjbu(p,_))}s=y,f.LwFqg(f.HDxai(l,10),0)&&a(f.ITHfr(Bt,"Iteration "+f.GGoUo(l,1)+", Residual: "+Math.sqrt(y)))}}var Vp=class{constructor(e){this.progress=e}xdnfqb3733b2a9a7549ceac8e93cf29b4c60c(e,r,t){let a={XULZI:function(h,y){return h*y},LYnTb:function(h,y){return h(y)},PmvYy:"Starting aggregating stiffness matrix",CnLJn:"Starting aggregating loads",oFwIl:"starting calculations",JQYQc:function(h,y,p,m,D){return h(y,p,m,D)}},n=a.XULZI(e.length,2),o=e.map(h=>h.qarpzne1cfe6f42d6b4db5bb8612900f767f3b()).reduce((h,y)=>[...h,...y]);!this.xsrdprvoy2a6c3379f0654515b16954861c4ed328&&(this.progress(a.LYnTb(gt,a.PmvYy)),this.xsrdprvoy2a6c3379f0654515b16954861c4ed328=this.xuphg8eddeb28005749c58080cdee1e43e59f(r,n),this.fullAggregatedStiffnessMatrix=Gr(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328),this.jyzrzgcdc999ebe4ba244c783e91217d9b31fc0(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328,o)),!this.akrzi0402b61ab1424427afe00e023688b4b0&&this.akpyiv7ffd2220bf884d35927310aa0189f178(),this.progress(a.LYnTb(Bt,"")),this.progress(a.LYnTb(gt,a.CnLJn));let f=this.sqgumrylic3fd2f6cb02f4669973ea189dce8a19b(t,n),d=Gr(f);this.juoiojma91de162c85d4cddb825b8e7b03d43c0(f,o),this.progress(a.LYnTb(gt,a.CnLJn));let c=new it(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[0],1);this.loadsSparseMapFlat=new it(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[0],1);for(let h=0;h<f.length;h++)this.loadsSparseMapFlat.set(h,0,f[h]);this.progress(gt(a.oFwIl)),a.JQYQc(Up,this.akrzi0402b61ab1424427afe00e023688b4b0,this.loadsSparseMapFlat,c,this.progress);let u=new Array(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[0]).fill(0);[...c.entries()].map(h=>h).forEach(h=>u[h.row]=h.value);let i=new it(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[0],1);this.fullStiffmatSparseMapFlat.ivmgtfpnxd576a5d6186740edb3167e91de375abd(c,i);let s=new Array(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[0]).fill(0);[...i.entries()].forEach(h=>{o.includes(h.row)&&(s[h.row]=h.value-d[h.row])});let l={};return l.displacements=u,l.reactions=s,l}akpyiv7ffd2220bf884d35927310aa0189f178(){let e={NLACd:function(n,o){return n<o},KvNRn:function(n,o){return n*o},YIiRO:function(n,o){return n/o},Oignq:function(n,o){return n!==o},tCqbD:function(n,o){return n(o)}};this.akrzi0402b61ab1424427afe00e023688b4b0=new it(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[0],this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[1]),this.fullStiffmatSparseMapFlat=new it(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[0],this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[1]);let r=this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[0]*this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[1],t=0,a=0;for(let n=0;e.NLACd(n,this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[0]);n++)for(let o=0;o<this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size()[1];o++){this.akrzi0402b61ab1424427afe00e023688b4b0.set(n,o,this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.get([n,o])),this.fullStiffmatSparseMapFlat.set(n,o,this.fullAggregatedStiffnessMatrix.get([n,o]));let f=Math.trunc(e.KvNRn(e.YIiRO(t,r),100));t++,e.Oignq(a,f)&&(this.progress(e.tCqbD(Bt,"Preparing aggregation matrix. Finished "+f+"%")),a=f)}}xuphg8eddeb28005749c58080cdee1e43e59f(e,r){let t={};t.HOxor="sparse";let a=t,n=Xr(nt(r,r,a.HOxor));for(let o=0;o<e.length;o++){let f=e[o],d=f.zpozfse511bf44043d9494f892738566d4779eb(),c=f.pklvnkbpudcc04254fb23d4ae38ce6a3f4340b77a3(),u=c.size();for(let i=0;i<u[0];i++)for(let s=0;s<u[1];s++){let l=d[i],h=d[s],y=[l,h],p=n.get(y)+c.get([s,i]);n.set(y,p)}}return n}jyzrzgcdc999ebe4ba244c783e91217d9b31fc0(e,r){let t={};t.LujKs=function(o,f){return o<f};let a=t,n=e.size()[0];for(let o=0;a.LujKs(o,r.length);o++){let f=r[o];for(let d=0;d<n;d++)e.set([f,d],0),e.set([d,f],0);e.set([f,f],1)}}sqgumrylic3fd2f6cb02f4669973ea189dce8a19b(e,r){let t={};t.hEBAl=function(o,f){return o<f};let a=t,n=new Array(r).fill(0);for(let o=0;a.hEBAl(o,e.length);o++){let f=e[o],d=f.pktokyf1a7b5b38dffe46349e253d40a0d767ce(),c=f.diodefbf154c625d546858a74df9cc2e5e62f();n[c]+=f.tjqahhnat09d34baaac1541638e385c287457965b(),n[d]+=f.ucqqqxlfd3b3483cade5f4230986d165b1189f77e()}return n}juoiojma91de162c85d4cddb825b8e7b03d43c0(e,r){for(let t=0;t<r.length;t++){let a=r[t];e[a]=0}}};function Zp(e,r){let t={};t.FXZGZ=function(o,f){return o<f};let a=t,n=new Array(r.length);for(let o=0;a.FXZGZ(o,r.length);o++)n[o]=r[e[o]];return n}function Yp(e,r,t){let a={};a.JKjoQ=function(d,c){return d<c},a.xMcFv=function(d,c){return d<c},a.FUZDr=function(d,c){return d/c},a.eFVFD=function(d,c){return d==c},a.eZkNI=function(d,c){return d*c};let n=a,o=e.size()[0],f=new Array(o).fill(0);for(let d=0;n.JKjoQ(d,o);d++){let c=r[d];for(let u=0;n.xMcFv(u,d);u++)c-=e.get([d,u])*f[u];f[d]=n.FUZDr(c,e.get([d,d])),n.eFVFD(t,null)||t(Math.floor(n.eZkNI(n.FUZDr(d,o),50)))}return f}function Wp(e,r,t){let a={YrnSG:function(f,d){return f-d},vKYIN:function(f,d){return f>=d},GmHij:function(f,d){return f+d},iCArS:function(f,d){return f<d},KVroM:function(f,d){return f*d},RoElK:function(f,d){return f(d)},rkBLq:function(f,d){return f/d}},n=e.size()[0],o=new Array(n).fill(0);for(let f=a.YrnSG(n,1);a.vKYIN(f,0);f--){let d=r[f];for(let c=a.GmHij(f,1);a.iCArS(c,n);c++)d-=a.KVroM(e.get([f,c]),o[c]);o[f]=d/e.get([f,f]),t==null||a.RoElK(t,50+Math.floor(a.rkBLq(a.YrnSG(n,f),n)*50))}return o}function kp(e,r,t,a,n){let o={dmvik:function(u,i,s){return u(i,s)},fqsxl:function(u,i,s,l){return u(i,s,l)},ayFan:function(u,i){return u==i}},f=o.dmvik(Zp,t,a),d=o.fqsxl(Yp,e,f,n),c=o.fqsxl(Wp,r,d,n);return o.ayFan(n,null)||n(100),c}function Gp(e,r){let t={MRIhp:function(u,i){return u<i},AVMuJ:function(u,i){return u>i},cAGjV:function(u,i){return u===i},lbVWc:function(u,i){return u!==i},lpmed:function(u,i){return u<i},IwZin:function(u,i){return u/i},hMuVs:function(u,i){return u-i},jtcCf:function(u,i){return u*i},Xgndz:function(u,i){return u(i)},FrtUM:function(u,i){return u==i}},a=e.size()[0],n=e.clone(),o=Xr(jo(a,a,"sparse")),f={};f.length=a;let d=Array.from(f,(u,i)=>i);for(let u=0;t.MRIhp(u,a);u++){let i=u,s=Math.abs(n.get([u,u]));for(let l=u+1;t.MRIhp(l,a);l++){let h=Math.abs(n.get([l,u]));t.AVMuJ(h,s)&&(s=h,i=l)}if(t.cAGjV(s,0))throw new Error("Matrix is singular");if(t.lbVWc(i,u)){for(let l=0;t.MRIhp(l,a);l++){let h=n.get([u,l]);n.set([u,l],n.get([i,l])),n.set([i,l],h)}for(let l=0;l<u;l++){let h=o.get([u,l]);o.set([u,l],o.get([i,l])),o.set([i,l],h)}[d[u],d[i]]=[d[i],d[u]]}for(let l=u+1;t.lpmed(l,a);l++){let h=t.IwZin(n.get([l,u]),n.get([u,u]));o.set([l,u],h);for(let y=u;t.lpmed(y,a);y++){let p=t.hMuVs(n.get([l,y]),t.jtcCf(h,n.get([u,y])));n.set([l,y],p)}}r==null||t.Xgndz(r,Math.trunc(t.jtcCf(t.IwZin(u,a),100)))}t.FrtUM(r,null)||r(100);let c={};return c.L=o,c.U=n,c.p=d,c}var Xp=class{constructor(e){this.progress=e}xdnfqb3733b2a9a7549ceac8e93cf29b4c60c(e,r,t){let a={ivalh:function(h,y){return h*y},PruAw:function(h,y){return h(y)},QiCAP:"0|1|3|2|4",OKXro:function(h,y,p){return h(y,p)},Pnnce:"Calculating displacements"},n=a.ivalh(e.length,2);a.PruAw(da,"Solving system with "+n+" dofs and "+r.length+" elements");let o=e.map(h=>h.qarpzne1cfe6f42d6b4db5bb8612900f767f3b()).reduce((h,y)=>[...h,...y]),f=this.sqgumrylic3fd2f6cb02f4669973ea189dce8a19b(t,n),d=Gr(f);if(this.juoiojma91de162c85d4cddb825b8e7b03d43c0(f,o),!this.lup||!this.xsrdprvoy2a6c3379f0654515b16954861c4ed328){let h=a.QiCAP.split("|"),y=0;for(;;){switch(h[y++]){case"0":this.xsrdprvoy2a6c3379f0654515b16954861c4ed328=this.lxznobsgc08c4657f8f148088d82380780b996e8(r,n);continue;case"1":a.PruAw(da,"Stiffness matrix calculated, size: "+this.xsrdprvoy2a6c3379f0654515b16954861c4ed328.size());continue;case"2":this.jyzrzgcdc999ebe4ba244c783e91217d9b31fc0(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328,o);continue;case"3":this.pxwphswoa90977d9b62243699a7d0a5964128c30=Gr(this.xsrdprvoy2a6c3379f0654515b16954861c4ed328);continue;case"4":this.lup=a.OKXro(Gp,this.xsrdprvoy2a6c3379f0654515b16954861c4ed328,p=>this.progress(Bt("LUP decomposition: "+p+"%")));continue}break}}gt(a.Pnnce);let c=kp(this.lup.L,this.lup.U,this.lup.p,f,h=>this.progress(Bt("LU solve: "+h+"%"))),u=[];c.forEach((h,y)=>u[y]=h);let i=[];Ge(this.pxwphswoa90977d9b62243699a7d0a5964128c30,c).forEach(h=>i.push(h));let s=i.map((h,y)=>o.includes(y)?h-d[y]:0),l={};return l.displacements=u,l.reactions=s,l}lxznobsgc08c4657f8f148088d82380780b996e8(e,r){let t={};t.BmLIH="sparse",t.jZaZF=function(o,f){return o<f},t.SXHvi=function(o,f){return o<f};let a=t,n=Xr(nt(r,r,a.BmLIH));for(let o=0;o<e.length;o++){let f=e[o],d=f.zpozfse511bf44043d9494f892738566d4779eb(),c=f.pklvnkbpudcc04254fb23d4ae38ce6a3f4340b77a3(),u=c.size();for(let i=0;a.jZaZF(i,u[0]);i++)for(let s=0;a.SXHvi(s,u[1]);s++){let l=d[i],h=d[s],y=[l,h],p=n.get(y)+c.get([s,i]);n.set(y,p)}}return n}jyzrzgcdc999ebe4ba244c783e91217d9b31fc0(e,r){let t={};t.EUNwl=function(o,f){return o<f},t.CQGXZ=function(o,f){return o<f};let a=t,n=e.size()[0];for(let o=0;a.EUNwl(o,r.length);o++){let f=r[o];for(let d=0;a.CQGXZ(d,n);d++)e.set([f,d],0),e.set([d,f],0);e.set([f,f],1)}}sqgumrylic3fd2f6cb02f4669973ea189dce8a19b(e,r){let t=new Array(r).fill(0);for(let a=0;a<e.length;a++){let n=e[a],o=n.pktokyf1a7b5b38dffe46349e253d40a0d767ce(),f=n.diodefbf154c625d546858a74df9cc2e5e62f();t[f]+=n.tjqahhnat09d34baaac1541638e385c287457965b(),t[o]+=n.ucqqqxlfd3b3483cade5f4230986d165b1189f77e()}return t}juoiojma91de162c85d4cddb825b8e7b03d43c0(e,r){let t={};t.ovuAz=function(n,o){return n<o};let a=t;for(let n=0;a.ovuAz(n,r.length);n++){let o=r[n];e[o]=0}}},Kp=class{constructor(e){let r={};r.eGhIT="3|8|5|4|7|2|6|1|0";let t=r,a=t.eGhIT.split("|"),n=0;for(;;){switch(a[n++]){case"0":this.deadLoads=[];continue;case"1":this.externalLoads=[];continue;case"2":this.nodes=[];continue;case"3":this.progress=e;continue;case"4":this.displacements=[];continue;case"5":this.elementIndex=0;continue;case"6":this.elements=[];continue;case"7":this.reactions=[];continue;case"8":this.nodeIndex=0;continue}break}}pkqetn1c4bcc0da0784157b58be19839ab4a82(e){let r=this.gbafnzpxgiaf0af7e127ef43d3a194a45b97141be8(e.x,e.y);if(r)return r;let t=new yp(this.nodeIndex,e);return this.nodes.push(t),this.nodeIndex++,t}wvuoz78d7985b1e6f4b13881b2dce82e5a23f(e,r,t,a){let n={};n.riBbb=function(c,u){return c!==u},n.LmTnk="Wrong number of nodes. Should be 4";let o=n;if(o.riBbb(e.length,4))throw new Error(o.LmTnk);let f=this.elements.find(c=>c.sfcotjtuye5a3768cabb347ec849086f7beaf1847(e));if(f)return f;let d=new Cp(this.elementIndex,e,r,t,a);return this.elements.push(d),this.elementIndex++,d}ytqrxma024c3f56d1d54ab68b8bc68aac62b43d(){this.externalLoads=[]}gvfyppoo36c06ea4b91a495bb73160168b726204(e,r,t,a){let n={};n.ynprS=function(c,u){return c!==u},n.ETXUK="Wrong number of nodes. Should be 8";let o=n;if(o.ynprS(e.length,8))throw new Error(o.ETXUK);let f=this.elements.find(c=>c.sfcotjtuye5a3768cabb347ec849086f7beaf1847(e));if(f)return f;let d=new qp(this.elementIndex,e,r,t,a);return this.elements.push(d),this.elementIndex++,d}fmektqpyvu53b72f88c5b24eea92a164babc989da2(e,r,t,a){let n={};n.rCYQd="Wrong number of nodes. Should be 3";let o=n;if(e.length!==3)throw new Error(o.rCYQd);let f=this.elements.find(c=>c.sfcotjtuye5a3768cabb347ec849086f7beaf1847(e));if(f)return f;let d=new Fp(this.elementIndex,e,r,t);return this.elements.push(d),this.elementIndex++,d}jjikeffacqfbc75df57c214ceab1ae72ad0f1dad3a(e,r,t,a){let n={};n.qDnoX=function(c,u){return c!==u},n.FsFrn="Wrong number of nodes. Should be 3";let o=n;if(o.qDnoX(e.length,3))throw new Error(o.FsFrn);let f=this.elements.find(c=>c.sfcotjtuye5a3768cabb347ec849086f7beaf1847(e));if(f)return f;let d=new Bp(this.elementIndex,e,r,t,a);return this.elements.push(d),this.elementIndex++,d}rrewoshx2eaf7056ecd24f19a06ada999b03a42d(e,r,t,a){let n={};n.XieCP=function(c,u){return c!==u},n.KeqJU="Wrong number of nodes. Should be 3";let o=n;if(o.XieCP(e.length,6))throw new Error(o.KeqJU);let f=this.elements.find(c=>c.sfcotjtuye5a3768cabb347ec849086f7beaf1847(e));if(f)return f;let d=new Rp(this.elementIndex,e,r,t,a);return this.elements.push(d),this.elementIndex++,d}gbafnzpxgiaf0af7e127ef43d3a194a45b97141be8(e,r){return this.nodes.find(t=>t.mvuuxjrzbf74629240593e4ffeb022996361462c94(e,r))}jsdqeke26274b065704dab8ea12a942d2d1d9a(){return this.elements}tshupxd95fb297e0a64e5ca9df0efa60209dcd(){return this.nodes}grrvtb82bd9a6c59545ab8aa52b2e96d298ae(e,r,t){let a=new si(e,r,t);return this.externalLoads.push(a),a}pggkvkbaay829555f9597f4b7c95874042c39d8eae(e){let r=this.gbafnzpxgiaf0af7e127ef43d3a194a45b97141be8(e.x,e.y);if(!r)throw new Error("Node at ("+e.x+", "+e.y+") not found for point load.");let t=new si(r,e.fx,e.fy);return this.externalLoads.push(t),t}bmzannh8f79692602ba4cfcbcd8c5de0e0cff3a(e){let r={};r.gxeGq=function(o,f){return o===f};let t=r,a=this.elements.filter(o=>o.tag===e.geometryTag);if(!a||t.gxeGq(a.length,0))throw new Error("No elements found with tag '"+e.geometryTag+"' for distributed load.");let n=a.map(o=>o.mcqdilowsr5eec7ff6d3ee424d8bbc5cecf9f1c7fe(e.fx,e.fy)).flatMap(o=>o);return this.externalLoads.push(...n),n}iuvmhrlq58ef4b2826de44b68c427e39f9374f96(e){for(let r of e){let t=this.gbafnzpxgiaf0af7e127ef43d3a194a45b97141be8(r.x,r.y);if(!t)throw new Error("Node at ("+r.x+", "+r.y+") not found for support.");r.uy&&r.ux?t.qijkqwlwb4c335aaa0d524d4e89db52f9cce0ef00():r.uy&&t.tmheivhxp361c264cd753453fb516bd18ce964728()}}fudgct7fb07ce0feea48909721d78970a1ece2(){this.deadLoads=this.elements.map(e=>e.filybma76677f3a90d47dab18dcc03a512a32a()).flatMap(e=>e)}supvxfg7a476a4c4ab04aaea6f3d450099778ea(){!this.luSolveSolver&&(this.luSolveSolver=new bp),this.displacements=[];let e=this.externalLoads.concat(this.deadLoads),r=this.luSolveSolver.xdnfqb3733b2a9a7549ceac8e93cf29b4c60c(this.nodes,this.elements,e);this.displacements=r.displacements,this.reactions=r.reactions}cjeegme985ea78663f4a53a24785d858ca8028(){!this.iterativeSolver&&(this.iterativeSolver=new Vp(this.progress));let e=this.externalLoads.concat(this.deadLoads),r=this.iterativeSolver.xdnfqb3733b2a9a7549ceac8e93cf29b4c60c(this.nodes,this.elements,e);this.displacements=r.displacements,this.reactions=r.reactions}solveLuSolveProgress(){!this.lusolveProgressSolver&&(this.lusolveProgressSolver=new Xp(this.progress));let e=this.externalLoads.concat(this.deadLoads),r=this.lusolveProgressSolver.xdnfqb3733b2a9a7549ceac8e93cf29b4c60c(this.nodes,this.elements,e);this.displacements=r.displacements,this.reactions=r.reactions}mwlhrasvuj42781b55540a4ba293c28b2d84145386(){let e=[];for(let r of this.elements)if(r instanceof Lt){let t=r.uezvtefm5f01dee54e2c42a58b68b300cbddc92a(this.displacements,this.reactions);e.push(t)}return e}};function Js(e,r){let t={TzMTD:function(a,n){return a(n)},mnhTL:function(a,n){return a===n},EGNQP:function(a,n){return a===n},KiiBM:"iterative",YXSZi:function(a,n){return a(n)},NTDvF:"Finished all load cases",VIiRC:function(a,n){return a(n)},aZUbJ:function(a,n){return a(n)},myqFY:function(a,n,o,f){return a(n,o,f)}};return t.myqFY(mp,this,null,function*(){t.TzMTD(r,ai("Creating Fem model from triangles"));let a=e.triangles.map(o=>Dp.worzrdvh273cb4a9dad54460bade8c5b62d6f8a9(o)).map(o=>o.wbqgsebf71a980788445839e958997aedc3954()),n=new Kp(r);for(let o of a){let f=o.points.map(s=>n.pkqetn1c4bcc0da0784157b58be19839ab4a82(s)),d=e.sections.find(s=>s.tag===o.sectionTag);if(!d)throw new Error("Properties with tag "+o.sectionTag+" not found");let c=e.materials.find(s=>s.tag===o.materialTag);if(!c)throw new Error("Material with tag "+o.materialTag+" not found");let u={};u.modulusOfElasticity=c.modulusOfElasticity,u.poissonsRatio=c.poissonsRatio,u.weight=c.weight;let i=u;n.rrewoshx2eaf7056ecd24f19a06ada999b03a42d(f,i,d.thickness,o.tag)}n.iuvmhrlq58ef4b2826de44b68c427e39f9374f96(e.supports);for(let o of e.loadCases){n.ytqrxma024c3f56d1d54ab68b8bc68aac62b43d(),o.includeDeadLoad&&n.fudgct7fb07ce0feea48909721d78970a1ece2(),t.TzMTD(r,t.TzMTD(ai,"Solving load case "+o.tag));for(let c of o.pointLoads)n.pggkvkbaay829555f9597f4b7c95874042c39d8eae(c);for(let c of o.distributedLoads)n.bmzannh8f79692602ba4cfcbcd8c5de0e0cff3a(c);if(t.mnhTL(e.solverType,"lusolve"))n.supvxfg7a476a4c4ab04aaea6f3d450099778ea();else if(t.EGNQP(e.solverType,t.KiiBM))n.cjeegme985ea78663f4a53a24785d858ca8028();else throw new Error("Solver type "+e.solverType+" not supported");let f=n.mwlhrasvuj42781b55540a4ba293c28b2d84145386(),d={};d.membraneResults=f,d.loadCaseTag=o.tag,yield d}t.YXSZi(r,t.YXSZi(ai,t.NTDvF)),t.VIiRC(r,gt(" ")),t.YXSZi(r,t.aZUbJ(Bt," "))})}var bn=yt(js());var Kr=class extends Error{constructor(r){super(r)}};function ef(e){if(e.length<3)throw new Kr("At least three vertices are required to form a face.");return{vertices:[...e.filter(r=>r)],results:[]}}function*rf(e,r,t){if(!t)throw new Kr("No element results in response");let a=r.supports.map(n=>Jp(n));for(let n of["sxx","syy","sxy"]){let o=[],f=[];for(let y of t){let p=y.nodes.map(b=>$p(b,y.element.index,n)),m=p.map(b=>({value:b.value,nodeIndex:b.index})),D=Qp(p);for(let b of D){let B={vertices:b,results:m};o.push(B)}let _=ef(p);f.push(_)}let d=t.flatMap(y=>y.nodes).map(y=>y.nodeResult.node.coordinates.x).reduce((y,p)=>Math.max(y,p),-1/0),c=t.flatMap(y=>y.nodes).map(y=>y.nodeResult.node.coordinates.x).reduce((y,p)=>Math.min(y,p),1/0),u=t.flatMap(y=>y.nodes).map(y=>y.nodeResult.node.coordinates.y).reduce((y,p)=>Math.max(y,p),-1/0),i=t.flatMap(y=>y.nodes).map(y=>y.nodeResult.node.coordinates.y).reduce((y,p)=>Math.min(y,p),1/0),s=d-c,l=u-i;yield{faces:o,wireframeFaces:f,supports:a,borders:[],loadCaseTag:e,resultType:n,loads:[],width:s,height:l}}}function Qp(e){if(e.length!==6)throw new Kr("Expected 6 vertices for quadratic triangle");let[r,t,a,n,o,f]=e;return[[r,n,f],[t,o,n],[a,f,o],[n,o,f]]}function Jp(e){return{x:e.x,y:e.y,z:0,ux:e.fixedX,uy:e.fixedY,uz:!1}}function $p(e,r,t){let a=0;switch(t){case"sxx":a=e.sxx;break;case"syy":a=e.syy;break;case"sxy":a=e.txy;break;default:throw new Error("Unsupported result type")}return{index:e.nodeResult.node.index,elementIndex:r,x:e.nodeResult.node.coordinates.x,y:e.nodeResult.node.coordinates.y,z:0,ux:e.nodeResult.ux,uy:e.nodeResult.uy,uz:0,value:a}}var tf=(e,r,t="")=>`View3dModel-${e}-${r}${t}`,nf=e=>`Triangles-${e}`,af=(e,r)=>`MembraneResults-${e}-${r}`;var di=yt(uf());var sf=(e,r,t)=>(0,di.default)(e.x,r)&&(0,di.default)(e.y,t);var ff=(e,r)=>{let t=e.membraneResults.flatMap(n=>n.nodes.map(f=>{let d=f.nodeResult.node.coordinates.x,c=f.nodeResult.node.coordinates.y,u=r.resultPoints.find(i=>sf(i,d,c))?.name??"";return{resultIdentity:`${n.element.index}-${f.nodeResult.node.index}`,nodeIndex:f.nodeResult.node.index,resultPointName:u,elementIndex:n.element.index,geometryName:n.element.tag,nodeX:f.nodeResult.node.coordinates.x,nodeY:f.nodeResult.node.coordinates.y,uX:f.nodeResult.ux,uY:f.nodeResult.uy,reactionX:f.nodeResult.reactionX,reactionY:f.nodeResult.reactionY,sxx:f.sxx,syy:f.syy,sxy:f.txy}}));return{loadCase:e.loadCaseTag,details:t}};addEventListener("message",({data:e})=>{rd(e)});async function rd(e){let r=await bn.getItem(nf(e.geometryUuid));if(!r||r.length===0)throw postMessage(new dt().setError("Triangles not found").setUuidsFromCommand(e).build()),new Kr("Triangles not found");let t={sections:e.geometry.sectionProperties.map(n=>td(n)),materials:e.geometry.materials.map(n=>nd(n)),loadCases:e.geometry.loadCases.map(n=>ad(n)),supports:e.geometry.supports.map(n=>ud(n)),triangles:r.map(n=>sd(n)),solverType:e.geometry.solverConfiguration.solverType},a=n=>postMessage(new dt().setProgressType().setProgress(n).setUuidsFromCommand(e).build());try{for await(let n of Js(t,a)){let o=rf(n.loadCaseTag,e.geometry,n.membraneResults);for(let c of o){let u=tf(e.solverUuid,n.loadCaseTag,c.resultType);await bn.setItem(u,c)}let f=ff(n,e.geometry),d=af(e.solverUuid,n.loadCaseTag);await bn.setItem(d,f)}postMessage(new dt().setFinished().setUuidsFromCommand(e).setLoadCases(e.geometry.loadCases.map(n=>n.name)).build())}catch(n){console.error(n),postMessage(new dt().setError(n.message).setUuidsFromCommand(e).build())}}var td=e=>({thickness:e.thickness,tag:e.name}),nd=e=>({poissonsRatio:e.poissonsRatio,modulusOfElasticity:e.modulusOfElasticity,tag:e.name,weight:e.weight}),ad=e=>({tag:e.name,pointLoads:e.pointLoads.map(t=>id(t)),distributedLoads:e.distributedLoads.map(t=>od(t)),includeDeadLoad:e.includeDeadLoad});function od(e){return{geometryTag:e.geometryName,fx:e.fx,fy:e.fy}}function id(e){return{x:e.x,y:e.y,fx:e.fx,fy:e.fy}}var ud=e=>({x:e.x,y:e.y,ux:e.fixedX,uy:e.fixedY}),sd=e=>({tag:e.name,points:e.points.map(t=>({x:t.x,y:t.y})),sectionTag:e.sectionTag,materialTag:e.materialTag});
