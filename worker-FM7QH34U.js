var vn=Object.create;var rt=Object.defineProperty;var gn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames;var wn=Object.getPrototypeOf,Tn=Object.prototype.hasOwnProperty;var ae=(m=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(m,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):m)(function(m){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+m+'" is not supported')});var Pe=(m,r)=>()=>(r||m((r={exports:{}}).exports,r),r.exports);var Rn=(m,r,o,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of _n(r))!Tn.call(m,u)&&u!==o&&rt(m,u,{get:()=>r[u],enumerable:!(f=gn(r,u))||f.enumerable});return m};var ie=(m,r,o)=>(o=m!=null?vn(wn(m)):{},Rn(r||!m||!m.__esModule?rt(o,"default",{value:m,enumerable:!0}):o,m));var xe=Pe((Un,ot)=>{"use strict";var De=Math.abs,Sn=Math.min;function me(m,r,o,f){var u=De(m-r);return o==null&&(o=me.DBL_EPSILON),f==null&&(f=o),u<=o||u<=f*Sn(De(m),De(r))?!0:m===r}me.FLT_EPSILON=11920929e-14;me.DBL_EPSILON=2220446049250313e-31;ot.exports=me});var dt=Pe((ut,Me)=>{"use strict";(function(m){if(typeof ut=="object"&&typeof Me<"u")Me.exports=m();else if(typeof define=="function"&&define.amd)define([],m);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=m()}})(function(){var m,r,o;return function f(u,b,l){function d(v,P){if(!b[v]){if(!u[v]){var s=typeof ae=="function"&&ae;if(!P&&s)return s(v,!0);if(h)return h(v,!0);var w=new Error("Cannot find module '"+v+"'");throw w.code="MODULE_NOT_FOUND",w}var I=b[v]={exports:{}};u[v][0].call(I.exports,function(S){var E=u[v][1][S];return d(E||S)},I,I.exports,f,u,b,l)}return b[v].exports}for(var h=typeof ae=="function"&&ae,p=0;p<l.length;p++)d(l[p]);return d}({1:[function(f,u,b){(function(l){"use strict";var d=l.MutationObserver||l.WebKitMutationObserver,h;if(d){var p=0,v=new d(S),P=l.document.createTextNode("");v.observe(P,{characterData:!0}),h=function(){P.data=p=++p%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var s=new l.MessageChannel;s.port1.onmessage=S,h=function(){s.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?h=function(){var V=l.document.createElement("script");V.onreadystatechange=function(){S(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},l.document.documentElement.appendChild(V)}:h=function(){setTimeout(S,0)};var w,I=[];function S(){w=!0;for(var V,K,F=I.length;F;){for(K=I,I=[],V=-1;++V<F;)K[V]();F=I.length}w=!1}u.exports=E;function E(V){I.push(V)===1&&!w&&h()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,u,b){"use strict";var l=f(1);function d(){}var h={},p=["REJECTED"],v=["FULFILLED"],P=["PENDING"];u.exports=s;function s(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,R!==d&&E(this,R)}s.prototype.catch=function(R){return this.then(null,R)},s.prototype.then=function(R,L){if(typeof R!="function"&&this.state===v||typeof L!="function"&&this.state===p)return this;var A=new this.constructor(d);if(this.state!==P){var z=this.state===v?R:L;I(A,z,this.outcome)}else this.queue.push(new w(A,R,L));return A};function w(R,L,A){this.promise=R,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}w.prototype.callFulfilled=function(R){h.resolve(this.promise,R)},w.prototype.otherCallFulfilled=function(R){I(this.promise,this.onFulfilled,R)},w.prototype.callRejected=function(R){h.reject(this.promise,R)},w.prototype.otherCallRejected=function(R){I(this.promise,this.onRejected,R)};function I(R,L,A){l(function(){var z;try{z=L(A)}catch(k){return h.reject(R,k)}z===R?h.reject(R,new TypeError("Cannot resolve promise with itself")):h.resolve(R,z)})}h.resolve=function(R,L){var A=V(S,L);if(A.status==="error")return h.reject(R,A.value);var z=A.value;if(z)E(R,z);else{R.state=v,R.outcome=L;for(var k=-1,j=R.queue.length;++k<j;)R.queue[k].callFulfilled(L)}return R},h.reject=function(R,L){R.state=p,R.outcome=L;for(var A=-1,z=R.queue.length;++A<z;)R.queue[A].callRejected(L);return R};function S(R){var L=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof L=="function")return function(){L.apply(R,arguments)}}function E(R,L){var A=!1;function z(G){A||(A=!0,h.reject(R,G))}function k(G){A||(A=!0,h.resolve(R,G))}function j(){L(k,z)}var W=V(j);W.status==="error"&&z(W.value)}function V(R,L){var A={};try{A.value=R(L),A.status="success"}catch(z){A.status="error",A.value=z}return A}s.resolve=K;function K(R){return R instanceof this?R:h.resolve(new this(d),R)}s.reject=F;function F(R){var L=new this(d);return h.reject(L,R)}s.all=he;function he(R){var L=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=R.length,z=!1;if(!A)return this.resolve([]);for(var k=new Array(A),j=0,W=-1,G=new this(d);++W<A;)H(R[W],W);return G;function H(ne,ue){L.resolve(ne).then(be,function(ee){z||(z=!0,h.reject(G,ee))});function be(ee){k[ue]=ee,++j===A&&!z&&(z=!0,h.resolve(G,k))}}}s.race=Q;function Q(R){var L=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=R.length,z=!1;if(!A)return this.resolve([]);for(var k=-1,j=new this(d);++k<A;)W(R[k]);return j;function W(G){L.resolve(G).then(function(H){z||(z=!0,h.resolve(j,H))},function(H){z||(z=!0,h.reject(j,H))})}}},{1:1}],3:[function(f,u,b){(function(l){"use strict";typeof l.Promise!="function"&&(l.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,u,b){"use strict";var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function h(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var p=h();function v(){try{if(!p||!p.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function P(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(a){if(a.name!=="TypeError")throw a;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,c=0;c<e.length;c+=1)i.append(e[c]);return i.getBlob(n.type)}}typeof Promise>"u"&&f(3);var s=Promise;function w(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function I(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function S(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var V="local-forage-detect-blob-support",K=void 0,F={},he=Object.prototype.toString,Q="readonly",R="readwrite";function L(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),c=0;c<n;c++)i[c]=e.charCodeAt(c);return t}function A(e){return new s(function(n){var t=e.transaction(V,R),i=P([""]);t.objectStore(V).put(i,"key"),t.onabort=function(c){c.preventDefault(),c.stopPropagation(),n(!1)},t.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);n(a||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function z(e){return typeof K=="boolean"?s.resolve(K):A(e).then(function(n){return K=n,K})}function k(e){var n=F[e.name],t={};t.promise=new s(function(i,c){t.resolve=i,t.reject=c}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function j(e){var n=F[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function W(e,n){var t=F[e.name],i=t.deferredOperations.pop();if(i)return i.reject(n),i.promise}function G(e,n){return new s(function(t,i){if(F[e.name]=F[e.name]||Oe(),e.db)if(n)k(e),e.db.close();else return t(e.db);var c=[e.name];n&&c.push(e.version);var a=p.open.apply(p,c);n&&(a.onupgradeneeded=function(x){var y=a.result;try{y.createObjectStore(e.storeName),x.oldVersion<=1&&y.createObjectStore(V)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+x.oldVersion+" to version "+x.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw g}}),a.onerror=function(x){x.preventDefault(),i(a.error)},a.onsuccess=function(){var x=a.result;x.onversionchange=function(y){y.target.close()},t(x),j(e)}})}function H(e){return G(e,!1)}function ne(e){return G(e,!0)}function ue(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,c=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),c||t){if(t){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function be(e){return new s(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(c){var a=btoa(c.target.result||"");n({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var n=L(atob(e.data));return P([n],{type:e.type})}function Be(e){return e&&e.__local_forage_encoded_blob}function vt(e){var n=this,t=n._initReady().then(function(){var i=F[n._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return I(t,e,e),t}function gt(e){k(e);for(var n=F[e.name],t=n.forages,i=0;i<t.length;i++){var c=t[i];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return e.db=null,H(e).then(function(a){return e.db=a,ue(e)?ne(e):a}).then(function(a){e.db=n.db=a;for(var x=0;x<t.length;x++)t[x]._dbInfo.db=a}).catch(function(a){throw W(e,a),a})}function J(e,n,t,i){i===void 0&&(i=1);try{var c=e.db.transaction(e.storeName,n);t(null,c)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return s.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return gt(e).then(function(){J(e,n,t,i-1)})}).catch(t);t(a)}}function Oe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _t(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var c=F[t.name];c||(c=Oe(),F[t.name]=c),c.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=vt);var a=[];function x(){return s.resolve()}for(var y=0;y<c.forages.length;y++){var g=c.forages[y];g!==n&&a.push(g._initReady().catch(x))}var _=c.forages.slice(0);return s.all(a).then(function(){return t.db=c.db,H(t)}).then(function(T){return t.db=T,ue(t,n._defaultConfig.version)?ne(t):T}).then(function(T){t.db=c.db=T,n._dbInfo=t;for(var D=0;D<_.length;D++){var N=_[D];N!==n&&(N._dbInfo.db=t.db,N._dbInfo.version=t.version)}})}function wt(e,n){var t=this;e=S(e);var i=new s(function(c,a){t.ready().then(function(){J(t._dbInfo,Q,function(x,y){if(x)return a(x);try{var g=y.objectStore(t._dbInfo.storeName),_=g.get(e);_.onsuccess=function(){var T=_.result;T===void 0&&(T=null),Be(T)&&(T=ee(T)),c(T)},_.onerror=function(){a(_.error)}}catch(T){a(T)}})}).catch(a)});return w(i,n),i}function Tt(e,n){var t=this,i=new s(function(c,a){t.ready().then(function(){J(t._dbInfo,Q,function(x,y){if(x)return a(x);try{var g=y.objectStore(t._dbInfo.storeName),_=g.openCursor(),T=1;_.onsuccess=function(){var D=_.result;if(D){var N=D.value;Be(N)&&(N=ee(N));var M=e(N,D.key,T++);M!==void 0?c(M):D.continue()}else c()},_.onerror=function(){a(_.error)}}catch(D){a(D)}})}).catch(a)});return w(i,n),i}function Rt(e,n,t){var i=this;e=S(e);var c=new s(function(a,x){var y;i.ready().then(function(){return y=i._dbInfo,he.call(n)==="[object Blob]"?z(y.db).then(function(g){return g?n:be(n)}):n}).then(function(g){J(i._dbInfo,R,function(_,T){if(_)return x(_);try{var D=T.objectStore(i._dbInfo.storeName);g===null&&(g=void 0);var N=D.put(g,e);T.oncomplete=function(){g===void 0&&(g=null),a(g)},T.onabort=T.onerror=function(){var M=N.error?N.error:N.transaction.error;x(M)}}catch(M){x(M)}})}).catch(x)});return w(c,t),c}function St(e,n){var t=this;e=S(e);var i=new s(function(c,a){t.ready().then(function(){J(t._dbInfo,R,function(x,y){if(x)return a(x);try{var g=y.objectStore(t._dbInfo.storeName),_=g.delete(e);y.oncomplete=function(){c()},y.onerror=function(){a(_.error)},y.onabort=function(){var T=_.error?_.error:_.transaction.error;a(T)}}catch(T){a(T)}})}).catch(a)});return w(i,n),i}function It(e){var n=this,t=new s(function(i,c){n.ready().then(function(){J(n._dbInfo,R,function(a,x){if(a)return c(a);try{var y=x.objectStore(n._dbInfo.storeName),g=y.clear();x.oncomplete=function(){i()},x.onabort=x.onerror=function(){var _=g.error?g.error:g.transaction.error;c(_)}}catch(_){c(_)}})}).catch(c)});return w(t,e),t}function Pt(e){var n=this,t=new s(function(i,c){n.ready().then(function(){J(n._dbInfo,Q,function(a,x){if(a)return c(a);try{var y=x.objectStore(n._dbInfo.storeName),g=y.count();g.onsuccess=function(){i(g.result)},g.onerror=function(){c(g.error)}}catch(_){c(_)}})}).catch(c)});return w(t,e),t}function Dt(e,n){var t=this,i=new s(function(c,a){if(e<0){c(null);return}t.ready().then(function(){J(t._dbInfo,Q,function(x,y){if(x)return a(x);try{var g=y.objectStore(t._dbInfo.storeName),_=!1,T=g.openKeyCursor();T.onsuccess=function(){var D=T.result;if(!D){c(null);return}e===0||_?c(D.key):(_=!0,D.advance(e))},T.onerror=function(){a(T.error)}}catch(D){a(D)}})}).catch(a)});return w(i,n),i}function Et(e){var n=this,t=new s(function(i,c){n.ready().then(function(){J(n._dbInfo,Q,function(a,x){if(a)return c(a);try{var y=x.objectStore(n._dbInfo.storeName),g=y.openKeyCursor(),_=[];g.onsuccess=function(){var T=g.result;if(!T){i(_);return}_.push(T.key),T.continue()},g.onerror=function(){c(g.error)}}catch(T){c(T)}})}).catch(c)});return w(t,e),t}function Nt(e,n){n=E.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,c;if(!e.name)c=s.reject("Invalid arguments");else{var a=e.name===t.name&&i._dbInfo.db,x=a?s.resolve(i._dbInfo.db):H(e).then(function(y){var g=F[e.name],_=g.forages;g.db=y;for(var T=0;T<_.length;T++)_[T]._dbInfo.db=y;return y});e.storeName?c=x.then(function(y){if(y.objectStoreNames.contains(e.storeName)){var g=y.version+1;k(e);var _=F[e.name],T=_.forages;y.close();for(var D=0;D<T.length;D++){var N=T[D];N._dbInfo.db=null,N._dbInfo.version=g}var M=new s(function(C,O){var B=p.open(e.name,g);B.onerror=function(U){var oe=B.result;oe.close(),O(U)},B.onupgradeneeded=function(){var U=B.result;U.deleteObjectStore(e.storeName)},B.onsuccess=function(){var U=B.result;U.close(),C(U)}});return M.then(function(C){_.db=C;for(var O=0;O<T.length;O++){var B=T[O];B._dbInfo.db=C,j(B._dbInfo)}}).catch(function(C){throw(W(e,C)||s.resolve()).catch(function(){}),C})}}):c=x.then(function(y){k(e);var g=F[e.name],_=g.forages;y.close();for(var T=0;T<_.length;T++){var D=_[T];D._dbInfo.db=null}var N=new s(function(M,C){var O=p.deleteDatabase(e.name);O.onerror=function(){var B=O.result;B&&B.close(),C(O.error)},O.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},O.onsuccess=function(){var B=O.result;B&&B.close(),M(B)}});return N.then(function(M){g.db=M;for(var C=0;C<_.length;C++){var O=_[C];j(O._dbInfo)}}).catch(function(M){throw(W(e,M)||s.resolve()).catch(function(){}),M})})}return w(c,n),c}var At={_driver:"asyncStorage",_initStorage:_t,_support:v(),iterate:Tt,getItem:wt,setItem:Rt,removeItem:St,clear:It,length:Pt,key:Dt,keys:Et,dropInstance:Nt};function Lt(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mt="~~local_forage_type~",Ve=/^~~local_forage_type~([^~]+)~/,de="__lfsc__:",ye=de.length,ve="arbf",ge="blob",Fe="si08",ke="ui08",je="uic8",qe="si16",We="si32",Ge="ur16",Ue="ui32",Ye="fl32",Ke="fl64",He=ye+ve.length,Je=Object.prototype.toString;function Ze(e){var n=e.length*.75,t=e.length,i,c=0,a,x,y,g;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var _=new ArrayBuffer(n),T=new Uint8Array(_);for(i=0;i<t;i+=4)a=Z.indexOf(e[i]),x=Z.indexOf(e[i+1]),y=Z.indexOf(e[i+2]),g=Z.indexOf(e[i+3]),T[c++]=a<<2|x>>4,T[c++]=(x&15)<<4|y>>2,T[c++]=(y&3)<<6|g&63;return _}function _e(e){var n=new Uint8Array(e),t="",i;for(i=0;i<n.length;i+=3)t+=Z[n[i]>>2],t+=Z[(n[i]&3)<<4|n[i+1]>>4],t+=Z[(n[i+1]&15)<<2|n[i+2]>>6],t+=Z[n[i+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function Ct(e,n){var t="";if(e&&(t=Je.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&Je.call(e.buffer)==="[object ArrayBuffer]")){var i,c=de;e instanceof ArrayBuffer?(i=e,c+=ve):(i=e.buffer,t==="[object Int8Array]"?c+=Fe:t==="[object Uint8Array]"?c+=ke:t==="[object Uint8ClampedArray]"?c+=je:t==="[object Int16Array]"?c+=qe:t==="[object Uint16Array]"?c+=Ge:t==="[object Int32Array]"?c+=We:t==="[object Uint32Array]"?c+=Ue:t==="[object Float32Array]"?c+=Ye:t==="[object Float64Array]"?c+=Ke:n(new Error("Failed to get type for BinaryArray"))),n(c+_e(i))}else if(t==="[object Blob]"){var a=new FileReader;a.onload=function(){var x=Mt+e.type+"~"+_e(this.result);n(de+ge+x)},a.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(x){console.error("Couldn't convert value into a JSON string: ",e),n(null,x)}}function zt(e){if(e.substring(0,ye)!==de)return JSON.parse(e);var n=e.substring(He),t=e.substring(ye,He),i;if(t===ge&&Ve.test(n)){var c=n.match(Ve);i=c[1],n=n.substring(c[0].length)}var a=Ze(n);switch(t){case ve:return a;case ge:return P([a],{type:i});case Fe:return new Int8Array(a);case ke:return new Uint8Array(a);case je:return new Uint8ClampedArray(a);case qe:return new Int16Array(a);case Ge:return new Uint16Array(a);case We:return new Int32Array(a);case Ue:return new Uint32Array(a);case Ye:return new Float32Array(a);case Ke:return new Float64Array(a);default:throw new Error("Unkown type: "+t)}}var we={serialize:Ct,deserialize:zt,stringToBuffer:Ze,bufferToString:_e};function $e(e,n,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function Bt(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var c=new s(function(a,x){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(y){return x(y)}t.db.transaction(function(y){$e(y,t,function(){n._dbInfo=t,a()},function(g,_){x(_)})},x)});return t.serializer=we,c}function $(e,n,t,i,c,a){e.executeSql(t,i,c,function(x,y){y.code===y.SYNTAX_ERR?x.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(g,_){_.rows.length?a(g,y):$e(g,n,function(){g.executeSql(t,i,c,a)},a)},a):a(x,y)},a)}function Ot(e,n){var t=this;e=S(e);var i=new s(function(c,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(y){$(y,x,"SELECT * FROM "+x.storeName+" WHERE key = ? LIMIT 1",[e],function(g,_){var T=_.rows.length?_.rows.item(0).value:null;T&&(T=x.serializer.deserialize(T)),c(T)},function(g,_){a(_)})})}).catch(a)});return w(i,n),i}function Vt(e,n){var t=this,i=new s(function(c,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(y){$(y,x,"SELECT * FROM "+x.storeName,[],function(g,_){for(var T=_.rows,D=T.length,N=0;N<D;N++){var M=T.item(N),C=M.value;if(C&&(C=x.serializer.deserialize(C)),C=e(C,M.key,N+1),C!==void 0){c(C);return}}c()},function(g,_){a(_)})})}).catch(a)});return w(i,n),i}function Xe(e,n,t,i){var c=this;e=S(e);var a=new s(function(x,y){c.ready().then(function(){n===void 0&&(n=null);var g=n,_=c._dbInfo;_.serializer.serialize(n,function(T,D){D?y(D):_.db.transaction(function(N){$(N,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[e,T],function(){x(g)},function(M,C){y(C)})},function(N){if(N.code===N.QUOTA_ERR){if(i>0){x(Xe.apply(c,[e,g,t,i-1]));return}y(N)}})})}).catch(y)});return w(a,t),a}function Ft(e,n,t){return Xe.apply(this,[e,n,t,1])}function kt(e,n){var t=this;e=S(e);var i=new s(function(c,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(y){$(y,x,"DELETE FROM "+x.storeName+" WHERE key = ?",[e],function(){c()},function(g,_){a(_)})})}).catch(a)});return w(i,n),i}function jt(e){var n=this,t=new s(function(i,c){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(x){$(x,a,"DELETE FROM "+a.storeName,[],function(){i()},function(y,g){c(g)})})}).catch(c)});return w(t,e),t}function qt(e){var n=this,t=new s(function(i,c){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(x){$(x,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(y,g){var _=g.rows.item(0).c;i(_)},function(y,g){c(g)})})}).catch(c)});return w(t,e),t}function Wt(e,n){var t=this,i=new s(function(c,a){t.ready().then(function(){var x=t._dbInfo;x.db.transaction(function(y){$(y,x,"SELECT key FROM "+x.storeName+" WHERE id = ? LIMIT 1",[e+1],function(g,_){var T=_.rows.length?_.rows.item(0).key:null;c(T)},function(g,_){a(_)})})}).catch(a)});return w(i,n),i}function Gt(e){var n=this,t=new s(function(i,c){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(x){$(x,a,"SELECT key FROM "+a.storeName,[],function(y,g){for(var _=[],T=0;T<g.rows.length;T++)_.push(g.rows.item(T).key);i(_)},function(y,g){c(g)})})}).catch(c)});return w(t,e),t}function Ut(e){return new s(function(n,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,a){for(var x=[],y=0;y<a.rows.length;y++)x.push(a.rows.item(y).name);n({db:e,storeNames:x})},function(c,a){t(a)})},function(i){t(i)})})}function Yt(e,n){n=E.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,c;return e.name?c=new s(function(a){var x;e.name===t.name?x=i._dbInfo.db:x=openDatabase(e.name,"","",0),e.storeName?a({db:x,storeNames:[e.storeName]}):a(Ut(x))}).then(function(a){return new s(function(x,y){a.db.transaction(function(g){function _(M){return new s(function(C,O){g.executeSql("DROP TABLE IF EXISTS "+M,[],function(){C()},function(B,U){O(U)})})}for(var T=[],D=0,N=a.storeNames.length;D<N;D++)T.push(_(a.storeNames[D]));s.all(T).then(function(){x()}).catch(function(M){y(M)})},function(g){y(g)})})}):c=s.reject("Invalid arguments"),w(c,n),c}var Kt={_driver:"webSQLStorage",_initStorage:Bt,_support:Lt(),iterate:Vt,getItem:Ot,setItem:Ft,removeItem:kt,clear:jt,length:qt,key:Wt,keys:Gt,dropInstance:Yt};function Ht(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qe(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Jt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Zt(){return!Jt()||localStorage.length>0}function $t(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=Qe(e,n._defaultConfig),Zt()?(n._dbInfo=t,t.serializer=we,s.resolve()):s.reject()}function Xt(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var a=localStorage.key(c);a.indexOf(i)===0&&localStorage.removeItem(a)}});return w(t,e),t}function Qt(e,n){var t=this;e=S(e);var i=t.ready().then(function(){var c=t._dbInfo,a=localStorage.getItem(c.keyPrefix+e);return a&&(a=c.serializer.deserialize(a)),a});return w(i,n),i}function en(e,n){var t=this,i=t.ready().then(function(){for(var c=t._dbInfo,a=c.keyPrefix,x=a.length,y=localStorage.length,g=1,_=0;_<y;_++){var T=localStorage.key(_);if(T.indexOf(a)===0){var D=localStorage.getItem(T);if(D&&(D=c.serializer.deserialize(D)),D=e(D,T.substring(x),g++),D!==void 0)return D}}});return w(i,n),i}function tn(e,n){var t=this,i=t.ready().then(function(){var c=t._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(c.keyPrefix.length)),a});return w(i,n),i}function nn(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo,c=localStorage.length,a=[],x=0;x<c;x++){var y=localStorage.key(x);y.indexOf(i.keyPrefix)===0&&a.push(y.substring(i.keyPrefix.length))}return a});return w(t,e),t}function rn(e){var n=this,t=n.keys().then(function(i){return i.length});return w(t,e),t}function on(e,n){var t=this;e=S(e);var i=t.ready().then(function(){var c=t._dbInfo;localStorage.removeItem(c.keyPrefix+e)});return w(i,n),i}function an(e,n,t){var i=this;e=S(e);var c=i.ready().then(function(){n===void 0&&(n=null);var a=n;return new s(function(x,y){var g=i._dbInfo;g.serializer.serialize(n,function(_,T){if(T)y(T);else try{localStorage.setItem(g.keyPrefix+e,_),x(a)}catch(D){(D.name==="QuotaExceededError"||D.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(D),y(D)}})})});return w(c,t),c}function fn(e,n){if(n=E.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,c;return e.name?c=new s(function(a){e.storeName?a(Qe(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var x=localStorage.length-1;x>=0;x--){var y=localStorage.key(x);y.indexOf(a)===0&&localStorage.removeItem(y)}}):c=s.reject("Invalid arguments"),w(c,n),c}var cn={_driver:"localStorageWrapper",_initStorage:$t,_support:Ht(),iterate:en,getItem:Qt,setItem:an,removeItem:on,clear:Xt,length:rn,key:tn,keys:nn,dropInstance:fn},sn=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},un=function(n,t){for(var i=n.length,c=0;c<i;){if(sn(n[c],t))return!0;c++}return!1},et=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},tt={},te={INDEXEDDB:At,WEBSQL:Kt,LOCALSTORAGE:cn},dn=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],le=["dropInstance"],Te=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(le),ln={description:"",driver:dn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function mn(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function Re(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(et(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var xn=function(){function e(n){d(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],c=i._driver;this[t]=c,re[c]||this.defineDriver(i)}this._defaultConfig=Re({},ln),this._config=Re({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":l(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,c){var a=new s(function(x,y){try{var g=t._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){y(_);return}for(var T=Te.concat("_initStorage"),D=0,N=T.length;D<N;D++){var M=T[D],C=!un(le,M);if((C||t[M])&&typeof t[M]!="function"){y(_);return}}var O=function(){for(var oe=function(bn){return function(){var yn=new Error("Method "+bn+" is not implemented by the current driver"),nt=s.reject(yn);return w(nt,arguments[arguments.length-1]),nt}},Se=0,hn=le.length;Se<hn;Se++){var Ie=le[Se];t[Ie]||(t[Ie]=oe(Ie))}};O();var B=function(oe){re[g]&&console.info("Redefining LocalForage driver: "+g),re[g]=t,tt[g]=oe,x()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(B,y):B(!!t._support):B(!0)}catch(U){y(U)}});return I(a,i,c),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,c){var a=re[t]?s.resolve(re[t]):s.reject(new Error("Driver not found."));return I(a,i,c),a},e.prototype.getSerializer=function(t){var i=s.resolve(we);return I(i,t),i},e.prototype.ready=function(t){var i=this,c=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return I(c,t,t),c},e.prototype.setDriver=function(t,i,c){var a=this;et(t)||(t=[t]);var x=this._getSupportedDrivers(t);function y(){a._config.driver=a.driver()}function g(D){return a._extend(D),y(),a._ready=a._initStorage(a._config),a._ready}function _(D){return function(){var N=0;function M(){for(;N<D.length;){var C=D[N];return N++,a._dbInfo=null,a._ready=null,a.getDriver(C).then(g).catch(M)}y();var O=new Error("No available storage method found.");return a._driverSet=s.reject(O),a._driverSet}return M()}}var T=this._driverSet!==null?this._driverSet.catch(function(){return s.resolve()}):s.resolve();return this._driverSet=T.then(function(){var D=x[0];return a._dbInfo=null,a._ready=null,a.getDriver(D).then(function(N){a._driver=N._driver,y(),a._wrapLibraryMethodsWithReady(),a._initDriver=_(x)})}).catch(function(){y();var D=new Error("No available storage method found.");return a._driverSet=s.reject(D),a._driverSet}),I(this._driverSet,i,c),this._driverSet},e.prototype.supports=function(t){return!!tt[t]},e.prototype._extend=function(t){Re(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],c=0,a=t.length;c<a;c++){var x=t[c];this.supports(x)&&i.push(x)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=Te.length;t<i;t++)mn(this,Te[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),pn=new xn;u.exports=pn},{3:3}]},{},[4])(4)})});var ht=Pe((rr,pt)=>{"use strict";var Ce=Math.abs,An=Math.min;function pe(m,r,o,f){var u=Ce(m-r);return o==null&&(o=pe.DBL_EPSILON),f==null&&(f=o),u<=o||u<=f*An(Ce(m),Ce(r))?!0:m===r}pe.FLT_EPSILON=11920929e-14;pe.DBL_EPSILON=2220446049250313e-31;pt.exports=pe});var fe=m=>({vertices:[{x:m.x,y:m.y},{x:m.x+m.width,y:m.y},{x:m.x+m.width,y:m.y+m.height},{x:m.x,y:m.y+m.height}]});var Ae=ie(xe(),1),it=ie(xe(),1);function Ee(m,r){for(var o=m.length,f=m[o-1],u=r[0],b=r[1],l=f[0],d=f[1],h,p,v=!1,P=0;P<o;++P)f=m[P],h=f[0],p=f[1],p>b!=d>b&&u<(l-h)*(b-p)/(d-p)+h&&(v=!v),l=h,d=p;return v}var ft=ie(xe(),1);var Y=class Le{constructor(r,o){this.x=r,this.y=o}static gptnsfd2d100852004467ba45a4d669632399d(r){return new Le(r.x,r.y)}atvfpdmcbe240872005432fa41749c773929b10(){let r={};return r.x=this.x,r.y=this.y,r}cjfdxxdsck386f1f3fefce4f33ae06a25c3cc82f16(r){let o={RkjSy:function(u,b,l){return u(b,l)}};return o.RkjSy(Ae.default,this.x,r.x)&&o.RkjSy(Ae.default,this.y,r.y)}ykotgjlcej0426d0bbcdc448b2902640d0aefdb6af(){return[this.x,this.y]}qzskwmlipj93c257465423488983b3cf43ee122b91(r){let o={};o.eubTD=function(l,d){return l/d},o.ZdKRP=function(l,d){return l+d};let f=o,u=f.eubTD(this.x+r.x,2),b=f.eubTD(f.ZdKRP(this.y,r.y),2);return new Le(u,b)}facemmi74aa1a6bf5024de2814e63e47161fbe9(r){let o={};o.xlcJg=function(l,d){return l-d},o.zbnUS=function(l,d){return l+d},o.KSihb=function(l,d){return l*d};let f=o,u=f.xlcJg(r.x,this.x),b=f.xlcJg(r.y,this.y);return Math.sqrt(f.zbnUS(f.KSihb(u,u),b*b))}};function Ne(m,r,o){let f={};f.iqccW=function(P,s){return P-s},f.fmjwO=function(P,s){return P-s},f.KGgiF=function(P,s){return P+s},f.cRTtq=function(P,s){return P*s},f.AWWxy=function(P,s){return P===s},f.EKtDh=function(P,s){return P/s},f.GjxTN=function(P,s){return P*s};let u=f,b={x:m.x-r.x,y:u.iqccW(m.y,r.y)},l={x:u.fmjwO(o.x,r.x),y:u.fmjwO(o.y,r.y)},d=u.KGgiF(u.cRTtq(b.x,l.x),u.cRTtq(b.y,l.y)),h=Math.hypot(b.x,b.y),p=Math.hypot(l.x,l.y);if(h===0||u.AWWxy(p,0))return 0;let v=Math.min(1,Math.max(-1,u.EKtDh(d,u.GjxTN(h,p))));return Math.acos(v)}var at=class{static fjnefpzdt24e5aa27375d46efb8e94d137b807f7f(m,r,o){let f={};f.zcHbO=function(h,p){return h/p},f.fKASn=function(h,p){return h<=p};let u=f,b=r.qzskwmlipj93c257465423488983b3cf43ee122b91(o),l=u.zcHbO(r.facemmi74aa1a6bf5024de2814e63e47161fbe9(o),2),d=b.facemmi74aa1a6bf5024de2814e63e47161fbe9(m);return u.fKASn(d,l)}},In=class q{constructor(r){this.points=r,this.tag="",this.sectionTag="",this.materialTag="",!q.mekqzfva38d6a4a302ec46d4acd7244fbe08049a(r)&&this.points.reverse()}static gptnsfd2d100852004467ba45a4d669632399d(r){return new q(r.points.map(o=>Y.gptnsfd2d100852004467ba45a4d669632399d(o)))}atvfpdmcbe240872005432fa41749c773929b10(){return{points:this.points.map(r=>r.atvfpdmcbe240872005432fa41749c773929b10()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static mekqzfva38d6a4a302ec46d4acd7244fbe08049a(r){let o={};o.DnwuT=function(h,p){return h*p},o.CaMNH=function(h,p){return h-p},o.HJpUf=function(h,p){return h*p};let f=o,[u,b,l]=r;return f.DnwuT(f.CaMNH(b.x,u.x),f.CaMNH(l.y,u.y))-f.HJpUf(f.CaMNH(b.y,u.y),l.x-u.x)>0}ndzgcduvm594d9ce60475442f9d978a8a2bfeef4d(r,o,f){this.tag=r,this.sectionTag=o,this.materialTag=f}zlsvxgf5dde918d4f534c74b05fb87b9d19e714(){let r={};r.BrnNY=function(h,p){return h/p},r.irVCy=function(h,p){return h+p},r.zyBfu=function(h,p){return h+p};let o=r,[f,u,b]=this.points,l=o.BrnNY(o.irVCy(o.irVCy(f.x,u.x),b.x),3),d=o.zyBfu(f.y+u.y,b.y)/3;return new Y(l,d)}eeqmayye0edd7552c344057b52f9b76d94c88cd(r=.1){let o={};o.WeyPl=function(p,v){return p-v},o.nymKC=function(p,v){return p-v},o.EnERr=function(p,v){return p*v},o.GfvUP=function(p,v){return p-v},o.dwhlc=function(p,v){return p+v},o.ZVnGd=function(p,v){return p*v},o.tLRDm=function(p,v){return p*v},o.ouUsq=function(p,v){return p+v},o.wrkyr=function(p,v){return p*v};let f=o,u=this.zlsvxgf5dde918d4f534c74b05fb87b9d19e714(),b=this.points.map(p=>{let v=f.WeyPl(u.x,p.x),P=f.nymKC(u.y,p.y);return Math.sqrt(f.EnERr(v,v)+f.EnERr(P,P))}),l=Math.max(...b),d=f.wrkyr(l,r);return this.points.map(p=>{let v=f.WeyPl(u.x,p.x),P=f.GfvUP(u.y,p.y),s=Math.sqrt(f.dwhlc(f.EnERr(v,v),f.ZVnGd(P,P))),w=d/s;return new Y(f.dwhlc(p.x,f.tLRDm(v,w)),f.ouUsq(p.y,P*w))})}japilob9f132f268a54da9b8c88ebb12be8153(){let r=this.zlsvxgf5dde918d4f534c74b05fb87b9d19e714();return[new q([this.points[0],this.points[1],r]),new q([this.points[1],this.points[2],r]),new q([this.points[2],this.points[0],r])]}clqugbnelb2a5b69bd9b04a6a9c9d7b98e92e52dc(){let r={};r.WKdrl=function(p,v){return p/v},r.yYMqq=function(p,v){return p+v},r.jVCAF=function(p,v){return p+v},r.vpDsQ=function(p,v){return p+v};let o=r,[f,u,b]=this.points,l=new Y(o.WKdrl(f.x+u.x,2),o.WKdrl(o.yYMqq(f.y,u.y),2)),d=new Y(o.jVCAF(u.x,b.x)/2,o.WKdrl(u.y+b.y,2)),h=new Y(o.WKdrl(o.jVCAF(b.x,f.x),2),o.WKdrl(o.vpDsQ(b.y,f.y),2));return[new q([f,l,h]),new q([l,u,d]),new q([h,d,b]),new q([l,d,h])]}ybvylezwa7471ad24d5a461fa12cb4470e74a3a3(){let r={};r.BUilG=function(S,E){return S*E},r.VWRjw=function(S,E){return S+E},r.HZjwL=function(S,E){return S+E},r.SPTUq=function(S,E){return S*E},r.hZDcF=function(S,E){return S-E},r.IneBD=function(S,E){return S*E},r.WnjNd=function(S,E){return S<E},r.chLNH=function(S,E){return S*E},r.zEkJq=function(S,E){return S*E},r.lYdsD=function(S,E){return S-E},r.xYcfX=function(S,E){return S+E},r.crIIQ=function(S,E){return S*E},r.liHqI=function(S,E){return S+E},r.MdcrD=function(S,E){return S*E},r.SReck=function(S,E){return S*E},r.bGUIL=function(S,E){return S-E},r.OlvRa=function(S,E){return S+E},r.reFVf=function(S,E){return S+E},r.JNKTV=function(S,E){return S+E},r.YToUs=function(S,E){return S*E},r.OpCYs=function(S,E){return S*E},r.PWOje=function(S,E){return S*E};let o=r,[f,u,b]=this.points,l=f.x,d=f.y,h=u.x,p=u.y,v=b.x,P=b.y,s=o.BUilG(2,o.VWRjw(o.HZjwL(o.SPTUq(l,p-P),h*o.hZDcF(P,d)),o.IneBD(v,d-p)));if(o.WnjNd(Math.abs(s),1e-10))return null;let w=o.HZjwL(o.HZjwL(o.chLNH(o.VWRjw(o.SPTUq(l,l),o.zEkJq(d,d)),o.lYdsD(p,P)),o.xYcfX(o.IneBD(h,h),o.crIIQ(p,p))*(P-d)),o.liHqI(o.MdcrD(v,v),o.SReck(P,P))*o.bGUIL(d,p))/s,I=o.OlvRa(o.reFVf(o.crIIQ(o.JNKTV(o.MdcrD(l,l),d*d),v-h),o.SReck(o.MdcrD(h,h)+p*p,o.lYdsD(l,v))),o.YToUs(o.liHqI(o.OpCYs(v,v),o.PWOje(P,P)),o.bGUIL(h,l)))/s;return new Y(w,I)}usoerbjvcwc89c524ac9b846d3980254f7a6a9c20a(){let r={};r.eCgnf=function(u,b){return u===b};let o=r,f=this.ybvylezwa7471ad24d5a461fa12cb4470e74a3a3();return o.eCgnf(f,null)?[]:[new q([this.points[0],this.points[1],f]),new q([this.points[1],this.points[2],f]),new q([this.points[2],this.points[0],f])]}vdtudcewbe505a71a6594d7a9b4bb63fdf537c28(){let r={};r.CFtOO=function(w,I){return w*I},r.goIzn=function(w,I){return w+I},r.RXovg=function(w,I){return w*I},r.KfAMT=function(w,I){return w-I},r.TcieP=function(w,I){return w*I},r.ULzqf=function(w,I){return w-I},r.PrbDp=function(w,I){return w*I};let o=r,[f,u,b]=this.points,l=f.x,d=u.x,h=b.x,p=f.y,v=u.y,P=b.y;return o.CFtOO(.5,Math.abs(o.goIzn(o.RXovg(l,o.KfAMT(v,P))+o.TcieP(d,o.ULzqf(P,p)),o.PrbDp(h,o.KfAMT(p,v)))))}miocywcfc3e2ed6c01724863a3af27db67bd13f8(){let r={xSeag:function(f,u,b){return f(u,b)}},o=this.vdtudcewbe505a71a6594d7a9b4bb63fdf537c28();return r.xSeag(it.default,o,0)}sqgkncbd384a367d14c899a50ea3e663994a2(){let r={BvqUz:function(l,d,h,p){return l(d,h,p)},MDShu:function(l,d,h,p){return l(d,h,p)}},[o,f,u]=this.points;return[Ne(f,o,u),r.BvqUz(Ne,o,f,u),r.MDShu(Ne,o,u,f)]}nqrgwzidtf10ea26ce8e8430e8e198c2878d96059(r=15*Math.PI/180){return!!this.sqgkncbd384a367d14c899a50ea3e663994a2().some(f=>f<r)}txwvefhr0beac38003854330b91abd87d5fbc83e(){let r={};r.wAcje=function(u,b){return u+b};let o=r,f=this.ybvylezwa7471ad24d5a461fa12cb4470e74a3a3();if(!f)return this.ltyvgccfa2074bd166c432ebb6105d22fd2dbd1();for(let u=0;u<3;u++){let b=this.points[u],l=this.points[o.wAcje(u,1)%3];if(at.fjnefpzdt24e5aa27375d46efb8e94d137b807f7f(f,b,l))return this.ltyvgccfa2074bd166c432ebb6105d22fd2dbd1()}return f}fyefzevmbe0364a70bc104f2aabdb70e2b259463c(r){let[o,f,u]=this.points,b={};b.p1=o,b.p2=f;let l={};l.p1=f,l.p2=u;let d={};d.p1=u,d.p2=o;let h=[b,l,d],p=[];for(let v of h)for(let P of r)if(!this.points.some(s=>s.cjfdxxdsck386f1f3fefce4f33ae06a25c3cc82f16(P))&&at.fjnefpzdt24e5aa27375d46efb8e94d137b807f7f(P,v.p1,v.p2))return p.push(v.p1.qzskwmlipj93c257465423488983b3cf43ee122b91(v.p2)),p;return p}ykhhkzce60a346add8e47e8b620219a1381cb06(r){let o=this.ybvylezwa7471ad24d5a461fa12cb4470e74a3a3();return o?r.some(f=>f.kvlmmkj8f6ca6f338884363a0efdbefd9219640(o))?o:this.ltyvgccfa2074bd166c432ebb6105d22fd2dbd1():this.ltyvgccfa2074bd166c432ebb6105d22fd2dbd1()}ltyvgccfa2074bd166c432ebb6105d22fd2dbd1(){let r={};r.KAWgg=function(s,w){return s<w},r.JARUa=function(s,w){return s>w};let o=r,[f,u,b]=this.points,l={};l.p1=f,l.p2=u;let d={};d.p1=u,d.p2=b;let h={};h.p1=b,h.p2=f;let p=[l,d,h],v=p[0],P=v.p1.facemmi74aa1a6bf5024de2814e63e47161fbe9(v.p2);for(let s=1;o.KAWgg(s,p.length);s++){let w=p[s].p1.facemmi74aa1a6bf5024de2814e63e47161fbe9(p[s].p2);o.JARUa(w,P)&&(P=w,v=p[s])}return v.p1.qzskwmlipj93c257465423488983b3cf43ee122b91(v.p2)}};var Pn=class ct{constructor(r,o,f,u){this.points=r,this.tag=o,this.sectionTag=f,this.materialTag=u,this.d3Polygon=r.map(b=>[b.x,b.y])}static FromDto(r){return new ct(r.points.map(o=>Y.gptnsfd2d100852004467ba45a4d669632399d(o)),r.tag,r.sectionTag,r.materialTag)}tjfacxld97b62c4364a147848ec620b9e29d7151(r){let o={KAzKu:function(f,u){return f-u},exlPF:function(f,u){return f<u},owpxa:function(f,u,b,l){return f(u,b,l)}};for(let f=0,u=o.KAzKu(this.points.length,1);o.exlPF(f,this.points.length);u=f++)if(o.owpxa(Dn,r,this.points[f],this.points[u]))return!0;return!1}kvlmmkj8f6ca6f338884363a0efdbefd9219640(r){let o={SgWxh:function(u,b,l){return u(b,l)}};return this.tjfacxld97b62c4364a147848ec620b9e29d7151(r)?!0:o.SgWxh(Ee,this.d3Polygon,[r.x,r.y])}zhvmamce840f8053c214817ac9743326a747d60(r,o){let f={};f.RgNdX=function(l,d){return l<d},f.dacbG=function(l,d){return l%d},f.Aejal=function(l,d){return l+d},f.wAZfs=function(l,d){return l-d},f.NiizZ=function(l,d){return l-d},f.NxByz=function(l,d){return l*d},f.pULmN=function(l,d){return l/d},f.QyMtW=function(l,d){return l*d},f.famkp=function(l,d){return l+d};let u=f,b=[];for(let l=0;u.RgNdX(l,r.length);l++){let d=r[l],h=r[u.dacbG(u.Aejal(l,1),r.length)],p=u.wAZfs(h.x,d.x),v=u.NiizZ(h.y,d.y),P=Math.sqrt(u.NxByz(p,p)+u.NxByz(v,v)),s=Math.floor(u.pULmN(P,o));b.push(new Y(d.x,d.y));for(let w=1;u.RgNdX(w,s);w++){let I=u.pULmN(u.QyMtW(w,o),P),S=u.famkp(d.x,I*p),E=d.y+u.QyMtW(I,v);b.push(new Y(S,E))}}return b}};function Dn(m,r,o){let f={zhRda:function(d,h){return d-h},txLjg:function(d,h){return d*h},zSiHW:function(d,h){return d-h},IlViW:function(d,h,p){return d(h,p)},kwWRd:function(d,h){return d-h},thkrz:function(d,h){return d<h},nqgEh:function(d,h){return d+h},Zcahr:function(d,h){return d**h},TnngG:function(d,h){return d-h},eJMiH:function(d,h){return d>h}},u=f.zhRda(f.zhRda(m.y,r.y)*f.zhRda(o.x,r.x),f.txLjg(f.zSiHW(m.x,r.x),o.y-r.y));if(!f.IlViW(ft.default,Math.abs(u),0))return!1;let b=f.txLjg(f.zhRda(m.x,r.x),o.x-r.x)+f.kwWRd(m.y,r.y)*f.zhRda(o.y,r.y);if(f.thkrz(b,0))return!1;let l=f.nqgEh(f.Zcahr(f.TnngG(o.x,r.x),2),f.kwWRd(o.y,r.y)**2);return!f.eJMiH(b,l)}function st(m){let r=m.polygons.map(b=>Pn.FromDto(b)),o=m.baseTriangles.map(b=>In.gptnsfd2d100852004467ba45a4d669632399d(b)),f=o,u=[];for(let b of f){let l=b.zlsvxgf5dde918d4f534c74b05fb87b9d19e714(),d=r.find(h=>h.kvlmmkj8f6ca6f338884363a0efdbefd9219640(l));d&&(b.ndzgcduvm594d9ce60475442f9d978a8a2bfeef4d(d.tag,d.sectionTag,d.materialTag),u.push(b))}return{triangles:u.map(b=>b.atvfpdmcbe240872005432fa41749c773929b10())}}var ze=ie(dt());var lt=(m,r,o="")=>`View3dModel-${m}-${r}${o}`,mt=m=>`Triangles-${m}`;var X=class extends Error{constructor(r){super(r)}};function xt(m){if(m.length<3)throw new X("At least three vertices are required to form a face.");return{vertices:[...m.filter(r=>r)],results:[]}}var se=ie(ht());var ce=m=>{let r=(m.points??"").trim().split(/\s+/).map(f=>f.split(",")),o=[];for(let[f,u]of r){let b=parseFloat(f),l=parseFloat(u);if(Number.isFinite(b)&&Number.isFinite(l))o.push({x:b,y:l});else throw new X("Invalid vertex coordinates")}return{vertices:o}};function bt(m){let r=0,o=0,f=0,u=m.length;for(let b=0;b<u;b++){let{x:l,y:d}=m[b],{x:h,y:p}=m[(b+1)%u],v=l*p-h*d;r+=v,o+=(l+h)*v,f+=(d+p)*v}return r*=.5,r===0?{x:0,y:0}:(o/=6*r,f/=6*r,{x:o,y:f})}function*yt(m,r){let o=[...new Set(r.rectangles.map(s=>s.name).concat(r.polygons.map(s=>s.name)))],f=[];for(let s of m){let w=s.points.map(E=>Mn(E)),I=xt(w);if(o.indexOf(s.name)===-1)throw new X(`Geometry name ${s.name} not found in geometry rectangles or polygons.`);f.push(I)}let u=r.supports.map(s=>Cn(s)),b=m.flatMap(s=>s.points).map(s=>s.x).reduce((s,w)=>Math.max(s,w),-1/0),l=m.flatMap(s=>s.points).map(s=>s.x).reduce((s,w)=>Math.min(s,w),1/0),d=m.flatMap(s=>s.points).map(s=>s.y).reduce((s,w)=>Math.max(s,w),-1/0),h=m.flatMap(s=>s.points).map(s=>s.y).reduce((s,w)=>Math.min(s,w),1/0),p=b-l,v=d-h,P=[...r.polygons.map(s=>ce(s)),...r.rectangles.map(s=>fe(s))].map(s=>s.vertices.map(w=>({x:w.x,y:w.y}))).map(s=>({points:s}));for(let s of r.loadCases)yield{faces:f,wireframeFaces:[],supports:u,borders:P,loads:Ln(s,r),loadCaseTag:s.name,width:p,height:v}}function Ln(m,r){let o=[];for(let f of m.pointLoads)(0,se.default)(f.fx,0)||o.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"point"}),(0,se.default)(f.fy,0)||o.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of m.distributedLoads){let u=r.polygons.filter(d=>d.name===f.geometryName).map(d=>ce(d)),b=r.rectangles.filter(d=>d.name===f.geometryName).map(d=>fe(d)),l=[...u,...b];for(let d of l){let h=bt(d.vertices);(0,se.default)(f.fx,0)||o.push({x:h.x,y:h.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),(0,se.default)(f.fy,0)||o.push({x:h.x,y:h.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return o}function Mn(m){return{x:m.x,y:m.y,z:0,ux:0,uy:0,uz:0,value:0}}function Cn(m){return{x:m.x,y:m.y,z:0,ux:m.fixedX,uy:m.fixedY,uz:!1}}addEventListener("message",({data:m})=>{zn(m)});var zn=async m=>{let{geometry:r,uuid:o,baseTriangles:f}=m,u=r.loadCases.flatMap(I=>I.pointLoads).map(I=>({x:I.x,y:I.y})),b=r.supports.map(I=>({x:I.x,y:I.y})),l=r.resultPoints.map(I=>({x:I.x,y:I.y})),d=r.rectangles.map(I=>Fn(I)),h=r.polygons.map(I=>kn(I)),p=d.concat(h),v={maxTriangleArea:r.meshingConfiguration.maxTriangleArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(I=>Bn(I))},s=st({polygons:p,extraPoints:u.concat(b).concat(l),meshingConfiguration:v,baseTriangles:f.map(I=>jn(I))}).triangles.map(I=>Vn(I));await ze.setItem(mt(o),s);for(let I of yt(s,r))await ze.setItem(lt(o,I.loadCaseTag),I);postMessage({uuid:o})},Bn=m=>({radius:m.radius,maxTriangleArea:m.maxArea,center:{x:m.x,y:m.y}}),On=m=>({x:m.x,y:m.y}),Vn=m=>({points:m.points.map(o=>On(o)),name:m.tag,sectionTag:m.sectionTag,materialTag:m.materialTag}),Fn=m=>({points:fe(m).vertices.map(o=>({x:o.x,y:o.y})),tag:m.name,sectionTag:m.sectionName,materialTag:m.materialName}),kn=m=>({points:ce(m).vertices.map(o=>({x:o.x,y:o.y})),tag:m.name,sectionTag:m.sectionName,materialTag:m.materialName}),jn=m=>({points:m.points.map(o=>({x:o.x,y:o.y}))});
