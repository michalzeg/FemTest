var vn=Object.create;var rt=Object.defineProperty;var gn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames;var wn=Object.getPrototypeOf,Rn=Object.prototype.hasOwnProperty;var ae=(x=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(x,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):x)(function(x){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+x+'" is not supported')});var Pe=(x,r)=>()=>(r||x((r={exports:{}}).exports,r),r.exports);var Tn=(x,r,o,c)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of _n(r))!Rn.call(x,u)&&u!==o&&rt(x,u,{get:()=>r[u],enumerable:!(c=gn(r,u))||c.enumerable});return x};var ie=(x,r,o)=>(o=x!=null?vn(wn(x)):{},Tn(r||!x||!x.__esModule?rt(o,"default",{value:x,enumerable:!0}):o,x));var xe=Pe((jn,ot)=>{"use strict";var Ee=Math.abs,Sn=Math.min;function me(x,r,o,c){var u=Ee(x-r);return o==null&&(o=me.DBL_EPSILON),c==null&&(c=o),u<=o||u<=c*Sn(Ee(x),Ee(r))?!0:x===r}me.FLT_EPSILON=11920929e-14;me.DBL_EPSILON=2220446049250313e-31;ot.exports=me});var dt=Pe((ut,Le)=>{"use strict";(function(x){if(typeof ut=="object"&&typeof Le<"u")Le.exports=x();else if(typeof define=="function"&&define.amd)define([],x);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=x()}})(function(){var x,r,o;return function c(u,p,d){function l(v,D){if(!p[v]){if(!u[v]){var s=typeof ae=="function"&&ae;if(!D&&s)return s(v,!0);if(b)return b(v,!0);var g=new Error("Cannot find module '"+v+"'");throw g.code="MODULE_NOT_FOUND",g}var P=p[v]={exports:{}};u[v][0].call(P.exports,function(S){var E=u[v][1][S];return l(E||S)},P,P.exports,c,u,p,d)}return p[v].exports}for(var b=typeof ae=="function"&&ae,m=0;m<d.length;m++)l(d[m]);return l}({1:[function(c,u,p){(function(d){"use strict";var l=d.MutationObserver||d.WebKitMutationObserver,b;if(l){var m=0,v=new l(S),D=d.document.createTextNode("");v.observe(D,{characterData:!0}),b=function(){D.data=m=++m%2}}else if(!d.setImmediate&&typeof d.MessageChannel<"u"){var s=new d.MessageChannel;s.port1.onmessage=S,b=function(){s.port2.postMessage(0)}}else"document"in d&&"onreadystatechange"in d.document.createElement("script")?b=function(){var V=d.document.createElement("script");V.onreadystatechange=function(){S(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},d.document.documentElement.appendChild(V)}:b=function(){setTimeout(S,0)};var g,P=[];function S(){g=!0;for(var V,H,F=P.length;F;){for(H=P,P=[],V=-1;++V<F;)H[V]();F=P.length}g=!1}u.exports=E;function E(V){P.push(V)===1&&!g&&b()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(c,u,p){"use strict";var d=c(1);function l(){}var b={},m=["REJECTED"],v=["FULFILLED"],D=["PENDING"];u.exports=s;function s(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,T!==l&&E(this,T)}s.prototype.catch=function(T){return this.then(null,T)},s.prototype.then=function(T,M){if(typeof T!="function"&&this.state===v||typeof M!="function"&&this.state===m)return this;var A=new this.constructor(l);if(this.state!==D){var C=this.state===v?T:M;P(A,C,this.outcome)}else this.queue.push(new g(A,T,M));return A};function g(T,M,A){this.promise=T,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(T){b.resolve(this.promise,T)},g.prototype.otherCallFulfilled=function(T){P(this.promise,this.onFulfilled,T)},g.prototype.callRejected=function(T){b.reject(this.promise,T)},g.prototype.otherCallRejected=function(T){P(this.promise,this.onRejected,T)};function P(T,M,A){d(function(){var C;try{C=M(A)}catch(z){return b.reject(T,z)}C===T?b.reject(T,new TypeError("Cannot resolve promise with itself")):b.resolve(T,C)})}b.resolve=function(T,M){var A=V(S,M);if(A.status==="error")return b.reject(T,A.value);var C=A.value;if(C)E(T,C);else{T.state=v,T.outcome=M;for(var z=-1,W=T.queue.length;++z<W;)T.queue[z].callFulfilled(M)}return T},b.reject=function(T,M){T.state=m,T.outcome=M;for(var A=-1,C=T.queue.length;++A<C;)T.queue[A].callRejected(M);return T};function S(T){var M=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof M=="function")return function(){M.apply(T,arguments)}}function E(T,M){var A=!1;function C(G){A||(A=!0,b.reject(T,G))}function z(G){A||(A=!0,b.resolve(T,G))}function W(){M(z,C)}var Y=V(W);Y.status==="error"&&C(Y.value)}function V(T,M){var A={};try{A.value=T(M),A.status="success"}catch(C){A.status="error",A.value=C}return A}s.resolve=H;function H(T){return T instanceof this?T:b.resolve(new this(l),T)}s.reject=F;function F(T){var M=new this(l);return b.reject(M,T)}s.all=pe;function pe(T){var M=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=T.length,C=!1;if(!A)return this.resolve([]);for(var z=new Array(A),W=0,Y=-1,G=new this(l);++Y<A;)K(T[Y],Y);return G;function K(ne,ue){M.resolve(ne).then(be,function(ee){C||(C=!0,b.reject(G,ee))});function be(ee){z[ue]=ee,++W===A&&!C&&(C=!0,b.resolve(G,z))}}}s.race=J;function J(T){var M=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=T.length,C=!1;if(!A)return this.resolve([]);for(var z=-1,W=new this(l);++z<A;)Y(T[z]);return W;function Y(G){M.resolve(G).then(function(K){C||(C=!0,b.resolve(W,K))},function(K){C||(C=!0,b.reject(W,K))})}}},{1:1}],3:[function(c,u,p){(function(d){"use strict";typeof d.Promise!="function"&&(d.Promise=c(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(c,u,p){"use strict";var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function b(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var m=b();function v(){try{if(!m||!m.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function D(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(a){if(a.name!=="TypeError")throw a;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,f=0;f<e.length;f+=1)i.append(e[f]);return i.getBlob(n.type)}}typeof Promise>"u"&&c(3);var s=Promise;function g(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function P(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function S(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var V="local-forage-detect-blob-support",H=void 0,F={},pe=Object.prototype.toString,J="readonly",T="readwrite";function M(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),f=0;f<n;f++)i[f]=e.charCodeAt(f);return t}function A(e){return new s(function(n){var t=e.transaction(V,T),i=D([""]);t.objectStore(V).put(i,"key"),t.onabort=function(f){f.preventDefault(),f.stopPropagation(),n(!1)},t.oncomplete=function(){var f=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);n(a||!f||parseInt(f[1],10)>=43)}}).catch(function(){return!1})}function C(e){return typeof H=="boolean"?s.resolve(H):A(e).then(function(n){return H=n,H})}function z(e){var n=F[e.name],t={};t.promise=new s(function(i,f){t.resolve=i,t.reject=f}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function W(e){var n=F[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function Y(e,n){var t=F[e.name],i=t.deferredOperations.pop();if(i)return i.reject(n),i.promise}function G(e,n){return new s(function(t,i){if(F[e.name]=F[e.name]||Oe(),e.db)if(n)z(e),e.db.close();else return t(e.db);var f=[e.name];n&&f.push(e.version);var a=m.open.apply(m,f);n&&(a.onupgradeneeded=function(h){var y=a.result;try{y.createObjectStore(e.storeName),h.oldVersion<=1&&y.createObjectStore(V)}catch(_){if(_.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+h.oldVersion+" to version "+h.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw _}}),a.onerror=function(h){h.preventDefault(),i(a.error)},a.onsuccess=function(){var h=a.result;h.onversionchange=function(y){y.target.close()},t(h),W(e)}})}function K(e){return G(e,!1)}function ne(e){return G(e,!0)}function ue(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,f=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),f||t){if(t){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function be(e){return new s(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(f){var a=btoa(f.target.result||"");n({__local_forage_encoded_blob:!0,data:a,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var n=M(atob(e.data));return D([n],{type:e.type})}function Be(e){return e&&e.__local_forage_encoded_blob}function vt(e){var n=this,t=n._initReady().then(function(){var i=F[n._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return P(t,e,e),t}function gt(e){z(e);for(var n=F[e.name],t=n.forages,i=0;i<t.length;i++){var f=t[i];f._dbInfo.db&&(f._dbInfo.db.close(),f._dbInfo.db=null)}return e.db=null,K(e).then(function(a){return e.db=a,ue(e)?ne(e):a}).then(function(a){e.db=n.db=a;for(var h=0;h<t.length;h++)t[h]._dbInfo.db=a}).catch(function(a){throw Y(e,a),a})}function Q(e,n,t,i){i===void 0&&(i=1);try{var f=e.db.transaction(e.storeName,n);t(null,f)}catch(a){if(i>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return s.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return gt(e).then(function(){Q(e,n,t,i-1)})}).catch(t);t(a)}}function Oe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _t(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var f=F[t.name];f||(f=Oe(),F[t.name]=f),f.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=vt);var a=[];function h(){return s.resolve()}for(var y=0;y<f.forages.length;y++){var _=f.forages[y];_!==n&&a.push(_._initReady().catch(h))}var w=f.forages.slice(0);return s.all(a).then(function(){return t.db=f.db,K(t)}).then(function(R){return t.db=R,ue(t,n._defaultConfig.version)?ne(t):R}).then(function(R){t.db=f.db=R,n._dbInfo=t;for(var I=0;I<w.length;I++){var N=w[I];N!==n&&(N._dbInfo.db=t.db,N._dbInfo.version=t.version)}})}function wt(e,n){var t=this;e=S(e);var i=new s(function(f,a){t.ready().then(function(){Q(t._dbInfo,J,function(h,y){if(h)return a(h);try{var _=y.objectStore(t._dbInfo.storeName),w=_.get(e);w.onsuccess=function(){var R=w.result;R===void 0&&(R=null),Be(R)&&(R=ee(R)),f(R)},w.onerror=function(){a(w.error)}}catch(R){a(R)}})}).catch(a)});return g(i,n),i}function Rt(e,n){var t=this,i=new s(function(f,a){t.ready().then(function(){Q(t._dbInfo,J,function(h,y){if(h)return a(h);try{var _=y.objectStore(t._dbInfo.storeName),w=_.openCursor(),R=1;w.onsuccess=function(){var I=w.result;if(I){var N=I.value;Be(N)&&(N=ee(N));var L=e(N,I.key,R++);L!==void 0?f(L):I.continue()}else f()},w.onerror=function(){a(w.error)}}catch(I){a(I)}})}).catch(a)});return g(i,n),i}function Tt(e,n,t){var i=this;e=S(e);var f=new s(function(a,h){var y;i.ready().then(function(){return y=i._dbInfo,pe.call(n)==="[object Blob]"?C(y.db).then(function(_){return _?n:be(n)}):n}).then(function(_){Q(i._dbInfo,T,function(w,R){if(w)return h(w);try{var I=R.objectStore(i._dbInfo.storeName);_===null&&(_=void 0);var N=I.put(_,e);R.oncomplete=function(){_===void 0&&(_=null),a(_)},R.onabort=R.onerror=function(){var L=N.error?N.error:N.transaction.error;h(L)}}catch(L){h(L)}})}).catch(h)});return g(f,t),f}function St(e,n){var t=this;e=S(e);var i=new s(function(f,a){t.ready().then(function(){Q(t._dbInfo,T,function(h,y){if(h)return a(h);try{var _=y.objectStore(t._dbInfo.storeName),w=_.delete(e);y.oncomplete=function(){f()},y.onerror=function(){a(w.error)},y.onabort=function(){var R=w.error?w.error:w.transaction.error;a(R)}}catch(R){a(R)}})}).catch(a)});return g(i,n),i}function It(e){var n=this,t=new s(function(i,f){n.ready().then(function(){Q(n._dbInfo,T,function(a,h){if(a)return f(a);try{var y=h.objectStore(n._dbInfo.storeName),_=y.clear();h.oncomplete=function(){i()},h.onabort=h.onerror=function(){var w=_.error?_.error:_.transaction.error;f(w)}}catch(w){f(w)}})}).catch(f)});return g(t,e),t}function Pt(e){var n=this,t=new s(function(i,f){n.ready().then(function(){Q(n._dbInfo,J,function(a,h){if(a)return f(a);try{var y=h.objectStore(n._dbInfo.storeName),_=y.count();_.onsuccess=function(){i(_.result)},_.onerror=function(){f(_.error)}}catch(w){f(w)}})}).catch(f)});return g(t,e),t}function Et(e,n){var t=this,i=new s(function(f,a){if(e<0){f(null);return}t.ready().then(function(){Q(t._dbInfo,J,function(h,y){if(h)return a(h);try{var _=y.objectStore(t._dbInfo.storeName),w=!1,R=_.openKeyCursor();R.onsuccess=function(){var I=R.result;if(!I){f(null);return}e===0||w?f(I.key):(w=!0,I.advance(e))},R.onerror=function(){a(R.error)}}catch(I){a(I)}})}).catch(a)});return g(i,n),i}function Dt(e){var n=this,t=new s(function(i,f){n.ready().then(function(){Q(n._dbInfo,J,function(a,h){if(a)return f(a);try{var y=h.objectStore(n._dbInfo.storeName),_=y.openKeyCursor(),w=[];_.onsuccess=function(){var R=_.result;if(!R){i(w);return}w.push(R.key),R.continue()},_.onerror=function(){f(_.error)}}catch(R){f(R)}})}).catch(f)});return g(t,e),t}function Nt(e,n){n=E.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,f;if(!e.name)f=s.reject("Invalid arguments");else{var a=e.name===t.name&&i._dbInfo.db,h=a?s.resolve(i._dbInfo.db):K(e).then(function(y){var _=F[e.name],w=_.forages;_.db=y;for(var R=0;R<w.length;R++)w[R]._dbInfo.db=y;return y});e.storeName?f=h.then(function(y){if(y.objectStoreNames.contains(e.storeName)){var _=y.version+1;z(e);var w=F[e.name],R=w.forages;y.close();for(var I=0;I<R.length;I++){var N=R[I];N._dbInfo.db=null,N._dbInfo.version=_}var L=new s(function(q,O){var B=m.open(e.name,_);B.onerror=function(j){var oe=B.result;oe.close(),O(j)},B.onupgradeneeded=function(){var j=B.result;j.deleteObjectStore(e.storeName)},B.onsuccess=function(){var j=B.result;j.close(),q(j)}});return L.then(function(q){w.db=q;for(var O=0;O<R.length;O++){var B=R[O];B._dbInfo.db=q,W(B._dbInfo)}}).catch(function(q){throw(Y(e,q)||s.resolve()).catch(function(){}),q})}}):f=h.then(function(y){z(e);var _=F[e.name],w=_.forages;y.close();for(var R=0;R<w.length;R++){var I=w[R];I._dbInfo.db=null}var N=new s(function(L,q){var O=m.deleteDatabase(e.name);O.onerror=function(){var B=O.result;B&&B.close(),q(O.error)},O.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},O.onsuccess=function(){var B=O.result;B&&B.close(),L(B)}});return N.then(function(L){_.db=L;for(var q=0;q<w.length;q++){var O=w[q];W(O._dbInfo)}}).catch(function(L){throw(Y(e,L)||s.resolve()).catch(function(){}),L})})}return g(f,n),f}var At={_driver:"asyncStorage",_initStorage:_t,_support:v(),iterate:Rt,getItem:wt,setItem:Tt,removeItem:St,clear:It,length:Pt,key:Et,keys:Dt,dropInstance:Nt};function Mt(){return typeof openDatabase=="function"}var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lt="~~local_forage_type~",Ve=/^~~local_forage_type~([^~]+)~/,de="__lfsc__:",ye=de.length,ve="arbf",ge="blob",Fe="si08",ze="ui08",We="uic8",Ue="si16",Ye="si32",Ge="ur16",je="ui32",Xe="fl32",He="fl64",Ke=ye+ve.length,Qe=Object.prototype.toString;function ke(e){var n=e.length*.75,t=e.length,i,f=0,a,h,y,_;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var w=new ArrayBuffer(n),R=new Uint8Array(w);for(i=0;i<t;i+=4)a=k.indexOf(e[i]),h=k.indexOf(e[i+1]),y=k.indexOf(e[i+2]),_=k.indexOf(e[i+3]),R[f++]=a<<2|h>>4,R[f++]=(h&15)<<4|y>>2,R[f++]=(y&3)<<6|_&63;return w}function _e(e){var n=new Uint8Array(e),t="",i;for(i=0;i<n.length;i+=3)t+=k[n[i]>>2],t+=k[(n[i]&3)<<4|n[i+1]>>4],t+=k[(n[i+1]&15)<<2|n[i+2]>>6],t+=k[n[i+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function qt(e,n){var t="";if(e&&(t=Qe.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&Qe.call(e.buffer)==="[object ArrayBuffer]")){var i,f=de;e instanceof ArrayBuffer?(i=e,f+=ve):(i=e.buffer,t==="[object Int8Array]"?f+=Fe:t==="[object Uint8Array]"?f+=ze:t==="[object Uint8ClampedArray]"?f+=We:t==="[object Int16Array]"?f+=Ue:t==="[object Uint16Array]"?f+=Ge:t==="[object Int32Array]"?f+=Ye:t==="[object Uint32Array]"?f+=je:t==="[object Float32Array]"?f+=Xe:t==="[object Float64Array]"?f+=He:n(new Error("Failed to get type for BinaryArray"))),n(f+_e(i))}else if(t==="[object Blob]"){var a=new FileReader;a.onload=function(){var h=Lt+e.type+"~"+_e(this.result);n(de+ge+h)},a.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(h){console.error("Couldn't convert value into a JSON string: ",e),n(null,h)}}function Ct(e){if(e.substring(0,ye)!==de)return JSON.parse(e);var n=e.substring(Ke),t=e.substring(ye,Ke),i;if(t===ge&&Ve.test(n)){var f=n.match(Ve);i=f[1],n=n.substring(f[0].length)}var a=ke(n);switch(t){case ve:return a;case ge:return D([a],{type:i});case Fe:return new Int8Array(a);case ze:return new Uint8Array(a);case We:return new Uint8ClampedArray(a);case Ue:return new Int16Array(a);case Ge:return new Uint16Array(a);case Ye:return new Int32Array(a);case je:return new Uint32Array(a);case Xe:return new Float32Array(a);case He:return new Float64Array(a);default:throw new Error("Unkown type: "+t)}}var we={serialize:qt,deserialize:Ct,stringToBuffer:ke,bufferToString:_e};function Ze(e,n,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function Bt(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var f=new s(function(a,h){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(y){return h(y)}t.db.transaction(function(y){Ze(y,t,function(){n._dbInfo=t,a()},function(_,w){h(w)})},h)});return t.serializer=we,f}function Z(e,n,t,i,f,a){e.executeSql(t,i,f,function(h,y){y.code===y.SYNTAX_ERR?h.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(_,w){w.rows.length?a(_,y):Ze(_,n,function(){_.executeSql(t,i,f,a)},a)},a):a(h,y)},a)}function Ot(e,n){var t=this;e=S(e);var i=new s(function(f,a){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(y){Z(y,h,"SELECT * FROM "+h.storeName+" WHERE key = ? LIMIT 1",[e],function(_,w){var R=w.rows.length?w.rows.item(0).value:null;R&&(R=h.serializer.deserialize(R)),f(R)},function(_,w){a(w)})})}).catch(a)});return g(i,n),i}function Vt(e,n){var t=this,i=new s(function(f,a){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(y){Z(y,h,"SELECT * FROM "+h.storeName,[],function(_,w){for(var R=w.rows,I=R.length,N=0;N<I;N++){var L=R.item(N),q=L.value;if(q&&(q=h.serializer.deserialize(q)),q=e(q,L.key,N+1),q!==void 0){f(q);return}}f()},function(_,w){a(w)})})}).catch(a)});return g(i,n),i}function $e(e,n,t,i){var f=this;e=S(e);var a=new s(function(h,y){f.ready().then(function(){n===void 0&&(n=null);var _=n,w=f._dbInfo;w.serializer.serialize(n,function(R,I){I?y(I):w.db.transaction(function(N){Z(N,w,"INSERT OR REPLACE INTO "+w.storeName+" (key, value) VALUES (?, ?)",[e,R],function(){h(_)},function(L,q){y(q)})},function(N){if(N.code===N.QUOTA_ERR){if(i>0){h($e.apply(f,[e,_,t,i-1]));return}y(N)}})})}).catch(y)});return g(a,t),a}function Ft(e,n,t){return $e.apply(this,[e,n,t,1])}function zt(e,n){var t=this;e=S(e);var i=new s(function(f,a){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(y){Z(y,h,"DELETE FROM "+h.storeName+" WHERE key = ?",[e],function(){f()},function(_,w){a(w)})})}).catch(a)});return g(i,n),i}function Wt(e){var n=this,t=new s(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(h){Z(h,a,"DELETE FROM "+a.storeName,[],function(){i()},function(y,_){f(_)})})}).catch(f)});return g(t,e),t}function Ut(e){var n=this,t=new s(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(h){Z(h,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(y,_){var w=_.rows.item(0).c;i(w)},function(y,_){f(_)})})}).catch(f)});return g(t,e),t}function Yt(e,n){var t=this,i=new s(function(f,a){t.ready().then(function(){var h=t._dbInfo;h.db.transaction(function(y){Z(y,h,"SELECT key FROM "+h.storeName+" WHERE id = ? LIMIT 1",[e+1],function(_,w){var R=w.rows.length?w.rows.item(0).key:null;f(R)},function(_,w){a(w)})})}).catch(a)});return g(i,n),i}function Gt(e){var n=this,t=new s(function(i,f){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(h){Z(h,a,"SELECT key FROM "+a.storeName,[],function(y,_){for(var w=[],R=0;R<_.rows.length;R++)w.push(_.rows.item(R).key);i(w)},function(y,_){f(_)})})}).catch(f)});return g(t,e),t}function jt(e){return new s(function(n,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(f,a){for(var h=[],y=0;y<a.rows.length;y++)h.push(a.rows.item(y).name);n({db:e,storeNames:h})},function(f,a){t(a)})},function(i){t(i)})})}function Xt(e,n){n=E.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,f;return e.name?f=new s(function(a){var h;e.name===t.name?h=i._dbInfo.db:h=openDatabase(e.name,"","",0),e.storeName?a({db:h,storeNames:[e.storeName]}):a(jt(h))}).then(function(a){return new s(function(h,y){a.db.transaction(function(_){function w(L){return new s(function(q,O){_.executeSql("DROP TABLE IF EXISTS "+L,[],function(){q()},function(B,j){O(j)})})}for(var R=[],I=0,N=a.storeNames.length;I<N;I++)R.push(w(a.storeNames[I]));s.all(R).then(function(){h()}).catch(function(L){y(L)})},function(_){y(_)})})}):f=s.reject("Invalid arguments"),g(f,n),f}var Ht={_driver:"webSQLStorage",_initStorage:Bt,_support:Mt(),iterate:Vt,getItem:Ot,setItem:Ft,removeItem:zt,clear:Wt,length:Ut,key:Yt,keys:Gt,dropInstance:Xt};function Kt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Je(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Qt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function kt(){return!Qt()||localStorage.length>0}function Zt(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=Je(e,n._defaultConfig),kt()?(n._dbInfo=t,t.serializer=we,s.resolve()):s.reject()}function $t(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo.keyPrefix,f=localStorage.length-1;f>=0;f--){var a=localStorage.key(f);a.indexOf(i)===0&&localStorage.removeItem(a)}});return g(t,e),t}function Jt(e,n){var t=this;e=S(e);var i=t.ready().then(function(){var f=t._dbInfo,a=localStorage.getItem(f.keyPrefix+e);return a&&(a=f.serializer.deserialize(a)),a});return g(i,n),i}function en(e,n){var t=this,i=t.ready().then(function(){for(var f=t._dbInfo,a=f.keyPrefix,h=a.length,y=localStorage.length,_=1,w=0;w<y;w++){var R=localStorage.key(w);if(R.indexOf(a)===0){var I=localStorage.getItem(R);if(I&&(I=f.serializer.deserialize(I)),I=e(I,R.substring(h),_++),I!==void 0)return I}}});return g(i,n),i}function tn(e,n){var t=this,i=t.ready().then(function(){var f=t._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(f.keyPrefix.length)),a});return g(i,n),i}function nn(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo,f=localStorage.length,a=[],h=0;h<f;h++){var y=localStorage.key(h);y.indexOf(i.keyPrefix)===0&&a.push(y.substring(i.keyPrefix.length))}return a});return g(t,e),t}function rn(e){var n=this,t=n.keys().then(function(i){return i.length});return g(t,e),t}function on(e,n){var t=this;e=S(e);var i=t.ready().then(function(){var f=t._dbInfo;localStorage.removeItem(f.keyPrefix+e)});return g(i,n),i}function an(e,n,t){var i=this;e=S(e);var f=i.ready().then(function(){n===void 0&&(n=null);var a=n;return new s(function(h,y){var _=i._dbInfo;_.serializer.serialize(n,function(w,R){if(R)y(R);else try{localStorage.setItem(_.keyPrefix+e,w),h(a)}catch(I){(I.name==="QuotaExceededError"||I.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(I),y(I)}})})});return g(f,t),f}function fn(e,n){if(n=E.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,f;return e.name?f=new s(function(a){e.storeName?a(Je(e,i._defaultConfig)):a(e.name+"/")}).then(function(a){for(var h=localStorage.length-1;h>=0;h--){var y=localStorage.key(h);y.indexOf(a)===0&&localStorage.removeItem(y)}}):f=s.reject("Invalid arguments"),g(f,n),f}var cn={_driver:"localStorageWrapper",_initStorage:Zt,_support:Kt(),iterate:en,getItem:Jt,setItem:an,removeItem:on,clear:$t,length:rn,key:tn,keys:nn,dropInstance:fn},sn=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},un=function(n,t){for(var i=n.length,f=0;f<i;){if(sn(n[f],t))return!0;f++}return!1},et=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},tt={},te={INDEXEDDB:At,WEBSQL:Ht,LOCALSTORAGE:cn},dn=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],le=["dropInstance"],Re=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(le),ln={description:"",driver:dn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function mn(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function Te(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(et(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var xn=function(){function e(n){l(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],f=i._driver;this[t]=f,re[f]||this.defineDriver(i)}this._defaultConfig=Te({},ln),this._config=Te({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":d(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,f){var a=new s(function(h,y){try{var _=t._driver,w=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){y(w);return}for(var R=Re.concat("_initStorage"),I=0,N=R.length;I<N;I++){var L=R[I],q=!un(le,L);if((q||t[L])&&typeof t[L]!="function"){y(w);return}}var O=function(){for(var oe=function(bn){return function(){var yn=new Error("Method "+bn+" is not implemented by the current driver"),nt=s.reject(yn);return g(nt,arguments[arguments.length-1]),nt}},Se=0,pn=le.length;Se<pn;Se++){var Ie=le[Se];t[Ie]||(t[Ie]=oe(Ie))}};O();var B=function(oe){re[_]&&console.info("Redefining LocalForage driver: "+_),re[_]=t,tt[_]=oe,h()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(B,y):B(!!t._support):B(!0)}catch(j){y(j)}});return P(a,i,f),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,f){var a=re[t]?s.resolve(re[t]):s.reject(new Error("Driver not found."));return P(a,i,f),a},e.prototype.getSerializer=function(t){var i=s.resolve(we);return P(i,t),i},e.prototype.ready=function(t){var i=this,f=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return P(f,t,t),f},e.prototype.setDriver=function(t,i,f){var a=this;et(t)||(t=[t]);var h=this._getSupportedDrivers(t);function y(){a._config.driver=a.driver()}function _(I){return a._extend(I),y(),a._ready=a._initStorage(a._config),a._ready}function w(I){return function(){var N=0;function L(){for(;N<I.length;){var q=I[N];return N++,a._dbInfo=null,a._ready=null,a.getDriver(q).then(_).catch(L)}y();var O=new Error("No available storage method found.");return a._driverSet=s.reject(O),a._driverSet}return L()}}var R=this._driverSet!==null?this._driverSet.catch(function(){return s.resolve()}):s.resolve();return this._driverSet=R.then(function(){var I=h[0];return a._dbInfo=null,a._ready=null,a.getDriver(I).then(function(N){a._driver=N._driver,y(),a._wrapLibraryMethodsWithReady(),a._initDriver=w(h)})}).catch(function(){y();var I=new Error("No available storage method found.");return a._driverSet=s.reject(I),a._driverSet}),P(this._driverSet,i,f),this._driverSet},e.prototype.supports=function(t){return!!tt[t]},e.prototype._extend=function(t){Te(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],f=0,a=t.length;f<a;f++){var h=t[f];this.supports(h)&&i.push(h)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=Re.length;t<i;t++)mn(this,Re[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),hn=new xn;u.exports=hn},{3:3}]},{},[4])(4)})});var pt=Pe((rr,ht)=>{"use strict";var qe=Math.abs,An=Math.min;function he(x,r,o,c){var u=qe(x-r);return o==null&&(o=he.DBL_EPSILON),c==null&&(c=o),u<=o||u<=c*An(qe(x),qe(r))?!0:x===r}he.FLT_EPSILON=11920929e-14;he.DBL_EPSILON=2220446049250313e-31;ht.exports=he});var fe=x=>({vertices:[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}]});var Ae=ie(xe(),1),it=ie(xe(),1);function De(x,r){for(var o=x.length,c=x[o-1],u=r[0],p=r[1],d=c[0],l=c[1],b,m,v=!1,D=0;D<o;++D)c=x[D],b=c[0],m=c[1],m>p!=l>p&&u<(d-b)*(p-m)/(l-m)+b&&(v=!v),d=b,l=m;return v}var ft=ie(xe(),1);var X=class Me{constructor(r,o){this.x=r,this.y=o}static sgxwqq77bbf1576d3c4fb7a1048d10d83b8e73(r){return new Me(r.x,r.y)}yetbytqixa0c96493ad9dc4e9ca11c0f4252f49b0a(){let r={};return r.x=this.x,r.y=this.y,r}zgvuefgfdv3b7585fbd432409b9254458ba3ac55b4(r){let o={mVigX:function(u,p,d){return u(p,d)}};return o.mVigX(Ae.default,this.x,r.x)&&o.mVigX(Ae.default,this.y,r.y)}czqwanm8c0ebf7c485a45a283bc78fc76916882(){return[this.x,this.y]}tqvcnyby465611fe3c5b4f659b8b49686601b3bc(r){let o={};o.Szcoz=function(d,l){return d/l},o.LFexb=function(d,l){return d+l},o.CUyjZ=function(d,l){return d/l},o.snBOP=function(d,l){return d+l};let c=o,u=c.Szcoz(c.LFexb(this.x,r.x),2),p=c.CUyjZ(c.snBOP(this.y,r.y),2);return new Me(u,p)}ugmfztriov0877d286e2404fd49317dcc7b614c8c9(r){let o={};o.FFPuV=function(d,l){return d-l},o.ndMqI=function(d,l){return d-l},o.KqbOl=function(d,l){return d+l},o.zuBSa=function(d,l){return d*l},o.QQluV=function(d,l){return d*l};let c=o,u=c.FFPuV(r.x,this.x),p=c.ndMqI(r.y,this.y);return Math.sqrt(c.KqbOl(c.zuBSa(u,u),c.QQluV(p,p)))}};function Ne(x,r,o){let c={};c.XeOuz=function(s,g){return s-g},c.bXjyF=function(s,g){return s+g},c.ksJrL=function(s,g){return s*g},c.XwrOU=function(s,g){return s===g},c.sGhvR=function(s,g){return s===g};let u=c,p={x:u.XeOuz(x.x,r.x),y:u.XeOuz(x.y,r.y)},d={};d.x=o.x-r.x,d.y=o.y-r.y;let l=d,b=u.bXjyF(p.x*l.x,u.ksJrL(p.y,l.y)),m=Math.hypot(p.x,p.y),v=Math.hypot(l.x,l.y);if(u.XwrOU(m,0)||u.sGhvR(v,0))return 0;let D=Math.min(1,Math.max(-1,b/(m*v)));return Math.acos(D)}var at=class{static wkyxlqjb5095bad176804870864b88f7adefe694(x,r,o){let c={};c.FWwcH=function(b,m){return b<=m};let u=c,p=r.tqvcnyby465611fe3c5b4f659b8b49686601b3bc(o),d=r.ugmfztriov0877d286e2404fd49317dcc7b614c8c9(o)/2,l=p.ugmfztriov0877d286e2404fd49317dcc7b614c8c9(x);return u.FWwcH(l,d)}},In=class U{constructor(r){let o={};o.OAWEw="2|4|1|3|0";let c=o,u=c.OAWEw.split("|"),p=0;for(;;){switch(u[p++]){case"0":!U.bjsyeb1b5efa439fcc41e5b9467339de994865(r)&&this.points.reverse();continue;case"1":this.sectionTag="";continue;case"2":this.points=r;continue;case"3":this.materialTag="";continue;case"4":this.tag="";continue}break}}static sgxwqq77bbf1576d3c4fb7a1048d10d83b8e73(r){return new U(r.points.map(o=>X.sgxwqq77bbf1576d3c4fb7a1048d10d83b8e73(o)))}yetbytqixa0c96493ad9dc4e9ca11c0f4252f49b0a(){return{points:this.points.map(r=>r.yetbytqixa0c96493ad9dc4e9ca11c0f4252f49b0a()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static bjsyeb1b5efa439fcc41e5b9467339de994865(r){let o={};o.fCdKV=function(b,m){return b-m},o.KuFDm=function(b,m){return b*m},o.mkfPM=function(b,m){return b>m};let c=o,[u,p,d]=r,l=c.fCdKV(p.x,u.x)*(d.y-u.y)-c.KuFDm(p.y-u.y,c.fCdKV(d.x,u.x));return c.mkfPM(l,0)}yeluca8763149c42949b5bd90f742093e417c(r,o,c){this.tag=r,this.sectionTag=o,this.materialTag=c}iqpulp76a732063b7a4c1c8eae1565a06881fd(){let r={};r.IOUGx=function(b,m){return b+m},r.FQHLi=function(b,m){return b+m},r.xvSNx=function(b,m){return b/m},r.gnxwu=function(b,m){return b+m};let o=r,[c,u,p]=this.points,d=o.IOUGx(o.FQHLi(c.x,u.x),p.x)/3,l=o.xvSNx(o.gnxwu(c.y+u.y,p.y),3);return new X(d,l)}nmlhsuq8938af4139a6487e810eb0171a47348e(r=.1){let o={};o.eHMWM=function(m,v){return m-v},o.NenDH=function(m,v){return m*v},o.MUepP=function(m,v){return m-v},o.VRgJt=function(m,v){return m+v},o.RVVje=function(m,v){return m/v},o.ZpTXk=function(m,v){return m*v},o.DSBsR=function(m,v){return m*v};let c=o,u=this.iqpulp76a732063b7a4c1c8eae1565a06881fd(),p=this.points.map(m=>{let v=u.x-m.x,D=c.eHMWM(u.y,m.y);return Math.sqrt(v*v+c.NenDH(D,D))}),d=Math.max(...p),l=c.DSBsR(d,r);return this.points.map(m=>{let v=u.x-m.x,D=c.MUepP(u.y,m.y),s=Math.sqrt(c.VRgJt(v*v,c.NenDH(D,D))),g=c.RVVje(l,s);return new X(c.VRgJt(m.x,c.ZpTXk(v,g)),c.VRgJt(m.y,c.DSBsR(D,g)))})}xrnesua4c7a6b2b99d5496eba4956ac3f670eca(){let r=this.iqpulp76a732063b7a4c1c8eae1565a06881fd();return[new U([this.points[0],this.points[1],r]),new U([this.points[1],this.points[2],r]),new U([this.points[2],this.points[0],r])]}iqgqp9c2f85887ab949f49aebf0bea7a1d586(){let r={};r.eezXf=function(m,v){return m/v},r.tQHVA=function(m,v){return m+v},r.URNBB=function(m,v){return m+v},r.QyAHy=function(m,v){return m/v},r.wkeau=function(m,v){return m/v},r.FJlss=function(m,v){return m+v};let o=r,[c,u,p]=this.points,d=new X(o.eezXf(o.tQHVA(c.x,u.x),2),o.eezXf(o.tQHVA(c.y,u.y),2)),l=new X(o.eezXf(o.URNBB(u.x,p.x),2),o.QyAHy(o.URNBB(u.y,p.y),2)),b=new X(o.URNBB(p.x,c.x)/2,o.wkeau(o.FJlss(p.y,c.y),2));return[new U([c,d,b]),new U([d,u,l]),new U([b,l,p]),new U([d,l,b])]}madajdwt35e9fcdfc8c9402abd4c6b051e8f0a72(){let r={};r.kZbgq=function(S,E){return S+E},r.hQvHA=function(S,E){return S*E},r.TCeyz=function(S,E){return S*E},r.UYPQG=function(S,E){return S-E},r.nwhtz=function(S,E){return S<E},r.tdJRY=function(S,E){return S+E},r.NYPZa=function(S,E){return S+E},r.kUWQa=function(S,E){return S+E},r.DLWoR=function(S,E){return S*E},r.InAZY=function(S,E){return S*E},r.EKFAL=function(S,E){return S*E},r.LMcft=function(S,E){return S+E},r.izRfE=function(S,E){return S/E},r.PAXVD=function(S,E){return S*E},r.RcUWS=function(S,E){return S*E},r.RqNxx=function(S,E){return S*E},r.WVXqY=function(S,E){return S+E},r.DDapF=function(S,E){return S*E},r.WVxib=function(S,E){return S+E};let o=r,[c,u,p]=this.points,d=c.x,l=c.y,b=u.x,m=u.y,v=p.x,D=p.y,s=2*o.kZbgq(o.kZbgq(o.hQvHA(d,m-D),o.TCeyz(b,D-l)),o.TCeyz(v,o.UYPQG(l,m)));if(o.nwhtz(Math.abs(s),1e-10))return null;let g=o.tdJRY(o.NYPZa(o.kUWQa(o.DLWoR(d,d),o.InAZY(l,l))*(m-D),o.InAZY(o.kZbgq(o.TCeyz(b,b),o.EKFAL(m,m)),o.UYPQG(D,l))),o.TCeyz(o.LMcft(o.EKFAL(v,v),D*D),o.UYPQG(l,m)))/s,P=o.izRfE(o.LMcft(o.PAXVD(o.tdJRY(o.RcUWS(d,d),l*l),o.UYPQG(v,b))+o.RqNxx(o.WVXqY(o.DDapF(b,b),m*m),d-v),o.WVxib(v*v,o.PAXVD(D,D))*o.UYPQG(b,d)),s);return new X(g,P)}oujbmf228a284683644727826513d5681ad462(){let r={};r.mRAFc=function(u,p){return u===p};let o=r,c=this.madajdwt35e9fcdfc8c9402abd4c6b051e8f0a72();return o.mRAFc(c,null)?[]:[new U([this.points[0],this.points[1],c]),new U([this.points[1],this.points[2],c]),new U([this.points[2],this.points[0],c])]}rvaoayqbe3499863fe74d319a0d42fdbefb47b2(){let r={};r.atQOS=function(g,P){return g*P},r.FhWUU=function(g,P){return g+P},r.KLEzy=function(g,P){return g-P},r.mmsIS=function(g,P){return g-P};let o=r,[c,u,p]=this.points,d=c.x,l=u.x,b=p.x,m=c.y,v=u.y,D=p.y;return o.atQOS(.5,Math.abs(o.FhWUU(o.FhWUU(o.atQOS(d,o.KLEzy(v,D)),l*o.KLEzy(D,m)),b*o.mmsIS(m,v))))}mvjxjp02fda902b8fb446a99457c1a2b62ce0f(){let r=this.rvaoayqbe3499863fe74d319a0d42fdbefb47b2();return(0,it.default)(r,0)}ghugdv8ae802053445454f96e21e8bc4c999ae(){let r={tZWpF:function(d,l,b,m){return d(l,b,m)},MuEmO:function(d,l,b,m){return d(l,b,m)}},[o,c,u]=this.points;return[r.tZWpF(Ne,c,o,u),Ne(o,c,u),r.MuEmO(Ne,o,u,c)]}hpdutpyv91f98b614b14431c97da789d330d7502(r=15*Math.PI/180){return!!this.ghugdv8ae802053445454f96e21e8bc4c999ae().some(c=>c<r)}apadze37e3335986b04a1f9bb09e2c8ebb4e7e(){let r={};r.ztxrL=function(u,p){return u%p},r.yqCzm=function(u,p){return u+p};let o=r,c=this.madajdwt35e9fcdfc8c9402abd4c6b051e8f0a72();if(!c)return this.tqzkjhib6a1a5655e834db6b49a46652d7e2ff6();for(let u=0;u<3;u++){let p=this.points[u],d=this.points[o.ztxrL(o.yqCzm(u,1),3)];if(at.wkyxlqjb5095bad176804870864b88f7adefe694(c,p,d))return this.tqzkjhib6a1a5655e834db6b49a46652d7e2ff6()}return c}memwbhv7272cbfae0684a0ea905b4d6d33e4341(r){let[o,c,u]=this.points,p={};p.p1=o,p.p2=c;let d={};d.p1=c,d.p2=u;let l={};l.p1=u,l.p2=o;let b=[p,d,l],m=[];for(let v of b)for(let D of r)if(!this.points.some(s=>s.zgvuefgfdv3b7585fbd432409b9254458ba3ac55b4(D))&&at.wkyxlqjb5095bad176804870864b88f7adefe694(D,v.p1,v.p2))return m.push(v.p1.tqvcnyby465611fe3c5b4f659b8b49686601b3bc(v.p2)),m;return m}esezkhv5b3117b371eb4c609bab0a796f2696c5(r){let o=this.madajdwt35e9fcdfc8c9402abd4c6b051e8f0a72();return o?r.some(c=>c.mlylhxjowr6766393f734b4f2ca0d967e1ad287edf(o))?o:this.tqzkjhib6a1a5655e834db6b49a46652d7e2ff6():this.tqzkjhib6a1a5655e834db6b49a46652d7e2ff6()}tqzkjhib6a1a5655e834db6b49a46652d7e2ff6(){let r={};r.Wxstr=function(s,g){return s<g},r.IYyao=function(s,g){return s>g};let o=r,[c,u,p]=this.points,d={};d.p1=c,d.p2=u;let l={};l.p1=u,l.p2=p;let b={};b.p1=p,b.p2=c;let m=[d,l,b],v=m[0],D=v.p1.ugmfztriov0877d286e2404fd49317dcc7b614c8c9(v.p2);for(let s=1;o.Wxstr(s,m.length);s++){let g=m[s].p1.ugmfztriov0877d286e2404fd49317dcc7b614c8c9(m[s].p2);o.IYyao(g,D)&&(D=g,v=m[s])}return v.p1.tqvcnyby465611fe3c5b4f659b8b49686601b3bc(v.p2)}};var Pn=class ct{constructor(r,o,c,u){this.points=r,this.tag=o,this.sectionTag=c,this.materialTag=u,this.d3Polygon=r.map(p=>[p.x,p.y])}static FromDto(r){return new ct(r.points.map(o=>X.sgxwqq77bbf1576d3c4fb7a1048d10d83b8e73(o)),r.tag,r.sectionTag,r.materialTag)}flxdelmbfb7c8b284b4483aaba3cc65dda36e02(r){let o={};o.sCfYy=function(u,p){return u-p},o.AaBYE=function(u,p){return u<p};let c=o;for(let u=0,p=c.sCfYy(this.points.length,1);c.AaBYE(u,this.points.length);p=u++)if(En(r,this.points[u],this.points[p]))return!0;return!1}mlylhxjowr6766393f734b4f2ca0d967e1ad287edf(r){let o={wNDda:function(u,p,d){return u(p,d)}};return this.flxdelmbfb7c8b284b4483aaba3cc65dda36e02(r)?!0:o.wNDda(De,this.d3Polygon,[r.x,r.y])}hehsrhe2ad37f0c80a4d69942e695c8d163f6e(r,o){let c={};c.dNrCq=function(d,l){return d%l},c.LDegy=function(d,l){return d+l},c.dIZMI=function(d,l){return d-l},c.dKKdY=function(d,l){return d+l},c.tWUeW=function(d,l){return d*l},c.qHxCX=function(d,l){return d*l},c.ITrLS=function(d,l){return d/l},c.mnGXy=function(d,l){return d+l},c.skKhM=function(d,l){return d+l};let u=c,p=[];for(let d=0;d<r.length;d++){let l=r[d],b=r[u.dNrCq(u.LDegy(d,1),r.length)],m=u.dIZMI(b.x,l.x),v=b.y-l.y,D=Math.sqrt(u.dKKdY(u.tWUeW(m,m),u.qHxCX(v,v))),s=Math.floor(D/o);p.push(new X(l.x,l.y));for(let g=1;g<s;g++){let P=u.ITrLS(u.qHxCX(g,o),D),S=u.mnGXy(l.x,u.qHxCX(P,m)),E=u.skKhM(l.y,u.tWUeW(P,v));p.push(new X(S,E))}}return p}};function En(x,r,o){let c={};c.cqpxO=function(b,m){return b-m},c.lXoEi=function(b,m){return b*m},c.iQPCJ=function(b,m){return b*m},c.IWoRA=function(b,m){return b+m},c.oqdkI=function(b,m){return b-m},c.YxWsE=function(b,m){return b**m},c.rhtXT=function(b,m){return b-m};let u=c,p=u.cqpxO(u.lXoEi(u.cqpxO(x.y,r.y),u.cqpxO(o.x,r.x)),u.iQPCJ(x.x-r.x,u.cqpxO(o.y,r.y)));if(!(0,ft.default)(Math.abs(p),0))return!1;let d=u.IWoRA(u.cqpxO(x.x,r.x)*u.cqpxO(o.x,r.x),(x.y-r.y)*u.oqdkI(o.y,r.y));if(d<0)return!1;let l=u.YxWsE(u.rhtXT(o.x,r.x),2)+u.YxWsE(u.oqdkI(o.y,r.y),2);return!(d>l)}function st(x){let r=x.polygons.map(p=>Pn.FromDto(p)),o=x.baseTriangles.map(p=>In.sgxwqq77bbf1576d3c4fb7a1048d10d83b8e73(p)),c=o,u=[];for(let p of c){let d=p.iqpulp76a732063b7a4c1c8eae1565a06881fd(),l=r.find(b=>b.mlylhxjowr6766393f734b4f2ca0d967e1ad287edf(d));l&&(p.yeluca8763149c42949b5bd90f742093e417c(l.tag,l.sectionTag,l.materialTag),u.push(p))}return{triangles:u.map(p=>p.yetbytqixa0c96493ad9dc4e9ca11c0f4252f49b0a())}}var Ce=ie(dt());var lt=(x,r,o="")=>`View3dModel-${x}-${r}${o}`,mt=x=>`Triangles-${x}`;var $=class extends Error{constructor(r){super(r)}};function xt(x){if(x.length<3)throw new $("At least three vertices are required to form a face.");return{vertices:[...x.filter(r=>r)],results:[]}}var se=ie(pt());var ce=x=>{let r=(x.points??"").trim().split(/\s+/).map(c=>c.split(",")),o=[];for(let[c,u]of r){let p=parseFloat(c),d=parseFloat(u);if(Number.isFinite(p)&&Number.isFinite(d))o.push({x:p,y:d});else throw new $("Invalid vertex coordinates")}return{vertices:o}};function bt(x){let r=0,o=0,c=0,u=x.length;for(let p=0;p<u;p++){let{x:d,y:l}=x[p],{x:b,y:m}=x[(p+1)%u],v=d*m-b*l;r+=v,o+=(d+b)*v,c+=(l+m)*v}return r*=.5,r===0?{x:0,y:0}:(o/=6*r,c/=6*r,{x:o,y:c})}function*yt(x,r){let o=[...new Set(r.rectangles.map(s=>s.name).concat(r.polygons.map(s=>s.name)))],c=[];for(let s of x){let g=s.points.map(E=>Ln(E)),P=xt(g);if(o.indexOf(s.name)===-1)throw new $(`Geometry name ${s.name} not found in geometry rectangles or polygons.`);c.push(P)}let u=r.supports.map(s=>qn(s)),p=x.flatMap(s=>s.points).map(s=>s.x).reduce((s,g)=>Math.max(s,g),-1/0),d=x.flatMap(s=>s.points).map(s=>s.x).reduce((s,g)=>Math.min(s,g),1/0),l=x.flatMap(s=>s.points).map(s=>s.y).reduce((s,g)=>Math.max(s,g),-1/0),b=x.flatMap(s=>s.points).map(s=>s.y).reduce((s,g)=>Math.min(s,g),1/0),m=p-d,v=l-b,D=[...r.polygons.map(s=>ce(s)),...r.rectangles.map(s=>fe(s))].map(s=>s.vertices.map(g=>({x:g.x,y:g.y}))).map(s=>({points:s}));for(let s of r.loadCases)yield{faces:c,wireframeFaces:[],supports:u,borders:D,loads:Mn(s,r),loadCaseTag:s.name,width:m,height:v}}function Mn(x,r){let o=[];for(let c of x.pointLoads)(0,se.default)(c.fx,0)||o.push({x:c.x,y:c.y,z:0,valueX:c.fx,valueY:0,valueZ:0,type:"point"}),(0,se.default)(c.fy,0)||o.push({x:c.x,y:c.y,z:0,valueY:c.fy,valueZ:0,valueX:0,type:"point"});for(let c of x.distributedLoads){let u=r.polygons.filter(l=>l.name===c.geometryName).map(l=>ce(l)),p=r.rectangles.filter(l=>l.name===c.geometryName).map(l=>fe(l)),d=[...u,...p];for(let l of d){let b=bt(l.vertices);(0,se.default)(c.fx,0)||o.push({x:b.x,y:b.y,z:0,valueX:c.fx,valueY:0,valueZ:0,type:"distributed"}),(0,se.default)(c.fy,0)||o.push({x:b.x,y:b.y,z:0,valueX:0,valueY:c.fy,valueZ:0,type:"distributed"})}}return o}function Ln(x){return{x:x.x,y:x.y,z:0,ux:0,uy:0,uz:0,value:0}}function qn(x){return{x:x.x,y:x.y,z:0,ux:x.fixedX,uy:x.fixedY,uz:!1}}addEventListener("message",({data:x})=>{Cn(x)});var Cn=async x=>{let{geometry:r,uuid:o,baseTriangles:c}=x,u=r.loadCases.flatMap(P=>P.pointLoads).map(P=>({x:P.x,y:P.y})),p=r.supports.map(P=>({x:P.x,y:P.y})),d=r.resultPoints.map(P=>({x:P.x,y:P.y})),l=r.rectangles.map(P=>Fn(P)),b=r.polygons.map(P=>zn(P)),m=l.concat(b),v={maxTriangleArea:r.meshingConfiguration.maxTriangleArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(P=>Bn(P))},s=st({polygons:m,extraPoints:u.concat(p).concat(d),meshingConfiguration:v,baseTriangles:c.map(P=>Wn(P))}).triangles.map(P=>Vn(P));await Ce.setItem(mt(o),s);for(let P of yt(s,r))await Ce.setItem(lt(o,P.loadCaseTag),P);postMessage({uuid:o})},Bn=x=>({radius:x.radius,maxTriangleArea:x.maxArea,center:{x:x.x,y:x.y}}),On=x=>({x:x.x,y:x.y}),Vn=x=>({points:x.points.map(o=>On(o)),name:x.tag,sectionTag:x.sectionTag,materialTag:x.materialTag}),Fn=x=>({points:fe(x).vertices.map(o=>({x:o.x,y:o.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),zn=x=>({points:ce(x).vertices.map(o=>({x:o.x,y:o.y})),tag:x.name,sectionTag:x.sectionName,materialTag:x.materialName}),Wn=x=>({points:x.points.map(o=>({x:o.x,y:o.y}))});
