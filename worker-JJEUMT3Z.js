var fn=Object.create;var Xe=Object.defineProperty;var sn=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,dn=Object.prototype.hasOwnProperty;var ae=(b=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(b,{get:(r,a)=>(typeof require<"u"?require:r)[a]}):b)(function(b){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+b+'" is not supported')});var ln=(b,r)=>()=>(r||b((r={exports:{}}).exports,r),r.exports);var mn=(b,r,a,f)=>{if(r&&typeof r=="object"||typeof r=="function")for(let l of cn(r))!dn.call(b,l)&&l!==a&&Xe(b,l,{get:()=>r[l],enumerable:!(f=sn(r,l))||f.enumerable});return b};var bn=(b,r,a)=>(a=b!=null?fn(un(b)):{},mn(r||!b||!b.__esModule?Xe(a,"default",{value:b,enumerable:!0}):a,b));var tt=ln((et,Ie)=>{"use strict";(function(b){if(typeof et=="object"&&typeof Ie<"u")Ie.exports=b();else if(typeof define=="function"&&define.amd)define([],b);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=b()}})(function(){var b,r,a;return function f(l,x,m){function c(T,A){if(!x[T]){if(!l[T]){var u=typeof ae=="function"&&ae;if(!A&&u)return u(T,!0);if(d)return d(T,!0);var v=new Error("Cannot find module '"+T+"'");throw v.code="MODULE_NOT_FOUND",v}var R=x[T]={exports:{}};l[T][0].call(R.exports,function(I){var P=l[T][1][I];return c(P||I)},R,R.exports,f,l,x,m)}return x[T].exports}for(var d=typeof ae=="function"&&ae,h=0;h<m.length;h++)c(m[h]);return c}({1:[function(f,l,x){(function(m){"use strict";var c=m.MutationObserver||m.WebKitMutationObserver,d;if(c){var h=0,T=new c(I),A=m.document.createTextNode("");T.observe(A,{characterData:!0}),d=function(){A.data=h=++h%2}}else if(!m.setImmediate&&typeof m.MessageChannel<"u"){var u=new m.MessageChannel;u.port1.onmessage=I,d=function(){u.port2.postMessage(0)}}else"document"in m&&"onreadystatechange"in m.document.createElement("script")?d=function(){var q=m.document.createElement("script");q.onreadystatechange=function(){I(),q.onreadystatechange=null,q.parentNode.removeChild(q),q=null},m.document.documentElement.appendChild(q)}:d=function(){setTimeout(I,0)};var v,R=[];function I(){v=!0;for(var q,K,O=R.length;O;){for(K=R,R=[],q=-1;++q<O;)K[q]();O=R.length}v=!1}l.exports=P;function P(q){R.push(q)===1&&!v&&d()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,l,x){"use strict";var m=f(1);function c(){}var d={},h=["REJECTED"],T=["FULFILLED"],A=["PENDING"];l.exports=u;function u(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,E!==c&&P(this,E)}u.prototype.catch=function(E){return this.then(null,E)},u.prototype.then=function(E,N){if(typeof E!="function"&&this.state===T||typeof N!="function"&&this.state===h)return this;var D=new this.constructor(c);if(this.state!==A){var C=this.state===T?E:N;R(D,C,this.outcome)}else this.queue.push(new v(D,E,N));return D};function v(E,N,D){this.promise=E,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(E){d.resolve(this.promise,E)},v.prototype.otherCallFulfilled=function(E){R(this.promise,this.onFulfilled,E)},v.prototype.callRejected=function(E){d.reject(this.promise,E)},v.prototype.otherCallRejected=function(E){R(this.promise,this.onRejected,E)};function R(E,N,D){m(function(){var C;try{C=N(D)}catch(F){return d.reject(E,F)}C===E?d.reject(E,new TypeError("Cannot resolve promise with itself")):d.resolve(E,C)})}d.resolve=function(E,N){var D=q(I,N);if(D.status==="error")return d.reject(E,D.value);var C=D.value;if(C)P(E,C);else{E.state=T,E.outcome=N;for(var F=-1,G=E.queue.length;++F<G;)E.queue[F].callFulfilled(N)}return E},d.reject=function(E,N){E.state=h,E.outcome=N;for(var D=-1,C=E.queue.length;++D<C;)E.queue[D].callRejected(N);return E};function I(E){var N=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof N=="function")return function(){N.apply(E,arguments)}}function P(E,N){var D=!1;function C(U){D||(D=!0,d.reject(E,U))}function F(U){D||(D=!0,d.resolve(E,U))}function G(){N(F,C)}var Y=q(G);Y.status==="error"&&C(Y.value)}function q(E,N){var D={};try{D.value=E(N),D.status="success"}catch(C){D.status="error",D.value=C}return D}u.resolve=K;function K(E){return E instanceof this?E:d.resolve(new this(c),E)}u.reject=O;function O(E){var N=new this(c);return d.reject(N,E)}u.all=me;function me(E){var N=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=E.length,C=!1;if(!D)return this.resolve([]);for(var F=new Array(D),G=0,Y=-1,U=new this(c);++Y<D;)Z(E[Y],Y);return U;function Z(ne,ce){N.resolve(ne).then(be,function(ee){C||(C=!0,d.reject(U,ee))});function be(ee){F[ce]=ee,++G===D&&!C&&(C=!0,d.resolve(U,F))}}}u.race=J;function J(E){var N=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=E.length,C=!1;if(!D)return this.resolve([]);for(var F=-1,G=new this(c);++F<D;)Y(E[F]);return G;function Y(U){N.resolve(U).then(function(Z){C||(C=!0,d.resolve(G,Z))},function(Z){C||(C=!0,d.reject(G,Z))})}}},{1:1}],3:[function(f,l,x){(function(m){"use strict";typeof m.Promise!="function"&&(m.Promise=f(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,l,x){"use strict";var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var h=d();function T(){try{if(!h||!h.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function A(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(o){if(o.name!=="TypeError")throw o;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,s=0;s<e.length;s+=1)i.append(e[s]);return i.getBlob(n.type)}}typeof Promise>"u"&&f(3);var u=Promise;function v(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function R(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function I(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function P(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var q="local-forage-detect-blob-support",K=void 0,O={},me=Object.prototype.toString,J="readonly",E="readwrite";function N(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),s=0;s<n;s++)i[s]=e.charCodeAt(s);return t}function D(e){return new u(function(n){var t=e.transaction(q,E),i=A([""]);t.objectStore(q).put(i,"key"),t.onabort=function(s){s.preventDefault(),s.stopPropagation(),n(!1)},t.oncomplete=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),o=navigator.userAgent.match(/Edge\//);n(o||!s||parseInt(s[1],10)>=43)}}).catch(function(){return!1})}function C(e){return typeof K=="boolean"?u.resolve(K):D(e).then(function(n){return K=n,K})}function F(e){var n=O[e.name],t={};t.promise=new u(function(i,s){t.resolve=i,t.reject=s}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function G(e){var n=O[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function Y(e,n){var t=O[e.name],i=t.deferredOperations.pop();if(i)return i.reject(n),i.promise}function U(e,n){return new u(function(t,i){if(O[e.name]=O[e.name]||Me(),e.db)if(n)F(e),e.db.close();else return t(e.db);var s=[e.name];n&&s.push(e.version);var o=h.open.apply(h,s);n&&(o.onupgradeneeded=function(p){var y=o.result;try{y.createObjectStore(e.storeName),p.oldVersion<=1&&y.createObjectStore(q)}catch(g){if(g.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw g}}),o.onerror=function(p){p.preventDefault(),i(o.error)},o.onsuccess=function(){var p=o.result;p.onversionchange=function(y){y.target.close()},t(p),G(e)}})}function Z(e){return U(e,!1)}function ne(e){return U(e,!0)}function ce(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,s=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),s||t){if(t){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function be(e){return new u(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(s){var o=btoa(s.target.result||"");n({__local_forage_encoded_blob:!0,data:o,type:e.type})},i.readAsBinaryString(e)})}function ee(e){var n=N(atob(e.data));return A([n],{type:e.type})}function Ae(e){return e&&e.__local_forage_encoded_blob}function ft(e){var n=this,t=n._initReady().then(function(){var i=O[n._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return R(t,e,e),t}function st(e){F(e);for(var n=O[e.name],t=n.forages,i=0;i<t.length;i++){var s=t[i];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,Z(e).then(function(o){return e.db=o,ce(e)?ne(e):o}).then(function(o){e.db=n.db=o;for(var p=0;p<t.length;p++)t[p]._dbInfo.db=o}).catch(function(o){throw Y(e,o),o})}function k(e,n,t,i){i===void 0&&(i=1);try{var s=e.db.transaction(e.storeName,n);t(null,s)}catch(o){if(i>0&&(!e.db||o.name==="InvalidStateError"||o.name==="NotFoundError"))return u.resolve().then(function(){if(!e.db||o.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ne(e)}).then(function(){return st(e).then(function(){k(e,n,t,i-1)})}).catch(t);t(o)}}function Me(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ct(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var s=O[t.name];s||(s=Me(),O[t.name]=s),s.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=ft);var o=[];function p(){return u.resolve()}for(var y=0;y<s.forages.length;y++){var g=s.forages[y];g!==n&&o.push(g._initReady().catch(p))}var _=s.forages.slice(0);return u.all(o).then(function(){return t.db=s.db,Z(t)}).then(function(w){return t.db=w,ce(t,n._defaultConfig.version)?ne(t):w}).then(function(w){t.db=s.db=w,n._dbInfo=t;for(var S=0;S<_.length;S++){var M=_[S];M!==n&&(M._dbInfo.db=t.db,M._dbInfo.version=t.version)}})}function ut(e,n){var t=this;e=I(e);var i=new u(function(s,o){t.ready().then(function(){k(t._dbInfo,J,function(p,y){if(p)return o(p);try{var g=y.objectStore(t._dbInfo.storeName),_=g.get(e);_.onsuccess=function(){var w=_.result;w===void 0&&(w=null),Ae(w)&&(w=ee(w)),s(w)},_.onerror=function(){o(_.error)}}catch(w){o(w)}})}).catch(o)});return v(i,n),i}function dt(e,n){var t=this,i=new u(function(s,o){t.ready().then(function(){k(t._dbInfo,J,function(p,y){if(p)return o(p);try{var g=y.objectStore(t._dbInfo.storeName),_=g.openCursor(),w=1;_.onsuccess=function(){var S=_.result;if(S){var M=S.value;Ae(M)&&(M=ee(M));var L=e(M,S.key,w++);L!==void 0?s(L):S.continue()}else s()},_.onerror=function(){o(_.error)}}catch(S){o(S)}})}).catch(o)});return v(i,n),i}function lt(e,n,t){var i=this;e=I(e);var s=new u(function(o,p){var y;i.ready().then(function(){return y=i._dbInfo,me.call(n)==="[object Blob]"?C(y.db).then(function(g){return g?n:be(n)}):n}).then(function(g){k(i._dbInfo,E,function(_,w){if(_)return p(_);try{var S=w.objectStore(i._dbInfo.storeName);g===null&&(g=void 0);var M=S.put(g,e);w.oncomplete=function(){g===void 0&&(g=null),o(g)},w.onabort=w.onerror=function(){var L=M.error?M.error:M.transaction.error;p(L)}}catch(L){p(L)}})}).catch(p)});return v(s,t),s}function mt(e,n){var t=this;e=I(e);var i=new u(function(s,o){t.ready().then(function(){k(t._dbInfo,E,function(p,y){if(p)return o(p);try{var g=y.objectStore(t._dbInfo.storeName),_=g.delete(e);y.oncomplete=function(){s()},y.onerror=function(){o(_.error)},y.onabort=function(){var w=_.error?_.error:_.transaction.error;o(w)}}catch(w){o(w)}})}).catch(o)});return v(i,n),i}function bt(e){var n=this,t=new u(function(i,s){n.ready().then(function(){k(n._dbInfo,E,function(o,p){if(o)return s(o);try{var y=p.objectStore(n._dbInfo.storeName),g=y.clear();p.oncomplete=function(){i()},p.onabort=p.onerror=function(){var _=g.error?g.error:g.transaction.error;s(_)}}catch(_){s(_)}})}).catch(s)});return v(t,e),t}function pt(e){var n=this,t=new u(function(i,s){n.ready().then(function(){k(n._dbInfo,J,function(o,p){if(o)return s(o);try{var y=p.objectStore(n._dbInfo.storeName),g=y.count();g.onsuccess=function(){i(g.result)},g.onerror=function(){s(g.error)}}catch(_){s(_)}})}).catch(s)});return v(t,e),t}function ht(e,n){var t=this,i=new u(function(s,o){if(e<0){s(null);return}t.ready().then(function(){k(t._dbInfo,J,function(p,y){if(p)return o(p);try{var g=y.objectStore(t._dbInfo.storeName),_=!1,w=g.openKeyCursor();w.onsuccess=function(){var S=w.result;if(!S){s(null);return}e===0||_?s(S.key):(_=!0,S.advance(e))},w.onerror=function(){o(w.error)}}catch(S){o(S)}})}).catch(o)});return v(i,n),i}function xt(e){var n=this,t=new u(function(i,s){n.ready().then(function(){k(n._dbInfo,J,function(o,p){if(o)return s(o);try{var y=p.objectStore(n._dbInfo.storeName),g=y.openKeyCursor(),_=[];g.onsuccess=function(){var w=g.result;if(!w){i(_);return}_.push(w.key),w.continue()},g.onerror=function(){s(g.error)}}catch(w){s(w)}})}).catch(s)});return v(t,e),t}function yt(e,n){n=P.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,s;if(!e.name)s=u.reject("Invalid arguments");else{var o=e.name===t.name&&i._dbInfo.db,p=o?u.resolve(i._dbInfo.db):Z(e).then(function(y){var g=O[e.name],_=g.forages;g.db=y;for(var w=0;w<_.length;w++)_[w]._dbInfo.db=y;return y});e.storeName?s=p.then(function(y){if(y.objectStoreNames.contains(e.storeName)){var g=y.version+1;F(e);var _=O[e.name],w=_.forages;y.close();for(var S=0;S<w.length;S++){var M=w[S];M._dbInfo.db=null,M._dbInfo.version=g}var L=new u(function(z,B){var V=h.open(e.name,g);V.onerror=function(W){var oe=V.result;oe.close(),B(W)},V.onupgradeneeded=function(){var W=V.result;W.deleteObjectStore(e.storeName)},V.onsuccess=function(){var W=V.result;W.close(),z(W)}});return L.then(function(z){_.db=z;for(var B=0;B<w.length;B++){var V=w[B];V._dbInfo.db=z,G(V._dbInfo)}}).catch(function(z){throw(Y(e,z)||u.resolve()).catch(function(){}),z})}}):s=p.then(function(y){F(e);var g=O[e.name],_=g.forages;y.close();for(var w=0;w<_.length;w++){var S=_[w];S._dbInfo.db=null}var M=new u(function(L,z){var B=h.deleteDatabase(e.name);B.onerror=function(){var V=B.result;V&&V.close(),z(B.error)},B.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},B.onsuccess=function(){var V=B.result;V&&V.close(),L(V)}});return M.then(function(L){g.db=L;for(var z=0;z<_.length;z++){var B=_[z];G(B._dbInfo)}}).catch(function(L){throw(Y(e,L)||u.resolve()).catch(function(){}),L})})}return v(s,n),s}var vt={_driver:"asyncStorage",_initStorage:ct,_support:T(),iterate:dt,getItem:ut,setItem:lt,removeItem:mt,clear:bt,length:pt,key:ht,keys:xt,dropInstance:yt};function gt(){return typeof openDatabase=="function"}var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_t="~~local_forage_type~",De=/^~~local_forage_type~([^~]+)~/,ue="__lfsc__:",pe=ue.length,he="arbf",xe="blob",Ne="si08",Le="ui08",ze="uic8",Ce="si16",Ve="si32",Be="ur16",qe="ui32",Oe="fl32",Fe="fl64",Ge=pe+he.length,je=Object.prototype.toString;function Ye(e){var n=e.length*.75,t=e.length,i,s=0,o,p,y,g;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var _=new ArrayBuffer(n),w=new Uint8Array(_);for(i=0;i<t;i+=4)o=X.indexOf(e[i]),p=X.indexOf(e[i+1]),y=X.indexOf(e[i+2]),g=X.indexOf(e[i+3]),w[s++]=o<<2|p>>4,w[s++]=(p&15)<<4|y>>2,w[s++]=(y&3)<<6|g&63;return _}function ye(e){var n=new Uint8Array(e),t="",i;for(i=0;i<n.length;i+=3)t+=X[n[i]>>2],t+=X[(n[i]&3)<<4|n[i+1]>>4],t+=X[(n[i+1]&15)<<2|n[i+2]>>6],t+=X[n[i+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function wt(e,n){var t="";if(e&&(t=je.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&je.call(e.buffer)==="[object ArrayBuffer]")){var i,s=ue;e instanceof ArrayBuffer?(i=e,s+=he):(i=e.buffer,t==="[object Int8Array]"?s+=Ne:t==="[object Uint8Array]"?s+=Le:t==="[object Uint8ClampedArray]"?s+=ze:t==="[object Int16Array]"?s+=Ce:t==="[object Uint16Array]"?s+=Be:t==="[object Int32Array]"?s+=Ve:t==="[object Uint32Array]"?s+=qe:t==="[object Float32Array]"?s+=Oe:t==="[object Float64Array]"?s+=Fe:n(new Error("Failed to get type for BinaryArray"))),n(s+ye(i))}else if(t==="[object Blob]"){var o=new FileReader;o.onload=function(){var p=_t+e.type+"~"+ye(this.result);n(ue+xe+p)},o.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(p){console.error("Couldn't convert value into a JSON string: ",e),n(null,p)}}function Tt(e){if(e.substring(0,pe)!==ue)return JSON.parse(e);var n=e.substring(Ge),t=e.substring(pe,Ge),i;if(t===xe&&De.test(n)){var s=n.match(De);i=s[1],n=n.substring(s[0].length)}var o=Ye(n);switch(t){case he:return o;case xe:return A([o],{type:i});case Ne:return new Int8Array(o);case Le:return new Uint8Array(o);case ze:return new Uint8ClampedArray(o);case Ce:return new Int16Array(o);case Be:return new Uint16Array(o);case Ve:return new Int32Array(o);case qe:return new Uint32Array(o);case Oe:return new Float32Array(o);case Fe:return new Float64Array(o);default:throw new Error("Unkown type: "+t)}}var ve={serialize:wt,deserialize:Tt,stringToBuffer:Ye,bufferToString:ye};function Ue(e,n,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function Et(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var s=new u(function(o,p){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(y){return p(y)}t.db.transaction(function(y){Ue(y,t,function(){n._dbInfo=t,o()},function(g,_){p(_)})},p)});return t.serializer=ve,s}function $(e,n,t,i,s,o){e.executeSql(t,i,s,function(p,y){y.code===y.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(g,_){_.rows.length?o(g,y):Ue(g,n,function(){g.executeSql(t,i,s,o)},o)},o):o(p,y)},o)}function St(e,n){var t=this;e=I(e);var i=new u(function(s,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){$(y,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[e],function(g,_){var w=_.rows.length?_.rows.item(0).value:null;w&&(w=p.serializer.deserialize(w)),s(w)},function(g,_){o(_)})})}).catch(o)});return v(i,n),i}function Rt(e,n){var t=this,i=new u(function(s,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){$(y,p,"SELECT * FROM "+p.storeName,[],function(g,_){for(var w=_.rows,S=w.length,M=0;M<S;M++){var L=w.item(M),z=L.value;if(z&&(z=p.serializer.deserialize(z)),z=e(z,L.key,M+1),z!==void 0){s(z);return}}s()},function(g,_){o(_)})})}).catch(o)});return v(i,n),i}function We(e,n,t,i){var s=this;e=I(e);var o=new u(function(p,y){s.ready().then(function(){n===void 0&&(n=null);var g=n,_=s._dbInfo;_.serializer.serialize(n,function(w,S){S?y(S):_.db.transaction(function(M){$(M,_,"INSERT OR REPLACE INTO "+_.storeName+" (key, value) VALUES (?, ?)",[e,w],function(){p(g)},function(L,z){y(z)})},function(M){if(M.code===M.QUOTA_ERR){if(i>0){p(We.apply(s,[e,g,t,i-1]));return}y(M)}})})}).catch(y)});return v(o,t),o}function It(e,n,t){return We.apply(this,[e,n,t,1])}function Pt(e,n){var t=this;e=I(e);var i=new u(function(s,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){$(y,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[e],function(){s()},function(g,_){o(_)})})}).catch(o)});return v(i,n),i}function At(e){var n=this,t=new u(function(i,s){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(p){$(p,o,"DELETE FROM "+o.storeName,[],function(){i()},function(y,g){s(g)})})}).catch(s)});return v(t,e),t}function Mt(e){var n=this,t=new u(function(i,s){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(p){$(p,o,"SELECT COUNT(key) as c FROM "+o.storeName,[],function(y,g){var _=g.rows.item(0).c;i(_)},function(y,g){s(g)})})}).catch(s)});return v(t,e),t}function Dt(e,n){var t=this,i=new u(function(s,o){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(y){$(y,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[e+1],function(g,_){var w=_.rows.length?_.rows.item(0).key:null;s(w)},function(g,_){o(_)})})}).catch(o)});return v(i,n),i}function Nt(e){var n=this,t=new u(function(i,s){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(p){$(p,o,"SELECT key FROM "+o.storeName,[],function(y,g){for(var _=[],w=0;w<g.rows.length;w++)_.push(g.rows.item(w).key);i(_)},function(y,g){s(g)})})}).catch(s)});return v(t,e),t}function Lt(e){return new u(function(n,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(s,o){for(var p=[],y=0;y<o.rows.length;y++)p.push(o.rows.item(y).name);n({db:e,storeNames:p})},function(s,o){t(o)})},function(i){t(i)})})}function zt(e,n){n=P.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,s;return e.name?s=new u(function(o){var p;e.name===t.name?p=i._dbInfo.db:p=openDatabase(e.name,"","",0),e.storeName?o({db:p,storeNames:[e.storeName]}):o(Lt(p))}).then(function(o){return new u(function(p,y){o.db.transaction(function(g){function _(L){return new u(function(z,B){g.executeSql("DROP TABLE IF EXISTS "+L,[],function(){z()},function(V,W){B(W)})})}for(var w=[],S=0,M=o.storeNames.length;S<M;S++)w.push(_(o.storeNames[S]));u.all(w).then(function(){p()}).catch(function(L){y(L)})},function(g){y(g)})})}):s=u.reject("Invalid arguments"),v(s,n),s}var Ct={_driver:"webSQLStorage",_initStorage:Et,_support:gt(),iterate:Rt,getItem:St,setItem:It,removeItem:Pt,clear:At,length:Mt,key:Dt,keys:Nt,dropInstance:zt};function Vt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qe(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Bt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function qt(){return!Bt()||localStorage.length>0}function Ot(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=Qe(e,n._defaultConfig),qt()?(n._dbInfo=t,t.serializer=ve,u.resolve()):u.reject()}function Ft(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo.keyPrefix,s=localStorage.length-1;s>=0;s--){var o=localStorage.key(s);o.indexOf(i)===0&&localStorage.removeItem(o)}});return v(t,e),t}function Gt(e,n){var t=this;e=I(e);var i=t.ready().then(function(){var s=t._dbInfo,o=localStorage.getItem(s.keyPrefix+e);return o&&(o=s.serializer.deserialize(o)),o});return v(i,n),i}function jt(e,n){var t=this,i=t.ready().then(function(){for(var s=t._dbInfo,o=s.keyPrefix,p=o.length,y=localStorage.length,g=1,_=0;_<y;_++){var w=localStorage.key(_);if(w.indexOf(o)===0){var S=localStorage.getItem(w);if(S&&(S=s.serializer.deserialize(S)),S=e(S,w.substring(p),g++),S!==void 0)return S}}});return v(i,n),i}function Yt(e,n){var t=this,i=t.ready().then(function(){var s=t._dbInfo,o;try{o=localStorage.key(e)}catch{o=null}return o&&(o=o.substring(s.keyPrefix.length)),o});return v(i,n),i}function Ut(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo,s=localStorage.length,o=[],p=0;p<s;p++){var y=localStorage.key(p);y.indexOf(i.keyPrefix)===0&&o.push(y.substring(i.keyPrefix.length))}return o});return v(t,e),t}function Wt(e){var n=this,t=n.keys().then(function(i){return i.length});return v(t,e),t}function Qt(e,n){var t=this;e=I(e);var i=t.ready().then(function(){var s=t._dbInfo;localStorage.removeItem(s.keyPrefix+e)});return v(i,n),i}function Kt(e,n,t){var i=this;e=I(e);var s=i.ready().then(function(){n===void 0&&(n=null);var o=n;return new u(function(p,y){var g=i._dbInfo;g.serializer.serialize(n,function(_,w){if(w)y(w);else try{localStorage.setItem(g.keyPrefix+e,_),p(o)}catch(S){(S.name==="QuotaExceededError"||S.name==="NS_ERROR_DOM_QUOTA_REACHED")&&y(S),y(S)}})})});return v(s,t),s}function Zt(e,n){if(n=P.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,s;return e.name?s=new u(function(o){e.storeName?o(Qe(e,i._defaultConfig)):o(e.name+"/")}).then(function(o){for(var p=localStorage.length-1;p>=0;p--){var y=localStorage.key(p);y.indexOf(o)===0&&localStorage.removeItem(y)}}):s=u.reject("Invalid arguments"),v(s,n),s}var kt={_driver:"localStorageWrapper",_initStorage:Ot,_support:Vt(),iterate:jt,getItem:Gt,setItem:Kt,removeItem:Qt,clear:Ft,length:Wt,key:Yt,keys:Ut,dropInstance:Zt},Xt=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},$t=function(n,t){for(var i=n.length,s=0;s<i;){if(Xt(n[s],t))return!0;s++}return!1},Ke=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},re={},Ze={},te={INDEXEDDB:vt,WEBSQL:Ct,LOCALSTORAGE:kt},Ht=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],de=["dropInstance"],ge=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(de),Jt={description:"",driver:Ht.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function en(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function _e(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Ke(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var tn=function(){function e(n){c(this,e);for(var t in te)if(te.hasOwnProperty(t)){var i=te[t],s=i._driver;this[t]=s,re[s]||this.defineDriver(i)}this._defaultConfig=_e({},Jt),this._config=_e({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":m(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,s){var o=new u(function(p,y){try{var g=t._driver,_=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){y(_);return}for(var w=ge.concat("_initStorage"),S=0,M=w.length;S<M;S++){var L=w[S],z=!$t(de,L);if((z||t[L])&&typeof t[L]!="function"){y(_);return}}var B=function(){for(var oe=function(on){return function(){var an=new Error("Method "+on+" is not implemented by the current driver"),ke=u.reject(an);return v(ke,arguments[arguments.length-1]),ke}},we=0,rn=de.length;we<rn;we++){var Te=de[we];t[Te]||(t[Te]=oe(Te))}};B();var V=function(oe){re[g]&&console.info("Redefining LocalForage driver: "+g),re[g]=t,Ze[g]=oe,p()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(V,y):V(!!t._support):V(!0)}catch(W){y(W)}});return R(o,i,s),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,s){var o=re[t]?u.resolve(re[t]):u.reject(new Error("Driver not found."));return R(o,i,s),o},e.prototype.getSerializer=function(t){var i=u.resolve(ve);return R(i,t),i},e.prototype.ready=function(t){var i=this,s=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return R(s,t,t),s},e.prototype.setDriver=function(t,i,s){var o=this;Ke(t)||(t=[t]);var p=this._getSupportedDrivers(t);function y(){o._config.driver=o.driver()}function g(S){return o._extend(S),y(),o._ready=o._initStorage(o._config),o._ready}function _(S){return function(){var M=0;function L(){for(;M<S.length;){var z=S[M];return M++,o._dbInfo=null,o._ready=null,o.getDriver(z).then(g).catch(L)}y();var B=new Error("No available storage method found.");return o._driverSet=u.reject(B),o._driverSet}return L()}}var w=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=w.then(function(){var S=p[0];return o._dbInfo=null,o._ready=null,o.getDriver(S).then(function(M){o._driver=M._driver,y(),o._wrapLibraryMethodsWithReady(),o._initDriver=_(p)})}).catch(function(){y();var S=new Error("No available storage method found.");return o._driverSet=u.reject(S),o._driverSet}),R(this._driverSet,i,s),this._driverSet},e.prototype.supports=function(t){return!!Ze[t]},e.prototype._extend=function(t){_e(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],s=0,o=t.length;s<o;s++){var p=t[s];this.supports(p)&&i.push(p)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=ge.length;t<i;t++)en(this,ge[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),nn=new tn;l.exports=nn},{3:3}]},{},[4])(4)})});var ie=b=>({vertices:[{x:b.x,y:b.y},{x:b.x+b.width,y:b.y},{x:b.x+b.width,y:b.y+b.height},{x:b.x,y:b.y+b.height}]});function Ee(b,r){for(var a=b.length,f=b[a-1],l=r[0],x=r[1],m=f[0],c=f[1],d,h,T=!1,A=0;A<a;++A)f=b[A],d=f[0],h=f[1],h>x!=c>x&&l<(m-d)*(x-h)/(c-h)+d&&(T=!T),m=d,c=h;return T}var pn=2220446049250313e-31;function le(b,r,a,f){let l={};l.RZFma=function(c,d){return c-d},l.IBVyw=function(c,d){return c==d},l.MEOSn=function(c,d){return c==d},l.CkbID=function(c,d){return c<=d},l.aUjPf=function(c,d){return c*d},l.Xezbn=function(c,d){return c===d};let x=l,m=Math.abs(x.RZFma(b,r));return x.IBVyw(a,null)&&(a=pn),x.MEOSn(f,null)&&(f=a),x.CkbID(m,a)||m<=x.aUjPf(f,Math.min(Math.abs(b),Math.abs(r)))?!0:x.Xezbn(b,r)}var Q=class Re{constructor(r,a){this.x=r,this.y=a}static usbfiprbqo136d6a8efbb14f18bef7b0f99f84c9fa(r){return new Re(r.x,r.y)}josbrahc4398e830d2c248e2ba124e01a99db72d(){let r={};return r.x=this.x,r.y=this.y,r}srhapghlab6ac26ff105db4d09ad5d752d237fd107(r){let a={Xsyqu:function(l,x,m){return l(x,m)}};return le(this.x,r.x)&&a.Xsyqu(le,this.y,r.y)}lahbabn296de0619b574daeabd58eb1e5809f5d(){return[this.x,this.y]}iygvpztxldd7be446a330a4cf2b7527416a7b1317c(r){let a={};a.TtwVd=function(m,c){return m/c},a.eQxOM=function(m,c){return m+c},a.CCkED=function(m,c){return m+c};let f=a,l=f.TtwVd(f.eQxOM(this.x,r.x),2),x=f.TtwVd(f.CCkED(this.y,r.y),2);return new Re(l,x)}tpcycqx7a77d6185eb445bb9dd01c76baca2077(r){let a={};a.pUsaS=function(m,c){return m-c},a.PdtQZ=function(m,c){return m+c},a.GiOvd=function(m,c){return m*c},a.gigaJ=function(m,c){return m*c};let f=a,l=f.pUsaS(r.x,this.x),x=r.y-this.y;return Math.sqrt(f.PdtQZ(f.GiOvd(l,l),f.gigaJ(x,x)))}};function Se(b,r,a){let f={};f.xVApQ=function(u,v){return u-v},f.sAJPt=function(u,v){return u-v},f.Qrhae=function(u,v){return u+v},f.Bfcfz=function(u,v){return u*v},f.wGoUw=function(u,v){return u===v},f.MBKLr=function(u,v){return u/v},f.VQEjS=function(u,v){return u*v};let l=f,x={x:l.xVApQ(b.x,r.x),y:l.sAJPt(b.y,r.y)},m={};m.x=a.x-r.x,m.y=a.y-r.y;let c=m,d=l.Qrhae(l.Bfcfz(x.x,c.x),l.Bfcfz(x.y,c.y)),h=Math.hypot(x.x,x.y),T=Math.hypot(c.x,c.y);if(h===0||l.wGoUw(T,0))return 0;let A=Math.min(1,Math.max(-1,l.MBKLr(d,l.VQEjS(h,T))));return Math.acos(A)}var $e=class{static mqpxoorhqb43457665c4a4cff9379478340125def(b,r,a){let f={};f.MGXpe=function(d,h){return d/h},f.QmRVE=function(d,h){return d<=h};let l=f,x=r.iygvpztxldd7be446a330a4cf2b7527416a7b1317c(a),m=l.MGXpe(r.tpcycqx7a77d6185eb445bb9dd01c76baca2077(a),2),c=x.tpcycqx7a77d6185eb445bb9dd01c76baca2077(b);return l.QmRVE(c,m)}},hn=class j{constructor(r){this.points=r,!j.zzzss37f1f2c651414687877a2e546c386f1c(r)&&this.points.reverse()}tag="";sectionTag="";materialTag="";static usbfiprbqo136d6a8efbb14f18bef7b0f99f84c9fa(r){return new j(r.points.map(a=>Q.usbfiprbqo136d6a8efbb14f18bef7b0f99f84c9fa(a)))}josbrahc4398e830d2c248e2ba124e01a99db72d(){return{points:this.points.map(r=>r.josbrahc4398e830d2c248e2ba124e01a99db72d()),tag:this.tag,sectionTag:this.sectionTag,materialTag:this.materialTag}}static zzzss37f1f2c651414687877a2e546c386f1c(r){let a={};a.XTzll=function(d,h){return d-h},a.ptPav=function(d,h){return d-h},a.RzVQS=function(d,h){return d*h},a.esWQq=function(d,h){return d-h},a.VLBKx=function(d,h){return d-h};let f=a,[l,x,m]=r;return f.XTzll(x.x,l.x)*f.ptPav(m.y,l.y)-f.RzVQS(f.esWQq(x.y,l.y),f.VLBKx(m.x,l.x))>0}ilzxmuvrec620b02792054c3da8fcd0a1f783101a(r,a,f){this.tag=r,this.sectionTag=a,this.materialTag=f}cgiuzbae7789d944bf415da8487e550acbae76(){let r={};r.hrExH=function(d,h){return d/h},r.qHlUW=function(d,h){return d+h},r.EtkjM=function(d,h){return d/h},r.yLNsV=function(d,h){return d+h};let a=r,[f,l,x]=this.points,m=a.hrExH(a.qHlUW(a.qHlUW(f.x,l.x),x.x),3),c=a.EtkjM(a.qHlUW(a.yLNsV(f.y,l.y),x.y),3);return new Q(m,c)}pigxgqvpf26ca5d64e6ba4490934afd243700a7a7(r=.1){let a={};a.BwjVv=function(h,T){return h-T},a.EpETU=function(h,T){return h+T},a.NpyUf=function(h,T){return h/T},a.aNoSE=function(h,T){return h*T};let f=a,l=this.cgiuzbae7789d944bf415da8487e550acbae76(),x=this.points.map(h=>{let T=l.x-h.x,A=f.BwjVv(l.y,h.y);return Math.sqrt(f.EpETU(T*T,A*A))}),m=Math.max(...x),c=m*r;return this.points.map(h=>{let T=f.BwjVv(l.x,h.x),A=f.BwjVv(l.y,h.y),u=Math.sqrt(T*T+A*A),v=f.NpyUf(c,u);return new Q(f.EpETU(h.x,f.aNoSE(T,v)),f.EpETU(h.y,f.aNoSE(A,v)))})}xuytms61aeac3b4c78402c8bf55daa65139ff5(){let r=this.cgiuzbae7789d944bf415da8487e550acbae76();return[new j([this.points[0],this.points[1],r]),new j([this.points[1],this.points[2],r]),new j([this.points[2],this.points[0],r])]}khnjor46ff5f763ead414487829b0128d97de0(){let r={};r.yjGJc=function(h,T){return h/T},r.JaiNd=function(h,T){return h+T},r.oTquF=function(h,T){return h/T},r.hfwIo=function(h,T){return h+T};let a=r,[f,l,x]=this.points,m=new Q(a.yjGJc(f.x+l.x,2),a.JaiNd(f.y,l.y)/2),c=new Q(a.oTquF(l.x+x.x,2),a.yjGJc(a.hfwIo(l.y,x.y),2)),d=new Q(a.oTquF(x.x+f.x,2),(x.y+f.y)/2);return[new j([f,m,d]),new j([m,l,c]),new j([d,c,x]),new j([m,c,d])]}ybrhzidab9380439054f07ac7e25a637f87fe3(){let r={};r.eMMtg=function(I,P){return I+P},r.YrJRv=function(I,P){return I+P},r.YIRTI=function(I,P){return I*P},r.lmuQT=function(I,P){return I-P},r.qJZbP=function(I,P){return I*P},r.caKdc=function(I,P){return I+P},r.HWzAR=function(I,P){return I+P},r.hwfoU=function(I,P){return I*P},r.MYWMV=function(I,P){return I*P},r.ZecSP=function(I,P){return I*P},r.LGjXU=function(I,P){return I-P},r.ePMfy=function(I,P){return I/P},r.zIAmb=function(I,P){return I+P},r.pjLTG=function(I,P){return I*P},r.BWhFK=function(I,P){return I*P},r.UolMP=function(I,P){return I*P},r.rDUvK=function(I,P){return I*P};let a=r,[f,l,x]=this.points,m=f.x,c=f.y,d=l.x,h=l.y,T=x.x,A=x.y,u=2*a.eMMtg(a.YrJRv(a.YIRTI(m,a.lmuQT(h,A)),d*a.lmuQT(A,c)),a.qJZbP(T,a.lmuQT(c,h)));if(Math.abs(u)<1e-10)return null;let v=a.caKdc(a.qJZbP(a.eMMtg(m*m,a.qJZbP(c,c)),h-A)+a.HWzAR(a.hwfoU(d,d),a.MYWMV(h,h))*a.lmuQT(A,c),a.YIRTI(a.caKdc(T*T,a.ZecSP(A,A)),a.LGjXU(c,h)))/u,R=a.ePMfy(a.HWzAR(a.caKdc(a.YIRTI(a.zIAmb(a.pjLTG(m,m),c*c),a.lmuQT(T,d)),a.BWhFK(a.ZecSP(d,d)+a.ZecSP(h,h),a.LGjXU(m,T))),(a.UolMP(T,T)+a.rDUvK(A,A))*(d-m)),u);return new Q(v,R)}jymvgpzd504fb3ddbd9447b82bafd1a6d0a583e(){let r={};r.DonzU=function(l,x){return l===x};let a=r,f=this.ybrhzidab9380439054f07ac7e25a637f87fe3();return a.DonzU(f,null)?[]:[new j([this.points[0],this.points[1],f]),new j([this.points[1],this.points[2],f]),new j([this.points[2],this.points[0],f])]}jovqgtqvr9a38a4e22300491ba318230109b00970(){let r={};r.CVprN=function(v,R){return v+R},r.iTYrM=function(v,R){return v*R},r.wRPZW=function(v,R){return v-R};let a=r,[f,l,x]=this.points,m=f.x,c=l.x,d=x.x,h=f.y,T=l.y,A=x.y;return .5*Math.abs(a.CVprN(a.CVprN(m*(T-A),a.iTYrM(c,a.wRPZW(A,h))),d*a.wRPZW(h,T)))}iepjskzrso8c42f5e49b864492b8bd9a9aa7e05b5b(){let r={PHLLe:function(f,l,x){return f(l,x)}},a=this.jovqgtqvr9a38a4e22300491ba318230109b00970();return r.PHLLe(le,a,0)}hjnngwd6075396313534189b2fc4be2fa2ef130(){let r={RzFfe:function(m,c,d,h){return m(c,d,h)}},[a,f,l]=this.points;return[r.RzFfe(Se,f,a,l),Se(a,f,l),r.RzFfe(Se,a,l,f)]}gyaqpgd0577c56b14e450e816614d2d303aa32(r=15*Math.PI/180){return!!this.hjnngwd6075396313534189b2fc4be2fa2ef130().some(f=>f<r)}bivroqgbgu844f06a7018c473f8b3315b2356816d1(){let r={};r.ixYOp=function(l,x){return l%x};let a=r,f=this.ybrhzidab9380439054f07ac7e25a637f87fe3();if(!f)return this.yqccrqla878a34973c1a4043834d5881185516fd();for(let l=0;l<3;l++){let x=this.points[l],m=this.points[a.ixYOp(l+1,3)];if($e.mqpxoorhqb43457665c4a4cff9379478340125def(f,x,m))return this.yqccrqla878a34973c1a4043834d5881185516fd()}return f}joldgxbjiec841b76673b0475ab22fc498f61cd453(r){let[a,f,l]=this.points,x={};x.p1=a,x.p2=f;let m={};m.p1=f,m.p2=l;let c={};c.p1=l,c.p2=a;let d=[x,m,c],h=[];for(let T of d)for(let A of r)if(!this.points.some(u=>u.srhapghlab6ac26ff105db4d09ad5d752d237fd107(A))&&$e.mqpxoorhqb43457665c4a4cff9379478340125def(A,T.p1,T.p2))return h.push(T.p1.iygvpztxldd7be446a330a4cf2b7527416a7b1317c(T.p2)),h;return h}rrrnjm585ec18b2e0f4abd8077886451f7d9af(r){let a=this.ybrhzidab9380439054f07ac7e25a637f87fe3();return a?r.some(f=>f.vlziu0543969f0d6a4f509f1fef1ac712f8b2(a))?a:this.yqccrqla878a34973c1a4043834d5881185516fd():this.yqccrqla878a34973c1a4043834d5881185516fd()}yqccrqla878a34973c1a4043834d5881185516fd(){let r={};r.TSCzV=function(u,v){return u<v};let a=r,[f,l,x]=this.points,m={};m.p1=f,m.p2=l;let c={};c.p1=l,c.p2=x;let d={};d.p1=x,d.p2=f;let h=[m,c,d],T=h[0],A=T.p1.tpcycqx7a77d6185eb445bb9dd01c76baca2077(T.p2);for(let u=1;a.TSCzV(u,h.length);u++){let v=h[u].p1.tpcycqx7a77d6185eb445bb9dd01c76baca2077(h[u].p2);v>A&&(A=v,T=h[u])}return T.p1.iygvpztxldd7be446a330a4cf2b7527416a7b1317c(T.p2)}};var xn=class He{constructor(r,a,f,l){let x={};x.WeaHI="3|2|1|0|4";let m=x,c=m.WeaHI.split("|"),d=0;for(;;){switch(c[d++]){case"0":this.materialTag=l;continue;case"1":this.sectionTag=f;continue;case"2":this.tag=a;continue;case"3":this.points=r;continue;case"4":this.d3Polygon=r.map(h=>[h.x,h.y]);continue}break}}d3Polygon;static usbfiprbqo136d6a8efbb14f18bef7b0f99f84c9fa(r){return new He(r.points.map(a=>Q.usbfiprbqo136d6a8efbb14f18bef7b0f99f84c9fa(a)),r.tag,r.sectionTag,r.materialTag)}oudufurme3afed088e5e4c6d8cda6e9eac832f0d(r){let a={tIYdo:function(f,l,x,m){return f(l,x,m)}};for(let f=0,l=this.points.length-1;f<this.points.length;l=f++)if(a.tIYdo(yn,r,this.points[f],this.points[l]))return!0;return!1}vlziu0543969f0d6a4f509f1fef1ac712f8b2(r){let a={lQXeh:function(l,x,m){return l(x,m)}};return this.oudufurme3afed088e5e4c6d8cda6e9eac832f0d(r)?!0:a.lQXeh(Ee,this.d3Polygon,[r.x,r.y])}tuamissveeaae303e26843cda9b110569ef1f0d3(r,a){let f={};f.pzdLm=function(m,c){return m+c},f.qzFYn=function(m,c){return m-c},f.qieIV=function(m,c){return m*c},f.EELWT=function(m,c){return m*c},f.exprv=function(m,c){return m/c},f.fbtVl=function(m,c){return m<c},f.dEEtT=function(m,c){return m*c},f.zGkAz=function(m,c){return m+c},f.rCCkS=function(m,c){return m*c};let l=f,x=[];for(let m=0;m<r.length;m++){let c=r[m],d=r[l.pzdLm(m,1)%r.length],h=l.qzFYn(d.x,c.x),T=d.y-c.y,A=Math.sqrt(l.pzdLm(l.qieIV(h,h),l.EELWT(T,T))),u=Math.floor(l.exprv(A,a));x.push(new Q(c.x,c.y));for(let v=1;l.fbtVl(v,u);v++){let R=l.exprv(l.EELWT(v,a),A),I=c.x+l.dEEtT(R,h),P=l.zGkAz(c.y,l.rCCkS(R,T));x.push(new Q(I,P))}}return x}};function yn(b,r,a){let f={pAASR:function(c,d){return c-d},glvAw:function(c,d){return c-d},rAmgO:function(c,d){return c*d},YmIhw:function(c,d){return c-d},OCLSe:function(c,d,h){return c(d,h)},kxNsj:function(c,d){return c-d},Mufwb:function(c,d){return c-d},sBKgZ:function(c,d){return c<d},ZlpgO:function(c,d){return c+d},LzLiY:function(c,d){return c**d},AzXxq:function(c,d){return c-d},ElgqB:function(c,d){return c**d},fcMWi:function(c,d){return c>d}},l=f.pAASR(f.pAASR(b.y,r.y)*f.glvAw(a.x,r.x),f.rAmgO(f.YmIhw(b.x,r.x),a.y-r.y));if(!f.OCLSe(le,Math.abs(l),0))return!1;let x=f.pAASR(b.x,r.x)*(a.x-r.x)+f.kxNsj(b.y,r.y)*f.Mufwb(a.y,r.y);if(f.sBKgZ(x,0))return!1;let m=f.ZlpgO(f.LzLiY(f.AzXxq(a.x,r.x),2),f.ElgqB(f.kxNsj(a.y,r.y),2));return!f.fcMWi(x,m)}function Je(b){let r=b.polygons.map(x=>xn.usbfiprbqo136d6a8efbb14f18bef7b0f99f84c9fa(x)),a=b.baseTriangles.map(x=>hn.usbfiprbqo136d6a8efbb14f18bef7b0f99f84c9fa(x)),f=a,l=[];for(let x of f){let m=x.cgiuzbae7789d944bf415da8487e550acbae76(),c=r.find(d=>d.vlziu0543969f0d6a4f509f1fef1ac712f8b2(m));c&&(x.ilzxmuvrec620b02792054c3da8fcd0a1f783101a(c.tag,c.sectionTag,c.materialTag),l.push(x))}return{triangles:l.map(x=>x.josbrahc4398e830d2c248e2ba124e01a99db72d())}}var Pe=bn(tt());var nt=(b,r,a="")=>`View3dModel-${b}-${r}${a}`,rt=b=>`Triangles-${b}`;var gn=2220446049250313e-31;function fe(b,r,a,f){let l=Math.abs(b-r);return a==null&&(a=gn),f==null&&(f=a),l<=a||l<=f*Math.min(Math.abs(b),Math.abs(r))?!0:b===r}var H=class extends Error{constructor(r){super(r)}};function ot(b){if(b.length<3)throw new H("At least three vertices are required to form a face.");return{vertices:[...b.filter(r=>r)],results:[]}}var se=b=>{let r=(b.points??"").trim().split(/\s+/).map(f=>f.split(",")),a=[];for(let[f,l]of r){let x=parseFloat(f),m=parseFloat(l);if(Number.isFinite(x)&&Number.isFinite(m))a.push({x,y:m});else throw new H("Invalid vertex coordinates")}return{vertices:a}};function at(b){let r=0,a=0,f=0,l=b.length;for(let x=0;x<l;x++){let{x:m,y:c}=b[x],{x:d,y:h}=b[(x+1)%l],T=m*h-d*c;r+=T,a+=(m+d)*T,f+=(c+h)*T}return r*=.5,r===0?{x:0,y:0}:(a/=6*r,f/=6*r,{x:a,y:f})}function*it(b,r){let a=[...new Set(r.rectangles.map(u=>u.name).concat(r.polygons.map(u=>u.name)))],f=[];for(let u of b){let v=u.points.map(P=>Tn(P)),R=ot(v);if(a.indexOf(u.name)===-1)throw new H(`Geometry name ${u.name} not found in geometry rectangles or polygons.`);f.push(R)}let l=r.supports.map(u=>En(u)),x=b.flatMap(u=>u.points).map(u=>u.x).reduce((u,v)=>Math.max(u,v),-1/0),m=b.flatMap(u=>u.points).map(u=>u.x).reduce((u,v)=>Math.min(u,v),1/0),c=b.flatMap(u=>u.points).map(u=>u.y).reduce((u,v)=>Math.max(u,v),-1/0),d=b.flatMap(u=>u.points).map(u=>u.y).reduce((u,v)=>Math.min(u,v),1/0),h=x-m,T=c-d,A=[...r.polygons.map(u=>se(u)),...r.rectangles.map(u=>ie(u))].map(u=>u.vertices.map(v=>({x:v.x,y:v.y}))).map(u=>({points:u}));for(let u of r.loadCases)yield{faces:f,wireframeFaces:[],supports:l,borders:A,loads:wn(u,r),loadCaseTag:u.name,width:h,height:T}}function wn(b,r){let a=[];for(let f of b.pointLoads)fe(f.fx,0)||a.push({x:f.x,y:f.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"point"}),fe(f.fy,0)||a.push({x:f.x,y:f.y,z:0,valueY:f.fy,valueZ:0,valueX:0,type:"point"});for(let f of b.distributedLoads){let l=r.polygons.filter(c=>c.name===f.geometryName).map(c=>se(c)),x=r.rectangles.filter(c=>c.name===f.geometryName).map(c=>ie(c)),m=[...l,...x];for(let c of m){let d=at(c.vertices);fe(f.fx,0)||a.push({x:d.x,y:d.y,z:0,valueX:f.fx,valueY:0,valueZ:0,type:"distributed"}),fe(f.fy,0)||a.push({x:d.x,y:d.y,z:0,valueX:0,valueY:f.fy,valueZ:0,type:"distributed"})}}return a}function Tn(b){return{x:b.x,y:b.y,z:0,ux:0,uy:0,uz:0,value:0}}function En(b){return{x:b.x,y:b.y,z:0,ux:b.fixedX,uy:b.fixedY,uz:!1}}addEventListener("message",({data:b})=>{Sn(b)});var Sn=async b=>{let{geometry:r,uuid:a,baseTriangles:f}=b,l=r.loadCases.flatMap(R=>R.pointLoads).map(R=>({x:R.x,y:R.y})),x=r.supports.map(R=>({x:R.x,y:R.y})),m=r.resultPoints.map(R=>({x:R.x,y:R.y})),c=r.rectangles.map(R=>An(R)),d=r.polygons.map(R=>Mn(R)),h=c.concat(d),T={maxTriangleArea:r.meshingConfiguration.maxMeshArea,refinementPoints:r.meshingConfiguration.refinementPoints.map(R=>Rn(R))},u=Je({polygons:h,extraPoints:l.concat(x).concat(m),meshingConfiguration:T,baseTriangles:f.map(R=>Dn(R))}).triangles.map(R=>Pn(R));await Pe.setItem(rt(a),u);for(let R of it(u,r))await Pe.setItem(nt(a,R.loadCaseTag),R);postMessage({uuid:a})},Rn=b=>({radius:b.radius,maxTriangleArea:b.maxArea,center:{x:b.x,y:b.y}}),In=b=>({x:b.x,y:b.y}),Pn=b=>({points:b.points.map(a=>In(a)),name:b.tag,sectionTag:b.sectionTag,materialTag:b.materialTag}),An=b=>({points:ie(b).vertices.map(a=>({x:a.x,y:a.y})),tag:b.name,sectionTag:b.sectionName,materialTag:b.materialName}),Mn=b=>({points:se(b).vertices.map(a=>({x:a.x,y:a.y})),tag:b.name,sectionTag:b.sectionName,materialTag:b.materialName}),Dn=b=>({points:b.points.map(a=>({x:a.x,y:a.y}))});
